<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This text is a brief description of the features that are present in
the Bash shell (version 5.3, 18 May 2025).

This is Edition 5.3, last updated 18 May 2025,
of The GNU Bash Reference Manual,
for Bash, Version 5.3.

Copyright Â© 1988-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled
"GNU Free Documentation License". -->
<title>Job Control Basics</title>

<meta name="description" content="Job Control Basics (Bash Reference Manual)">
<meta name="keywords" content="Job Control Basics (Bash Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Indexes.html" rel="index" title="Indexes">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Job-Control.html" rel="up" title="Job Control">
<link href="Job-Control-Builtins.html" rel="next" title="Job Control Builtins">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="">


</head>

<body lang="en">
<div class="section-level-extent" id="Job-Control-Basics">
<div class="nav-panel">
<p>
Next: <a href="Job-Control-Builtins.html" accesskey="n" rel="next">Job Control Builtins</a>, Up: <a href="Job-Control.html" accesskey="u" rel="up">Job Control</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Job-Control-Basics-1"><span>7.1 Job Control Basics<a class="copiable-link" href="#Job-Control-Basics-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-job-control-1"></a>
<a class="index-entry-id" id="index-foreground"></a>
<a class="index-entry-id" id="index-background"></a>
<a class="index-entry-id" id="index-suspending-jobs"></a>

<p>Job control
refers to the ability to selectively stop (suspend)
the execution of processes and continue (resume)
their execution at a later point.
A user typically employs
this facility via an interactive interface supplied jointly
by the operating system kernel&rsquo;s terminal driver and Bash.
</p>
<p>The shell associates a <var class="var">job</var> with each pipeline.
It keeps a
table of currently executing jobs, which the
<code class="code">jobs</code> command will display.
Each job has a <em class="dfn">job number</em>, which <code class="code">jobs</code> displays between brackets.
Job numbers start at 1.
When Bash starts a job asynchronously, it prints a line that looks
like:
</p><div class="example">
<pre class="example-preformatted">[1] 25647
</pre></div>
<p>indicating that this job is job number 1 and that the process <small class="sc">ID</small>
of the last process in the pipeline associated with this job is
25647.
All of the processes in a single pipeline are members of
the same job.
Bash uses the <var class="var">job</var> abstraction as the basis for job control. 
</p>
<p>To facilitate the implementation of the user interface to job control,
each process has a <em class="dfn">process group <small class="sc">ID</small></em>, and
the operating system maintains the notion of a current terminal
process group <small class="sc">ID</small>.
This terminal process group <small class="sc">ID</small> is associated with the
<em class="dfn">controlling terminal</em>.
</p>
<p>Processes that have the same process group ID are said to be part of
the same <em class="dfn">process group</em>.
Members of the foreground process group (processes whose
process group <small class="sc">ID</small> is equal to the current terminal process group
<small class="sc">ID</small>) receive keyboard-generated signals such as <code class="code">SIGINT</code>. 
Processes in the foreground process group are said to be
foreground processes.
Background processes
are those whose process group <small class="sc">ID</small> differs from the
controlling terminal&rsquo;s;
such processes are immune to keyboard-generated signals.
Only foreground processes are allowed to read from or,
if the user so specifies with
<code class="code">stty tostop</code>,
write to the controlling terminal.
The system sends a
<code class="code">SIGTTIN</code> (<code class="code">SIGTTOU</code>)
signal to background processes which attempt to
read from (write to when <code class="code">tostop</code> is in effect)
the terminal,
which, unless caught, suspends the process. 
</p>
<p>If the operating system on which Bash is running supports
job control, Bash contains facilities to use it.
Typing the
<em class="dfn">suspend</em> character (typically &lsquo;<samp class="samp">^Z</samp>&rsquo;, Control-Z) while a
process is running stops that process
and returns control to Bash.
Typing the <em class="dfn">delayed suspend</em> character
(typically &lsquo;<samp class="samp">^Y</samp>&rsquo;, Control-Y) causes the process to stop
when it attempts to read input from the terminal,
and returns control to Bash.
The user then manipulates the state of
this job, using
the <code class="code">bg</code> command to continue it in the background,
the <code class="code">fg</code> command to continue it in the foreground, or
the <code class="code">kill</code> command to kill it.
The suspend character
takes effect immediately, and has the additional side effect of
discarding any pending output and typeahead.
If you want to force a background process to stop, or stop a process
that&rsquo;s not associated with your terminal session,
send it the <code class="code">SIGSTOP</code> signal using <code class="code">kill</code>.
</p>
<p>There are a number of ways to refer to a job in the shell.
The &lsquo;<samp class="samp">%</samp>&rsquo; character introduces a <em class="dfn">job specification</em> (jobspec).
</p>
<p>Job number <code class="code">n</code> may be referred to as &lsquo;<samp class="samp">%n</samp>&rsquo;.
A job may also be referred to
using a prefix of the name used to start it,
or using a substring that appears in its command line.
For example, &lsquo;<samp class="samp">%ce</samp>&rsquo; refers
to a job whose command name begins with &lsquo;<samp class="samp">ce</samp>&rsquo;.
Using &lsquo;<samp class="samp">%?ce</samp>&rsquo;, on the
other hand, refers to any job containing the string &lsquo;<samp class="samp">ce</samp>&rsquo; in
its command line.
If the prefix or substring matches more than one job,
Bash reports an error.
</p>
<p>The symbols &lsquo;<samp class="samp">%%</samp>&rsquo; and  &lsquo;<samp class="samp">%+</samp>&rsquo; refer to the shell&rsquo;s notion of the
<em class="dfn">current job</em>.
A single &lsquo;<samp class="samp">%</samp>&rsquo; (with no accompanying job specification) also refers
to the current job.
&lsquo;<samp class="samp">%-</samp>&rsquo; refers to the <em class="dfn">previous job</em>.
When a job starts in the background,
a job stops while in the foreground,
or a job is resumed in the background,
it becomes the current job.
The job that was the current job becomes the previous job.
When the current job terminates, the previous job becomes the
current job.
If there is only a single job, &lsquo;<samp class="samp">%+</samp>&rsquo; and &lsquo;<samp class="samp">%-</samp>&rsquo; can both be used
to refer to that job.
In output pertaining to jobs (e.g., the output of the <code class="code">jobs</code>
command), the current job is always marked with a &lsquo;<samp class="samp">+</samp>&rsquo;, and the
previous job with a &lsquo;<samp class="samp">-</samp>&rsquo;. 
</p>
<p>Simply naming a job can be used to bring it into the foreground:
&lsquo;<samp class="samp">%1</samp>&rsquo; is a synonym for &lsquo;<samp class="samp">fg %1</samp>&rsquo;, bringing job 1 from the
background into the foreground.
Similarly, &lsquo;<samp class="samp">%1 &amp;</samp>&rsquo; resumes
job 1 in the background, equivalent to &lsquo;<samp class="samp">bg %1</samp>&rsquo;.
</p>
<p>The shell learns immediately whenever a job changes state. 
Normally, Bash waits until it is about to print a prompt before
notifying the user about
changes in a job&rsquo;s status so as to not interrupt
any other output,
though it will notify of changes in a job&rsquo;s status after a
foreground command in
a list completes, before executing the next command in the list.
If the <samp class="option">-b</samp> option to the <code class="code">set</code> builtin is enabled,
Bash reports status changes immediately (see <a class="pxref" href="The-Set-Builtin.html">The Set Builtin</a>).
Bash executes any trap on <code class="code">SIGCHLD</code>
for each child process that terminates.
</p>
<p>When a job terminates and Bash notifies the user about it,
Bash removes the job from the jobs table.
It will not appear in <code class="code">jobs</code> output, but <code class="code">wait</code> will
report its exit status, as long as it&rsquo;s supplied the process ID
associated with the job as an argument.
When the table is empty, job numbers start over at 1.
</p>
<p>If a user attempts to exit
Bash while jobs are stopped, (or running, if
the <code class="code">checkjobs</code> option is enabled &ndash; see <a class="ref" href="The-Shopt-Builtin.html">The Shopt Builtin</a>), the
shell prints a warning message, and if the <code class="code">checkjobs</code> option is
enabled, lists the jobs and their statuses.
The <code class="code">jobs</code> command may then be used to inspect their status.
If the user immediately attempts to exit again,
without an intervening command,
Bash does not print another warning, and
terminates any stopped jobs.
</p>
<p>When the shell is waiting for a job or process using the <code class="code">wait</code>
builtin, and job control is enabled, <code class="code">wait</code> will return when the
job changes state.
The <samp class="option">-f</samp> option causes <code class="code">wait</code> to wait
until the job or process terminates before returning.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Job-Control-Builtins.html">Job Control Builtins</a>, Up: <a href="Job-Control.html">Job Control</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
