<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This text is a brief description of the features that are present in
the Bash shell (version 5.3, 18 May 2025).

This is Edition 5.3, last updated 18 May 2025,
of The GNU Bash Reference Manual,
for Bash, Version 5.3.

Copyright Â© 1988-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled
"GNU Free Documentation License". -->
<title>Conditional Init Constructs</title>

<meta name="description" content="Conditional Init Constructs (Bash Reference Manual)">
<meta name="keywords" content="Conditional Init Constructs (Bash Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Indexes.html" rel="index" title="Indexes">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Readline-Init-File.html" rel="up" title="Readline Init File">
<link href="Sample-Init-File.html" rel="next" title="Sample Init File">
<link href="Readline-Init-File-Syntax.html" rel="prev" title="Readline Init File Syntax">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="">


</head>

<body lang="en">
<div class="subsection-level-extent" id="Conditional-Init-Constructs">
<div class="nav-panel">
<p>
Next: <a href="Sample-Init-File.html" accesskey="n" rel="next">Sample Init File</a>, Previous: <a href="Readline-Init-File-Syntax.html" accesskey="p" rel="prev">Readline Init File Syntax</a>, Up: <a href="Readline-Init-File.html" accesskey="u" rel="up">Readline Init File</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Conditional-Init-Constructs-1"><span>8.3.2 Conditional Init Constructs<a class="copiable-link" href="#Conditional-Init-Constructs-1"> &para;</a></span></h4>

<p>Readline implements a facility similar in spirit to the conditional
compilation features of the C preprocessor which allows key
bindings and variable settings to be performed as the result
of tests.
There are four parser directives available.
</p>
<dl class="table">
<dt><code class="code">$if</code></dt>
<dd><p>The <code class="code">$if</code> construct allows bindings to be made based on the
editing mode, the terminal being used, or the application using
Readline.
The text of the test, after any comparison operator,
extends to the end of the line;
unless otherwise noted, no characters are required to isolate it.
</p>
<dl class="table">
<dt><code class="code">mode</code></dt>
<dd><p>The <code class="code">mode=</code> form of the <code class="code">$if</code> directive is used to test
whether Readline is in <code class="code">emacs</code> or <code class="code">vi</code> mode.
This may be used in conjunction
with the &lsquo;<samp class="samp">set keymap</samp>&rsquo; command, for instance, to set bindings in
the <code class="code">emacs-standard</code> and <code class="code">emacs-ctlx</code> keymaps only if
Readline is starting out in <code class="code">emacs</code> mode.
</p>
</dd>
<dt><code class="code">term</code></dt>
<dd><p>The <code class="code">term=</code> form may be used to include terminal-specific
key bindings, perhaps to bind the key sequences output by the
terminal&rsquo;s function keys.
The word on the right side of the
&lsquo;<samp class="samp">=</samp>&rsquo;
is tested against both the full name of the terminal and the portion
of the terminal name before the first &lsquo;<samp class="samp">-</samp>&rsquo;.
This allows <code class="code">xterm</code> to match both <code class="code">xterm</code> and
<code class="code">xterm-256color</code>, for instance.
</p>
</dd>
<dt><code class="code">version</code></dt>
<dd><p>The <code class="code">version</code> test may be used to perform comparisons against
specific Readline versions.
The <code class="code">version</code> expands to the current Readline version.
The set of comparison operators includes
&lsquo;<samp class="samp">=</samp>&rsquo; (and &lsquo;<samp class="samp">==</samp>&rsquo;), &lsquo;<samp class="samp">!=</samp>&rsquo;, &lsquo;<samp class="samp">&lt;=</samp>&rsquo;, &lsquo;<samp class="samp">&gt;=</samp>&rsquo;, &lsquo;<samp class="samp">&lt;</samp>&rsquo;,
and &lsquo;<samp class="samp">&gt;</samp>&rsquo;.
The version number supplied on the right side of the operator consists
of a major version number, an optional decimal point, and an optional
minor version (e.g., &lsquo;<samp class="samp">7.1</samp>&rsquo;).
If the minor version is omitted, it
defaults to &lsquo;<samp class="samp">0</samp>&rsquo;.
The operator may be separated from the string <code class="code">version</code> and
from the version number argument by whitespace.
The following example sets a variable if the Readline version being used
is 7.0 or newer:
</p><div class="example">
<pre class="example-preformatted">$if version &gt;= 7.0
set show-mode-in-prompt on
$endif
</pre></div>

</dd>
<dt><code class="code">application</code></dt>
<dd><p>The <var class="var">application</var> construct is used to include
application-specific settings.
Each program using the Readline
library sets the <var class="var">application name</var>, and you can test for
a particular value. 
This could be used to bind key sequences to functions useful for
a specific program.
For instance, the following command adds a
key sequence that quotes the current or previous word in Bash:
</p><div class="example">
<pre class="example-preformatted">$if Bash
# Quote the current or previous word
&quot;\C-xq&quot;: &quot;\eb\&quot;\ef\&quot;&quot;
$endif
</pre></div>

</dd>
<dt><code class="code">variable</code></dt>
<dd><p>The <var class="var">variable</var> construct provides simple equality tests for Readline
variables and values.
The permitted comparison operators are &lsquo;<samp class="samp">=</samp>&rsquo;, &lsquo;<samp class="samp">==</samp>&rsquo;, and &lsquo;<samp class="samp">!=</samp>&rsquo;.
The variable name must be separated from the comparison operator by
whitespace; the operator may be separated from the value on the right hand
side by whitespace.
String and boolean variables may be tested.
Boolean variables must be
tested against the values <var class="var">on</var> and <var class="var">off</var>.
The following example is equivalent to the <code class="code">mode=emacs</code> test described
above:
</p><div class="example">
<pre class="example-preformatted">$if editing-mode == emacs
set show-mode-in-prompt on
$endif
</pre></div>
</dd>
</dl>

</dd>
<dt><code class="code">$else</code></dt>
<dd><p>Commands in this branch of the <code class="code">$if</code> directive are executed if
the test fails.
</p>
</dd>
<dt><code class="code">$endif</code></dt>
<dd><p>This command, as seen in the previous example, terminates an
<code class="code">$if</code> command.
</p>
</dd>
<dt><code class="code">$include</code></dt>
<dd><p>This directive takes a single filename as an argument and reads commands
and key bindings from that file.
For example, the following directive reads from <samp class="file">/etc/inputrc</samp>:
</p><div class="example">
<pre class="example-preformatted">$include /etc/inputrc
</pre></div>
</dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Sample-Init-File.html">Sample Init File</a>, Previous: <a href="Readline-Init-File-Syntax.html">Readline Init File Syntax</a>, Up: <a href="Readline-Init-File.html">Readline Init File</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
