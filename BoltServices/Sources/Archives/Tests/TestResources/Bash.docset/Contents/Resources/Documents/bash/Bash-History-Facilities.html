<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.2, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This text is a brief description of the features that are present in
the Bash shell (version 5.3, 18 May 2025).

This is Edition 5.3, last updated 18 May 2025,
of The GNU Bash Reference Manual,
for Bash, Version 5.3.

Copyright Â© 1988-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled
"GNU Free Documentation License". -->
<title>Bash History Facilities</title>

<meta name="description" content="Bash History Facilities (Bash Reference Manual)">
<meta name="keywords" content="Bash History Facilities (Bash Reference Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Indexes.html" rel="index" title="Indexes">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Using-History-Interactively.html" rel="up" title="Using History Interactively">
<link href="Bash-History-Builtins.html" rel="next" title="Bash History Builtins">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>
<link rel="stylesheet" type="text/css" href="">


</head>

<body lang="en">
<div class="section-level-extent" id="Bash-History-Facilities">
<div class="nav-panel">
<p>
Next: <a href="Bash-History-Builtins.html" accesskey="n" rel="next">Bash History Builtins</a>, Up: <a href="Using-History-Interactively.html" accesskey="u" rel="up">Using History Interactively</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Bash-History-Facilities-1"><span>9.1 Bash History Facilities<a class="copiable-link" href="#Bash-History-Facilities-1"> &para;</a></span></h3>
<a class="index-entry-id" id="index-command-history"></a>
<a class="index-entry-id" id="index-history-list"></a>

<p>When the <samp class="option">-o history</samp> option to the <code class="code">set</code> builtin
is enabled (see <a class="pxref" href="The-Set-Builtin.html">The Set Builtin</a>),
the shell provides access to the <em class="dfn">command history</em>,
the list of commands previously typed.
The value of the <code class="env">HISTSIZE</code> shell variable is used as the
number of commands to save in a history list:
the shell saves the text of the last <code class="env">$HISTSIZE</code>
commands (default 500).
The shell stores each command in the history list prior to
parameter and variable expansion
but after history expansion is performed, subject to the
values of the shell variables
<code class="env">HISTIGNORE</code> and <code class="env">HISTCONTROL</code>.
</p>
<p>When the shell starts up, Bash initializes the history list
by reading history entries from the
file named by the <code class="env">HISTFILE</code> variable (default <samp class="file">~/.bash_history</samp>).
This is referred to as the <em class="dfn">history file</em>.
The history file is truncated, if necessary,
to contain no more than the number of history entries
specified by the value of the <code class="env">HISTFILESIZE</code> variable.
If <code class="env">HISTFILESIZE</code> is unset, or set to null, a non-numeric value,
or a numeric value less than zero, the history file is not truncated.
</p>
<p>When the history file is read,
lines beginning with the history comment character followed immediately
by a digit are interpreted as timestamps for the following history entry.
These timestamps are optionally displayed depending on the value of the
<code class="env">HISTTIMEFORMAT</code> variable (see <a class="pxref" href="Bash-Variables.html">Bash Variables</a>).
When present, history timestamps delimit history entries, making
multi-line entries possible.
</p>
<p>When a shell with history enabled exits, Bash copies the last
<code class="env">$HISTSIZE</code> entries from the history list to the file
named by <code class="env">$HISTFILE</code>.
If the <code class="code">histappend</code> shell option is set (see <a class="pxref" href="Bash-Builtins.html">Bash Builtin Commands</a>),
Bash appends the entries to the history file,
otherwise it overwrites the history file.
If <code class="env">HISTFILE</code> is unset or null,
or if the history file is unwritable, the history is not saved.
After saving the history, Bash truncates the history file
to contain no more than <code class="env">$HISTFILESIZE</code>
lines as described above.
</p>
<p>If the <code class="env">HISTTIMEFORMAT</code>
variable is set, the shell writes the timestamp information
associated with each history entry to the history file,
marked with the history comment character,
so timestamps are preserved across shell sessions.
When the history file is read, lines beginning with
the history comment character followed immediately by a digit are
interpreted as timestamps for the following history entry.
As above, when using <code class="env">HISTTIMEFORMAT</code>,
the timestamps delimit multi-line history entries.
</p>
<p>The <code class="code">fc</code> builtin command will list or edit and re-execute a
portion of the history list.
The <code class="code">history</code> builtin can display or
modify the history list and manipulate the history file.
When using command-line editing, search commands
are available in each editing mode that provide access to the
history list (see <a class="pxref" href="Commands-For-History.html">Commands For Manipulating The History</a>). 
</p>
<p>The shell allows control over which commands are saved on the history list. 
The <code class="env">HISTCONTROL</code> and <code class="env">HISTIGNORE</code>
variables are used to save only a subset of the commands entered.
If the <code class="code">cmdhist</code> shell option is
enabled, the shell attempts to save each
line of a multi-line command in the same history entry, adding
semicolons where necessary to preserve syntactic correctness.
The <code class="code">lithist</code>
shell option modifies <code class="code">cmdhist</code> by saving
the command with embedded newlines instead of semicolons.
The <code class="code">shopt</code> builtin is used to set these options.
See <a class="xref" href="The-Shopt-Builtin.html">The Shopt Builtin</a>, for a description of <code class="code">shopt</code>.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Bash-History-Builtins.html">Bash History Builtins</a>, Up: <a href="Using-History-Interactively.html">Using History Interactively</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
