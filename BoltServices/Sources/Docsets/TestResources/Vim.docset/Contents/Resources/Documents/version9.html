<HTML>
<HEAD>
<META HTTP-EQUIV="Content-type" content="text/html; charset=ISO-8859-1">
<TITLE>Vim documentation: version9</TITLE>
</HEAD>
<BODY BGCOLOR="#ffffff">
<H1>Vim documentation: version9</H1>
<A NAME="top"></A>
<A HREF="index.html">main help file</A>

<HR>
<PRE>

*<A NAME="version9.txt"></A><B>version9.txt</B>*  For Vim version 9.0.  Last change: 2022 Jun 28


		  VIM REFERENCE MANUAL    by <A HREF="intro.html#Bram">Bram</A> <A HREF="intro.html#Moolenaar">Moolenaar</A>



				*<A NAME="vim-9.0"></A><B>vim-9.0</B>* *<A NAME="vim-9"></A><B>vim-9</B>* *<A NAME="version-9.0"></A><B>version-9.0</B>* *<A NAME="version9.0"></A><B>version9.0</B>*
Welcome to Vim 9!  Several years have passed since the previous release.
A large number of bugs have been fixed, many nice features have been added
and the <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A> is here!  This file mentions all the new things and
changes to existing features since Vim 8.2.0. The patches up to Vim 8.2 can be
found here: |<A HREF="version8.html#vim-8.2">vim-8.2</A>|.

Use this command to see the full version and features information of the Vim
program you are using:
<B>	:version</B>

NEW FEATURES					|<A HREF="#new-9">new-9</A>|
   Vim script enhancements			|<A HREF="#new-vim-script-9">new-vim-script-9</A>|
   Command line completion in a popup menu	|<A HREF="#new-popup-compl">new-popup-compl</A>|
   Updated colorschemes				|<A HREF="#new-colorschemes-9">new-colorschemes-9</A>|
   Various new items				|<A HREF="#new-items-9">new-items-9</A>|

INCOMPATIBLE CHANGES				|<A HREF="#incompatible-9">incompatible-9</A>|

IMPROVEMENTS					|<A HREF="#improvements-9">improvements-9</A>|

COMPILE TIME CHANGES				|<A HREF="#compile-changes-9">compile-changes-9</A>|

PATCHES						|<A HREF="#patches-9">patches-9</A>|


See |<A HREF="vi_diff.html">vi_diff.txt</A>| for an overview of differences between <A HREF="intro.html#Vi">Vi</A> and Vim 9.0.
See |<A HREF="version4.html">version4.txt</A>|, |<A HREF="version5.html">version5.txt</A>|, |<A HREF="version6.html">version6.txt</A>|, |<A HREF="version7.html">version7.txt</A>| and
|<A HREF="version8.html">version8.txt</A>| for differences between Vim versions.

You can find an overview of the most important changes (according to Martin
Tournoij) on this site: https://www.arp242.net/vimlog/


							*<A NAME="Sven-Guckes"></A><B>Sven-Guckes</B>*
Vim version 9.0 is dedicated to Sven Guckes, who passed away in February 2022
when the release was being prepared.  Sven was a long time supporter of Vim.
He registered the vim.org domain and created the first Vim website.  We will
remember him!

==============================================================================

NEW FEATURES						*<A NAME="new-9"></A><B>new-9</B>*

First an overview of the more interesting new features.  A comprehensive <A HREF="eval.html#list">list</A>
is below.


<B><FONT COLOR="PURPLE">Vim9 script </FONT></B>

							*<A NAME="new-vim-script-9"></A><B>new-vim-script-9</B>*
The Vim <A HREF="usr_41.html#script">script</A> language has been changed step by step over many years,
preserving backwards compatibility.  Several choices made in the early days
got in the way of making <A HREF="motion.html#it">it</A> work better.  At the same time, Vim <A HREF="usr_41.html#script">script</A> is
being used much more often, since there are so many plugins being used.

<A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> provides a <A HREF="syntax.html#syntax">syntax</A> that is much more similar to other languages.
In other words: &quot;<A HREF="various.html#less">less</A> weird&quot;.  Compiled <A HREF="eval.html#functions">functions</A> are introduced which allow
for a large speed improvement.  You can expect around ten times faster
execution, or even more.  The price to pay is that <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> is not
backwards compatible.  But don't worry, you can still use your old scripts,
the new <A HREF="usr_41.html#script">script</A> language is added, <A HREF="motion.html#it">it</A> does not replace the legacy <A HREF="usr_41.html#script">script</A>.

Information about Vim9 <A HREF="usr_41.html#script">script</A> can be found in the |<A HREF="vim9.html#Vim9">Vim9</A>| help file.


<B><FONT COLOR="PURPLE">Command line completion in a popup menu </FONT></B>

							*<A NAME="new-popup-compl"></A><B>new-popup-compl</B>*
Before there was the <A HREF="options.html#'wildmenu'">'wildmenu'</A> option, which uses the space of one line above
the statusline to show matches.  Only a few matches fit there.

Now a <A HREF="popup.html#popup">popup</A> menu can be used by setting &quot;wildoptions' to &quot;pum&quot;.  This allows
for showing many more matches.  This requires redrawing more of the display,
but since computers are fast enough that is not a problem.


<B><FONT COLOR="PURPLE">Updated colorschemes </FONT></B>

							*<A NAME="new-colorschemes-9"></A><B>new-colorschemes-9</B>*
Colorschemes from https://github.com/vim/colorschemes have been included.
They were made to work consistently across many types of terminals.  Although
generally an improvement, a lot of personal preference is involved.  You can
always get the old version if you prefer <A HREF="motion.html#it">it</A>, look here:
https://github.com/vim/colorschemes/blob/master/legacy_colors/


<B><FONT COLOR="PURPLE">Various new items </FONT></B>

							*<A NAME="new-items-9"></A><B>new-items-9</B>*
<B><FONT COLOR="PURPLE">Options: </FONT></B>

<A HREF="options.html#'autoshelldir'">'autoshelldir'</A>		change directory to the shell's current directory
<A HREF="options.html#'cdhome'">'cdhome'</A>		change directory to the home directory by &quot;<A HREF="editing.html#:cd">:cd</A>&quot;
<A HREF="options.html#'cinscopedecls'">'cinscopedecls'</A>		words that are recognized by '<A HREF="indent.html#cino-g">cino-g</A>'
<A HREF="options.html#'guiligatures'">'guiligatures'</A>		<A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A>: ASCII characters that can form shapes
<A HREF="options.html#'mousemoveevent'">'mousemoveevent'</A>	report mouse moves with <A HREF="map.html#&lt;MouseMove&gt;">&lt;MouseMove&gt;</A>
<A HREF="options.html#'quickfixtextfunc'">'quickfixtextfunc'</A>	function for the text in the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>
<A HREF="options.html#'spelloptions'">'spelloptions'</A>		<A HREF="options.html#options">options</A> for <A HREF="spell.html#spell">spell</A> checking
<A HREF="options.html#'thesaurusfunc'">'thesaurusfunc'</A>		function to be used for thesaurus completion
<A HREF="options.html#'xtermcodes'">'xtermcodes'</A>		request <A HREF="terminal.html#terminal">terminal</A> codes from an xterm


<B><FONT COLOR="PURPLE">Ex commands: </FONT></B>

|<A HREF="vim9.html#:abstract">:abstract</A>|		(reserved for future use)
|<A HREF="editing.html#:argdedupe">:argdedupe</A>|		remove duplicates from the argument <A HREF="eval.html#list">list</A>
|<A HREF="windows.html#:balt">:balt</A>|			like &quot;<A HREF="windows.html#:badd">:badd</A>&quot; but also set the alternate file
|<A HREF="vim9.html#:class">:class</A>|		(reserved for future use)
|<A HREF="vim9.html#:def">:def</A>|			define a <A HREF="vim9.html#Vim9">Vim9</A> user function
|<A HREF="vim9.html#:defcompile">:defcompile</A>|		compile <A HREF="vim9.html#Vim9">Vim9</A> user <A HREF="eval.html#functions">functions</A> in current <A HREF="usr_41.html#script">script</A>
|<A HREF="vim9.html#:disassemble">:disassemble</A>|		disassemble <A HREF="vim9.html#Vim9">Vim9</A> user function
|<A HREF="eval.html#:echoconsole">:echoconsole</A>|		like <A HREF="eval.html#:echomsg">:echomsg</A> but write to stdout
|<A HREF="vim9.html#:endinterface">:endinterface</A>|		(reserved for future use)
|<A HREF="vim9.html#:endclass">:endclass</A>|		(reserved for future use)
|<A HREF="vim9.html#:enddef">:enddef</A>|		end of a user function started with <A HREF="vim9.html#:def">:def</A>
|<A HREF="vim9.html#:endenum">:endenum</A>|		(reserved for future use)
|<A HREF="vim9.html#:enum">:enum</A>|			(reserved for future use)
|<A HREF="eval.html#:eval">:eval</A>|			evaluate an <A HREF="eval.html#expression">expression</A> and <A HREF="editing.html#discard">discard</A> the result
|<A HREF="vim9.html#:export">:export</A>|		<A HREF="vim9.html#Vim9">Vim9</A>: export an item from a <A HREF="usr_41.html#script">script</A>
|<A HREF="vim9.html#:final">:final</A>|		declare an immutable variable in <A HREF="vim9.html#Vim9">Vim9</A>
|<A HREF="vim9.html#:import">:import</A>|		<A HREF="vim9.html#Vim9">Vim9</A>: import an item from another <A HREF="usr_41.html#script">script</A>
|<A HREF="vim9.html#:interface">:interface</A>|		(reserved for future use)
|<A HREF="vim9.html#:static">:static</A>|		(reserved for future use)
|<A HREF="vim9.html#:type">:type</A>|			(reserved for future use)
|<A HREF="vim9.html#:var">:var</A>|			variable declaration in <A HREF="vim9.html#Vim9">Vim9</A>
|<A HREF="repeat.html#:vim9script">:vim9script</A>|		indicates <A HREF="vim9.html#Vim9">Vim9</A> script file


<B><FONT COLOR="PURPLE">Ex command modifiers: </FONT></B>

|<A HREF="vim9.html#:legacy">:legacy</A>|		make following command use legacy <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A>
|<A HREF="vim9.html#:vim9cmd">:vim9cmd</A>|		make following command use <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A>


<B><FONT COLOR="PURPLE">New and extended functions: </FONT></B>

|<A HREF="testing.html#assert_nobeep()">assert_nobeep()</A>|	assert that a command does not cause a beep
|<A HREF="builtin.html#autocmd_add()">autocmd_add()</A>|		add a <A HREF="eval.html#list">list</A> of autocmds and groups
|<A HREF="builtin.html#autocmd_delete()">autocmd_delete()</A>|	delete a <A HREF="eval.html#list">list</A> of autocmds and groups
|<A HREF="builtin.html#autocmd_get()">autocmd_get()</A>|		return a <A HREF="eval.html#list">list</A> of autocmds
|<A HREF="builtin.html#blob2list()">blob2list()</A>|		get a list of numbers from a blob
|<A HREF="builtin.html#charclass()">charclass()</A>|		class of a character
|<A HREF="builtin.html#charcol()">charcol()</A>|		character number of the cursor or a <A HREF="motion.html#mark">mark</A>
|<A HREF="builtin.html#charidx()">charidx()</A>|		character index of a byte in a <A HREF="eval.html#string">string</A>
|<A HREF="builtin.html#digraph_get()">digraph_get()</A>|		get digraph
|<A HREF="builtin.html#digraph_getlist()">digraph_getlist()</A>|	get all <A HREF="digraph.html#digraphs">digraphs</A>
|<A HREF="builtin.html#digraph_set()">digraph_set()</A>|		<A HREF="sponsor.html#register">register</A> digraph
|<A HREF="builtin.html#digraph_setlist()">digraph_setlist()</A>|	<A HREF="sponsor.html#register">register</A> multiple <A HREF="digraph.html#digraphs">digraphs</A>
|<A HREF="builtin.html#echoraw()">echoraw()</A>|		output characters as-is
|<A HREF="builtin.html#exists_compiled()">exists_compiled()</A>|	like <A HREF="builtin.html#exists()">exists()</A> but check at compile time
|<A HREF="builtin.html#extendnew()">extendnew()</A>|		make a new <A HREF="eval.html#Dictionary">Dictionary</A> and append items
|<A HREF="builtin.html#flatten()">flatten()</A>|		flatten a <A HREF="eval.html#List">List</A>
|<A HREF="builtin.html#flattennew()">flattennew()</A>|		flatten a copy of a <A HREF="eval.html#List">List</A>
|<A HREF="builtin.html#fullcommand()">fullcommand()</A>|		get full command name
|<A HREF="builtin.html#getcharpos()">getcharpos()</A>|		get character position of cursor, <A HREF="motion.html#mark">mark</A>, etc.
|<A HREF="builtin.html#getcharstr()">getcharstr()</A>|		get a character from the user <A HREF="motion.html#as">as</A> a <A HREF="eval.html#string">string</A>
|<A HREF="builtin.html#getcmdcompltype()">getcmdcompltype()</A>|	return current cmdline completion type
|<A HREF="builtin.html#getcmdscreenpos()">getcmdscreenpos()</A>|	return the current cursor position in the cmdline
|<A HREF="builtin.html#getcursorcharpos()">getcursorcharpos()</A>|	get character position of the cursor
|<A HREF="builtin.html#getmarklist()">getmarklist()</A>|		list of global/local marks
|<A HREF="builtin.html#getreginfo()">getreginfo()</A>|		get information about a <A HREF="sponsor.html#register">register</A>
|<A HREF="builtin.html#gettext()">gettext()</A>|		lookup message translation
|<A HREF="builtin.html#hlget()">hlget()</A>|		get highlight group attributes
|<A HREF="builtin.html#hlset()">hlset()</A>|		set highlight group attributes
|<A HREF="builtin.html#isabsolutepath()">isabsolutepath()</A>|	check if a path is absolute
|<A HREF="builtin.html#list2blob()">list2blob()</A>|		get a blob from a list of numbers
|<A HREF="builtin.html#maplist()">maplist()</A>|		list of all mappings, a <A HREF="eval.html#dict">dict</A> for each
|<A HREF="builtin.html#mapnew()">mapnew()</A>|		make a new <A HREF="eval.html#List">List</A> with changed items
|<A HREF="builtin.html#mapset()">mapset()</A>|		restore a <A HREF="map.html#mapping">mapping</A>
|<A HREF="builtin.html#matchfuzzy()">matchfuzzy()</A>|		fuzzy matches a <A HREF="eval.html#string">string</A> in a <A HREF="eval.html#list">list</A> of strings
|<A HREF="builtin.html#matchfuzzypos()">matchfuzzypos()</A>|	fuzzy matches a <A HREF="eval.html#string">string</A> in a <A HREF="eval.html#list">list</A> of strings
|<A HREF="builtin.html#menu_info()">menu_info()</A>|		get information about a menu item
|<A HREF="popup.html#popup_list()">popup_list()</A>|		get list of all popup <A HREF="windows.html#window">window</A> IDs
|<A HREF="builtin.html#prompt_getprompt()">prompt_getprompt()</A>|	get the effective prompt text for a buffer
|<A HREF="textprop.html#prop_add_list()">prop_add_list()</A>|	attach a property at multiple positions
|<A HREF="textprop.html#prop_find()">prop_find()</A>|		search for a property
|<A HREF="builtin.html#readblob()">readblob()</A>|		read a file into a <A HREF="eval.html#Blob">Blob</A>
|<A HREF="builtin.html#readdirex()">readdirex()</A>|		get a <A HREF="eval.html#List">List</A> of file information in a directory
|<A HREF="builtin.html#reduce()">reduce()</A>|		reduce a <A HREF="eval.html#List">List</A> to a value
|<A HREF="builtin.html#searchcount()">searchcount()</A>|		get number of matches before/after the cursor
|<A HREF="builtin.html#setcellwidths()">setcellwidths()</A>|	set character cell width overrides
|<A HREF="builtin.html#setcharpos()">setcharpos()</A>|		set character position of cursor, <A HREF="motion.html#mark">mark</A>, etc.
|<A HREF="builtin.html#setcursorcharpos()">setcursorcharpos()</A>|	set character position of the cursor
|<A HREF="builtin.html#slice()">slice()</A>|		take a slice of a <A HREF="eval.html#List">List</A>
|<A HREF="builtin.html#strcharlen()">strcharlen()</A>|		length of a <A HREF="eval.html#string">string</A> in characters
|<A HREF="builtin.html#terminalprops()">terminalprops()</A>|	properties of the terminal
|<A HREF="testing.html#test_gui_event()">test_gui_event()</A>|	generate a <A HREF="gui.html#GUI">GUI</A> event for <A HREF="testing.html#testing">testing</A>
|<A HREF="testing.html#test_null_function()">test_null_function()</A>|	return a null <A HREF="eval.html#Funcref">Funcref</A>
|<A HREF="testing.html#test_srand_seed()">test_srand_seed()</A>|	set the seed value for <A HREF="builtin.html#srand()">srand()</A>
|<A HREF="testing.html#test_unknown()">test_unknown()</A>|	return a value with unknown type
|<A HREF="testing.html#test_void()">test_void()</A>|		return a value with void type
|<A HREF="builtin.html#typename()">typename()</A>|		type of a variable <A HREF="motion.html#as">as</A> text
|<A HREF="builtin.html#virtcol2col()">virtcol2col()</A>|		byte index of a character on screen
|<A HREF="builtin.html#win_gettype()">win_gettype()</A>|		get type of <A HREF="windows.html#window">window</A>
|<A HREF="builtin.html#win_move_separator()">win_move_separator()</A>|	move <A HREF="windows.html#window">window</A> vertical separator
|<A HREF="builtin.html#win_move_statusline()">win_move_statusline()</A>|	move <A HREF="windows.html#window">window</A> status line
|<A HREF="builtin.html#windowsversion()">windowsversion()</A>|	get <A HREF="os_win32.html#MS-Windows">MS-Windows</A> version


<B><FONT COLOR="PURPLE">New Vim variables: </FONT></B>

|<A HREF="eval.html#v:numbermax">v:numbermax</A>|		maximum value of a number
|<A HREF="eval.html#v:numbermin">v:numbermin</A>|		minimum value of a number (negative)
|<A HREF="eval.html#v:numbersize">v:numbersize</A>|		number of bits in a <A HREF="eval.html#Number">Number</A>
|<A HREF="eval.html#v:collate">v:collate</A>|		current <A HREF="mbyte.html#locale">locale</A> setting for collation order
|<A HREF="eval.html#v:exiting">v:exiting</A>|		vim exit code
|<A HREF="eval.html#v:colornames">v:colornames</A>|		dictionary that maps color names to hex color strings
|<A HREF="eval.html#v:sizeofint">v:sizeofint</A>|		number of bytes in an int
|<A HREF="eval.html#v:sizeoflong">v:sizeoflong</A>|		number of bytes in a long
|<A HREF="eval.html#v:sizeofpointer">v:sizeofpointer</A>|	number of bytes in a pointer
|<A HREF="eval.html#v:maxcol">v:maxcol</A>|		maximum line length


<B><FONT COLOR="PURPLE">New autocommand events: </FONT></B>

|<A HREF="autocmd.html#CompleteDonePre">CompleteDonePre</A>|	after <A HREF="insert.html#Insert">Insert</A> mode completion done, before clearing info
|<A HREF="autocmd.html#DirChangedPre">DirChangedPre</A>|		before the working directory will change
|<A HREF="autocmd.html#InsertLeavePre">InsertLeavePre</A>|	just before leaving Insert mode
|<A HREF="autocmd.html#ModeChanged">ModeChanged</A>|		after <A HREF="change.html#changing">changing</A> the mode
|<A HREF="autocmd.html#SigUSR1">SigUSR1</A>|		after the SIGUSR1 signal has been detected
|<A HREF="autocmd.html#WinClosed">WinClosed</A>|		after closing a <A HREF="windows.html#window">window</A>
|<A HREF="autocmd.html#WinScrolled">WinScrolled</A>|		after <A HREF="scroll.html#scrolling">scrolling</A> or resizing a <A HREF="windows.html#window">window</A>
|<A HREF="autocmd.html#VimSuspend">VimSuspend</A>|		when suspending Vim
|<A HREF="autocmd.html#VimResume">VimResume</A>|		when Vim is resumed after being suspended


<B><FONT COLOR="PURPLE">New operators: </FONT></B>

|<A HREF="change.html#&gt;&gt;">&gt;&gt;</A>|			bitwise right <A HREF="intro.html#shift">shift</A>
|<A HREF="change.html#&lt;&lt;">&lt;&lt;</A>|			bitwise left <A HREF="intro.html#shift">shift</A>
|<A HREF="eval.html#??">??</A>|			<A HREF="eval.html#falsy">falsy</A> <A HREF="motion.html#operator">operator</A>

<B><FONT COLOR="PURPLE">New runtime files: </FONT></B>

Too many to <A HREF="eval.html#list">list</A> here.

==============================================================================

INCOMPATIBLE CHANGES				*<A NAME="incompatible-9"></A><B>incompatible-9</B>*

There is only one change that is incompatible with previous releases:

- <A HREF="if_lua.html#Lua">Lua</A> arrays are now one-based, they used to be zero-based.

Note that when using |<A HREF="vim9.html#Vim9">Vim9</A>| <A HREF="usr_41.html#script">script</A> several things work differently, see
|<A HREF="vim9.html#vim9-differences">vim9-differences</A>|.

==============================================================================

IMPROVEMENTS						*<A NAME="improvements-9"></A><B>improvements-9</B>*

Various small and useful improvements have been made since Vim 8.2, here is a
summary.

Many memory leaks, invalid memory accesses and crashes have been fixed.
See the <A HREF="eval.html#list">list</A> of patches below: |<A HREF="#bug-fixes-9">bug-fixes-9</A>|.

Support for Vim <A HREF="eval.html#expression">expression</A> evaluation in a string. |<A HREF="eval.html#interp-string">interp-string</A>|
Support for evaluating Vim expressions in a heredoc. |<A HREF="eval.html#:let-heredoc">:let-heredoc</A>|

Support for fuzzy matching:
- a <A HREF="eval.html#string">string</A> in a <A HREF="eval.html#List">List</A> of strings. |<A HREF="pattern.html#fuzzy-matching">fuzzy-matching</A>|
- completion support for command line completion using <A HREF="options.html#'wildoptions'">'wildoptions'</A>
- for |<A HREF="quickfix.html#:vimgrep">:vimgrep</A>|.

Added support for the |<A HREF="os_haiku.html#Haiku">Haiku</A>| OS.

Support for &quot;lsp&quot; <A HREF="channel.html#channel">channel</A> mode to simplify LSP server RPC communication
|<A HREF="channel.html#language-server-protocol">language-server-protocol</A>|.  Support for using a <A HREF="os_unix.html#Unix">Unix</A> domain socket with a
|<A HREF="channel.html#channel">channel</A>|.  IPv6 support in channels |<A HREF="channel.html#channel-address">channel-address</A>|.

Support for sourcing lines from the current buffer. |<A HREF="repeat.html#:source-range">:source-range</A>|

Terminal <A HREF="windows.html#window">window</A> improvements:
- Support for opening a terminal in a popup <A HREF="windows.html#window">window</A>. |<A HREF="popup.html#popup-terminal">popup-terminal</A>|
- Allow setting <A HREF="syntax.html#underline">underline</A> color in <A HREF="terminal.html#terminal">terminal</A>.
- Detect focus events in <A HREF="terminal.html#terminal">terminal</A> (|<A HREF="autocmd.html#FocusGained">FocusGained</A>| and |<A HREF="autocmd.html#FocusLost">FocusLost</A>|).
- Add bell support for the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. ('belloff')
- Support mouse left-right <A HREF="scroll.html#scrolling">scrolling</A> in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.

Support for stopping <A HREF="repeat.html#profiling">profiling</A> a Vim <A HREF="usr_41.html#script">script</A>: `:profile stop` and dumping the
report to a file: `:profile dump` .  |<A HREF="repeat.html#:profile">:profile</A>|

Completion improvements:
- Argument completion support for the |<A HREF="repeat.html#:breakadd">:breakadd</A>|, |<A HREF="repeat.html#:breakdel">:breakdel</A>|, |<A HREF="diff.html#:diffget">:diffget</A>|,
  |<A HREF="diff.html#:diffput">:diffput</A>|, |<A HREF="repeat.html#:profile">:profile</A>|, |<A HREF="repeat.html#:profdel">:profdel</A>| and |<A HREF="repeat.html#:scriptnames">:scriptnames</A>| commands.
- Support using any Vim type for user_data with the completion <A HREF="eval.html#functions">functions</A>
  (|<A HREF="insert.html#complete-items">complete-items</A>|).
- Stop insert mode completion without <A HREF="change.html#changing">changing</A> text (|<A HREF="insert.html#i_CTRL-X_CTRL-Z">i_CTRL-X_CTRL-Z</A>|).
- Add the &quot;cmdline&quot; option to |<A HREF="builtin.html#getcompletion()">getcompletion()</A>| to return the command line
  arguments.

Support for setting the <A HREF="options.html#'foldtext'">'foldtext'</A>, <A HREF="options.html#'completefunc'">'completefunc'</A>, <A HREF="options.html#'omnifunc'">'omnifunc'</A>,
<A HREF="options.html#'operatorfunc'">'operatorfunc'</A>, <A HREF="options.html#'thesaurusfunc'">'thesaurusfunc'</A>, <A HREF="options.html#'quickfixtextfunc'">'quickfixtextfunc'</A>, <A HREF="options.html#'tagfunc'">'tagfunc'</A>,
<A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> and <A HREF="options.html#'imstatusfunc'">'imstatusfunc'</A> <A HREF="options.html#options">options</A> to a function reference or a
<A HREF="eval.html#lambda">lambda</A> function or a <A HREF="map.html#script-local">script-local</A> function.

Support directly setting the <A HREF="options.html#'balloonexpr'">'balloonexpr'</A>, <A HREF="options.html#'charconvert'">'charconvert'</A> <A HREF="options.html#'foldexpr'">'foldexpr'</A>,
<A HREF="options.html#'formatexpr'">'formatexpr'</A>, <A HREF="options.html#'includeexpr'">'includeexpr'</A>, <A HREF="options.html#'printexpr'">'printexpr'</A>, <A HREF="options.html#'patchexpr'">'patchexpr'</A>, <A HREF="options.html#'indentexpr'">'indentexpr'</A>,
<A HREF="options.html#'modelineexpr'">'modelineexpr'</A>, <A HREF="options.html#'diffexpr'">'diffexpr'</A> and <A HREF="options.html#'printexpr'">'printexpr'</A> <A HREF="options.html#options">options</A> to a <A HREF="map.html#script-local">script-local</A> function.

Improvements in <A HREF="options.html#'fillchars'">'fillchars'</A>:
- Support for configuring the character used to <A HREF="motion.html#mark">mark</A> the beginning of a fold,
  show a closed fold and show a fold separator using &quot;foldopen&quot;, &quot;foldclose&quot;
  and &quot;foldsep&quot; respectively in <A HREF="options.html#'fillchars'">'fillchars'</A>.
- Support for configuring the character displayed in non existing lines using
  &quot;eob&quot; in <A HREF="options.html#'fillchars'">'fillchars'</A>.
- Support for using <A HREF="mbyte.html#multibyte">multibyte</A> items with the &quot;stl&quot;, &quot;stlnc&quot;, &quot;foldopen&quot;,
  &quot;foldclose&quot; and &quot;foldsep&quot; items in the <A HREF="options.html#'fillchars'">'fillchars'</A> option.

Support for the XChaCha20 <A HREF="editing.html#encryption">encryption</A> <A HREF="eval.html#method">method</A>. <A HREF="options.html#'cryptmethod'">'cryptmethod'</A>

Spell checking:
- Spell check current <A HREF="motion.html#word">word</A> with |<A HREF="spell.html#z=">z=</A>| even when <A HREF="options.html#'spell'">'spell'</A> is off.
- Add &quot;timeout&quot; to <A HREF="options.html#'spellsuggest'">'spellsuggest'</A> to limit the searching time for <A HREF="spell.html#spell">spell</A>
  suggestions.
- Add support for <A HREF="spell.html#spell">spell</A> checking CamelCased words by adding &quot;camel&quot; to
  <A HREF="options.html#'spelloptions'">'spelloptions'</A>.

Support for executing <A HREF="intro.html#Ex">Ex</A> commands in a map without <A HREF="change.html#changing">changing</A> the current mode
|<A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A>| and |<A HREF="map.html#&lt;ScriptCmd&gt;">&lt;ScriptCmd&gt;</A>|.

Add optional error code to |<A HREF="quickfix.html#:cquit">:cquit</A>|.

Recognize numbers <A HREF="motion.html#as">as</A> unsigned when &quot;unsigned&quot; is set in <A HREF="options.html#'nrformats'">'nrformats'</A>.

Expand <A HREF="usr_41.html#script">script</A> ID using expand('&lt;SID&gt;') and <A HREF="usr_41.html#script">script</A> name using
expand('&lt;script&gt;'). |<A HREF="builtin.html#expand()">expand()</A>|

Jump to the last accessed <A HREF="intro.html#tab">tab</A> page using |<A HREF="tabpage.html#g&lt;Tab&gt;">g&lt;Tab&gt;</A>| and support using the
last accessed tab page in |<A HREF="tabpage.html#:tabnext">:tabnext</A>| et al.

Locale aware <A HREF="change.html#sorting">sorting</A> using |<A HREF="change.html#:sort">:sort</A>| and |<A HREF="builtin.html#sort()">sort()</A>|.

Hide cursor when sleeping using |<A HREF="various.html#:sleep!">:sleep!</A>|.

Add &quot;multispace&quot; to <A HREF="options.html#'listchars'">'listchars'</A> to show two or more spaces no matter where
they appear.  Add &quot;leadmultispace&quot; to <A HREF="options.html#'listchars'">'listchars'</A> to show two or more leading
spaces.  Add &quot;lead&quot; to <A HREF="options.html#'listchars'">'listchars'</A> to set the character used to show leading
spaces.  Support specifying a character using the hexdecimal <A HREF="intro.html#notation">notation</A> in
<A HREF="options.html#'listchars'">'listchars'</A> (\x, \u and \U).

Make <A HREF="options.html#'listchars'">'listchars'</A>, <A HREF="options.html#'virtualedit'">'virtualedit'</A> and <A HREF="options.html#'thesaurusfunc'">'thesaurusfunc'</A> <A HREF="options.html#global-local">global-local</A> <A HREF="options.html#options">options</A>.

Support for looping over a <A HREF="eval.html#string">string</A> using `:for`.

Don't reset <A HREF="options.html#'wrap'">'wrap'</A> for <A HREF="diff.html#diff">diff</A> <A HREF="windows.html#windows">windows</A> when &quot;followwrap&quot; is set in <A HREF="options.html#'diffopt'">'diffopt'</A>.

Support for re-evaluating the <A HREF="options.html#'statusline'">'statusline'</A> <A HREF="eval.html#expression">expression</A> <A HREF="motion.html#as">as</A> a statusline format
<A HREF="eval.html#string">string</A> (&#37;{&#37; <A HREF="eval.html#expr">expr</A> &#37;})

Add |<A HREF="change.html#zp">zp</A>| and |<A HREF="change.html#zP">zP</A>| to paste in block mode without adding trailing white space.
Add |<A HREF="change.html#zy">zy</A>| to <A HREF="change.html#yank">yank</A> without trailing white space in block mode.

Add the '<A HREF="change.html#P">P</A>' command in visual mode to paste text in <A HREF="visual.html#Visual">Visual</A> mode without
yanking the deleted text to the unnamed <A HREF="sponsor.html#register">register</A>.  |<A HREF="change.html#put-Visual-mode">put-Visual-mode</A>|

Add \&#37;.l, \&#37;&lt;.l and \&#37;&gt;.l atoms to match the line the cursor is currently on.
See |<A HREF="pattern.html#/\&#37;l">/\&#37;l</A>| for more information.

Add &quot;<A HREF="eval.html#list">list</A>&quot; to <A HREF="options.html#'breakindentopt'">'breakindentopt'</A> to add additional indent for lines that match
a numbered or bulleted <A HREF="eval.html#list">list</A>.  Add &quot;column&quot; to <A HREF="options.html#'breakindentopt'">'breakindentopt'</A> to indent
soft-wrapped lines at a specific column.

Add the |<A HREF="syntax.html#hl-CursorLineSign">hl-CursorLineSign</A>| and |<A HREF="syntax.html#hl-CursorLineFold">hl-CursorLineFold</A>| default highlight groups to
adjust sign highlighting for <A HREF="options.html#'cursorline'">'cursorline'</A>.

Add the |<A HREF="syntax.html#hl-CurSearch">hl-CurSearch</A>| default highlight group for the current search match.

Add support for logging on Vim <A HREF="starting.html#startup">startup</A> (|<A HREF="starting.html#--log">--log</A>|).

Add support for customizing the <A HREF="quickfix.html#quickfix">quickfix</A> buffer contents using
<A HREF="options.html#'quickfixtextfunc'">'quickfixtextfunc'</A>.  Support for the &quot;note&quot; error type (&#37;t) in |<A HREF="quickfix.html#errorformat">errorformat</A>|.
Add support for parsing the end line number (&#37;e) and end column number (&#37;k)
using <A HREF="options.html#'errorformat'">'errorformat'</A>.

Support truncating the tag stack using |<A HREF="builtin.html#settagstack()">settagstack()</A>|.

Display every option in a separate line when &quot;<A HREF="change.html#!">!</A>&quot; is used with |<A HREF="options.html#:set">:set</A>|.

Add &quot;nostop&quot; to <A HREF="options.html#'backspace'">'backspace'</A> to allow backspacing over the start of insert for
|<A HREF="index.html#CTRL-W">CTRL-W</A>| and |<A HREF="scroll.html#CTRL-U">CTRL-U</A>| also.

Sync the <A HREF="undo.html#undo">undo</A> file if <A HREF="options.html#'fsync'">'fsync'</A> is set.

Support excluding the <A HREF="options.html#'runtimepath'">'runtimepath'</A> and <A HREF="options.html#'packpath'">'packpath'</A> <A HREF="options.html#options">options</A> from a session file
using &quot;skiprtp&quot; in <A HREF="options.html#'sessionoptions'">'sessionoptions'</A>.

Support for getting the number of lines (line <A HREF="intro.html#count">count</A>) in a buffer using
|<A HREF="builtin.html#getbufinfo()">getbufinfo()</A>|.

Support |<A HREF="builtin.html#filter()">filter()</A>| and |<A HREF="builtin.html#map()">map()</A>| for <A HREF="eval.html#blob">blob</A> and <A HREF="eval.html#string">string</A> types.

Support for using a <A HREF="mbyte.html#multi-byte">multi-byte</A> character for the tag kind. |<A HREF="tagsrch.html#tags-file-format">tags-file-format</A>|

Add support for checking whether a function name is valid using |<A HREF="builtin.html#exists()">exists()</A>|.

Update xdiff to version 2.33.  Update libvterm to revision 789.

Support 'trim' for Python/Lua/Perl/Tcl/Ruby/MzScheme interface heredoc.

Add the |<A HREF="term.html#t_AU">t_AU</A>| and |<A HREF="term.html#t_8u">t_8u</A>| termap codes for <A HREF="syntax.html#underline">underline</A> and <A HREF="syntax.html#undercurl">undercurl</A>.  Add the
<A HREF="term.html#t_fd">t_fd</A> and <A HREF="term.html#t_fe">t_fe</A> <A HREF="term.html#termcap">termcap</A> codes for detecting focus events.

Support for indenting C pragmas like normal code. (|<A HREF="indent.html#cino-P">cino-P</A>|)

Add support for defining the <A HREF="syntax.html#syntax">syntax</A> fold level (|<A HREF="syntax.html#:syn-foldlevel">:syn-foldlevel</A>|)

Add support for using \&lt;*xxx&gt; in a <A HREF="eval.html#string">string</A> to prepend a modifier to a
character. (|<A HREF="eval.html#expr-quote">expr-quote</A>|).

Add support trimming characters at the beginning or end of a <A HREF="eval.html#string">string</A> using
|<A HREF="builtin.html#trim()">trim()</A>|.

Make &quot;<A HREF="various.html#:verbose">:verbose</A> pwd&quot; show the scope of the directory. |<A HREF="editing.html#:pwd-verbose">:pwd-verbose</A>|

Add the &quot;<A HREF="eval.html#0o">0o</A>&quot; <A HREF="intro.html#notation">notation</A> for specifying <A HREF="eval.html#octal">octal</A> numbers |<A HREF="eval.html#scriptversion-4">scriptversion-4</A>|

Support for <A HREF="change.html#changing">changing</A> to the previous tab-local and window-local directories
using the &quot;tcd -&quot; and &quot;lcd -&quot; commands. (|<A HREF="editing.html#:tcd-">:tcd-</A>| and |<A HREF="editing.html#:lcd-">:lcd-</A>|)

Add support for skipping an <A HREF="eval.html#expression">expression</A> using |<A HREF="builtin.html#search()">search()</A>|.

Add support for <A HREF="change.html#sorting">sorting</A> the directory contents returned by the |<A HREF="builtin.html#readdir()">readdir()</A>|
and |<A HREF="builtin.html#readdirex()">readdirex()</A>| <A HREF="eval.html#functions">functions</A> by <A HREF="change.html#case">case</A>.

Add support for executing (|<A HREF="repeat.html#:@">:@</A>|) a <A HREF="sponsor.html#register">register</A> containing line continuation.

<A HREF="if_lua.html#Lua">Lua</A> support:
- Call Vim <A HREF="eval.html#functions">functions</A> from <A HREF="if_lua.html#Lua">Lua</A> (vim.call() and vim.fn()).
- Convert a <A HREF="if_lua.html#Lua">Lua</A> function and a <A HREF="eval.html#closure">closure</A> to a Vim funcref so that <A HREF="motion.html#it">it</A> can be
  accessed in a Vimscript (|<A HREF="if_lua.html#lua-funcref">lua-funcref</A>|).
- Not backwards compatible: Make <A HREF="if_lua.html#Lua">Lua</A> arrays one based.
- Add support for using table.insert() and table.remove() <A HREF="eval.html#functions">functions</A> with Vim
  lists.
- Support for running multiple <A HREF="intro.html#Ex-mode">Ex-mode</A> commands using vim.command().
- Add vim.lua_version to get the <A HREF="if_lua.html#Lua">Lua</A> version.
- Add support for accessing Vim namespace dictionaries from <A HREF="if_lua.html#Lua">Lua</A>
  (|<A HREF="if_lua.html#lua-vim-variables">lua-vim-variables</A>|).

Support for new <A HREF="mbyte.html#UTF-8">UTF-8</A> characters from <A HREF="mbyte.html#Unicode">Unicode</A> release 13.

Support for using a command block (|<A HREF="map.html#:command-repl">:command-repl</A>|) when defining a |<A HREF="map.html#:command">:command</A>|
or an |<A HREF="autocmd.html#:autocmd">:autocmd</A>|.

Support for using |<A HREF="various.html#:z!">:z!</A>| to use the Vim display height instead of the current
<A HREF="windows.html#window">window</A> height.

Support for <A HREF="change.html#deleting">deleting</A> a buffer-local command using &quot;<A HREF="map.html#:delcommand">:delcommand</A> -buffer {cmd}&quot;.

When <A HREF="change.html#formatting">formatting</A> a <A HREF="version7.html#//">//</A> comment after a statement, find the start of the line
comment, insert the comment leader and indent the comment properly (|<A HREF="change.html#fo-/">fo-/</A>|).

Add the &quot;numhl&quot; argument to `:sign define` to use a separate highlight group
for the line number on a line where a sign is placed.  |<A HREF="sign.html#:sign-define">:sign-define</A>|

When $SHELL ends in &quot;nologin&quot; or &quot;<A HREF="vim9.html#false">false</A>&quot;, start Vim in restricted mode.

TermDebug enhancements:
- Support for showing the disassembled code in a separate <A HREF="windows.html#window">window</A>.
- Support for the GDB until command.
- Use a separate group for the <A HREF="sign.html#signs">signs</A>.

xxd: Support for showing offset <A HREF="motion.html#as">as</A> a decimal number (-d).

The C omni-complete <A HREF="usr_05.html#plugin">plugin</A> (|<A HREF="insert.html#ft-c-omni">ft-c-omni</A>|), the file type detection <A HREF="usr_41.html#script">script</A>
(ft.vim) and the <A HREF="syntax.html#syntax">syntax</A> menu generation <A HREF="usr_41.html#script">script</A> (makemenu.vim) have been
rewritten using the <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A>.

A large number of tests have been added to verify the Vim functionality.  Most
of the old style tests have been converted to new style tests using the new
style assert_* <A HREF="eval.html#functions">functions</A>.

Many Coverity static analysis warnings have been fixed.

==============================================================================

COMPILE TIME CHANGES					*<A NAME="compile-changes-9"></A><B>compile-changes-9</B>*

The following features are now enabled in all the builds:
  |<A HREF="various.html#+cindent">+cindent</A>|
  |<A HREF="various.html#+jumplist">+jumplist</A>|
  |<A HREF="various.html#+lispindent">+lispindent</A>|
  |<A HREF="various.html#+num64">+num64</A>|
  |<A HREF="various.html#+smartindent">+smartindent</A>|
  |<A HREF="various.html#+tag_binary">+tag_binary</A>|
  |<A HREF="various.html#+title">+title</A>|

The following features have been removed.  They are either obsolete or didn't
work properly:
  - Athena and neXTaw <A HREF="gui.html#GUI">GUI</A> support (use <A HREF="gui_x11.html#Motif">Motif</A> instead)
  - EBCDIC support
  - <A HREF="os_mint.html#Atari">Atari</A> <A HREF="os_mint.html#MiNT">MiNT</A> and <A HREF="os_beos.html#BeOS">BeOS</A>
  - <A HREF="os_mac.html#Mac">Mac</A> Carbon <A HREF="gui.html#GUI">GUI</A> (use MacVim instead)

The <A HREF="gui_w32.html#rgb.txt">rgb.txt</A> file is no longer included, use colors/lists/default.vim instead.

Several large source files were split, mainly to make <A HREF="motion.html#it">it</A> easier to inspect
code coverage information.  Source files have also been refactored for
maintainability.

Support for building Vim with Mingw64 clang compiler on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.

Support for building Vim with <A HREF="if_pyth.html#Python">Python</A> 3.10, <A HREF="if_lua.html#Lua">Lua</A> 5.4.4, <A HREF="if_perl.html#Perl">Perl</A> 5.34 and
<A HREF="if_ruby.html#Ruby">Ruby</A> 3.1.0.

==============================================================================

PATCHES						*<A NAME="patches-9"></A><B>patches-9</B>* *<A NAME="bug-fixes-9"></A><B>bug-fixes-9</B>*

						*<A NAME="patches-after-8.2"></A><B>patches-after-8.2</B>*

The <A HREF="eval.html#list">list</A> of patches that got included since 8.2.0.  This includes all the new
features, but does not include runtime file changes (syntax, indent, help,
etc.)

Patch 8.2.0001
Problem:    #endif comments <A HREF="diff.html#do">do</A> not reflect corresponding #ifdef.
Solution:   Update the comments. (Rene Nyffenegger, closes #5351)
Files:      src/ui.c

Patch 8.2.0002
Problem:    &quot;dj&quot; only deletes first line of closed fold.
Solution:   Adjust last line of <A HREF="motion.html#operator">operator</A> for <A HREF="motion.html#linewise">linewise</A> motion. (closes #5354)
Files:      src/ops.c, src/testdir/test_fold.vim

Patch 8.2.0003
Problem:    Build file dependencies are incomplete.
Solution:   Fix the dependencies. (Ken Takata, closes #5356)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Make_vms.mms,
            src/Makefile

Patch 8.2.0004
Problem:    Get <A HREF="message.html#E685">E685</A> and <A HREF="message.html#E931">E931</A> if buffer <A HREF="editing.html#reload">reload</A> is interrupted.
Solution:   Do not abort <A HREF="change.html#deleting">deleting</A> a dummy buffer. (closes #5361)
Files:      src/buffer.c, src/proto/buffer.pro, src/testdir/test_trycatch.vim,
            src/ex_cmds.c, src/ex_getln.c, src/misc2.c, src/quickfix.c,
            src/window.c, src/vim.h

Patch 8.2.0005
Problem:    Duplication in version info.
Solution:   Use preprocessor <A HREF="eval.html#string">string</A> concatenation. (Ken Takata, closes #5357)
Files:      src/version.h

Patch 8.2.0006
Problem:    Test using long file name may fail. (Vladimir Lomov)
Solution:   Limit the name length. (Christian Brabandt, closes #5358)
Files:      src/testdir/test_display.vim

Patch 8.2.0007
Problem:    Popup menu positioned wrong with <A HREF="fold.html#folding">folding</A> in two tabs.
Solution:   Update the cursor line height. (closes #5353)
Files:      src/move.c, src/proto/move.pro, src/popupmenu.c,
            src/testdir/test_ins_complete.vim,
            src/testdir/dumps/Test_pum_with_folds_two_tabs.dump

Patch 8.2.0008
Problem:    Test72 is old style.
Solution:   Convert to new style test. (Yegappan Lakshmanan, closes #5362)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test72.in, src/testdir/test72.ok,
            src/testdir/test_undo.vim

Patch 8.2.0009
Problem:    <A HREF="os_vms.html#VMS">VMS</A>: <A HREF="terminal.html#terminal">terminal</A> version doesn't build.
Solution:   Move MIN definition.  Adjust #ifdefs. (Zoltan Arpadffy)
Files:      src/bufwrite.c, src/fileio.c, src/ui.c, src/xxd/Make_vms.mms

Patch 8.2.0010
Problem:    Test64 is old style.
Solution:   Convert to new style test. (Yegappan Lakshmanan, closes #5363)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test64.in, src/testdir/test64.ok,
            src/testdir/test95.in, src/testdir/test_regexp_latin.vim

Patch 8.2.0011
Problem:    Screen updating wrong when opening preview <A HREF="windows.html#window">window</A>.
Solution:   Redraw the <A HREF="windows.html#window">window</A> when the preview <A HREF="windows.html#window">window</A> opens.
Files:      src/popupmenu.c, src/testdir/test_ins_complete.vim,
            src/testdir/dumps/Test_pum_with_preview_win.dump

Patch 8.2.0012
Problem:    Some <A HREF="undo.html#undo">undo</A> functionality is not tested.
Solution:   Add a few more test cases. (Dominique Pellé, closes #5364)
Files:      src/testdir/test_undo.vim

Patch 8.2.0013
Problem:    Not using a typedef for condstack.
Solution:   Add a typedef.
Files:      src/structs.h, src/ex_docmd.c, src/ex_eval.c, src/userfunc.c,
            src/ex_cmds.h, src/proto/ex_eval.pro

Patch 8.2.0014
Problem:    Test69 and test95 are old style.
Solution:   Convert to new style tests. (Yegappan Lakshmanan, closes #5365)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test69.in, src/testdir/test69.ok,
            src/testdir/test95.in, src/testdir/test95.ok,
            src/testdir/test_regexp_utf8.vim, src/testdir/test_textformat.vim

Patch 8.2.0015
Problem:    Not all <A HREF="options.html#modeline">modeline</A> variants are tested.
Solution:   Add <A HREF="options.html#modeline">modeline</A> tests. (Dominique Pellé, closes #5369)
Files:      src/testdir/test_modeline.vim

Patch 8.2.0016
Problem:    Test name used <A HREF="if_cscop.html#twice">twice</A>, option not restored properly.
Solution:   Rename function, restore option with &quot;<A HREF="change.html#&amp;">&amp;</A>&quot;.
Files:      src/testdir/test_textformat.vim

Patch 8.2.0017
Problem:    <A HREF="os_os2.html#OS/2">OS/2</A> and <A HREF="os_msdos.html#MS-DOS">MS-DOS</A> are still mentioned, even though support was
            removed long ago.
Solution:   Update documentation. (Yegappan Lakshmanan, closes #5368)
Files:      runtime/doc/autocmd.txt, runtime/doc/change.txt,
            runtime/doc/cmdline.txt, runtime/doc/editing.txt,
            runtime/doc/eval.txt, runtime/doc/gui.txt, runtime/doc/insert.txt,
            runtime/doc/options.txt, runtime/doc/print.txt,
            runtime/doc/quickfix.txt, runtime/doc/repeat.txt,
            runtime/doc/starting.txt, runtime/doc/usr_01.txt,
            runtime/doc/usr_05.txt, runtime/doc/usr_41.txt,
            runtime/doc/vi_diff.txt, runtime/gvimrc_example.vim,
            runtime/tools/README.txt, runtime/vimrc_example.vim, src/feature.h

Patch 8.2.0018
Problem:    <A HREF="change.html#:join">:join</A> does not add white space where <A HREF="motion.html#it">it</A> should. (Zdenek Dohnal)
Solution:   Handle joining multiple lines properly.
Files:      src/ops.c, src/testdir/test_join.vim

Patch 8.2.0019
Problem:    Cannot get number of lines of another buffer.
Solution:   Add &quot;linecount&quot; to <A HREF="builtin.html#getbufinfo()">getbufinfo()</A>. (Yasuhiro Matsumoto,
            closes #5370)
Files:      src/evalbuffer.c, src/testdir/test_bufwintabinfo.vim,
            runtime/doc/eval.txt

Patch 8.2.0020
Problem:    Mouse clicks in the command line not tested.
Solution:   Add tests. (Dominique Pellé, closes #5366)
Files:      src/testdir/test_termcodes.vim

Patch 8.2.0021
Problem:    Timer test fails too often on Travis with macOS.
Solution:   Be <A HREF="various.html#less">less</A> strict with the time.
Files:      src/testdir/test_timers.vim

Patch 8.2.0022
Problem:    Click in <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> doesn't close <A HREF="motion.html#it">it</A> in the <A HREF="gui.html#GUI">GUI</A>. (Sergey Vlasov)
Solution:   When processing the selection also send a button release event.
            (closes #5367)
Files:      src/gui.c

Patch 8.2.0023
Problem:    Command line editing not sufficiently tested.
Solution:   Add more tests. (Dominique Pellé, closes #5374)
Files:      src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_ex_mode.vim

Patch 8.2.0024
Problem:    Filetype Rego not recognized.
Solution:   Add *.rego. (Matt Dunford, closes #5376)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0025
Problem:    Repeated <A HREF="motion.html#word">word</A> in comment.
Solution:   Remove one. (Rene Nyffenegger, closes #5384)
Files:      src/structs.h

Patch 8.2.0026
Problem:    Still some /* */ comments.
Solution:   Convert to <A HREF="version7.html#//">//</A> comments.
Files:      src/message.c, src/message_test.c, src/misc1.c, src/misc2.c,
            src/move.c

Patch 8.2.0027
Problem:    Still some /* */ comments.
Solution:   Convert to <A HREF="version7.html#//">//</A> comments.
Files:      src/iid_ole.c, src/indent.c, src/insexpand.c, src/iscygpty.c,
            src/version.c

Patch 8.2.0028
Problem:    Searchpairpos() is not tested.
Solution:   Add tests.  Also improve <A HREF="builtin.html#searchpair()">searchpair()</A> <A HREF="testing.html#testing">testing</A>. (Dominique Pellé,
            closes #5388)
Files:      src/testdir/test_search.vim

Patch 8.2.0029
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: crash with empty <A HREF="channel.html#job">job</A> command.
Solution:   Check for NULL result. (Yasuhiro Matsumoto, closes #5390)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 8.2.0030
Problem:    &quot;<A HREF="editing.html#gF">gF</A>&quot; does not work on output of &quot;<A HREF="starting.html#verbose">verbose</A> command&quot;.
Solution:   Recognize &quot; line &quot; and translations. (closes #5391)
Files:      src/globals.h, src/eval.c, src/findfile.c, src/testdir/test_gf.vim

Patch 8.2.0031 (after 8.2.0029)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: test for empty <A HREF="channel.html#job">job</A> fails
Solution:   Check for error message, make <A HREF="motion.html#it">it</A> also fail on <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 8.2.0032 (after 8.2.0031)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: test for blank <A HREF="channel.html#job">job</A> fails
Solution:   Check before escaping.
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 8.2.0033
Problem:    Crash when make_extmatch() runs out of memory.
Solution:   Check for NULL. (Dominique Pellé, closes #5392)
Files:      src/regexp_bt.c, src/regexp_nfa.c

Patch 8.2.0034
Problem:    Missing check for out of memory.
Solution:   Check for NULL after vim_strsave(). (Dominique Pellé,
            closes #5393)
Files:      src/filepath.c

Patch 8.2.0035
Problem:    Saving and restoring called_emsg is clumsy.
Solution:   Count the number of error <A HREF="message.html#messages">messages</A>.
Files:      src/message.c, src/buffer.c, src/channel.c, src/drawscreen.c,
            src/ex_cmds2.c, src/gui.c, src/highlight.c, src/main.c,
            src/regexp.c, src/search.c, src/testing.c, src/globals.h

Patch 8.2.0036
Problem:    Not enough test coverage for match <A HREF="eval.html#functions">functions</A>.
Solution:   Add a few more test cases.  (Dominique Pellé, closes #5394)
            Add error number.
Files:      src/testdir/test_match.vim

Patch 8.2.0037
Problem:    Missing renamed message.
Solution:   Now really add the error number.
Files:      src/highlight.c

Patch 8.2.0038
Problem:    Spell suggestions insufficiently tested.
Solution:   Add <A HREF="spell.html#spell">spell</A> suggestion tests. (Dominique Pellé, closes #5398)
Files:      src/testdir/test_spell.vim

Patch 8.2.0039
Problem:    Memory access error when &quot;<A HREF="spell.html#z=">z=</A>&quot; has no suggestions.
Solution:   Check for negative index.
Files:      src/testdir/test_spell.vim, src/spellsuggest.c

Patch 8.2.0040
Problem:    Timers test is still flaky on Travis for <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Run separately instead of <A HREF="motion.html#as">as</A> part of test_alot.
Files:      src/testdir/Make_all.mak, src/testdir/test_alot.vim

Patch 8.2.0041
Problem:    Leaking memory when selecting <A HREF="spell.html#spell">spell</A> suggestion.
Solution:   Free previous value at the right time.
Files:      src/spellsuggest.c

Patch 8.2.0042
Problem:    Clearing funccal values <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove clearing individual fields.
Files:      src/userfunc.c

Patch 8.2.0043
Problem:    Timers test is still flaky on Travis for <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Increase maximum expected time.
Files:      src/testdir/test_timers.vim

Patch 8.2.0044
Problem:    Expression type is used inconsistently.
Solution:   Add &quot;ETYPE_IS&quot; and &quot;ETYPE_ISNOT&quot; <A HREF="motion.html#as">as</A> separate enum values.  Rename
            &quot;TYPE_&quot; to &quot;ETYPE_&quot; to avoid confusion.
Files:      src/structs.h, src/eval.c, src/proto/eval.pro, src/debugger.c

Patch 8.2.0045 (after 8.2.0044)
Problem:    Script test fails.
Solution:   For numbers &quot;is&quot; and &quot;isnot&quot; work like &quot;<A HREF="change.html#==">==</A>&quot; and &quot;!=&quot;.
Files:      src/eval.c

Patch 8.2.0046
Problem:    Tests for <A HREF="spell.html#spell">spell</A> suggestions are slow.
Solution:   Use shorter words. Test with latin1 and <A HREF="mbyte.html#utf-8">utf-8</A> to cover more code.
            (Dominique Pellé, closes #5399)
Files:      src/testdir/test_spell.vim

Patch 8.2.0047
Problem:    Cannot skip tests for specific <A HREF="os_win32.html#MS-Windows">MS-Windows</A> platform.
Solution:   Add <A HREF="builtin.html#windowsversion()">windowsversion()</A>.
Files:      src/os_win32.c, src/globals.h, src/evalfunc.c,
            runtime/doc/eval.txt, src/testdir/gen_opt_test.vim,
            src/testdir/test_options.vim

Patch 8.2.0048
Problem:    Another <A HREF="builtin.html#timers">timers</A> test is flaky on Travis for <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Increase maximum expected time.
Files:      src/testdir/test_timers.vim

Patch 8.2.0049
Problem:    Command line completion not fully tested.
Solution:   Add more test cases.  Make help <A HREF="change.html#sorting">sorting</A> stable. (Dominique Pellé,
            closes #5402)
Files:      src/ex_cmds.c, src/testdir/test_cd.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_help.vim,
            src/testdir/test_menu.vim, src/testdir/test_options.vim,
            src/testdir/test_syntax.vim

Patch 8.2.0050
Problem:    After <A HREF="change.html#deleting">deleting</A> a file <A HREF="motion.html#mark">mark</A> <A HREF="motion.html#it">it</A> is still in <A HREF="starting.html#viminfo">viminfo</A>.
Solution:   When a file <A HREF="motion.html#mark">mark</A> was deleted more recently than the <A HREF="motion.html#mark">mark</A> in the
            merged <A HREF="starting.html#viminfo">viminfo</A> file was updated, <A HREF="diff.html#do">do</A> not store the <A HREF="motion.html#mark">mark</A>. (Pavol
            Juhas, closes #5401, closes #1339)
Files:      src/mark.c, src/testdir/test_marks.vim,
            src/testdir/test_viminfo.vim, src/viminfo.c

Patch 8.2.0051 (after 8.2.0049)
Problem:    Command line completion test skipped. (Christian Brabandt)
Solution:   Invert condition.
Files:      src/testdir/test_cmdline.vim

Patch 8.2.0052
Problem:    More-prompt not properly tested.
Solution:   Add a test <A HREF="change.html#case">case</A>. (Dominique Pellé, closes #5404)
Files:      src/testdir/test_messages.vim

Patch 8.2.0053
Problem:    <A HREF="builtin.html#windowsversion()">windowsversion()</A> does not always return the right value.
Solution:   Add a compatibility section in the manifest. (Ken Takata,
            closes #5407)
Files:      src/gvim.exe.mnf

Patch 8.2.0054
Problem:    <A HREF="diff.html#:diffget">:diffget</A> and <A HREF="diff.html#:diffput">:diffput</A> don't have good completion.
Solution:   Add proper completion. (Dominique Pellé, closes #5409)
Files:      runtime/doc/eval.txt, src/buffer.c, src/cmdexpand.c,
            src/testdir/test_diffmode.vim, src/usercmd.c, src/vim.h

Patch 8.2.0055
Problem:    Cannot use &quot;<A HREF="gui_x11.html#:gui">:gui</A>&quot; in <A HREF="starting.html#vimrc">vimrc</A> with VIMDLL enabled.
Solution:   Change the logic, check &quot;gui.starting&quot;. (Ken Takata, closes #5408)
Files:      src/gui.c

Patch 8.2.0056
Problem:    Execution stack is incomplete and inefficient.
Solution:   Introduce a proper execution stack and use <A HREF="motion.html#it">it</A> instead of
            sourcing_name/sourcing_lnum.  Create a <A HREF="eval.html#string">string</A> only when used.
Files:      src/structs.h, src/globals.h, src/autocmd.c, src/buffer.c
            src/debugger.c, src/ex_docmd.c, src/ex_eval.c, src/highlight.c,
            src/main.c, src/map.c, src/message.c, src/proto/scriptfile.pro,
            src/scriptfile.c, src/option.c, src/profiler.c, src/spellfile.c,
            src/term.c, src/testing.c, src/usercmd.c, src/userfunc.c,
            src/kword_test.c, src/testdir/test_debugger.vim

Patch 8.2.0057 (after 8.2.0056)
Problem:    Cannot build with small features.
Solution:   Add #ifdefs.
Files:      src/scriptfile.c

Patch 8.2.0058
Problem:    Running tests changes ~/.viminfo.
Solution:   Make <A HREF="options.html#'viminfo'">'viminfo'</A> empty when summarizing tests results. (closes #5414)
Files:      src/testdir/summarize.vim

Patch 8.2.0059
Problem:    Compiler warnings for unused <A HREF="eval.html#variables">variables</A> in small build. (Tony
            Mechelynck)
Solution:   Add #ifdef.
Files:      src/scriptfile.c

Patch 8.2.0060
Problem:    Message test only runs with one encoding. (Dominique Pellé)
Solution:   Run the test with &quot;<A HREF="mbyte.html#utf-8">utf-8</A>&quot; and &quot;latin1&quot;.  Fix underflow. (related
            to #5410)
Files:      src/message_test.c, src/message.c

Patch 8.2.0061
Problem:    The execute stack can grow big and never shrinks.
Solution:   Reduce the size in garbage collect.
Files:      src/eval.c

Patch 8.2.0062
Problem:    Memory test is flaky on FreeBSD.
Solution:   Add a short sleep before getting the first size.
Files:      src/testdir/test_memory_usage.vim

Patch 8.2.0063
Problem:    Wrong size argument to vim_snprintf(). (Dominique Pellé)
Solution:   Reduce the size by the length. (related to #5410)
Files:      src/ops.c

Patch 8.2.0064
Problem:    Diffmode completion doesn't use per-window setting.
Solution:   Check if a <A HREF="windows.html#window">window</A> is in <A HREF="diff.html#diff">diff</A> mode. (Dominique Pellé, closes #5419)
Files:      src/buffer.c, src/testdir/test_diffmode.vim

Patch 8.2.0065
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A> and alikes: autoopen only used on <A HREF="os_amiga.html#Amiga">Amiga</A> OS4.
Solution:   Adjust #ifdefs. (Ola Söder, closes #5413)
Files:      src/os_amiga.c

Patch 8.2.0066
Problem:    Some corners of vim_snprintf() are not tested.
Solution:   Add a test in C. (Dominique Pellé, closes #5422)
Files:      src/message_test.c

Patch 8.2.0067
Problem:    ERROR_UNKNOWN clashes on some systems.
Solution:   Rename ERROR_ to FCERR_. (Ola Söder, closes #5415)
Files:      src/evalfunc.c, src/userfunc.c, src/vim.h

Patch 8.2.0068
Problem:    Crash when using <A HREF="if_pyth.html#Python">Python</A> 3 with &quot;utf32&quot; encoding. (Dominique Pellé)
Solution:   Use &quot;<A HREF="mbyte.html#utf-8">utf-8</A>&quot; whenever enc_utf8 is set. (closes #5423)
Files:      src/testdir/test_python3.vim, src/if_py_both.h

Patch 8.2.0069
Problem:    ETYPE_ is used for two different enums.
Solution:   Rename one to use EXPR_.
Files:      src/structs.h, src/eval.c, src/debugger.c

Patch 8.2.0070
Problem:    Crash when using <A HREF="if_pyth.html#Python">Python</A> 3 with &quot;debug&quot; encoding. (Dominique Pellé)
Solution:   Use &quot;euc-jp&quot; whenever enc_dbcs is set.
Files:      src/testdir/test_python3.vim, src/if_py_both.h

Patch 8.2.0071
Problem:    Memory test often fails on Cirrus CI.
Solution:   Allow for more tolerance in the upper limit.  Remove sleep.
Files:      src/testdir/test_memory_usage.vim

Patch 8.2.0072 (after 8.2.0071)
Problem:    Memory test still fails on Cirrus CI.
Solution:   Allow for a tiny bit more tolerance in the upper limit.
Files:      src/testdir/test_memory_usage.vim

Patch 8.2.0073
Problem:    Initializing globals with COMMA is clumsy.
Solution:   Use INIT2(), INIT3(), etc.
Files:      src/vim.h, src/globals.h

Patch 8.2.0074
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 <A HREF="mbyte.html#unicode">unicode</A> test sometimes fails.
Solution:   Make <A HREF="options.html#'termencoding'">'termencoding'</A> empty.  Correct number of error message.
Files:      src/change.c, runtime/doc/options.txt, runtime/doc/message.txt,
            src/testdir/test_python3.vim

Patch 8.2.0075
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 <A HREF="mbyte.html#unicode">unicode</A> test still sometimes fails.
Solution:   Skip the test when <A HREF="options.html#'termencoding'">'termencoding'</A> is not empty.
Files:      src/testdir/test_python3.vim

Patch 8.2.0076
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 <A HREF="mbyte.html#unicode">unicode</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do not set <A HREF="options.html#'encoding'">'encoding'</A> to &quot;debug&quot; on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_python3.vim

Patch 8.2.0077
Problem:    <A HREF="builtin.html#settagstack()">settagstack()</A> cannot truncate at current index.
Solution:   Add the &quot;<A HREF="motion.html#t">t</A>&quot; action. (Yegappan Lakshmanan, closes #5417)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/tag.c,
            src/testdir/test_tagjump.vim

Patch 8.2.0078
Problem:    Expanding <A HREF="cmdline.html#&lt;sfile&gt;">&lt;sfile&gt;</A> works differently the second time.
Solution:   Keep the expanded name when redefining a function. (closes #5425)
Files:      src/testdir/test_vimscript.vim, src/userfunc.c

Patch 8.2.0079
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 <A HREF="mbyte.html#unicode">unicode</A> test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do not set <A HREF="options.html#'encoding'">'encoding'</A> to &quot;euc-tw&quot; on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_python3.vim

Patch 8.2.0080
Problem:    Globals using INIT4() are not in the <A HREF="tagsrch.html#tags">tags</A> file.
Solution:   Adjust the <A HREF="tagsrch.html#tags">tags</A> command.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.0081
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> also need the change to support INIT4().
Solution:   Add the <A HREF="tagsrch.html#ctags">ctags</A> arguments. (Ken Takata)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.2.0082
Problem:    When reusing a buffer listeners are not cleared. (Axel Forsman)
Solution:   Clear listeners when reusing a buffer. (closes #5431)
Files:      src/testdir/test_listener.vim, src/buffer.c

Patch 8.2.0083
Problem:    Text properties wrong when tabs and spaces are exchanged.
Solution:   Take text properties into account. (Nobuhiro Takasaki,
            closes #5427)
Files:      src/edit.c, src/testdir/test_textprop.vim

Patch 8.2.0084
Problem:    Complete item &quot;user_data&quot; can only be a <A HREF="eval.html#string">string</A>.
Solution:   Accept any type of variable. (closes #5412)
Files:      src/testdir/test_ins_complete.vim, src/insexpand.c, src/dict.c,
            src/proto/dict.pro, src/eval.c, runtime/doc/insert.txt

Patch 8.2.0085
Problem:    Dead code in builtin <A HREF="eval.html#functions">functions</A>.
Solution:   Clean up the code.
Files:      src/evalvars.c, src/sound.c, src/textprop.c

Patch 8.2.0086 (after 8.2.0084)
Problem:    Build error for small version. (Tony Mechelynck)
Solution:   Only use &quot;user_data&quot; with the <A HREF="various.html#+eval">+eval</A> feature. Remove unused
            variable.
Files:      src/insexpand.c, src/dict.c

Patch 8.2.0087
Problem:    Crash in command line expansion when out of memory.
Solution:   Check for NULL pointer.  Also make ExpandGeneric() static.
            (Dominique Pellé, closes #5437)
Files:      src/cmdexpand.c, src/proto/cmdexpand.pro

Patch 8.2.0088
Problem:    Insufficient tests for <A HREF="tagsrch.html#tags">tags</A>; bug in using extra <A HREF="tagsrch.html#tag">tag</A> field when
            using an <A HREF="starting.html#ex">ex</A> command to position the cursor.
Solution:   Fix the bug, add more tests. (Yegappan Lakshmanan, closes #5439)
Files:      runtime/doc/tagsrch.txt, src/tag.c,
            src/testdir/test_ins_complete.vim, src/testdir/test_tagfunc.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_taglist.vim

Patch 8.2.0089
Problem:    Crash when running out of memory in <A HREF="options.html#:setfiletype">:setfiletype</A> completion.
Solution:   Do not allocate memory. (Dominique Pellé, closes #5438)
Files:      src/cmdexpand.c

Patch 8.2.0090
Problem:    Generated files show up in git status.
Solution:   Ignore a few more files.
Files:      .gitignore

Patch 8.2.0091
Problem:    Compiler warnings for size_t / int types.
Solution:   Change type to size_t. (Mike Williams)
Files:      src/scriptfile.c

Patch 8.2.0092
Problem:    Tags functionality insufficiently tested.
Solution:   Add more <A HREF="tagsrch.html#tags">tags</A> tests. (Yegappan Lakshmanan, closes #5446)
Files:      src/testdir/test_tagjump.vim

Patch 8.2.0093
Problem:    <A HREF="builtin.html#win_splitmove()">win_splitmove()</A> can make Vim hang.
Solution:   Check <A HREF="windows.html#windows">windows</A> exists in the current <A HREF="intro.html#tab">tab</A> page. (closes #5444)
Files:      src/testdir/test_window_cmd.vim, src/evalwindow.c

Patch 8.2.0094
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build with Strawberry <A HREF="if_perl.html#Perl">Perl</A> 5.30.
Solution:   Define __builtin_expect() <A HREF="motion.html#as">as</A> a workaround. (Ken Takata,
            closes #5267)
Files:      src/if_perl.xs

Patch 8.2.0095
Problem:    Cannot specify exit code for <A HREF="quickfix.html#:cquit">:cquit</A>.
Solution:   Add optional argument. (Thinca, Yegappan Lakshmanan, closes #5442)
Files:      runtime/doc/quickfix.txt, src/ex_cmds.h, src/ex_docmd.c,
            src/testdir/test_quickfix.vim

Patch 8.2.0096
Problem:    Cannot create tiny <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> in last column. (Daniel Steinberg)
Solution:   Remove position limit. (closes #5447)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_20.dump,
            src/testdir/dumps/Test_popupwin_21.dump

Patch 8.2.0097
Problem:    Crash with <A HREF="autocmd.html#autocommand">autocommand</A> and spellfile. (Tim Pope)
Solution:   Do not pop exestack when not pushed. (closes #5450)
Files:      src/testdir/test_autocmd.vim, src/spellfile.c

Patch 8.2.0098
Problem:    Exe stack length can be wrong without being detected.
Solution:   Add a check when ABORT_ON_INTERNAL_ERROR is defined.
Files:      src/macros.h, src/autocmd.c, src/buffer.c, src/ex_docmd.c,
            src/main.c, src/map.c, src/scriptfile.c, src/spellfile.c,
            src/userfunc.c

Patch 8.2.0099
Problem:    Use of NULL pointer when out of memory.
Solution:   Check for NULL pointer. (Dominique Pellé, closes #5449)
Files:      src/cmdexpand.c

Patch 8.2.0100
Problem:    Macros for <A HREF="if_ruby.html#Ruby">Ruby</A> are too complicated.
Solution:   Do not use DYNAMIC_RUBY_VER, use RUBY_VERSION. (Ken Takata,
            closes #5452)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/auto/configure,
            src/configure.ac, src/if_ruby.c

Patch 8.2.0101
Problem:    Crash when passing <A HREF="vim9.html#null">null</A> object to &quot;<A HREF="eval.html#:echomsg">:echomsg</A>&quot;.
Solution:   Check for NULL pointer. (Yasuhiro Matsumoto, closes #5460)
Files:      src/eval.c, src/testdir/test_messages.vim

Patch 8.2.0102
Problem:    Messages test fails in small version.
Solution:   Only use <A HREF="testing.html#test_null_job()">test_null_job()</A> when available.
Files:      src/testdir/test_messages.vim

Patch 8.2.0103
Problem:    Using <A HREF="vim9.html#null">null</A> object with <A HREF="builtin.html#execute()">execute()</A> has strange effects.
Solution:   Give an error message for <A HREF="eval.html#Job">Job</A> and <A HREF="eval.html#Channel">Channel</A>.
Files:      src/testdir/test_execute_func.vim, src/globals.h, src/eval.c,
            src/evalfunc.c

Patch 8.2.0104
Problem:    Using <A HREF="channel.html#channel">channel</A> or <A HREF="channel.html#job">job</A> with &quot;<A HREF="eval.html#:execute">:execute</A>&quot; has strange effects.
Solution:   Give an error message for <A HREF="eval.html#Job">Job</A> and <A HREF="eval.html#Channel">Channel</A>.
Files:      src/testdir/test_eval_stuff.vim, src/eval.c

Patch 8.2.0105
Problem:    Vim <A HREF="uganda.html#license">license</A> not <A HREF="starting.html#easy">easy</A> to find on github.
Solution:   Add a separate LICENCE file. (closes #5458)
Files:      LICENSE, Filelist

Patch 8.2.0106
Problem:    Printf formats are not exactly right.
Solution:   Adjust signed/unsigned conversions. (Frazer Clews, closes #5456)
Files:      runtime/tools/ccfilter.c, src/libvterm/src/parser.c,
            src/libvterm/src/pen.c, src/ui.c

Patch 8.2.0107
Problem:    Hgignore is out of sync from gitignore.
Solution:   Add lines to hgignore. (Ken Takata)
Files:      .hgignore

Patch 8.2.0108
Problem:    When sign text is changed a manual redraw is needed. (Pontus
            Lietzler)
Solution:   Redraw automatically. (closes #5455)
Files:      src/testdir/test_signs.vim, src/sign.c,
            src/testdir/dumps/Test_sign_cursor_1.dump,
            src/testdir/dumps/Test_sign_cursor_2.dump,
            src/testdir/dumps/Test_sign_cursor_3.dump,
            src/testdir/dumps/Test_sign_cursor_01.dump,
            src/testdir/dumps/Test_sign_cursor_02.dump

Patch 8.2.0109
Problem:    Corrupted text properties when expanding spaces.
Solution:   Reallocate the line. (Nobuhiro Takasaki, closes #5457)
Files:      src/edit.c, src/testdir/test_textprop.vim

Patch 8.2.0110
Problem:    <A HREF="textprop.html#prop_find()">prop_find()</A> is not implemented.
Solution:   Implement <A HREF="textprop.html#prop_find()">prop_find()</A>. (Ryan Hackett, closes #5421, closes #4970)
Files:      src/evalfunc.c, src/proto/textprop.pro,
            src/testdir/test_textprop.vim, src/textprop.c,
            runtime/doc/textprop.txt

Patch 8.2.0111
Problem:    VAR_SPECIAL is also used for booleans.
Solution:   Add VAR_BOOL for better type checking.
Files:      src/structs.h, src/dict.c, src/eval.c, src/evalfunc.c,
            src/evalvars.c, src/if_lua.c, src/if_mzsch.c, src/if_py_both.h,
            src/if_ruby.c, src/json.c, src/popupmenu.c, src/proto/dict.pro,
            src/testing.c, src/vim.h, src/viminfo.c

Patch 8.2.0112
Problem:    Illegal memory access when using <A HREF="options.html#'cindent'">'cindent'</A>.
Solution:   Check for NUL byte. (Dominique Pellé, closes #5470)
Files:      src/cindent.c, src/testdir/test_cindent.vim

Patch 8.2.0113 (after 8.2.0095)
Problem:    &quot;make cmdidxs&quot; fails.
Solution:   Allow address for &quot;<A HREF="quickfix.html#:cquit">:cquit</A>&quot;.  Add <A HREF="starting.html#--not-a-term">--not-a-term</A> to avoid a delay.
Files:      src/ex_cmds.h, src/Makefile, src/Make_cyg_ming.mak,
            src/Make_mvc.mak

Patch 8.2.0114
Problem:    Info about sourced scripts is scattered.
Solution:   Use scriptitem_T for info about a <A HREF="usr_41.html#script">script</A>, including <A HREF="change.html#s">s</A>: <A HREF="eval.html#variables">variables</A>.
            Drop ga_scripts.
Files:      src/structs.h, src/evalvars.c, src/scriptfile.c, src/eval.c

Patch 8.2.0115
Problem:    Byte2line() does not work correctly with text properties. (Billie
            Cleek)
Solution:   Take the bytes of the text properties into account.
            (closes #5334)
Files:      src/testdir/test_textprop.vim, src/memline.c

Patch 8.2.0116
Problem:    <A HREF="autocmd.html#BufEnter">BufEnter</A> autocmd not triggered on &quot;<A HREF="tabpage.html#:tab">:tab</A> drop&quot;. (Andy Stewart)
Solution:   Decrement autocmd_no_enter for the last file. (closes #1660,
            closes #5473)
Files:      src/arglist.c, src/testdir/test_tabpage.vim

Patch 8.2.0117
Problem:    Crash when using <A HREF="builtin.html#gettabwinvar()">gettabwinvar()</A> with invalid arguments. (Yilin
            Yang)
Solution:   Use &quot;curtab&quot; if &quot;tp&quot; is NULL. (closes #5475)
Files:      src/evalwindow.c, src/testdir/test_getvar.vim

Patch 8.2.0118
Problem:    Crash when cycling to <A HREF="windows.html#buffers">buffers</A> involving <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> .
Solution:   Do not decrement buffer reference <A HREF="intro.html#count">count</A>.
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_infopopup_7.dump

Patch 8.2.0119
Problem:    Message test fails on some platforms. (Elimar Riesebieter)
Solution:   Add type cast to vim_snprintf() argument. (Dominique Pellé)
Files:      src/message_test.c

Patch 8.2.0120
Problem:    <A HREF="builtin.html#virtcol()">virtcol()</A> does not check arguments to be valid, which may lead to
            a crash.
Solution:   Check the column to be valid.  Do not decrement MAXCOL.
            (closes #5480)
Files:      src/evalfunc.c, src/testdir/test_marks.vim

Patch 8.2.0121
Problem:    <A HREF="builtin.html#filter()">filter()</A> and <A HREF="builtin.html#map()">map()</A> on <A HREF="eval.html#blob">blob</A> don't work.
Solution:   Correct the code. (closes #5483)
Files:      src/list.c, src/testdir/test_blob.vim

Patch 8.2.0122
Problem:    Readme files still mention <A HREF="os_msdos.html#MS-DOS">MS-DOS</A>.
Solution:   Update readme files. (Ken Takata, closes #5486)
Files:      README.md, README.txt, READMEdir/README_dos.txt,
            READMEdir/README_srcdos.txt, READMEdir/README_w32s.txt,
            runtime/doc/os_win32.txt

Patch 8.2.0123
Problem:    <A HREF="builtin.html#complete_info()">complete_info()</A> does not work when <A HREF="autocmd.html#CompleteDone">CompleteDone</A> is triggered.
Solution:   Trigger <A HREF="autocmd.html#CompleteDone">CompleteDone</A> before clearing the info.
Files:      src/insexpand.c, runtime/doc/autocmd.txt,
            src/testdir/test_ins_complete.vim

Patch 8.2.0124
Problem:    Compiler warnings for variable types.
Solution:   Change type, add type cast. (Mike Williams)
Files:      src/memline.c

Patch 8.2.0125
Problem:    <A HREF="term.html#:mode">:mode</A> no longer works for any system.
Solution:   Always give an error message.
Files:      src/ex_docmd.c, runtime/doc/quickref.txt, src/os_amiga.c,
            src/proto/os_amiga.pro, src/os_mswin.c, src/proto/os_mswin.pro,
            src/os_unix.c, src/proto/os_unix.pro

Patch 8.2.0126 (after 8.2.0124)
Problem:    Textprop test fails.
Solution:   Fix sign in computation.
Files:      src/memline.c

Patch 8.2.0127
Problem:    Some buffer commands work in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Disallow <A HREF="windows.html#:bnext">:bnext</A>, :bprev, etc. (Naruhiko Nishino, closes #5494)
Files:      src/ex_docmd.c, src/testdir/test_popupwin.vim

Patch 8.2.0128
Problem:    Cannot <A HREF="eval.html#list">list</A> <A HREF="options.html#options">options</A> one per line.
Solution:   Use &quot;:set!&quot; to <A HREF="eval.html#list">list</A> one option per line.
Files:      src/ex_docmd.c, src/option.c, src/proto/option.pro, src/vim.h,
            src/ex_cmds.h, src/optiondefs.h, src/testdir/test_options.vim,
            runtime/doc/options.txt

Patch 8.2.0129
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> installer doesn't use Turkish translations.
Solution:   Enable the Turkish translations and fix a few. (Emir Sarı,
            closes #5493)
Files:      nsis/gvim.nsi, nsis/lang/turkish.nsi

Patch 8.2.0130
Problem:    Python3 ranges are not tested.
Solution:   Add test. (Dominique Pellé, closes #5498)
Files:      src/testdir/test_python3.vim

Patch 8.2.0131
Problem:    Command line is not cleared when switching tabs and the command
            line height differs.
Solution:   Set the &quot;clear_cmdline&quot; flag when needed. (Naruhiko Nishino,
            closes #5495)
Files:      src/testdir/dumps/Test_cmdlineclear_tabenter.dump,
            src/testdir/test_cmdline.vim, src/window.c

Patch 8.2.0132
Problem:    Script may be re-used when <A HREF="change.html#deleting">deleting</A> and creating a new one.
Solution:   When the inode matches, also check the file name.
Files:      src/scriptfile.c, src/testdir/test_source.vim

Patch 8.2.0133
Problem:    Invalid memory access with search command.
Solution:   When <A HREF="various.html#:normal">:normal</A> runs out of characters in bracketed paste mode break
            out of the loop.(closes #5511)
Files:      src/testdir/test_search.vim, src/edit.c

Patch 8.2.0134
Problem:    Some map functionality not covered by tests.
Solution:   Add tests. (Yegappan Lakshmanan, closes #5504)
Files:      src/testdir/test_maparg.vim, src/testdir/test_mapping.vim

Patch 8.2.0135 (after 8.2.0133)
Problem:    Bracketed paste can still cause invalid memory access. (Dominique
            Pellé)
Solution:   Check for NULL pointer.
Files:      src/edit.c, src/testdir/test_search.vim

Patch 8.2.0136
Problem:    Stray <A HREF="channel.html#ch_logfile()">ch_logfile()</A> call.
Solution:   Remove <A HREF="motion.html#it">it</A>. (closes #5503)
Files:      src/testdir/test_source.vim

Patch 8.2.0137
Problem:    Crash when using <A HREF="builtin.html#win_execute()">win_execute()</A> from a new <A HREF="intro.html#tab">tab</A>.
Solution:   Set the tp_*win pointers. (Ozaki Kiichi, closes #5512)
Files:      src/testdir/test_winbuf_close.vim, src/window.c

Patch 8.2.0138
Problem:    Memory leak when starting a <A HREF="channel.html#job">job</A> fails.
Solution:   Free the <A HREF="eval.html#list">list</A> of arguments. (Ozaki Kiichi, closes #5510)
Files:      src/channel.c, src/testdir/test_channel.vim

Patch 8.2.0139
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: default for <A HREF="mbyte.html#IME">IME</A> is inconsistent.
Solution:   Also make <A HREF="mbyte.html#IME">IME</A> default enabled with MVC. (Ken Takata, closes #5508)
Files:      src/Make_mvc.mak

Patch 8.2.0140
Problem:    CI does not test building doc <A HREF="tagsrch.html#tags">tags</A>.
Solution:   Add the vimtags/gcc build. Cleanup showing version. (Ozaki Kiichi,
            closes #5513)
Files:      .travis.yml, Filelist, ci/if_ver-1.vim, ci/if_ver-2.vim,
            ci/if_ver-cmd.vim, runtime/doc/Makefile, runtime/doc/doctags.vim,
            src/testdir/if_ver-1.vim, src/testdir/if_ver-2.vim

Patch 8.2.0141
Problem:    No swift <A HREF="filetype.html#filetype">filetype</A> detection.
Solution:   Add swift, swiftgyb and sil. (Emir Sarı, closes #5517)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0142
Problem:    Possible to enter <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="change.html#p">p</A>. (John Devin)
Solution:   Check entered <A HREF="windows.html#window">window</A> is not a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>. (closes #5515)
Files:      src/window.c, src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_previewpopup_9.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_10.dump

Patch 8.2.0143
Problem:    Coverity warning for possible use of NULL pointer.
Solution:   Check argv is not NULL.
Files:      src/channel.c

Patch 8.2.0144
Problem:    Some <A HREF="map.html#mapping">mapping</A> code is not fully tested.
Solution:   Add more test cases. (Yegappan Lakshmanan, closes #5519)
Files:      src/testdir/test_langmap.vim, src/testdir/test_maparg.vim,
            src/testdir/test_mapping.vim

Patch 8.2.0145
Problem:    Using #error for compilation <A HREF="message.html#errors">errors</A> should be OK now.
Solution:   Use #error. (Ken Takata, closes #5299)
Files:      src/blowfish.c, src/vim.h

Patch 8.2.0146
Problem:    Wrong indent when <A HREF="options.html#'showbreak'">'showbreak'</A> and <A HREF="options.html#'breakindent'">'breakindent'</A> are set and
            <A HREF="options.html#'briopt'">'briopt'</A> includes &quot;sbr&quot;.
Solution:   Reset &quot;need_showbreak&quot; where needed. (Ken Takata, closes #5523)
Files:      src/drawline.c, src/testdir/test_breakindent.vim

Patch 8.2.0147
Problem:    Block <A HREF="visual.html#Visual">Visual</A> mode operators not correct when <A HREF="options.html#'linebreak'">'linebreak'</A> set.
Solution:   Set w_p_lbr to lbr_saved more often. (Ken Takata, closes #5524)
Files:      src/ops.c, src/testdir/test_listlbr.vim

Patch 8.2.0148
Problem:    Mapping related function in wrong source file.
Solution:   Move the function.  Add a few more test cases. (Yegappan
            Lakshmanan, closes #5528)
Files:      src/map.c, src/proto/term.pro, src/term.c,
            src/testdir/test_mapping.vim

Patch 8.2.0149
Problem:    Maintaining a <A HREF="vim9.html#Vim9">Vim9</A> branch separately is more work.
Solution:   Merge the <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> changes.
Files:      README.md, README_VIM9.md, runtime/doc/Makefile,
            runtime/doc/eval.txt, runtime/doc/options.txt, runtime/doc/tags,
            runtime/doc/vim9.txt, runtime/ftplugin/vim.vim,
            runtime/indent/vim.vim, runtime/syntax/vim.vim,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Makefile, src/blob.c,
            src/channel.c, src/dict.c, src/eval.c, src/evalbuffer.c,
            src/evalfunc.c, src/evalvars.c, src/ex_cmdidxs.h, src/ex_cmds.h,
            src/ex_docmd.c, src/ex_eval.c, src/filepath.c, src/globals.h,
            src/gui.c, src/if_lua.c, src/if_py_both.h, src/insexpand.c,
            src/json.c, src/list.c, src/macros.h, src/main.c, src/message.c,
            src/misc1.c, src/proto.h, src/proto/blob.pro, src/proto/eval.pro,
            src/proto/evalfunc.pro, src/proto/evalvars.pro,
            src/proto/ex_docmd.pro, src/proto/ex_eval.pro, src/proto/list.pro,
            src/proto/message.pro, src/proto/scriptfile.pro,
            src/proto/userfunc.pro, src/proto/vim9compile.pro,
            src/proto/vim9execute.pro, src/proto/vim9script.pro,
            src/scriptfile.c, src/session.c, src/structs.h, src/syntax.c,
            src/testdir/Make_all.mak, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim, src/testing.c, src/userfunc.c,
            src/vim.h, src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/vim9script.c, src/viminfo.c

Patch 8.2.0150
Problem:    Cannot define <A HREF="if_pyth.html#python">python</A> function when using <A HREF="eval.html#:execute">:execute</A>. (Yasuhiro
            Matsumoto)
Solution:   Do not recognize &quot;def&quot; inside &quot;function.
Files:      src/testdir/test_vim9_script.vim, src/userfunc.c

Patch 8.2.0151
Problem:    Detecting a <A HREF="usr_41.html#script">script</A> was already sourced is unreliable.
Solution:   Do not use the inode number.
Files:      src/scriptfile.c, src/structs.h, src/testdir/test_vim9_script.vim

Patch 8.2.0152
Problem:    Restoring ctrl_x_mode is not needed.
Solution:   Remove restoring the old value, it's changed again soon.
Files:      src/insexpand.c

Patch 8.2.0153
Problem:    Warning shows when listing version info.
Solution:   Use &quot;<A HREF="starting.html#-u">-u</A> NONE&quot;. (Ozaki Kiichi, closes #5534)
Files:      .travis.yml

Patch 8.2.0154
Problem:    Reallocating the <A HREF="eval.html#list">list</A> of scripts is inefficient.
Solution:   Instead of using a growarray of scriptitem_T, store pointers and
            allocate each scriptitem_T separately.  Also avoids that the
            growarray pointers change when sourcing a new <A HREF="usr_41.html#script">script</A>.
Files:      src/globals.h, src/eval.c, src/evalvars.c, src/ex_docmd.c,
            src/profiler.c, src/scriptfile.c, src/vim9compile.c,
            src/vim9execute.c, src/vim9script.c

Patch 8.2.0155
Problem:    Warnings from MinGW compiler. (John Marriott) Json test fails when
            building without <A HREF="various.html#+float">+float</A> feature.
Solution:   Init <A HREF="eval.html#variables">variables</A>. Fix Json parsing. Skip a few tests that require
            the <A HREF="various.html#+float">+float</A> feature.
Files:      src/vim9script.c, src/vim9compile.c, src/vim9execute.c,
            src/if_py_both.h, src/json.c, src/testdir/test_method.vim

Patch 8.2.0156
Problem:    Various typos in source files and tests.
Solution:   Fix the typos. (Emir Sarı, closes #5532)
Files:      Makefile, src/INSTALLvms.txt, src/Make_vms.mms, src/beval.h,
            src/buffer.c, src/charset.c, src/evalvars.c, src/ex_cmds.c,
            src/ex_docmd.c, src/getchar.c, src/gui.c, src/gui_mac.c,
            src/gui_photon.c, src/if_perl.xs,
            src/libvterm/t/11state_movecursor.test,
            src/libvterm/t/41screen_unicode.test, src/mbyte.c, src/memline.c,
            src/normal.c, src/ops.c, src/option.c, src/option.h,
            src/os_unix.c, src/os_win32.c, src/quickfix.c, src/register.c,
            src/spell.c, src/tag.c, src/term.c,
            src/testdir/test_breakindent.vim, src/testdir/test_channel.vim,
            src/testdir/test_cindent.vim, src/testdir/test_digraph.vim,
            src/testdir/test_edit.vim, src/testdir/test_netbeans.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_registers.vim,
            src/testdir/test_stat.vim, src/ui.c, src/xxd/xxd.c

Patch 8.2.0157
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> files not in <A HREF="eval.html#list">list</A> of distributed files.
Solution:   Add the entries.
Files:      Filelist

Patch 8.2.0158 (after 8.2.0123)
Problem:    Triggering <A HREF="autocmd.html#CompleteDone">CompleteDone</A> earlier is not backwards compatible.
            (Daniel Hahler)
Solution:   Add <A HREF="autocmd.html#CompleteDonePre">CompleteDonePre</A> instead.
Files:      src/insexpand.c, runtime/doc/autocmd.txt, src/autocmd.c,
            src/vim.h, src/testdir/test_ins_complete.vim

Patch 8.2.0159
Problem:    Non-materialized <A HREF="builtin.html#range()">range()</A> <A HREF="eval.html#list">list</A> causes problems. (Fujiwara Takuya)
Solution:   Materialize the <A HREF="eval.html#list">list</A> where needed.
Files:      src/testdir/test_functions.vim, src/testdir/test_python3.vim,
            src/userfunc.c, src/evalfunc.c, src/highlight.c, src/evalvars.c,
            src/popupmenu.c, src/insexpand.c, src/json.c, src/channel.c,
            src/eval.c

Patch 8.2.0160 (after 8.2.0159)
Problem:    Range test fails.
Solution:   Include change in <A HREF="eval.html#list">list</A> code. (#5541)
Files:      src/list.c

Patch 8.2.0161
Problem:    Not recognizing .gv file <A HREF="motion.html#as">as</A> dot <A HREF="filetype.html#filetype">filetype</A>.
Solution:   Add *.gv to dot <A HREF="pattern.html#pattern">pattern</A>. (closes #5544)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0162
Problem:    Balloon test fails in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip test in the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/testdir/test_functions.vim

Patch 8.2.0163
Problem:    Test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console.
Solution:   use <A HREF="builtin.html#feedkeys()">feedkeys()</A> instead of <A HREF="testing.html#test_feedinput()">test_feedinput()</A>. (Ken Takata)
Files:      src/testdir/test_functions.vim, src/testing.c

Patch 8.2.0164
Problem:    Test_alot takes too long.
Solution:   Run several tests individually.
Files:      src/testdir/test_alot.vim, src/testdir/Make_all.mak

Patch 8.2.0165
Problem:    Coverity warning for using NULL pointer.
Solution:   Add missing &quot;else&quot;.
Files:      src/vim9compile.c

Patch 8.2.0166
Problem:    Coverity warning for using uninitialized variable.
Solution:   Check for failure.
Files:      src/vim9execute.c

Patch 8.2.0167
Problem:    Coverity warning for ignoring return value.
Solution:   Check the return value and jump if failed.
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0168
Problem:    Coverity warning for assigning NULL to an option.
Solution:   Use empty <A HREF="eval.html#string">string</A> instead of NULL.
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0169
Problem:    Coverity warning for dead code.
Solution:   Check if inside <A HREF="eval.html#try-finally">try-finally</A>.
Files:      src/vim9execute.c

Patch 8.2.0170
Problem:    Coverity warning for ignoring return value.
Solution:   Check the return value and return if failed.
Files:      src/vim9compile.c

Patch 8.2.0171
Problem:    Coverity warning for using uninitialized buffer.
Solution:   Check the skip flag.
Files:      src/userfunc.c

Patch 8.2.0172
Problem:    Coverity warning for not restoring character.
Solution:   Restore the character also in <A HREF="change.html#case">case</A> of failure.
Files:      src/vim9script.c

Patch 8.2.0173
Problem:    Build fails with old compiler.
Solution:   Do not use anonymous unions. (John Marriott)
Files:      src/vim9compile.c, src/evalvars.c, src/list.c, src/structs.h,
            src/evalfunc.c, src/channel.c, src/if_mzsch.c, src/if_py_both.h

Patch 8.2.0174
Problem:    Various commands not completely tested.
Solution:   Add more test cases. (Yegappan Lakshmanan, closes #5551)
Files:      src/testdir/test_excmd.vim, src/testdir/test_fnameescape.vim,
            src/testdir/test_ga.vim, src/testdir/test_global.vim,
            src/testdir/test_move.vim, src/testdir/test_options.vim,
            src/testdir/test_packadd.vim, src/testdir/test_sort.vim,
            src/testdir/test_substitute.vim, src/testdir/test_textformat.vim,
            src/testdir/test_writefile.vim

Patch 8.2.0175
Problem:    Crash when removing <A HREF="eval.html#list">list</A> element in <A HREF="builtin.html#map()">map()</A>.
Solution:   Lock the <A HREF="eval.html#list">list</A>. (closes #2652)
Files:      src/testdir/test_filter_map.vim, src/list.c

Patch 8.2.0176
Problem:    Generating os headers does not work for Swedish.
Solution:   Set the <A HREF="mbyte.html#locale">locale</A> to C. (Christian Brabandt, closes #5258)
Files:      src/osdef.sh

Patch 8.2.0177
Problem:    Memory leak in get_tags().
Solution:   Free matches when finding a pseudo-tag line. (Dominique Pellé,
            closes #5553)
Files:      src/tag.c

Patch 8.2.0178
Problem:    With VTP the screen may not be restored properly.
Solution:   Add another set of saved RGB values. (Nobuhiro Takasaki,
            closes #5548)
Files:      src/os_win32.c

Patch 8.2.0179
Problem:    Still a few places where <A HREF="builtin.html#range()">range()</A> does not work.
Solution:   Fix using <A HREF="builtin.html#range()">range()</A> causing problems.
Files:      src/terminal.c, src/testdir/test_functions.vim,
            src/testdir/test_popupwin.vim, src/popupwin.c, src/tag.c,
            src/testdir/dumps/Test_popupwin_20.dump,
            src/testdir/dumps/Test_popupwin_21.dump,
            src/testdir/dumps/Test_popup_settext_07.dump, src/globals.h

Patch 8.2.0180
Problem:    Test for wrapmargin fails if <A HREF="terminal.html#terminal">terminal</A> is not 80 columns.
Solution:   Vertical split the <A HREF="windows.html#window">window</A>. (Ken Takata, closes #5554)
Files:      src/testdir/test_textformat.vim

Patch 8.2.0181
Problem:    Problems parsing :term arguments.
Solution:   Improve parsing, fix memory leak, add tests. (Ozaki Kiichi,
            closes #5536)
Files:      src/channel.c, src/proto/channel.pro, src/structs.h,
            src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.0182
Problem:    Min() and <A HREF="builtin.html#max()">max()</A> materialize a <A HREF="builtin.html#range()">range()</A> <A HREF="eval.html#list">list</A>.
Solution:   Compute the result without materializing the <A HREF="eval.html#list">list</A>. (#5541)
Files:      src/evalfunc.c

Patch 8.2.0183
Problem:    Tests fail when the float feature is disabled.
Solution:   Skip tests that don't work without float support.
Files:      src/testdir/shared.vim, src/testdir/test_blob.vim,
            src/testdir/test_channel.vim, src/testdir/test_cscope.vim,
            src/testdir/test_execute_func.vim, src/testdir/test_expr.vim,
            src/testdir/test_functions.vim, src/testdir/test_lambda.vim,
            src/testdir/test_listdict.vim, src/testdir/test_lua.vim,
            src/testdir/test_options.vim, src/testdir/test_partial.vim,
            src/testdir/test_ruby.vim, src/testdir/test_sort.vim,
            src/testdir/test_timers.vim, src/testdir/test_true_false.vim,
            src/testdir/test_user_func.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vimscript.vim, src/testdir/test_regexp_latin.vim,
            src/testdir/test_glob2regpat.vim

Patch 8.2.0184
Problem:    <A HREF="eval.html#Blob">Blob</A> test fails.
Solution:   Check for different error when float feature is missing.
Files:      src/testdir/test_blob.vim

Patch 8.2.0185
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>: cannot use &quot;if has()&quot; to skip lines.
Solution:   Evaluate constant <A HREF="eval.html#expression">expression</A> at runtime.
Files:      src/vim9compile.c, src/evalfunc.c, src/proto/evalfunc.pro,
            src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.0186
Problem:    A couple of tests may fail when features are missing.
Solution:   Check for features. (Dominique Pellé, closes #5561)
Files:      src/testdir/test_functions.vim, src/testdir/test_highlight.vim

Patch 8.2.0187
Problem:    Redundant code.
Solution:   Remove unused assignments. (Dominique Pellé, closes #5557)
Files:      src/vim9compile.c

Patch 8.2.0188
Problem:    Check commands don't work well with <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Improve constant <A HREF="eval.html#expression">expression</A> handling.
Files:      src/vim9compile.c, src/testdir/check.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.0189
Problem:    cd() with NULL argument crashes.
Solution:   Check for NULL. (Ken Takata, closes #5558)
Files:      src/testdir/test_cd.vim, src/ex_docmd.c

Patch 8.2.0190
Problem:    Kotlin files are not recognized.
Solution:   Detect Kotlin files. (Alkeryn, closes #5560)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0191
Problem:    Cannot put a <A HREF="terminal.html#terminal">terminal</A> in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Allow opening a <A HREF="terminal.html#terminal">terminal</A> in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.  It will always have
            keyboard focus until closed.
Files:      src/popupwin.c, src/proto/popupwin.pro, src/terminal.c,
            src/proto/terminal.pro, src/macros.h, src/mouse.c,
            src/highlight.c, src/drawline.c, src/optionstr.c, src/window.c,
            src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_1.dump,
            src/testdir/dumps/Test_terminal_popup_2.dump,
            src/testdir/dumps/Test_terminal_popup_3.dump

Patch 8.2.0192 (after 8.2.0191)
Problem:    Build failure without <A HREF="various.html#+terminal">+terminal</A> feature.
Solution:   Add #ifdefs.
Files:      src/popupwin.c

Patch 8.2.0193 (after 8.2.0191)
Problem:    Still build failure without <A HREF="various.html#+terminal">+terminal</A> feature.
Solution:   Add more #ifdefs.
Files:      src/macros.h

Patch 8.2.0194 (after 8.2.0193)
Problem:    Some commands can cause problems in <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A>.
Solution:   Disallow more commands.
Files:      src/macros.h, src/popupwin.c, src/proto/popupwin.pro,
            src/arglist.c, src/ex_docmd.c, src/window.c,
            src/testdir/test_terminal.vim

Patch 8.2.0195
Problem:    Some tests fail when run in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Make sure the <A HREF="windows.html#window">window</A> width is enough.  In the <A HREF="gui.html#GUI">GUI</A> run <A HREF="terminal.html#terminal">terminal</A> Vim
            in the <A HREF="terminal.html#terminal">terminal</A>, if possible.
Files:      src/testdir/test_highlight.vim, src/testdir/check.vim,
            src/testdir/test_terminal.vim

Patch 8.2.0196
Problem:    Blocking commands for a finished <A HREF="channel.html#job">job</A> in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Do not block commands if the <A HREF="channel.html#job">job</A> has finished.  Adjust test.
Files:      src/popupwin.c, src/testdir/test_popupwin.vim, src/window.c,
            src/terminal.c, src/proto/terminal.pro

Patch 8.2.0197
Problem:    Some <A HREF="intro.html#Ex">Ex</A> commands not sufficiently tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5565)
Files:      src/testdir/test_global.vim, src/testdir/test_help.vim,
            src/testdir/test_help_tagjump.vim, src/testdir/test_options.vim,
            src/testdir/test_substitute.vim, src/testdir/test_textformat.vim,
            src/testdir/test_writefile.vim

Patch 8.2.0198
Problem:    No tests for y/n prompt.
Solution:   Add tests. (Dominique Pellé, closes #5564)
Files:      src/testdir/test_messages.vim

Patch 8.2.0199
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> commands not sufficiently tested.
Solution:   Add more tests.  Fix <A HREF="map.html#script-local">script-local</A> function use.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim,
            src/userfunc.c

Patch 8.2.0200
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> commands not sufficiently tested.
Solution:   Add more tests.  Fix storing global variable.  Make <A HREF="usr_41.html#script">script</A>
            <A HREF="eval.html#variables">variables</A> work.
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h, src/evalvars.c,
            src/proto/evalvars.pro, src/testdir/test_vim9_script.vim,
            src/misc1.c, src/proto/misc1.pro

Patch 8.2.0201
Problem:    Cannot assign to an imported variable.
Solution:   Make <A HREF="motion.html#it">it</A> work.
Files:      src/evalvars.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.0202
Problem:    When <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> is set the <A HREF="windows.html#window">window</A> title may not be updated.
Solution:   Set &quot;do_redraw&quot; before entering the main loop. (Jason Franklin)
Files:      src/main.c

Patch 8.2.0203
Problem:    <A HREF="helphelp.html#:helptags">:helptags</A> and some other functionality not tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5567)
Files:      src/testdir/test_compiler.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_excmd.vim, src/testdir/test_filechanged.vim,
            src/testdir/test_help.vim, src/testdir/test_help_tagjump.vim,
            src/testdir/test_timers.vim, src/testdir/test_window_cmd.vim

Patch 8.2.0204
Problem:    Crash when using winnr('j') in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Do not search for neighbors in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>. (closes #5568)
Files:      src/window.c, src/testdir/test_popupwin.vim, src/evalwindow.c

Patch 8.2.0205
Problem:    Error code <A HREF="eval.html#E899">E899</A> used <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Use <A HREF="popup.html#E863">E863</A> for the <A HREF="terminal.html#terminal">terminal</A> in <A HREF="popup.html#popup">popup</A> error.
Files:      src/popupwin.c

Patch 8.2.0206
Problem:    Calling <A HREF="vim9.html#Vim9">Vim9</A> function using default argument fails.
Solution:   Give an appropriate error. (closes #5572)
Files:      src/testdir/test_vim9_script.vim, src/vim9compile.c,
            src/vim9execute.c

Patch 8.2.0207
Problem:    Crash when missing member type on <A HREF="eval.html#list">list</A> argument.
Solution:   Check for invalid type. (closes #5572)
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.0208
Problem:    Fnamemodify() does not apply &quot;<A HREF="change.html#:~">:~</A>&quot; when followed by &quot;<A HREF="cmdline.html#:.">:.</A>&quot;.
Solution:   Don't let a failing &quot;<A HREF="cmdline.html#:.">:.</A>&quot; cause the &quot;<A HREF="change.html#:~">:~</A>&quot; to be skipped. (Yasuhiro
            Matsumoto, closes #5577)
Files:      runtime/doc/cmdline.txt, src/filepath.c,
            src/testdir/test_fnamemodify.vim

Patch 8.2.0209
Problem:    Function a bit far away from where it's used.
Solution:   Move function close to where it's used. (Ken Takata, closes #5569)
Files:      src/fileio.c, src/filepath.c

Patch 8.2.0210
Problem:    Coverity complains about uninitialized field.
Solution:   Initialize the field.
Files:      src/vim9compile.c

Patch 8.2.0211
Problem:    Test for ANSI colors fails without an &quot;ls&quot; command.
Solution:   Use &quot;dir&quot;. (Ken Takata, closes #5582)
Files:      src/testdir/test_functions.vim

Patch 8.2.0212
Problem:    Missing search/substitute <A HREF="pattern.html#pattern">pattern</A> hardly tested.
Solution:   Add test_clear_search_pat() and tests. (Yegappan Lakshmanan,
            closes #5579)
Files:      runtime/doc/eval.txt, runtime/doc/testing.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/proto/regexp.pro,
            src/proto/search.pro, src/proto/testing.pro, src/regexp.c,
            src/search.c, src/testdir/test_quickfix.vim,
            src/testdir/test_search.vim, src/testdir/test_sort.vim,
            src/testdir/test_substitute.vim, src/testing.c

Patch 8.2.0213
Problem:    Configure does not recognize gcc 10.0 and later.
Solution:   Adjust the <A HREF="pattern.html#pattern">pattern</A> matching the version number. (Sergei
            Trofimovich, closes #5580)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.0214
Problem:    A <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with a <A HREF="terminal.html#terminal">terminal</A> can be made hidden.
Solution:   Disallow hiding a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A>.
Files:      src/testdir/test_terminal.vim, src/popupwin.c,
            src/testdir/dumps/Test_terminal_popup_4.dump

Patch 8.2.0215 (after 8.2.0208)
Problem:    Wrong file name shortening. (Ingo Karkat)
Solution:   Better check for path separator. (Yasuhiro Matsumoto,
            closes #5583, closes #5584)
Files:      src/filepath.c, src/testdir/test_fnamemodify.vim

Patch 8.2.0216
Problem:    Several <A HREF="vim9.html#Vim9">Vim9</A> instructions are not tested.
Solution:   Add more tests. Fix <A HREF="vim9.html#:disassemble">:disassemble</A> output. Make catch with <A HREF="pattern.html#pattern">pattern</A>
            work.
Files:      src/testdir/test_vim9_script.vim, src/vim9execute.c,
            src/vim9compile.c

Patch 8.2.0217 (after 8.2.0214)
Problem:    Terminal test fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Add a short wait.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0218
Problem:    Several <A HREF="vim9.html#Vim9">Vim9</A> instructions are not tested.
Solution:   Add more tests.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0219 (after 8.2.0217)
Problem:    Terminal test still fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Skip part of the test on <A HREF="os_mac.html#Mac">Mac</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0220
Problem:    Terminal test did pass on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Remove the skip again.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0221
Problem:    No test for <A HREF="vim9.html#Vim9">Vim9</A> += and ..=.
Solution:   Add tests.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0222
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: optional function arguments don't work yet.
Solution:   Implement optional function arguments.
Files:      src/userfunc.c, src/vim9compile.c, src/vim9execute.c,
            src/structs.h, src/testdir/test_vim9_script.vim

Patch 8.2.0223
Problem:    Some instructions not yet tested.
Solution:   Disassemble more instructions.  Move tests to a new file.  Compile
            call to s:function().
Files:      src/testdir/test_vim9_script.vim, src/testdir/Make_all.mak,
            src/testdir/test_vim9_disassemble.vim, src/vim9compile.c,
            src/userfunc.c, src/proto/userfunc.pro, src/vim.h

Patch 8.2.0224
Problem:    compiling <A HREF="eval.html#:elseif">:elseif</A> not tested yet.
Solution:   Add test for <A HREF="eval.html#:elseif">:elseif</A>.  Fix generating jumps.
Files:      src/testdir/test_vim9_script.vim, src/vim9compile.c,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0225
Problem:    compiling <A HREF="eval.html#lambda">lambda</A> not tested yet.
Solution:   Add test for <A HREF="eval.html#lambda">lambda</A> and funcref. Drop unused instruction arg.
Files:      src/testdir/test_vim9_disassemble.vim, src/vim9.h,
            src/vim9execute.c

Patch 8.2.0226
Problem:    Compiling for loop not tested.
Solution:   Add a test.  Make variable <A HREF="starting.html#initialization">initialization</A> work for more types.
Files:      src/testdir/test_vim9_disassemble.vim, src/vim9compile.c

Patch 8.2.0227
Problem:    Compiling a few instructions not tested.
Solution:   Add more test cases.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.0228
Problem:    Configure does not recognize gcc version on BSD.
Solution:   Do not use &quot;\+&quot; in the <A HREF="pattern.html#pattern">pattern</A> matching the version number. (Ozaki
            Kiichi, closes #5590)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.0229
Problem:    Compare instructions not tested.
Solution:   Add test cases.  Fix disassemble with line continuation.
Files:      src/testdir/test_vim9_disassemble.vim, src/vim9execute.c,
            src/vim9compile.c

Patch 8.2.0230
Problem:    Terminal <A HREF="popup.html#popup">popup</A> test is flaky.
Solution:   Increase wait time a bit.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0231
Problem:    Silent system command may clear the screen.
Solution:   Do not clear the screen in <A HREF="term.html#t_te">t_te</A>.
Files:      src/term.c

Patch 8.2.0232
Problem:    The <A HREF="quickfix.html#:compiler">:compiler</A> command causes a crash. (Daniel Steinberg)
Solution:   Do not use the <A HREF="usr_41.html#script">script</A> index if <A HREF="motion.html#it">it</A> isn't set.
Files:      src/ex_docmd.c, src/testdir/test_compiler.vim

Patch 8.2.0233
Problem:    Crash when using <A HREF="builtin.html#garbagecollect()">garbagecollect()</A> in between <A HREF="builtin.html#rand()">rand()</A>.
Solution:   Redesign the <A HREF="builtin.html#rand()">rand()</A> and <A HREF="builtin.html#srand()">srand()</A> implementation. (Yasuhiro
            Matsumoto, closes #5587, closes #5588)
Files:      src/evalfunc.c, src/testdir/test_random.vim,
            runtime/doc/testing.txt, runtime/doc/eval.txt

Patch 8.2.0234
Problem:    Message test fails on SunOS.
Solution:   Adjust expectation for printf &quot;&#37;p&quot;. (Ozaki Kiichi, closes #5595)
Files:      src/message_test.c

Patch 8.2.0235
Problem:    Draw error when an empty group is removed from <A HREF="options.html#'statusline'">'statusline'</A>.
Solution:   Do not use highlighting from a removed group.
Files:      src/buffer.c, src/testdir/test_statusline.vim,
            src/testdir/dumps/Test_statusline_1.dump

Patch 8.2.0236
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> uninstall doesn't delete vimtutor.bat.
Solution:   Change directory before deletion. (Ken Takata, closes #5603)
Files:      src/uninstall.c

Patch 8.2.0237
Problem:    Crash when setting <A HREF="options.html#'wincolor'">'wincolor'</A> on finished <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
            (Bakudankun)
Solution:   Check that the vterm is not NULL. (Yasuhiro Matsumoto, closes
            #5607, closes #5610)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.0238
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="channel.html#job_stop()">job_stop()</A> results in exit value zero.
Solution:   Call TerminateJobObject() with -1 instead of 0. (Yasuhiro
            Matsumoto, closes #5150, closes #5614)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 8.2.0239
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: 'env' <A HREF="channel.html#job">job</A> option does not override existing
            environment <A HREF="eval.html#variables">variables</A>.  (Tim Pope)
Solution:   Set the environment <A HREF="eval.html#variables">variables</A> later. (Yasuhiro Matsumoto,
            closes #5485, closes #5608)
Files:      src/os_win32.c, src/testdir/test_channel.vim

Patch 8.2.0240
Problem:    Using memory after <A HREF="motion.html#it">it</A> was freed. (Dominique Pellé)
Solution:   Do not mix conversion buffer with other buffer.
Files:      src/viminfo.c, src/vim.h

Patch 8.2.0241
Problem:    Crash when setting <A HREF="options.html#'buftype'">'buftype'</A> to &quot;<A HREF="quickfix.html#quickfix">quickfix</A>&quot;.
Solution:   Check that error <A HREF="eval.html#list">list</A> is not NULL. (closes #5613)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.0242
Problem:    Preview <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> test fails with long directory name. (Jakub
            Kądziołka)
Solution:   Use &quot;silent cd&quot;. (closes #5615)
Files:      src/testdir/test_popupwin.vim

Patch 8.2.0243
Problem:    Insufficient code coverage for ex_docmd.c <A HREF="eval.html#functions">functions</A>.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5618)
Files:      src/testdir/Make_all.mak, src/testdir/test_arglist.vim,
            src/testdir/test_buffer.vim, src/testdir/test_cd.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_excmd.vim, src/testdir/test_mapping.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_search.vim,
            src/testdir/test_sort.vim, src/testdir/test_source.vim,
            src/testdir/test_substitute.vim, src/testdir/test_undo.vim,
            src/testdir/test_vimscript.vim, src/testdir/test_window_cmd.vim,
            src/testdir/test_writefile.vim

Patch 8.2.0244
Problem:    Compiler warning in <A HREF="if_lua.html#Lua">Lua</A> interface.
Solution:   Add type cast. (Ken Takata, closes #5621)
Files:      src/if_lua.c

Patch 8.2.0245
Problem:    MSVC: error message if the auto directory already exists.
Solution:   Add &quot;if not exists&quot;. (Ken Takata, closes #5620)
Files:      src/Make_mvc.mak

Patch 8.2.0246
Problem:    MSVC: deprecation warnings with <A HREF="if_ruby.html#Ruby">Ruby</A>.
Solution:   Move _CRT_SECURE_NO_DEPRECATE to build file. (Ken Takata,
            closes #5622)
Files:      src/Make_mvc.mak, src/if_ruby.c, src/os_win32.h, src/vim.h,
            src/vimio.h

Patch 8.2.0247
Problem:    Misleading comment in NSIS installer <A HREF="usr_41.html#script">script</A>.
Solution:   Negate the meaning of the comment. (Ken Takata, closes #5627)
Files:      nsis/gvim.nsi

Patch 8.2.0248
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: dealing with deprecation is too complicated.
Solution:   Use io.h directly. Move _CRT_SECURE_NO_DEPRECATE to the build
            file. Suppress C4091 warning by setting &quot;_WIN32_WINNT&quot;. (Ken
            Takata, closes #5626)
Files:      src/Make_mvc.mak, src/dosinst.h, src/vim.h, src/vimio.h,
            src/winclip.c, Filelist

Patch 8.2.0249
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: various warnings.
Solution:   Set the <A HREF="mbyte.html#charset">charset</A> to <A HREF="mbyte.html#utf-8">utf-8</A>. Add _WIN32_WINNT and _USING_V110_SDK71_.
            (Ken Takata, closes #5625)
Files:      src/GvimExt/Makefile, src/Make_mvc.mak

Patch 8.2.0250
Problem:    test_clear_search_pat() is unused.
Solution:   Remove the function. (Yegappan Lakshmanan, closes #5624)
Files:      runtime/doc/eval.txt, runtime/doc/testing.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/proto/regexp.pro,
            src/proto/search.pro, src/proto/testing.pro, src/regexp.c,
            src/search.c, src/testdir/test_writefile.vim, src/testing.c

Patch 8.2.0251
Problem:    A couple of function return types can be more specific.
Solution:   Use a better return type. (Ken Takata, closes #5629)
Files:      src/evalfunc.c, src/globals.h

Patch 8.2.0252
Problem:    Windows compiler warns for using size_t.
Solution:   Change to int. (Mike Williams)
Files:      src/vim9compile.c

Patch 8.2.0253
Problem:    Crash when using <A HREF="vim9.html#:disassemble">:disassemble</A> without argument. (Dhiraj Mishra)
Solution:   Check for missing argument. (Dominique Pellé, closes #5635,
            closes #5637)
Files:      src/vim9execute.c, src/testdir/test_vim9_disassemble.vim,
            src/ex_cmds.h

Patch 8.2.0254
Problem:    Compiler warning for checking size_t to be negative.
Solution:   Only check for zero. (Zoltan Arpadffy)
Files:      src/vim9compile.c

Patch 8.2.0255
Problem:    <A HREF="os_vms.html#VMS">VMS</A>: missing files in build.
Solution:   Add the files. (Zoltan Arpadffy)
Files:      src/Make_vms.mms

Patch 8.2.0256
Problem:    Time and <A HREF="builtin.html#timer">timer</A> related code is spread out.
Solution:   Move time and <A HREF="builtin.html#timer">timer</A> related code to a new file. (Yegappan
            Lakshmanan, closes #5604)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/evalfunc.c, src/ex_cmds.c, src/ex_cmds2.c, src/main.c,
            src/memline.c, src/misc1.c, src/misc2.c, src/proto.h,
            src/proto/ex_cmds.pro, src/proto/ex_cmds2.pro, src/proto/main.pro,
            src/proto/memline.pro, src/proto/misc1.pro, src/proto/misc2.pro,
            src/proto/time.pro, src/time.c

Patch 8.2.0257
Problem:    Cannot recognize a <A HREF="terminal.html#terminal">terminal</A> in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Add the <A HREF="builtin.html#win_gettype()">win_gettype()</A> function.
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/evalwindow.c,
            src/proto/evalwindow.pro, src/testdir/test_cmdline.vim,
            src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_1.dump

Patch 8.2.0258
Problem:    ModifyOtherKeys cannot be temporarily disabled.
Solution:   Add <A HREF="builtin.html#echoraw()">echoraw()</A> with an example for <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A>.
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_functions.vim,
            src/testdir/dumps/Test_functions_echoraw.dump

Patch 8.2.0259
Problem:    Terminal in <A HREF="popup.html#popup">popup</A> test sometimes fails.
Solution:   Clear the command line.
Files:      src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_1.dump

Patch 8.2.0260
Problem:    Several lines of code are duplicated.
Solution:   Move duplicated code to a function. (Yegappan Lakshmanan,
            closes #5330)
Files:      src/option.c, src/os_unix.c, src/os_win32.c, src/proto/term.pro,
            src/quickfix.c, src/regexp.c, src/regexp_bt.c, src/regexp_nfa.c,
            src/term.c

Patch 8.2.0261
Problem:    Some code not covered by tests.
Solution:   Add test cases. (Yegappan Lakshmanan, closes #5645)
Files:      src/testdir/test_buffer.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_exists.vim, src/testdir/test_filechanged.vim,
            src/testdir/test_fileformat.vim, src/testdir/test_mapping.vim,
            src/testdir/test_marks.vim, src/testdir/test_normal.vim,
            src/testdir/test_plus_arg_edit.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_tabpage.vim, src/testdir/test_visual.vim,
            src/testdir/test_window_cmd.vim, src/testdir/test_writefile.vim

Patch 8.2.0262 (after 8.2.0261)
Problem:    Fileformat test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set fileformat of buffer.
Files:      src/testdir/test_fileformat.vim

Patch 8.2.0263
Problem:    A few new <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="message.html#messages">messages</A> are not localized.
Solution:   Add the gettext wrapper. (Dominique Pellé, closes #5647)
Files:      src/vim9compile.c, src/vim9execute.c

Patch 8.2.0264 (after 8.2.0262)
Problem:    Fileformat test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set fileformat of buffer in the right place.
Files:      src/testdir/test_fileformat.vim

Patch 8.2.0265
Problem:    &quot;<A HREF="eval.html#eval">eval</A>&quot; after &quot;if 0&quot; doesn't check for following command.
Solution:   Add &quot;<A HREF="eval.html#eval">eval</A>&quot; to <A HREF="eval.html#list">list</A> of commands that check for a following command.
            (closes #5640)
Files:      src/ex_docmd.c, src/testdir/test_expr.vim

Patch 8.2.0266
Problem:    Terminal in <A HREF="popup.html#popup">popup</A> test sometimes fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Add a short delay.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0267
Problem:    No check for a following command when calling a function fails.
Solution:   Also check for a following command when inside a try block.
            (closes #5642)
Files:      src/userfunc.c, src/testdir/test_user_func.vim

Patch 8.2.0268 (after 8.2.0267)
Problem:    Trycatch test fails.
Solution:   When calling function fails only check for following command, <A HREF="diff.html#do">do</A>
            not give another error.
Files:      src/userfunc.c

Patch 8.2.0269
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="motion.html#operator">operator</A> after <A HREF="eval.html#list">list</A> index does not work. (Yasuhiro
            Matsumoto)
Solution:   After indexing a <A HREF="eval.html#list">list</A> change the type to the <A HREF="eval.html#list">list</A> member type.
            (closes #5651)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0270
Problem:    Some code not covered by tests.
Solution:   Add test cases. (Yegappan Lakshmanan, closes #5649)
Files:      src/testdir/test_autocmd.vim, src/testdir/test_buffer.vim,
            src/testdir/test_edit.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_excmd.vim, src/testdir/test_expand.vim,
            src/testdir/test_filetype.vim, src/testdir/test_findfile.vim,
            src/testdir/test_join.vim, src/testdir/test_move.vim,
            src/testdir/test_normal.vim, src/testdir/test_registers.vim,
            src/testdir/test_source.vim, src/testdir/test_tabpage.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_vimscript.vim,
            src/testdir/test_visual.vim, src/testdir/test_window_cmd.vim,
            src/testdir/test_writefile.vim

Patch 8.2.0271
Problem:    The &quot;num64&quot; feature is available everywhere and building without
            <A HREF="motion.html#it">it</A> causes problems.
Solution:   Graduate the &quot;num64&quot; feature. (James McCoy, closes #5650)
Files:      src/evalfunc.c, src/feature.h, src/message.c, src/structs.h,
            src/testdir/test_expr.vim, src/testdir/test_largefile.vim,
            src/testdir/test_sort.vim, src/testdir/test_vimscript.vim,
            src/version.c

Patch 8.2.0272
Problem:    &quot;<A HREF="helphelp.html#:helptags">:helptags</A> ALL&quot; gives error for directories without write
            permission. (Matěj Cepl)
Solution:   Ignore <A HREF="message.html#errors">errors</A> for &quot;<A HREF="helphelp.html#:helptags">:helptags</A> ALL&quot;. (Ken Takata, closes #5026,
            closes #5652)
Files:      src/ex_cmds.c, src/testdir/test_help.vim

Patch 8.2.0273
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> uninstall may delete wrong batch file.
Solution:   Add specific marker in the generated batch file. (Ken Takata,
            closes #5654)
Files:      src/Make_mvc.mak, src/dosinst.c, src/dosinst.h, src/uninstall.c

Patch 8.2.0274
Problem:    Hang with combination of <A HREF="builtin.html#feedkeys()">feedkeys()</A>, <A HREF="intro.html#Ex">Ex</A> mode and <A HREF="repeat.html#:global">:global</A>.
            (Yegappan Lakshmanan)
Solution:   Add the pending_exmode_active flag.
Files:      src/ex_docmd.c, src/globals.h, src/getchar.c,
            src/testdir/test_ex_mode.vim

Patch 8.2.0275
Problem:    Some <A HREF="intro.html#Ex">Ex</A> code not covered by tests.
Solution:   Add test cases. (Yegappan Lakshmanan, closes #5659)
Files:      src/testdir/test_arglist.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_excmd.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_search.vim, src/testdir/test_swap.vim,
            src/testdir/test_window_cmd.vim

Patch 8.2.0276
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not allowing space before &quot;<A HREF="motion.html#)">)</A>&quot; in function call is too
            restrictive. (Ben Jackson)
Solution:   Skip space before the &quot;<A HREF="motion.html#)">)</A>&quot;.  Adjust other space checks.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0277
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all instructions covered by tests.
Solution:   Add more test cases.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.0278
Problem:    <A HREF="eval.html#Channel">Channel</A> test is flaky on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Reset variable before sending message.
Files:      src/testdir/test_channel.vim

Patch 8.2.0279
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for deleted <A HREF="vim9.html#:def">:def</A> function.
Solution:   Add a test.  Clear uf_cleared flag when redefining a function.
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.0280
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: throw in <A HREF="vim9.html#:def">:def</A> function not caught higher up.
Solution:   Set &quot;need_rethrow&quot;.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.0281
Problem:    Two placed <A HREF="sign.html#signs">signs</A> in the same line are not combined.  E.g. in the
            <A HREF="terminal.html#terminal">terminal</A> debugger a breakpoint and the PC cannot be both be
            displayed.
Solution:   Combine the sign column and line highlight attributes.
Files:      src/sign.c, src/testdir/test_signs.vim,
            src/testdir/dumps/Test_sign_cursor_3.dump,
            src/testdir/dumps/Test_sign_cursor_4.dump

Patch 8.2.0282
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: setting number option not tested.
Solution:   Add more tests.   Fix assigning to global variable.
Files:      src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim,
            src/vim9execute.c

Patch 8.2.0283
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: failing to load <A HREF="usr_41.html#script">script</A> var not tested.
Solution:   Add more tests.   Fix using <A HREF="change.html#s">s</A>: in old <A HREF="usr_41.html#script">script</A>.
Files:      src/testdir/test_vim9_expr.vim, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0284
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment test fails.
Solution:   Avoid duplicating &quot;s:&quot;.
Files:      src/vim9compile.c

Patch 8.2.0285
Problem:    Unused error message. Cannot create <A HREF="eval.html#s:var">s:var</A>.
Solution:   Remove the error message. Make assignment to <A HREF="eval.html#s:var">s:var</A> work.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0286
Problem:    Cannot use <A HREF="popup.html#popup_close()">popup_close()</A> for a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A>.
Solution:   Allow using <A HREF="popup.html#popup_close()">popup_close()</A>. (closes #5666)
Files:      src/popupwin.c, runtime/doc/popup.txt,
            src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_5.dump,
            src/testdir/dumps/Test_terminal_popup_6.dump

Patch 8.2.0287
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return in try block not tested; catch with <A HREF="pattern.html#pattern">pattern</A> not
            tested.
Solution:   Add tests.  Make <A HREF="motion.html#it">it</A> work.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.0288
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some float and <A HREF="eval.html#blob">blob</A> operators not tested.
Solution:   Add float and <A HREF="eval.html#blob">blob</A> tests.  Fix addition.
Files:      src/testdir/test_vim9_expr.vim, src/vim9compile.c

Patch 8.2.0289
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:echo">:echo</A> did not clear the rest of the line.
Solution:   Call msg_clr_eos(). (Ken Takata, closes #5668)
Files:      src/vim9execute.c

Patch 8.2.0290
Problem:    Running individual test differs from all tests.
Solution:   Pass on environment <A HREF="eval.html#variables">variables</A>. (Yee Cheng Chin, closes #5672)
Files:      src/testdir/Makefile, src/testdir/README.txt

Patch 8.2.0291
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assigning <A HREF="motion.html#[]">[]</A> to list&lt;string&gt; doesn't work.
Solution:   Use void for empty <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A>. (Ken Takata, closes #5669)
Files:      src/vim9compile.c, src/globals.h, src/testdir/test_vim9_script.vim

Patch 8.2.0292
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: CHECKNR and CHECKTYPE instructions not tested.
Solution:   Add tests.
Files:      src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim

Patch 8.2.0293
Problem:    Various <A HREF="intro.html#Ex">Ex</A> commands not sufficiently tested.
Solution:   Add more test cases. (Yegappan Lakshmanan, closes #5673)
Files:      src/testdir/test_arglist.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_ex_mode.vim, src/testdir/test_excmd.vim,
            src/testdir/test_expand.vim, src/testdir/test_filetype.vim,
            src/testdir/test_filter_cmd.vim, src/testdir/test_global.vim,
            src/testdir/test_normal.vim, src/testdir/test_plus_arg_edit.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_trycatch.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.0294
Problem:    Cannot use <A HREF="intro.html#Ex">Ex</A> command that is also a function name.
Solution:   Recognize an <A HREF="intro.html#Ex">Ex</A> command by a colon prefix.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim,
            runtime/doc/vim9.txt

Patch 8.2.0295
Problem:    Highlighting for <A HREF="change.html#:s">:s</A> wrong when using different separator.
Solution:   Use separate argument for search direction and separator. (Rob
            Pilling, closes #5665)
Files:      src/ex_docmd.c, src/ex_getln.c, src/gui.c, src/normal.c,
            src/proto/search.pro, src/quickfix.c, src/search.c, src/spell.c,
            src/tag.c, src/testdir/dumps/Test_incsearch_substitute_15.dump,
            src/testdir/test_search.vim

Patch 8.2.0296
Problem:    Mixing up &quot;long long&quot; and __int64 may cause problems. (John
            Marriott)
Solution:   Pass varnumber_T to vim_snprintf().  Add <A HREF="eval.html#v:numbersize">v:numbersize</A>.
Files:      src/message.c, src/eval.c, src/fileio.c, src/json.c, src/ops.c,
            src/vim.h, src/structs.h, src/evalvars.c, runtime/doc/eval.txt,
            runtime/doc/various.txt, src/testdir/test_eval_stuff.vim

Patch 8.2.0297
Problem:    Compiler warnings for the <A HREF="if_ruby.html#Ruby">Ruby</A> interface.
Solution:   Undefine a few macros, fix <A HREF="starting.html#initialization">initialization</A>. (Ozaki Kiichi,
            closes #5677)
Files:      src/if_ruby.c

Patch 8.2.0298
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>: cannot start command with a <A HREF="eval.html#string">string</A> constant.
Solution:   Recognize <A HREF="eval.html#expression">expression</A> starting with '<A HREF="motion.html#(">(</A>'.
Files:      src/ex_docmd.c, src/vim9compile.c,
            src/testdir/test_vim9_script.vim, runtime/doc/vim9.txt

Patch 8.2.0299
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: ISN_STORE with argument not tested.  Some cases in tv2bool()
            not tested.
Solution:   Add tests.  Add <A HREF="testing.html#test_unknown()">test_unknown()</A> and <A HREF="testing.html#test_void()">test_void()</A>.
Files:      src/testing.c, src/proto/testing.pro, src/evalfunc.c,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, runtime/doc/eval.txt,
            runtime/doc/testing.txt

Patch 8.2.0300
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expression">expression</A> test fails without <A HREF="channel.html#channel">channel</A> support.
Solution:   Add has('channel') check.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.0301
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for exception handling and the &quot;attention&quot;
            prompt.
Solution:   Add test cases. (Yegappan Lakshmanan, closes #5681)
Files:      src/testdir/test_swap.vim, src/testdir/test_trycatch.vim

Patch 8.2.0302
Problem:    Setting <A HREF="options.html#'term'">'term'</A> may cause error in <A HREF="autocmd.html#TermChanged">TermChanged</A> <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Use aucmd_prepbuf() to switch to the buffer where the <A HREF="autocmd.html#autocommand">autocommand</A>
            is to be executed. (closes #5682)
Files:      src/term.c, src/testdir/test_autocmd.vim

Patch 8.2.0303
Problem:    <A HREF="autocmd.html#TermChanged">TermChanged</A> test fails in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test when running the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.0304
Problem:    Terminal test if failing on some systems.
Solution:   Wait for the <A HREF="channel.html#job">job</A> to finish. (James McCoy)
Files:      src/testdir/test_terminal.vim

Patch 8.2.0305
Problem:    Relativenumber test fails on some systems. (James McCoy)
Solution:   Clear the command line.
Files:      src/testdir/test_number.vim,
            src/testdir/dumps/Test_relnr_colors_2.dump,
            src/testdir/dumps/Test_relnr_colors_3.dump

Patch 8.2.0306
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: :substitute(pat(repl does not work in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Remember starting with a colon. (closes #5676)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.0307
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 vim.eval not well tested.
Solution:   Add a test. (Dominique Pellé, closes #5680)
Files:      src/testdir/test_python3.vim

Patch 8.2.0308
Problem:    <A HREF="options.html#'showbreak'">'showbreak'</A> does not work for a very long line. (John Little)
Solution:   Check whether <A HREF="options.html#'briopt'">'briopt'</A> contains &quot;sbr&quot;. (Ken Takata, closes #5523,
            closes #5684)
Files:      src/drawline.c, src/testdir/test_breakindent.vim

Patch 8.2.0309
Problem:    Window-local values have confusing name.
Solution:   Rename w_p_bri* to w_briopt_*.
Files:      src/structs.h, src/indent.c, src/drawline.c

Patch 8.2.0310
Problem:    Autocmd test fails on a slow system.
Solution:   Adjust the expectations. (James McCoy, closes #5685)
Files:      src/testdir/test_autocmd.vim

Patch 8.2.0311
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: insufficient <A HREF="usr_41.html#script">script</A> tests.
Solution:   Add tests.  Free imports when re-using a <A HREF="usr_41.html#script">script</A>.
Files:      src/testdir/test_vim9_script.vim, src/scriptfile.c

Patch 8.2.0312
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: insufficient <A HREF="usr_41.html#script">script</A> tests.
Solution:   Add more tests.  Make &quot;import &#42; <A HREF="motion.html#as">as</A> Name&quot; work.
Files:      src/testdir/test_vim9_script.vim, src/vim9script.c,
            src/proto/vim9script.pro, src/vim9compile.c

Patch 8.2.0313
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: insufficient <A HREF="usr_41.html#script">script</A> tests.
Solution:   Add tests.  Make import of alphanumeric name work.
Files:      src/testdir/test_vim9_script.vim, src/vim9script.c

Patch 8.2.0314
Problem:    Short name not set for <A HREF="terminal.html#terminal">terminal</A> buffer.
Solution:   Set the short name. (closes #5687)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.0315
Problem:    Build failure on HP-UX system.
Solution:   Use LONG_LONG_MIN instead of LLONG_MIN.  Add type casts for switch
            statement. (John Marriott)
Files:      src/structs.h, src/json.c

Patch 8.2.0316
Problem:    ex_getln.c code has insufficient test coverage.
Solution:   Add more tests. Fix a problem. (Yegappan Lakshmanan, closes #5693)
Files:      src/cmdhist.c, src/testdir/test_cmdline.vim,
            src/testdir/test_functions.vim, src/testdir/test_history.vim,
            src/testdir/test_menu.vim

Patch 8.2.0317
Problem:    MSVC: _CRT_SECURE_NO_DEPRECATE not defined on DEBUG build.
Solution:   Move where CFLAGS is updated. (Ken Takata, closes #5692)
Files:      src/Make_mvc.mak

Patch 8.2.0318
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: types not sufficiently tested.
Solution:   Add tests with more types.
Files:      src/globals.h, src/vim9compile.c,
            src/testdir/test_vim9_script.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.0319
Problem:    File missing in <A HREF="intro.html#distribution">distribution</A>, comments outdated.
Solution:   Correct path of README file.  Update comments.
Files:      Filelist, src/evalvars.c, src/register.c, src/if_python3.c

Patch 8.2.0320
Problem:    No <A HREF="os_haiku.html#Haiku">Haiku</A> support.
Solution:   Add support for <A HREF="os_haiku.html#Haiku">Haiku</A>. (Emir Sarı, closes #5605)
Files:      Filelist, runtime/doc/Makefile, runtime/doc/eval.txt,
            runtime/doc/gui.txt, runtime/doc/help.txt,
            runtime/doc/options.txt, runtime/doc/os_haiku.txt,
            runtime/doc/starting.txt, runtime/doc/tags,
            runtime/gvimrc_example.vim, runtime/vimrc_example.vim,
            src/INSTALL, src/Makefile, src/auto/configure, src/configure.ac,
            src/evalfunc.c, src/feature.h, src/fileio.c, src/globals.h,
            src/gui.c, src/gui.h, src/gui_haiku.cc, src/gui_haiku.h,
            src/mbyte.c, src/menu.c, src/misc1.c, src/mouse.c, src/option.h,
            src/os_haiku.h, src/os_haiku.rdef, src/os_unix.c, src/os_unix.h,
            src/osdef1.h.in, src/proto.h, src/proto/gui_haiku.pro, src/pty.c,
            src/screen.c, src/structs.h, src/term.c, src/version.c, src/vim.h

Patch 8.2.0321
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;<A HREF="eval.html#:execute">:execute</A>&quot; does not work yet.
Solution:   Add ISN_EXECUTE. (closes #5699) Also make <A HREF="eval.html#:echo">:echo</A> work with more
            than one argument.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.0322
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error checks not tested.
Solution:   Add more test cases.  Avoid error for function loaded later.
Files:      src/vim9compile.c, src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.0323
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: calling a function that is defined later is slow.
Solution:   Once the function is found update the instruction so <A HREF="motion.html#it">it</A> can be
            called directly.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0324
Problem:    Text property not updated correctly when inserting/deleting.
Solution:   Use the right column when <A HREF="change.html#deleting">deleting</A>. Make zero-width text
            properties respect start_incl and end_incl. (Axel Forsman,
            closes #5696, closes #5679)
Files:      src/change.c, src/textprop.c, src/testdir/test_listener.vim,
            src/testdir/test_textprop.vim

Patch 8.2.0325
Problem:    Ex_getln.c code not covered by tests.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #5702)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_functions.vim, src/testdir/test_history.vim,
            src/testdir/test_options.vim

Patch 8.2.0326
Problem:    Compiler warning for using uninitialized variable. (Yegappan
            Lakshmanan)
Solution:   Do not jump to failed but return.
Files:      src/vim9execute.c

Patch 8.2.0327
Problem:    Crash when opening and closing two <A HREF="popup.html#popup">popup</A> <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#windows">windows</A>.
Solution:   Check that prevwin is valid. (closes #5707)
Files:      src/popupwin.c, src/testdir/test_terminal.vim

Patch 8.2.0328
Problem:    No redraw when leaving terminal-normal mode in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A>
            <A HREF="windows.html#window">window</A>.
Solution:   Redraw the <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>. (closes #5708)
Files:      src/macros.h, src/vim.h, src/terminal.c, src/drawscreen.c,
            src/move.c, src/popupwin.c, src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_7.dump,
            src/testdir/dumps/Test_terminal_popup_8.dump

Patch 8.2.0329
Problem:    Popup <A HREF="change.html#filter">filter</A> converts 0x80 bytes.
Solution:   Keep 0x80 bytes as-is. (Ozaki Kiichi, closes #5706)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.0330
Problem:    Build error with <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> but without <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add #ifdef.
Files:      src/popupwin.c

Patch 8.2.0331
Problem:    Internal error when using <A HREF="testing.html#test_void()">test_void()</A> and <A HREF="testing.html#test_unknown()">test_unknown()</A>.
            (Dominique Pellé)
Solution:   Give a normal error.
Files:      src/evalfunc.c, src/testdir/test_functions.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.0332
Problem:    Some code in ex_getln.c not covered by tests.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #5710)
Files:      src/testdir/test_arabic.vim, src/testdir/test_cmdline.vim

Patch 8.2.0333
Problem:    Terminal in <A HREF="popup.html#popup">popup</A> test is flaky.
Solution:   Make sure redraw is done before opening the <A HREF="popup.html#popup">popup</A>.
Files:      src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_1.dump

Patch 8.2.0334
Problem:    Abort called when using <A HREF="testing.html#test_void()">test_void()</A>. (Dominique Pellé)
Solution:   Only give an error, don't abort.
Files:      src/message.c, src/proto/message.pro, src/evalfunc.c,
            src/eval.c, src/json.c, src/testdir/test_functions.vim

Patch 8.2.0335
Problem:    No completion for <A HREF="vim9.html#:disassemble">:disassemble</A>.
Solution:   Make completion work.  Also complete <A HREF="map.html#script-local">script-local</A> <A HREF="eval.html#functions">functions</A> if the
            name starts with &quot;s:&quot;.
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim,
            runtime/doc/vim9.txt

Patch 8.2.0336
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: insufficient test coverage for compiling.
Solution:   Add more tests.
Files:      src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim,
            src/vim9.h, src/vim9compile.c, src/vim9execute.c

Patch 8.2.0337
Problem:    Build fails on a few systems.
Solution:   Use vim_snprintf() instead of snprintf().
Files:      src/cmdexpand.c

Patch 8.2.0338
Problem:    Build failure without the <A HREF="channel.html#channel">channel</A> feature.
Solution:   Add #ifdef
Files:      src/vim9compile.c

Patch 8.2.0339
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function return type may depend on arguments.
Solution:   Instead of a fixed return type use a function to figure out the
            return type.
Files:      src/evalfunc.c, src/proto/evalfunc.pro, src/vim9compile.c,
            src/evalbuffer.c, src/proto/evalbuffer.pro,
            src/testdir/test_vim9_script.vim

Patch 8.2.0340
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function and <A HREF="builtin.html#partial">partial</A> types not tested.
Solution:   Support more for <A HREF="builtin.html#partial">partial</A>, add tests.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0341
Problem:    Using &quot;<A HREF="eval.html#:for">:for</A>&quot; in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> gives an error.
Solution:   Pass the LET_NO_COMMAND flag. (closes #5715)
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.0342
Problem:    Some code in ex_getln.c not covered by tests.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5717)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_history.vim, src/testdir/test_iminsert.vim

Patch 8.2.0343
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using wrong instruction, limited test coverage.
Solution:   Use ISN_PUSHJOB.  Add a few more tests.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0344
Problem:    &quot;<A HREF="vim9.html#:def">:def</A>&quot; not skipped properly.
Solution:   Add CMD_def to <A HREF="eval.html#list">list</A> of commands the require evaluation even when
            not being executed.
Files:      src/ex_docmd.c

Patch 8.2.0345
Problem:    Compiler warning when building without the float feature.
Solution:   Add #ifdef. (John Marriott)
Files:      src/evalfunc.c

Patch 8.2.0346
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: finding common <A HREF="eval.html#list">list</A> type not tested.
Solution:   Add more tests.  Fix listing function.  Fix overwriting type.
Files:      src/vim9compile.c, src/userfunc.c,
            src/testdir/test_vim9_script.vim, src/testdir/runtest.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0347
Problem:    Various code not covered by tests.
Solution:   Add more test coverage. (Yegappan Lakshmanan, closes #5720)
Files:      src/testdir/gen_opt_test.vim, src/testdir/test86.in,
            src/testdir/test_cmdline.vim, src/testdir/test_digraph.vim,
            src/testdir/test_ex_mode.vim, src/testdir/test_history.vim

Patch 8.2.0348
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all code tested.
Solution:   Add a few more tests. fix using &quot;<A HREF="eval.html#b:">b:</A>&quot; in literal dictionary.
Files:      src/testdir/test_vim9_expr.vim, src/vim9compile.c,
            src/proto/vim9compile.pro, src/testdir/test_vim9_script.vim

Patch 8.2.0349
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: constant <A HREF="eval.html#expression">expression</A> not well tested.
Solution:   Add tests for &quot;if&quot; with constant <A HREF="eval.html#expression">expression</A>.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0350
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expression">expression</A> tests don't use recognized constants.
Solution:   Recognize &quot;<A HREF="vim9.html#true">true</A>&quot; and &quot;<A HREF="vim9.html#false">false</A>&quot; <A HREF="motion.html#as">as</A> constants.  Make skipping work for
            assignment and <A HREF="eval.html#expression">expression</A> evaluation.
Files:      src/vim9compile.c

Patch 8.2.0351
Problem:    Terminal in <A HREF="popup.html#popup">popup</A> test is still a bit flaky.
Solution:   Clear and redraw before opening the <A HREF="popup.html#popup">popup</A>.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0352
Problem:    FreeBSD: test for sourcing <A HREF="mbyte.html#utf-8">utf-8</A> is skipped.
Solution:   Run the matchadd_conceal test separately to avoid that setting
            <A HREF="options.html#'term'">'term'</A> to &quot;ansi&quot; causes problems for other tests. (Ozaki Kiichi,
            closes #5721)
Files:      src/testdir/Make_all.mak, src/testdir/test_alot_utf8.vim,
            src/testdir/test_source_utf8.vim

Patch 8.2.0353
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: while loop not tested.
Solution:   Add test with &quot;while&quot;, &quot;break&quot; and &quot;continue&quot;
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0354
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3.9 does not define _Py_DEC_REFTOTAL. (Zdenek Dohnal)
Solution:   Remove <A HREF="motion.html#it">it</A>, <A HREF="motion.html#it">it</A> was only for debugging.
Files:      src/if_python3.c

Patch 8.2.0355
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: str_val is confusing, it's a number
Solution:   Rename to stnr_val.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c

Patch 8.2.0356
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="builtin.html#feedkeys()">feedkeys()</A> with VIMDLL cannot handle CSI correctly.
Solution:   Modify mch_inchar() to encode CSI bytes. (Ozaki Kiichi, Ken
            Takata, closes #5726)
Files:      src/getchar.c, src/os_win32.c, src/testdir/test_popupwin.vim

Patch 8.2.0357
Problem:    Cannot delete a text property matching both id and type. (Axel
            Forsman)
Solution:   Add the &quot;both&quot; argument.
Files:      src/textprop.c, runtime/doc/textprop.txt,
            src/testdir/test_textprop.vim

Patch 8.2.0358
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for indent.c.
Solution:   Add indent tests. (Yegappan Lakshmanan, closes #5736)
Files:      src/testdir/Make_all.mak, src/testdir/test_ex_mode.vim,
            src/testdir/test_expand_func.vim, src/testdir/test_indent.vim,
            src/testdir/test_lispwords.vim, src/testdir/test_smartindent.vim,
            src/testdir/test_vartabs.vim

Patch 8.2.0359
Problem:    <A HREF="popup.html#popup_atcursor()">popup_atcursor()</A> may hang. (Yasuhiro Matsumoto)
Solution:   Take the decoration into account. (closes #5728)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.0360
Problem:    Yaml files are only recognized by the file extension.
Solution:   Check for a line starting with &quot;&#37;YAML&quot;. (Jason Franklin)
Files:      runtime/scripts.vim, src/testdir/test_filetype.vim

Patch 8.2.0361
Problem:    Internal error when using &quot;<A HREF="motion.html#0">0</A>&quot; for a callback.
Solution:   Give a normal error. (closes #5743)
Files:      src/evalvars.c, src/testdir/test_timers.vim

Patch 8.2.0362
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="channel.html#channel">channel</A> test fails if <A HREF="quickfix.html#grep">grep</A> is not available.
Solution:   Use another command. (Ken Takata, closes #5739)
Files:      src/testdir/test_channel.vim

Patch 8.2.0363
Problem:    Some <A HREF="intro.html#Normal">Normal</A> mode commands not tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5746)
Files:      src/testdir/test_cindent.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_edit.vim, src/testdir/test_indent.vim,
            src/testdir/test_normal.vim, src/testdir/test_prompt_buffer.vim,
            src/testdir/test_virtualedit.vim, src/testdir/test_visual.vim

Patch 8.2.0364
Problem:    Printf test failing on <A HREF="os_haiku.html#Haiku">Haiku</A>.
Solution:   Make a difference between int and short. (Dominique Pellé,
            closes #5749)
Files:      src/message.c

Patch 8.2.0365
Problem:    Tag kind can't be a <A HREF="mbyte.html#multibyte">multibyte</A> character. (Marcin Szamotulski)
Solution:   Recognize <A HREF="mbyte.html#multibyte">multibyte</A> character. (closes #5724)
Files:      src/tag.c, src/testdir/test_taglist.vim

Patch 8.2.0366
Problem:    Hardcopy command not tested enough.
Solution:   Add tests for <A HREF="print.html#printing">printing</A>. (Dominique Pellé, closes #5748)
Files:      src/testdir/test_hardcopy.vim

Patch 8.2.0367
Problem:    Can use <A HREF="windows.html#:pedit">:pedit</A> in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Disallow <A HREF="motion.html#it">it</A>.
Files:      src/ex_docmd.c, src/testdir/test_popupwin.vim

Patch 8.2.0368
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: import that redefines local variable does not fail.
Solution:   Check for already defined symbols.
Files:      src/vim9script.c, src/proto/vim9script.pro, src/vim9compile.c,
            src/proto/vim9compile.pro, src/testdir/test_vim9_script.vim

Patch 8.2.0369
Problem:    Various <A HREF="intro.html#Normal">Normal</A> mode commands not fully tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5751)
Files:      src/testdir/test_arglist.vim, src/testdir/test_changelist.vim,
            src/testdir/test_charsearch.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_edit.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_excmd.vim, src/testdir/test_gf.vim,
            src/testdir/test_iminsert.vim, src/testdir/test_increment.vim,
            src/testdir/test_marks.vim, src/testdir/test_normal.vim,
            src/testdir/test_prompt_buffer.vim, src/testdir/test_put.vim,
            src/testdir/test_registers.vim, src/testdir/test_tagjump.vim,
            src/testdir/test_visual.vim

Patch 8.2.0370
Problem:    The typebuf_was_filled flag is sometimes not reset, which may
            cause a hang.
Solution:   Make sure typebuf_was_filled is reset when the typeahead buffer is
            empty.
Files:      src/edit.c, src/getchar.c,

Patch 8.2.0371
Problem:    Crash with combination of <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> and autocmd.
Solution:   Disallow closing a <A HREF="popup.html#popup">popup</A> that is the current <A HREF="windows.html#window">window</A>.  Add a check
            that the current buffer is valid. (closes #5754)
Files:      src/macros.h, src/buffer.c, src/popupwin.c, src/terminal.c,
            src/testdir/test_terminal.vim

Patch 8.2.0372
Problem:    Prop_find() may not find text property at start of the line.
Solution:   Adjust the loop to find properties. (Axel Forsman, closes #5761,
            closes #5663)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.0373
Problem:    Type of <A HREF="terminal.html#term_sendkeys()">term_sendkeys()</A> is unknown.
Solution:   Just return zero. (closes #5762)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.0374
Problem:    Using wrong printf directive for jump location.
Solution:   Change &quot;&#37;lld&quot; to &quot;&#37;d&quot;. (James McCoy, closes #5773)
Files:      src/vim9execute.c

Patch 8.2.0375
Problem:    Coverity warning for not using return value.
Solution:   Move error message to separate function.
Files:      src/popupwin.c

Patch 8.2.0376
Problem:    Nasty callback test fails on some systems.
Solution:   Increase the sleep time.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0377
Problem:    No CI test for a big-endian system.
Solution:   Test with s390x. (James McCoy, closes #5772)
Files:      .travis.yml

Patch 8.2.0378
Problem:    <A HREF="textprop.html#prop_find()">prop_find()</A> does not find all props.
Solution:   Check being in the start line. (Axel Forsman, closes #5776)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.0379
Problem:    Gcc warns for ambiguous else.
Solution:   Add braces. (Dominique Pellé, closes #5778)
Files:      src/textprop.c

Patch 8.2.0380
Problem:    Tiny <A HREF="popup.html#popup">popup</A> when creating a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> without minwidth.
Solution:   Use a default minimum size of 5 lines of 20 characters.
Files:      src/popupwin.c, src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_m1.dump

Patch 8.2.0381
Problem:    Using freed memory with <A HREF="quickfix.html#:lvimgrep">:lvimgrep</A> and <A HREF="autocmd.html#autocommand">autocommand</A>. (extracted from
            POC by Dominique Pellé)
Solution:   Avoid <A HREF="change.html#deleting">deleting</A> a dummy buffer used in a <A HREF="windows.html#window">window</A>. (closes #5777)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.0382
Problem:    Some tests fail when run under <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Increase timeouts.
Files:      src/testdir/test_autocmd.vim, src/testdir/test_debugger.vim,
            src/testdir/test_channel.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_popup_1.dump,
            src/testdir/dumps/Test_terminal_popup_2.dump,
            src/testdir/dumps/Test_terminal_popup_3.dump,
            src/testdir/dumps/Test_terminal_popup_5.dump,
            src/testdir/dumps/Test_terminal_popup_6.dump,
            src/testdir/dumps/Test_terminal_popup_7.dump,
            src/testdir/dumps/Test_terminal_popup_8.dump,
            src/testdir/dumps/Test_terminal_popup_m1.dump

Patch 8.2.0383
Problem:    Wrong feature check causes test not to be run.
Solution:   Use CheckFunction instead of CheckFeature. (Ozaki Kiichi,
            closes #5781)
Files:      src/testdir/test_channel.vim

Patch 8.2.0384
Problem:    Travis CI has warnings.
Solution:   Avoid warnings, clean up the config. (Ozaki Kiichi, closes #5779)
Files:      .travis.yml

Patch 8.2.0385
Problem:    Menu functionality insufficiently tested.
Solution:   Add tests.  Add <A HREF="builtin.html#menu_info()">menu_info()</A>. (Yegappan Lakshmanan, closes #5760)
Files:      runtime/doc/eval.txt, runtime/doc/gui.txt, runtime/doc/usr_41.txt,
            src/evalfunc.c, src/menu.c, src/proto/menu.pro,
            src/testdir/test_menu.vim, src/testdir/test_popup.vim,
            src/testdir/test_termcodes.vim

Patch 8.2.0386 (after 8.2.0385)
Problem:    Part from unfinished patch got included.
Solution:   Undo that part.
Files:      src/evalfunc.c

Patch 8.2.0387
Problem:    Error for possible NULL argument to qsort().
Solution:   Don't call qsort() when there is nothing to sort. (Dominique
            Pellé, closes #5780)
Files:      src/spellsuggest.c

Patch 8.2.0388
Problem:    Printmbcharset option not tested.
Solution:   Add a test.  Enable PostScript for AppVeyor build. (Dominique
            Pellé, closes #5783)
Files:      appveyor.yml, src/testdir/test_hardcopy.vim

Patch 8.2.0389
Problem:    Delayed redraw when shifting text from <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Use msg_attr_keep() instead of msg(). (closes #5782)
Files:      src/ops.c

Patch 8.2.0390
Problem:    Terminal postponed scrollback test is flaky.
Solution:   Add delay in between sending keys.  Rename dump files.
Files:      src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_01.dump,
            src/testdir/dumps/Test_terminal_02.dump,
            src/testdir/dumps/Test_terminal_03.dump,
            src/testdir/dumps/Test_terminal_scrollback_1.dump,
            src/testdir/dumps/Test_terminal_scrollback_2.dump,
            src/testdir/dumps/Test_terminal_scrollback_3.dump

Patch 8.2.0391 (after 8.2.0377)
Problem:    CI test coverage dropped.
Solution:   Set $DISPLAY also for non-GUI builds. (James McCoy, closes #5788)
Files:      .travis.yml

Patch 8.2.0392
Problem:    Coverity warns for using array index out of range.
Solution:   Add extra &quot;if&quot; to avoid warning.
Files:      src/menu.c

Patch 8.2.0393
Problem:    Coverity warns for not using return value.
Solution:   Add (void).
Files:      src/popupmenu.c

Patch 8.2.0394
Problem:    Coverity complains about using NULL pointer.
Solution:   Use empty <A HREF="eval.html#string">string</A> when option value is NULL.
Files:      src/optionstr.c

Patch 8.2.0395
Problem:    Build fails with FEAT_EVAL but without FEAT_MENU.
Solution:   Add #ifdef. (John Marriott)
Files:      src/evalfunc.c

Patch 8.2.0396
Problem:    Cmdexpand.c insufficiently tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5789)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_taglist.vim,
            src/testdir/test_terminal.vim, src/testdir/test_usercommands.vim

Patch 8.2.0397
Problem:    Delayed screen update when using <A HREF="undo.html#undo">undo</A> from <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Update w_topline and cursor shape before sleeping. (closes #5790)
Files:      src/normal.c

Patch 8.2.0398
Problem:    Profile test fails when two <A HREF="eval.html#functions">functions</A> take same time.
Solution:   Add a short sleep in once function. (closes #5797)
Files:      src/testdir/test_profile.vim

Patch 8.2.0399
Problem:    Various memory leaks.
Solution:   Avoid the leaks. (Ozaki Kiichi, closes #5803)
Files:      src/ex_docmd.c, src/ex_getln.c, src/menu.c, src/message.c,
            src/scriptfile.c, src/userfunc.c

Patch 8.2.0400
Problem:    Not all tests using a <A HREF="terminal.html#terminal">terminal</A> are in the <A HREF="eval.html#list">list</A> of flaky tests.
Solution:   Introduce the test_is_flaky flag.
Files:      src/testdir/runtest.vim, src/testdir/term_util.vim,
            src/testdir/screendump.vim, src/testdir/test_autocmd.vim

Patch 8.2.0401
Problem:    Not enough test coverage for evalvars.c.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5804)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_const.vim,
            src/testdir/test_diffmode.vim, src/testdir/test_excmd.vim,
            src/testdir/test_functions.vim, src/testdir/test_let.vim,
            src/testdir/test_listdict.vim, src/testdir/test_spell.vim,
            src/testdir/test_unlet.vim, src/testdir/test_user_func.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.0402 (after 8.2.0401)
Problem:    Setting local instead of global flag.
Solution:   Prepend &quot;<A HREF="eval.html#g:">g:</A>&quot; to &quot;test_is_flaky&quot;.
Files:      src/testdir/term_util.vim, src/testdir/screendump.vim,
            src/testdir/test_autocmd.vim

Patch 8.2.0403
Problem:    When <A HREF="options.html#'buftype'">'buftype'</A> is &quot;nofile&quot; there is no overwrite check.
Solution:   Also check for existing file when <A HREF="options.html#'buftype'">'buftype'</A> is set.
            (closes #5807)
Files:      src/ex_cmds.c, src/testdir/test_options.vim

Patch 8.2.0404
Problem:    Writefile() error does not give a hint.
Solution:   Add remark about first argument.
Files:      src/filepath.c, src/testdir/test_writefile.vim

Patch 8.2.0405
Problem:    MSVC: build fails with some combination of features.
Solution:   Enable CHANNEL if TERMINAL is enabled. (Mike Williams)
Files:      src/Make_mvc.mak

Patch 8.2.0406
Problem:    <A HREF="autocmd.html#FileReadCmd">FileReadCmd</A> event not well tested.
Solution:   Add a test.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.0407
Problem:    No early check if <A HREF="editing.html#:find">:find</A> and <A HREF="windows.html#:sfind">:sfind</A> have an argument.
Solution:   Add EX_NEEDARG.
Files:      src/ex_cmds.h, src/testdir/test_findfile.vim,
            src/testdir/test_find_complete.vim

Patch 8.2.0408
Problem:    Delete() commented out for <A HREF="testing.html#testing">testing</A>.
Solution:   Undo commenting-out.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.0409
Problem:    Search test leaves file behind.
Solution:   Delete the file.  Also use Check commands.
Files:      src/testdir/test_search.vim

Patch 8.2.0410
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails too often on slow <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Increase waiting time to 10 seconds.
Files:      src/testdir/test_channel.vim

Patch 8.2.0411
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: breakcheck is using a value from the stone ages.
Solution:   Delete BREAKCHECK_SKIP from the <A HREF="os_mac.html#Mac">Mac</A> header file. (Ben Jackson)
Files:      src/os_mac.h

Patch 8.2.0412
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot use <A HREF="usr_01.html#vimtutor">vimtutor</A> from the start menu.
Solution:   Better check for writable directory. Use the right path for the
            executable. (Wu Yongwei, closes #5774, closes #5756)
Files:      vimtutor.bat

Patch 8.2.0413
Problem:    Buffer menu does not handle special <A HREF="windows.html#buffers">buffers</A> properly.
Solution:   Keep a dictionary with buffer names to reliably keep track of
            entries.
            Also trigger <A HREF="autocmd.html#BufFilePre">BufFilePre</A> and <A HREF="autocmd.html#BufFilePost">BufFilePost</A> for command-line and
            <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#buffers">buffers</A> when the name changes.
Files:      src/testdir/test_alot.vim, src/testdir/Make_all.mak,
            runtime/menu.vim, src/ex_getln.c, src/terminal.c,
            src/testdir/test_menu.vim

Patch 8.2.0414
Problem:    <A HREF="eval.html#Channel">Channel</A> connect_waittime() test is flaky.
Solution:   Set the test_is_flaky flag.  Use test_is_flaky for more tests.
Files:      src/testdir/test_channel.vim, src/testdir/test_terminal.vim,
            src/testdir/runtest.vim

Patch 8.2.0415
Problem:    Bsdl <A HREF="filetype.html#filetype">filetype</A> is not detected.
Solution:   Add an entry in the <A HREF="filetype.html#filetype">filetype</A> <A HREF="eval.html#list">list</A>. (Daniel Kho, closes #5810)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0416
Problem:    Test leaves file behind.
Solution:   Delete the file.
Files:      src/testdir/test_indent.vim

Patch 8.2.0417
Problem:    Travis CI config can be improved.
Solution:   Remove COVERAGE variable. Add load-snd-dummy <A HREF="usr_41.html#script">script</A>. add &quot;<A HREF="starting.html#-i">-i</A> NONE&quot;
            to avoid <A HREF="message.html#messages">messages</A> about <A HREF="starting.html#viminfo">viminfo</A>. (Ozaki Kiichi, closes #5813)
Files:      .travis.yml, ci/load-snd-dummy.sh

Patch 8.2.0418
Problem:    Code in eval.c not sufficiently covered by tests.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5815)
Files:      src/testdir/test_blob.vim, src/testdir/test_channel.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_eval_stuff.vim,
            src/testdir/test_expr.vim, src/testdir/test_functions.vim,
            src/testdir/test_job_fails.vim, src/testdir/test_lambda.vim,
            src/testdir/test_let.vim, src/testdir/test_listdict.vim,
            src/testdir/test_marks.vim, src/testdir/test_method.vim,
            src/testdir/test_normal.vim, src/testdir/test_unlet.vim,
            src/testdir/test_usercommands.vim, src/testdir/test_vimscript.vim,
            src/testdir/test_window_cmd.vim

Patch 8.2.0419
Problem:    Various memory leaks in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> code.
Solution:   Fix the leaks. (Ozaki Kiichi, closes #5814)
Files:      src/proto/vim9compile.pro, src/scriptfile.c, src/structs.h,
            src/testdir/test_vim9_script.vim, src/vim9.h, src/vim9compile.c,
            src/vim9execute.c, src/vim9script.c

Patch 8.2.0420
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot interrupt a loop with <A HREF="pattern.html#CTRL-C">CTRL-C</A>.
Solution:   Check for <A HREF="pattern.html#CTRL-C">CTRL-C</A> once in a while.  Doesn't fully work yet.
Files:      src/misc1.c, src/proto/misc1.pro,
            src/testdir/test_vim9_script.vim

Patch 8.2.0421
Problem:    Interrupting with <A HREF="pattern.html#CTRL-C">CTRL-C</A> does not always work.
Solution:   Recognize <A HREF="pattern.html#CTRL-C">CTRL-C</A> while <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> is set.
Files:      src/ui.c, src/testdir/test_vim9_script.vim, src/evalfunc.c

Patch 8.2.0422
Problem:    Crash when passing <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> to <A HREF="builtin.html#win_splitmove()">win_splitmove()</A>. (john Devin)
Solution:   Disallow moving a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>. (closes #5816)
Files:      src/testdir/test_popupwin.vim, src/evalwindow.c

Patch 8.2.0423
Problem:    In some environments a few tests are expected to fail.
Solution:   Add $TEST_MAY_FAIL to <A HREF="eval.html#list">list</A> tests that should not cause make to
            fail.
Files:      src/testdir/runtest.vim

Patch 8.2.0424
Problem:    Checking for wrong return value. (Tom)
Solution:   Invert the check and fix the test.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.0425
Problem:    Code for modeless selection not sufficiently tested.
Solution:   Add tests.  Move mouse code functionality to a common <A HREF="usr_41.html#script">script</A> file.
            (Yegappan Lakshmanan, closes #5821)
Files:      src/testdir/Make_all.mak, src/testdir/gen_opt_test.vim,
            src/testdir/mouse.vim, src/testdir/test_edit.vim,
            src/testdir/test_global.vim, src/testdir/test_modeless.vim,
            src/testdir/test_normal.vim, src/testdir/test_selectmode.vim,
            src/testdir/test_termcodes.vim, src/testdir/test_visual.vim,
            src/ui.c

Patch 8.2.0426
Problem:    Some <A HREF="message.html#errors">errors</A> were not tested for.
Solution:   Add tests. (Dominique Pellé, closes #5824)
Files:      src/testdir/test_buffer.vim, src/testdir/test_options.vim,
            src/testdir/test_tcl.vim, src/testdir/test_terminal.vim,
            src/testdir/test_window_cmd.vim

Patch 8.2.0427
Problem:    It is not possible to check for a typo in a feature name.
Solution:   Add an extra argument to <A HREF="builtin.html#has()">has()</A>.
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/check.vim,
            src/testdir/test_functions.vim

Patch 8.2.0428
Problem:    Buffer name may leak.
Solution:   Free the buffer name before overwriting <A HREF="motion.html#it">it</A>.
Files:      src/terminal.c

Patch 8.2.0429
Problem:    No warning when test checks for option that never exists.
Solution:   In tests check that the option can exist.
Files:      src/testdir/check.vim

Patch 8.2.0430
Problem:    Window creation failure not properly tested.
Solution:   Improve the test. (Yegappan Lakshmanan, closes #5826)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_window_cmd.vim

Patch 8.2.0431
Problem:    Some compilers don't support using \e for Esc. (Yegappan
            Lakshmanan)
Solution:   use \033 instead.
Files:      src/ui.c

Patch 8.2.0432
Problem:    A few tests fail in a huge <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Make the tests pass. (Dominique Pellé, closes #5829)
Files:      src/testdir/test_autocmd.vim, src/testdir/test_options.vim,
            src/testdir/test_termcodes.vim, src/testdir/test_terminal.vim,
            src/testdir/test_window_cmd.vim

Patch 8.2.0433
Problem:    INT signal not properly tested.
Solution:   Add a test.  Also clean up some unnecessary lines. (Dominique
            Pellé, closes #5828)
Files:      src/testdir/test_display.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_excmd.vim, src/testdir/test_messages.vim,
            src/testdir/test_signals.vim

Patch 8.2.0434
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with VTP: <A HREF="intro.html#Normal">Normal</A> color not working.
Solution:   After <A HREF="change.html#changing">changing</A> the <A HREF="intro.html#Normal">Normal</A> color update the VTP console color.
            (Nobuhiro Takasaki, closes #5836)
Files:      src/highlight.c

Patch 8.2.0435
Problem:    <A HREF="eval.html#Channel">Channel</A> contents might be freed <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Call either channel_free_channel() or channel_free(), not both.
            (Nobuhiro Takasaki, closes #5835)
Files:      src/channel.c

Patch 8.2.0436
Problem:    No warnings for incorrect printf arguments.
Solution:   Fix attribute in declaration.  Fix uncovered mistakes. (Dominique
            Pellé, closes #5834)
Files:      src/proto.h, src/eval.c, src/ops.c, src/spellfile.c,
            src/vim9compile.c, src/vim9execute.c, src/viminfo.c, src/gui.c

Patch 8.2.0437
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> installer contains old stuff.
Solution:   Rely on Windows NT. (Ken Takata, closes #5832)
Files:      src/dosinst.c

Patch 8.2.0438
Problem:    Terminal noblock test is very flaky on BSD.
Solution:   Change WaitFor() to WaitForAssert() to be able to see why <A HREF="motion.html#it">it</A>
            failed.  Add a short wait in between sending keys.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0439
Problem:    <A HREF="vim9.html#:disassemble">:disassemble</A> has minor flaws.
Solution:   Format the code.  Use (int) instead of (char) for &#37;c.
            (also by James McCoy, closes #5831)
Files:      src/vim9execute.c

Patch 8.2.0440
Problem:    Terminal noblock test is still very flaky on BSD.
Solution:   Increase the waiting time.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0441
Problem:    Terminal noblock test is still failing on BSD.
Solution:   Reduce the amount of text.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0442
Problem:    <A HREF="eval.html#Channel">Channel</A> contents might be used after being freed.
Solution:   Reset the <A HREF="channel.html#job">job</A> <A HREF="channel.html#channel">channel</A> before freeing the <A HREF="channel.html#channel">channel</A>.
Files:      src/channel.c

Patch 8.2.0443
Problem:    Clipboard code is spread out.
Solution:   Move <A HREF="gui.html#clipboard">clipboard</A> code to its own file. (Yegappan Lakshmanan,
            closes #5827)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/clipboard.c, src/ops.c, src/proto.h, src/proto/clipboard.pro,
            src/proto/ops.pro, src/proto/register.pro, src/proto/ui.pro,
            src/register.c, src/ui.c

Patch 8.2.0444
Problem:    Swap file test fails on some systems.
Solution:   Preserve the swap file. Send NL terminated keys.
Files:      src/testdir/test_swap.vim

Patch 8.2.0445
Problem:    Png and xpm files not in <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="pi_zip.html#zip">zip</A> file.
Solution:   Move files to shared between <A HREF="os_unix.html#Unix">Unix</A> and Windows target.
Files:      Filelist

Patch 8.2.0446
Problem:    Listener with <A HREF="undo.html#undo">undo</A> of <A HREF="change.html#deleting">deleting</A> all lines not tested.
Solution:   Add a test.
Files:      src/testdir/test_listener.vim

Patch 8.2.0447
Problem:    Terminal scroll tests fails on some systems.
Solution:   Remove the fixed 100msec wait for <A HREF="os_win32.html#Win32">Win32</A>.  Add a loop to wait until
            <A HREF="scroll.html#scrolling">scrolling</A> has finished. (James McCoy, closes #5842)
Files:      src/testdir/test_terminal.vim

Patch 8.2.0448
Problem:    Various <A HREF="eval.html#functions">functions</A> not properly tested.
Solution:   Add more tests, especially for failures. (Yegappan Lakshmanan,
            closes #5843)
Files:      runtime/doc/eval.txt, src/testdir/test_blob.vim,
            src/testdir/test_breakindent.vim, src/testdir/test_charsearch.vim,
            src/testdir/test_clientserver.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_exists.vim, src/testdir/test_expand_func.vim,
            src/testdir/test_expr.vim, src/testdir/test_file_perm.vim,
            src/testdir/test_functions.vim, src/testdir/test_gui.vim,
            src/testdir/test_listdict.vim, src/testdir/test_marks.vim,
            src/testdir/test_partial.vim, src/testdir/test_registers.vim,
            src/testdir/test_search.vim, src/testdir/test_spell.vim,
            src/testdir/test_substitute.vim, src/testdir/test_syn_attr.vim,
            src/testdir/test_syntax.vim, src/testdir/test_taglist.vim,
            src/testdir/test_utf8.vim, src/testdir/test_vartabs.vim,
            src/testdir/test_window_cmd.vim

Patch 8.2.0449
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash if return type is invalid. (Yegappan Lakshmanan)
Solution:   Always return some type, not NULL.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.0450
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for restricted mode and function calls.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5847)
Files:      src/testdir/test_method.vim, src/testdir/test_restricted.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.0451
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: double-width character displayed incorrectly.
Solution:   First move the cursor to the first column. (Nobuhiro Takasaki,
            closes #5848)
Files:      src/os_win32.c

Patch 8.2.0452
Problem:    channel_parse_messages() fails when called recursively.
Solution:   Return for a recursive call. (closes #5835)
Files:      src/channel.c

Patch 8.2.0453
Problem:    Trailing space in <A HREF="channel.html#job_start()">job_start()</A> command causes empty argument.
Solution:   Ignore trailing space. (closes #5851)
Files:      src/misc2.c, src/testdir/test_channel.vim

Patch 8.2.0454
Problem:    Some tests fail when the system is slow.
Solution:   Make the run number global, use in the test to increase the
            waiting time. (closes #5841)
Files:      src/testdir/runtest.vim, src/testdir/test_functions.vim

Patch 8.2.0455
Problem:    Cannot set the highlight group for a specific <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add the &quot;highlight&quot; option to <A HREF="terminal.html#term_start()">term_start()</A>. (closes #5818)
Files:      src/terminal.c, src/structs.h, src/channel.c,
            src/testdir/test_terminal.vim, runtime/doc/terminal.txt,
            src/testdir/dumps/Test_terminal_popup_Terminal.dump,
            src/testdir/dumps/Test_terminal_popup_MyTermCol.dump

Patch 8.2.0456
Problem:    Test_confirm_cmd is flaky.
Solution:   Add a <A HREF="terminal.html#term_wait()">term_wait()</A> call. (closes #5854)
Files:      src/testdir/test_excmd.vim

Patch 8.2.0457
Problem:    Test_quotestar() often fails when run under <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Wait longer for the <A HREF="gui.html#GUI">GUI</A> to start.
Files:      src/testdir/test_quotestar.vim

Patch 8.2.0458
Problem:    Missing feature check in test function.
Solution:   Add check commands.
Files:      src/testdir/test_excmd.vim

Patch 8.2.0459
Problem:    Cannot check if a function name is correct.
Solution:   Add &quot;?funcname&quot; to <A HREF="builtin.html#exists()">exists()</A>.
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_exists.vim,
            src/testdir/check.vim

Patch 8.2.0460 (after 8.2.0459)
Problem:    Build failure because of wrong feature name.
Solution:   Correct feature name.
Files:      src/evalfunc.c

Patch 8.2.0461
Problem:    Confirm test fails on amd64 system. (Alimar Riesebieter)
Solution:   Add an extra WaitForAssert(). (Dominique Pellé)
Files:      src/testdir/test_excmd.vim

Patch 8.2.0462
Problem:    Previewwindow test fails on some systems. (James McCoy)
Solution:   Wait a bit after sending the &quot;<A HREF="insert.html#o">o</A>&quot;. (closes #5849)
Files:      src/testdir/test_popup.vim,
            src/testdir/dumps/Test_popup_and_previewwindow_01.dump

Patch 8.2.0463
Problem:    Build error without float and <A HREF="channel.html#channel">channel</A> feature. (John Marriott)
Solution:   Define return types always.
Files:      src/globals.h, src/evalfunc.c

Patch 8.2.0464
Problem:    Typos and other small problems.
Solution:   Fix the typos.  Add missing files to the <A HREF="intro.html#distribution">distribution</A>.
Files:      Filelist, src/buffer.c, src/drawline.c, src/gui_gtk_x11.c,
            src/os_unixx.h, src/proto/popupwin.pro

Patch 8.2.0465
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: dead code and wrong return type.
Solution:   Remove dead code.  Fix return type.  Add more tests.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.0466 (after 8.2.0452)
Problem:    Not parsing <A HREF="message.html#messages">messages</A> recursively breaks the govim <A HREF="usr_05.html#plugin">plugin</A>.
Solution:   When called recursively <A HREF="diff.html#do">do</A> handle <A HREF="message.html#messages">messages</A> but <A HREF="diff.html#do">do</A> not close
            channels.
Files:      src/channel.c

Patch 8.2.0467
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some <A HREF="message.html#errors">errors</A> are not tested
Solution:   Add more tests.  Fix that <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> flag is not reset.
Files:      src/vim9compile.c, src/scriptfile.c, src/dict.c,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim

Patch 8.2.0468
Problem:    <A HREF="gui.html#GUI">GUI</A>: pixel dust with some fonts and characters.
Solution:   Always redraw the character before the cursor. (Nir Lichtman,
            closes #5549, closes #5856)
Files:      src/gui.c, src/proto/gui.pro, src/screen.c

Patch 8.2.0469
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing ] after <A HREF="eval.html#list">list</A>.
Solution:   Add error message. Add more tests.
Files:      src/globals.h, src/list.c, src/userfunc.c,
            src/testdir/test_vim9_expr.vim, src/testdir/test_lambda.vim

Patch 8.2.0470
Problem:    Test_confirm_cmd_cancel() can fail on a slow system.
Solution:   Use WaitForAssert(). (Ozaki Kiichi, closes #5861)
Files:      src/testdir/test_excmd.vim

Patch 8.2.0471
Problem:    Missing change to compile_list().
Solution:   Add error message.
Files:      src/vim9compile.c

Patch 8.2.0472
Problem:    Terminal highlight name is set <A HREF="if_cscop.html#twice">twice</A>, leaking memory.
Solution:   Delete one.
Files:      src/terminal.c

Patch 8.2.0473
Problem:    Variables declared in an outer scope.
Solution:   Declare <A HREF="eval.html#variables">variables</A> only in the scope where they are used.
Files:      src/evalvars.c

Patch 8.2.0474 (after 8.2.0403)
Problem:    Cannot use <A HREF="editing.html#:write">:write</A> when using a <A HREF="usr_05.html#plugin">plugin</A> with <A HREF="autocmd.html#BufWriteCmd">BufWriteCmd</A>.
Solution:   Reset BF_NOTEDITED after <A HREF="autocmd.html#BufWriteCmd">BufWriteCmd</A>. (closes #5807)
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 8.2.0475
Problem:    <A HREF="eval.html#Channel">Channel</A> <A HREF="channel.html#out_cb">out_cb</A> test still fails sometimes on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Use an even longer timeout.
Files:      src/testdir/test_channel.vim

Patch 8.2.0476
Problem:    Terminal nasty callback test fails sometimes.
Solution:   use <A HREF="terminal.html#term_wait()">term_wait()</A> instead of a sleep. (Yee Cheng Chin, closes #5865)
Files:      src/testdir/test_terminal.vim

Patch 8.2.0477
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error <A HREF="message.html#messages">messages</A> not tested.
Solution:   Add more tests.
Files:      src/testdir/test_vim9_expr.vim, src/vim9execute.c

Patch 8.2.0478
Problem:    New <A HREF="windows.html#buffers">buffers</A> are not added to the Buffers menu.
Solution:   Turn number into <A HREF="eval.html#string">string</A>. (Yee Cheng Chin, closes #5864)
Files:      runtime/menu.vim, src/testdir/test_menu.vim

Patch 8.2.0479
Problem:    Unloading shared libraries on exit has no purpose.
Solution:   Do not unload shared libraries on exit.
Files:      src/if_lua.c, src/if_perl.xs, src/if_python.c, src/if_python3.c,
            src/if_ruby.c, src/if_tcl.c

Patch 8.2.0480
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code is not tested.
Solution:   Add more tests.
Files:      src/testdir/test_vim9_expr.vim, src/vim9compile.c

Patch 8.2.0481
Problem:    Travis is still using trusty.
Solution:   Adjust config to use bionic. (Ozaki Kiichi, closes #5868)
Files:      .travis.yml, src/testdir/lsan-suppress.txt

Patch 8.2.0482
Problem:    <A HREF="eval.html#Channel">Channel</A> and <A HREF="eval.html#sandbox">sandbox</A> code not sufficiently tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5855)
Files:      src/option.h, src/testdir/test_channel.vim,
            src/testdir/test_clientserver.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_edit.vim, src/testdir/test_excmd.vim,
            src/testdir/test_normal.vim, src/testdir/test_prompt_buffer.vim,
            src/testdir/test_restricted.vim, src/testdir/test_smartindent.vim,
            src/testdir/test_substitute.vim, src/testdir/test_terminal.vim,
            src/testdir/test_textformat.vim, src/testdir/test_visual.vim

Patch 8.2.0483
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;let <A HREF="change.html#x">x</A> = <A HREF="change.html#x">x</A> + 1&quot; does not give an error.
Solution:   Hide the variable when compiling the <A HREF="eval.html#expression">expression</A>.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0484
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some error <A HREF="message.html#messages">messages</A> not tested.
Solution:   Add more tests.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.0485 (after 8.2.0483)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> test fails.
Solution:   Stricter condition for adding new local variable.
Files:      Stricter condition for adding new local variable.

Patch 8.2.0486
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code and error <A HREF="message.html#messages">messages</A> not tested.
Solution:   Add more tests.
Files:      src/vim9compile.c, src/evalvars.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.0487
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling not sufficiently tested.
Solution:   Add more tests.  Fix bug with PCALL.
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0488
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Compiling can break when using a <A HREF="eval.html#lambda">lambda</A> inside <A HREF="vim9.html#:def">:def</A>.
Solution:   Do not keep a pointer to the dfunc_T for longer time.
Files:      src/vim9compile.c, src/vim9.h

Patch 8.2.0489
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leaks.
Solution:   Free memory in the right place.  Add hints for using asan.
Files:      src/vim9compile.c, src/testdir/lsan-suppress.txt, src/Makefile

Patch 8.2.0490
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: VTP doesn't respect <A HREF="options.html#'restorescreen'">'restorescreen'</A>.
Solution:   Use <A HREF="intro.html#escape">escape</A> codes to switch to alternate screen. (Nobuhiro
            Takasaki, closes #5872)
Files:      src/os_win32.c

Patch 8.2.0491
Problem:    Cannot recognize a <A HREF="cmdline.html#&lt;script&gt;">&lt;script&gt;</A> <A HREF="map.html#mapping">mapping</A> using <A HREF="builtin.html#maparg()">maparg()</A>.
Solution:   Add the &quot;<A HREF="usr_41.html#script">script</A>&quot; key. (closes #5873)
Files:      src/map.c, runtime/doc/eval.txt, src/testdir/test_maparg.vim

Patch 8.2.0492
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some error <A HREF="message.html#messages">messages</A> not tested.
Solution:   Add more tests.  Remove dead code.  Fix uncovered bugs.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim

Patch 8.2.0493
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some error <A HREF="message.html#messages">messages</A> not tested.
Solution:   Add more tests.  Fix uncovered bugs.
Files:      src/vim9compile.c, src/vim9execute.c, src/testing.c, src/eval.c,
            src/proto/testing.pro, src/evalfunc.c, runtime/doc/eval.txt,
            runtime/doc/testing.txt, src/testdir/test_vim9_script.vim

Patch 8.2.0494
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: asan error.
Solution:   Only get the type when there is one.
Files:      src/vim9compile.c

Patch 8.2.0495
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not tested.
Solution:   Add more tests.  Support more const expressions.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.0496
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: disassemble test fails.
Solution:   Separate test cases with recognized constant expressions.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.0497
Problem:    Too <A HREF="starting.html#verbose">verbose</A> output from the asan build in Travis.
Solution:   Filter out suppression <A HREF="message.html#messages">messages</A>. (Ozaki Kiichi, closes #5874)
Files:      .travis.yml

Patch 8.2.0498
Problem:    Coverity complains about uninitialized field.
Solution:   Initialize the whole typval_T.
Files:      src/vim9compile.c

Patch 8.2.0499
Problem:    Calling a <A HREF="eval.html#lambda">lambda</A> is slower than evaluating a <A HREF="eval.html#string">string</A>.
Solution:   Make calling a <A HREF="eval.html#lambda">lambda</A> faster. (Ken Takata, closes #5727)
Files:      src/userfunc.c

Patch 8.2.0500
Problem:    Using the same loop in many places.
Solution:   Define more FOR_ALL macros. (Yegappan Lakshmanan, closes #5339)
Files:      src/arglist.c, src/autocmd.c, src/buffer.c, src/change.c,
            src/channel.c, src/cmdexpand.c, src/diff.c, src/eval.c,
            src/evalbuffer.c, src/evalfunc.c, src/evalvars.c,
            src/evalwindow.c, src/ex_cmds2.c, src/filepath.c, src/globals.h,
            src/gui.c, src/if_py_both.h, src/if_ruby.c, src/insexpand.c,
            src/list.c, src/misc2.c, src/netbeans.c, src/popupwin.c,
            src/quickfix.c, src/screen.c, src/sign.c, src/spell.c,
            src/spellfile.c, src/spellsuggest.c, src/tag.c, src/terminal.c,
            src/userfunc.c, src/window.c

Patch 8.2.0501
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test fails when <A HREF="channel.html#channel">channel</A> feature is missing.
Solution:   Add a <A HREF="builtin.html#has()">has()</A> condition.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0502
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code is not tested.
Solution:   Add more tests.  Fix uncovered problems.
Files:      src/vim9compile.c, src/regexp.c, src/proto/regexp.pro,
            src/cmdexpand.c, src/ex_cmds.c, src/ex_docmd.c, src/ex_eval.c,
            src/ex_getln.c, src/highlight.c, src/search.c, src/syntax.c,
            src/tag.c, src/userfunc.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0503
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code is not tested.
Solution:   Add tests.  Fix uncovered problems.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.0504
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking scope memory when compilation fails.
Solution:   Cleanup the scope <A HREF="eval.html#list">list</A>.
Files:      src/vim9compile.c

Patch 8.2.0505
Problem:    <A HREF="terminal.html#term_gettty()">term_gettty()</A> not sufficiently tested.
Solution:   Add more asserts. (Dominique Pellé, closes #5877)
Files:      src/testdir/test_terminal.vim

Patch 8.2.0506
Problem:    Coverity complains about ignoring return value.
Solution:   Add (void).
Files:      src/userfunc.c

Patch 8.2.0507 (after 8.2.0472)
Problem:    Getbufvar() may get the wrong dictionary. (David le Blanc)
Solution:   Check for empty name. (closes #5878)
Files:      src/evalvars.c, src/testdir/test_functions.vim

Patch 8.2.0508
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: func and <A HREF="builtin.html#partial">partial</A> types not done yet
Solution:   Fill in details about func declaration, drop a separate <A HREF="builtin.html#partial">partial</A>
            declaration.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/globals.h,
            src/structs.h, src/evalfunc.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0509
Problem:    various code is not properly tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5871)
Files:      src/main.c, src/testdir/check.vim, src/testdir/shared.vim,
            src/testdir/term_util.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_ex_mode.vim, src/testdir/test_expand.vim,
            src/testdir/test_functions.vim, src/testdir/test_options.vim,
            src/testdir/test_startup.vim, src/testdir/test_textformat.vim,
            src/testdir/test_trycatch.vim, src/testdir/test_viminfo.vim

Patch 8.2.0510
Problem:    Coverity complains about using uninitialized variable.
Solution:   Assign a value to &quot;scol&quot;.  Move code inside NULL check.
Files:      src/beval.c, src/popupwin.c

Patch 8.2.0511
Problem:    <A HREF="if_cscop.html#Cscope">Cscope</A> code not fully tested.
Solution:   Add more test cases. (Dominique Pellé, closes #5886)
Files:      src/testdir/test_cscope.vim

Patch 8.2.0512
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no optional arguments in func type.
Solution:   Check for question <A HREF="motion.html#mark">mark</A> after type.  Find function reference
            without <A HREF="builtin.html#function()">function()</A>.
Files:      src/vim9compile.c, src/vim9execute.c, src/structs.h,
            src/globals.h, src/vim.h, src/vim9.h, src/userfunc.c,
            src/testdir/Make_all.mak, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0513
Problem:    Reading past allocated memory when using varargs.
Solution:   Fix <A HREF="uganda.html#copying">copying</A> function argument types.
Files:      src/vim9compile.c

Patch 8.2.0514
Problem:    Several global <A HREF="eval.html#functions">functions</A> are used in only one file.
Solution:   Make the <A HREF="eval.html#functions">functions</A> static. (Yegappan Lakshmanan, closes #5884)
Files:      src/drawscreen.c, src/evalvars.c, src/getchar.c, src/list.c,
            src/proto/drawscreen.pro, src/proto/evalvars.pro,
            src/proto/getchar.pro, src/proto/list.pro, src/proto/version.pro,
            src/version.c

Patch 8.2.0515
Problem:    Some compilers cannot add to &quot;void *&quot;.
Solution:   Cast to &quot;char *&quot;.
Files:      src/vim9compile.c

Patch 8.2.0516
Problem:    Client-server code is spread out.
Solution:   Move <A HREF="remote.html#client-server">client-server</A> code to a new file. (Yegappan Lakshmanan,
            closes #5885)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/clientserver.c, src/evalfunc.c, src/main.c, src/proto.h,
            src/proto/clientserver.pro, src/proto/main.pro

Patch 8.2.0517
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot separate &quot;func&quot; and &quot;func(): void&quot;.
Solution:   Use VAR_ANY for &quot;any&quot; and VAR_UNKNOWN for &quot;no type&quot;.
Files:      src/structs.h, src/globals.h, src/eval.c, src/evalfunc.c,
            src/evalvars.c, src/testing.c, src/vim9compile.c,
            src/vim9execute.c, src/viminfo.c, src/if_py_both.h, src/json.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.0518
Problem:    A <A HREF="terminal.html#terminal">terminal</A> falls back to setting $TERM to &quot;xterm&quot;.
Solution:   Use &quot;<A HREF="syntax.html#xterm-color">xterm-color</A>&quot; if more than 16 colors are supported and
            &quot;xterm-256color&quot; if at least 256 colors are supported.
            (closes #5887)
Files:      src/os_unix.c

Patch 8.2.0519
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type not properly checked.
Solution:   Check type properly, also at runtime.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.0520
Problem:    Tests are not listed in sorted order.
Solution:   Move test_ex_mode. (Doug Richardson, closes #5889)
Files:      src/testdir/Make_all.mak

Patch 8.2.0521
Problem:    Crash when reading a <A HREF="eval.html#blob">blob</A> fails.
Solution:   Avoid keeping a pointer to a freed <A HREF="eval.html#blob">blob</A> object. (Dominique Pellé,
            closes #5890)  Adjust error <A HREF="message.html#messages">messages</A>.
Files:      src/filepath.c, src/testdir/test_blob.vim

Patch 8.2.0522
Problem:    Several <A HREF="message.html#errors">errors</A> are not tested for.
Solution:   Add tests. (Yegappan Lakshmanan, closes #5892)
Files:      src/testdir/test_autocmd.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_digraph.vim, src/testdir/test_expand.vim,
            src/testdir/test_expr.vim, src/testdir/test_functions.vim,
            src/testdir/test_gui.vim, src/testdir/test_highlight.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_lambda.vim,
            src/testdir/test_listdict.vim, src/testdir/test_normal.vim,
            src/testdir/test_options.vim, src/testdir/test_preview.vim,
            src/testdir/test_user_func.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_viminfo.vim,
            src/testdir/test_vimscript.vim, src/testdir/test_window_cmd.vim

Patch 8.2.0523
Problem:    Loops are repeated.
Solution:   Use FOR_ALL_ macros. (Yegappan Lakshmanan, closes #5882)
Files:      src/buffer.c, src/drawscreen.c, src/evalfunc.c, src/evalwindow.c,
            src/globals.h, src/gui_athena.c, src/gui_gtk.c, src/gui_motif.c,
            src/gui_w32.c, src/list.c, src/menu.c, src/popupmenu.c,
            src/popupwin.c, src/quickfix.c, src/syntax.c, src/time.c,
            src/userfunc.c, src/vim9compile.c

Patch 8.2.0524
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: searching for file matches is slow.
Solution:   Instead of making another round to find any short filename, check
            for the short name right away. Avoid using an ordinary file like a
            directory.  (Nir Lichtman, closes #5883)
Files:      src/filepath.c

Patch 8.2.0525 (after 8.2.0524)
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: typo in assignment and misplaced paren.
Solution:   Fix the <A HREF="syntax.html#syntax">syntax</A>.
Files:      src/filepath.c

Patch 8.2.0526
Problem:    Gcc 9 complains about empty statement.
Solution:   Add <A HREF="intro.html#{}">{}</A>. (Dominique Pellé, closes #5894)
Files:      src/evalfunc.c

Patch 8.2.0527
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function types insufficiently tested.
Solution:   Add more tests.  Fix white space check.  Add &quot;test_vim9&quot; target.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim, src/Makefile,
            src/testdir/Makefile, src/testdir/Make_all.mak

Patch 8.2.0528
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function arguments insufficiently tested.
Solution:   Check types.  Add more tests.  Fix function with varargs only.
Files:      src/vim9compile.c, src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.0529
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function argument with default not checked.
Solution:   Check type of argument with default value.
Files:      src/vim9compile.c, src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.0530
Problem:    Test crashes on s390. (James McCoy)
Solution:   Explicitly define an 8 big signed type. (closes #5897)
Files:      src/structs.h

Patch 8.2.0531
Problem:    Various <A HREF="message.html#errors">errors</A> not tested.
Solution:   Add tests. (Yegappan Lakshmanan, closes #5895)
Files:      src/testdir/test_search.vim, src/testdir/test_source.vim,
            src/testdir/test_syntax.vim, src/testdir/test_user_func.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.0532
Problem:    Cannot use <A HREF="builtin.html#simplify()">simplify()</A> <A HREF="motion.html#as">as</A> a <A HREF="eval.html#method">method</A>.
Solution:   Add FEARG_1. (closes #5896)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_functions.vim

Patch 8.2.0533
Problem:    Tests using <A HREF="terminal.html#term_wait()">term_wait()</A> can still be flaky.
Solution:   Increase the wait time when rerunning a test. (James McCoy,
            closes #5899)  Halve the initial times to make tests run faster
            when there is no rerun.
Files:      src/testdir/term_util.vim, src/testdir/test_arglist.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_balloon.vim,
            src/testdir/test_bufline.vim, src/testdir/test_channel.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_conceal.vim,
            src/testdir/test_cursorline.vim, src/testdir/test_debugger.vim,
            src/testdir/test_diffmode.vim, src/testdir/test_display.vim,
            src/testdir/test_functions.vim, src/testdir/test_highlight.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_mapping.vim,
            src/testdir/test_match.vim, src/testdir/test_matchadd_conceal.vim,
            src/testdir/test_messages.vim, src/testdir/test_number.vim,
            src/testdir/test_popup.vim, src/testdir/test_popupwin.vim,
            src/testdir/test_profile.vim, src/testdir/test_search.vim,
            src/testdir/test_search_stat.vim, src/testdir/test_startup.vim,
            src/testdir/test_startup_utf8.vim,
            src/testdir/test_statusline.vim, src/testdir/test_suspend.vim,
            src/testdir/test_swap.vim, src/testdir/test_tagjump.vim,
            src/testdir/test_terminal.vim, src/testdir/test_terminal_fail.vim,
            src/testdir/test_timers.vim, src/testdir/test_vimscript.vim

Patch 8.2.0534
Problem:    Client-server test fails under <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Use WaitForAssert().
Files:      src/testdir/test_clientserver.vim

Patch 8.2.0535
Problem:    Regexp patterns not fully tested.
Solution:   Add more <A HREF="pattern.html#regexp">regexp</A> tests and others. (Yegappan Lakshmanan,
            closes #5901)
Files:      src/testdir/test_marks.vim, src/testdir/test_options.vim,
            src/testdir/test_regexp_latin.vim, src/testdir/test_search.vim

Patch 8.2.0536
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some compilation code not tested.
Solution:   Add more test cases.
Files:      src/evalvars.c, src/proto/evalvars.pro, src/vim9compile.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.0537
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for <A HREF="eval.html#sandbox">sandbox</A> when setting <A HREF="eval.html#v:var">v:var</A>.
Solution:   Check for <A HREF="eval.html#sandbox">sandbox</A>.
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.0538
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: VAR_PARTIAL is not used during compilation.
Solution:   Remove VAR_PARTIAL.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c

Patch 8.2.0539
Problem:    Comparing two NULL <A HREF="eval.html#list">list</A> fails.
Solution:   Change the order of comparing two lists.
Files:      src/list.c, src/testdir/test_assert.vim

Patch 8.2.0540
Problem:    Regexp and other code not tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5904)
Files:      src/testdir/test_backspace_opt.vim, src/testdir/test_expr.vim,
            src/testdir/test_increment.vim, src/testdir/test_normal.vim,
            src/testdir/test_options.vim, src/testdir/test_regexp_latin.vim,
            src/testdir/test_search.vim, src/testdir/test_substitute.vim,
            src/testdir/test_terminal.vim, src/testdir/test_virtualedit.vim

Patch 8.2.0541
Problem:    Travis CI does not give compiler warnings.
Solution:   Add flags for warnings.  Fix uncovered problems. (Ozaki Kiichi,
            closes #5898)
Files:      .travis.yml, ci/config.mk.clang.sed, ci/config.mk.gcc.sed,
            ci/config.mk.sed, src/if_perl.xs, src/if_ruby.c,
            src/libvterm/t/harness.c

Patch 8.2.0542
Problem:    No test for <A HREF="pattern.html#E386">E386</A>.
Solution:   Add a test. (Dominique Pellé, closes #5911)
Files:      src/testdir/test_search.vim

Patch 8.2.0543
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function with varargs does not work properly.
Solution:   Improve function type spec and add tests.  Fix bugs.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/vim9execute.c,
            src/structs.h, src/testdir/test_vim9_func.vim

Patch 8.2.0544
Problem:    Memory leak in search test.
Solution:   Free msgbuf. (Dominique Pellé, closes #5912)
Files:      src/search.c

Patch 8.2.0545
Problem:    Unused arguments ignored in non-standard way.
Solution:   Add UNUSED instead of (void).
Files:      src/libvterm/t/harness.c

Patch 8.2.0546
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: varargs implementation is inefficient.
Solution:   Create <A HREF="eval.html#list">list</A> without moving the arguments.
Files:      src/vim9compile.c, src/vim9execute.c

Patch 8.2.0547
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: restoring screen not always done right.
Solution:   Use a more appropriate <A HREF="eval.html#method">method</A>. (Nobuhiro Takasaki, closes #5909)
Files:      src/os_win32.c

Patch 8.2.0548
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all possible func type <A HREF="message.html#errors">errors</A> tested.
Solution:   Add more tests.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.0549
Problem:    <A HREF="autocmd.html#User">User</A> systemd files not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> patterns. (Kevin Locke, closes #5914)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0550
Problem:    Some changes in the libvterm upstream code.
Solution:   Include some changes.
Files:      src/libvterm/t/harness.c

Patch 8.2.0551
Problem:    Not all code for <A HREF="options.html#options">options</A> is tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5913)
Files:      src/testdir/test_options.vim, src/testdir/test_python3.vim,
            src/testdir/test_undo.vim, src/testdir/test_vimscript.vim

Patch 8.2.0552
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some <A HREF="message.html#errors">errors</A> not covered by tests.
Solution:   Add more tests.  Check <A HREF="eval.html#Funcref">Funcref</A> argument types.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.0553 (after 8.2.0550)
Problem:    Error for unused argument.
Solution:   Add UNUSED.
Files:      src/libvterm/t/harness.c

Patch 8.2.0554
Problem:    The <A HREF="gui.html#GUI">GUI</A> doesn't set <A HREF="term.html#t_Co">t_Co</A>.
Solution:   In the <A HREF="gui.html#GUI">GUI</A> set <A HREF="term.html#t_Co">t_Co</A> to 256 &#42; 256 &#42; 256. (closes #5903)
Files:      src/term.c, src/proto/term.pro, src/gui.c,
            src/testdir/test_gui.vim

Patch 8.2.0555
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line continuation is not always needed.
Solution:   Recognize continuation lines automatically in <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A>.
Files:      runtime/doc/vim9.txt, src/vim9compile.c,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim

Patch 8.2.0556
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when finding common type.
Solution:   Store allocated memory in type growarray.
Files:      src/vim9compile.c

Patch 8.2.0557
Problem:    No IPv6 support for channels.
Solution:   Add IPv6 support. (Ozaki Kiichi, closes #5893)
Files:      .travis.yml, runtime/doc/channel.txt, runtime/doc/various.txt,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/auto/configure,
            src/channel.c, src/config.h.in, src/configure.ac, src/evalfunc.c,
            src/proto/channel.pro, src/testdir/check.vim,
            src/testdir/runtest.vim, src/testdir/test_cdo.vim,
            src/testdir/test_channel.py, src/testdir/test_channel.vim,
            src/testdir/test_channel_6.py, src/testdir/test_escaped_glob.vim,
            src/testdir/test_getcwd.vim, src/testdir/test_hide.vim

Patch 8.2.0558
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#dict">dict</A> code not covered by tests.
Solution:   Remove dead code, adjust test <A HREF="change.html#case">case</A>.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0559
Problem:    Clearing a struct is <A HREF="starting.html#verbose">verbose</A>.
Solution:   Define and use CLEAR_FIELD() and CLEAR_POINTER().
Files:      src/vim.h, src/blowfish.c, src/channel.c, src/charset.c,
            src/clipboard.c, src/diff.c, src/eval.c, src/evalfunc.c,
            src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/findfile.c,
            src/gui_gtk_f.c, src/gui_mac.c, src/gui_motif.c, src/gui_w32.c,
            src/gui_x11.c, src/hardcopy.c, src/hashtab.c, src/highlight.c,
            src/if_mzsch.c, src/insexpand.c, src/kword_test.c, src/list.c,
            src/main.c, src/map.c, src/memfile.c, src/message_test.c,
            src/misc1.c, src/netbeans.c, src/normal.c, src/ops.c,
            src/option.c, src/os_mswin.c, src/os_win32.c, src/popupmenu.c,
            src/quickfix.c, src/regexp.c, src/regexp_bt.c, src/regexp_nfa.c,
            src/search.c, src/sign.c, src/spell.c, src/spellfile.c,
            src/spellsuggest.c, src/syntax.c, src/tag.c, src/terminal.c,
            src/time.c, src/undo.c, src/userfunc.c, src/vim9compile.c,
            src/vim9execute.c, src/if_py_both.h

Patch 8.2.0560
Problem:    Compiler warning in tiny build.
Solution:   Move declaration inside #ifdef. (Dominique Pellé, closes #5915)
Files:      src/ex_docmd.c

Patch 8.2.0561
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot split function call in multiple lines.
Solution:   Find more arguments in following lines.
Files:      runtime/doc/vim9.txt, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0562
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot split an <A HREF="eval.html#expression">expression</A> into multiple lines.
Solution:   Continue in next line after an <A HREF="motion.html#operator">operator</A>.
Files:      runtime/doc/vim9.txt, src/macros.h, src/vim9compile.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.0563
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot split a function line.
Solution:   Continue in next line so long <A HREF="motion.html#as">as</A> the function isn't done.
Files:      runtime/doc/vim9.txt, src/userfunc.c, src/proto/userfunc.pro,
            src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.0564
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: calling a def function from non-vim9 may fail.
Solution:   Convert varargs to a <A HREF="eval.html#list">list</A>.
Files:      src/testdir/test_vim9_func.vim, src/vim9execute.c

Patch 8.2.0565
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: tests contain superfluous line continuation.
Solution:   Remove line continuation no longer needed.  Skip empty lines.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0566
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: variable can be used uninitialized.
Solution:   Jump to after where variable is used.
Files:      src/vim9execute.c

Patch 8.2.0567
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot put comments halfway expressions.
Solution:   Support # comments in many places.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/userfunc.c,
            src/ex_docmd.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.0568
Problem:    The man <A HREF="filetype.html#filetype">filetype</A> <A HREF="usr_05.html#plugin">plugin</A> overwrites the unnamed <A HREF="sponsor.html#register">register</A>.
Solution:   Use the black hole <A HREF="sponsor.html#register">register</A>. (Jason Franklin)
Files:      runtime/ftplugin/man.vim, src/testdir/test_man.vim

Patch 8.2.0569
Problem:    Build failure with tiny version.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.0570
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when omitting type from argument.
Solution:   Enforce specifying argument types.
Files:      src/userfunc.c, src/ex_eval.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0571
Problem:    Double free when passing invalid argument to <A HREF="channel.html#job_start()">job_start()</A>.
Solution:   Clear the argument when freed. (Masato Nishihata, closes #5926)
Files:      src/misc2.c, src/testdir/test_channel.vim

Patch 8.2.0572 (after 8.2.0571)
Problem:    Using two lines for free and reset.
Solution:   Use VIM_CLEAR() instead. (Yegappan Lakshmanan)
Files:      src/misc2.c

Patch 8.2.0573
Problem:    using <A HREF="various.html#:version">:version</A> <A HREF="if_cscop.html#twice">twice</A> leaks memory
Solution:   Only initialize <A HREF="eval.html#variables">variables</A> once. (Dominique Pellé, closes #5917)
Files:      src/testdir/Make_all.mak, src/testdir/test_alot.vim,
            src/testdir/test_version.vim, src/version.c, src/globals.h

Patch 8.2.0574
Problem:    Ipv6 feature not shown in <A HREF="various.html#:version">:version</A> output.
Solution:   Add ipv6 in <A HREF="various.html#:version">:version</A> output. (Ozaki Kiichi, closes #5924)
Files:      runtime/doc/eval.txt, src/version.c

Patch 8.2.0575
Problem:    :digraph! not tested.
Solution:   Add a test. (Dominique Pellé, closes #5925)
Files:      src/testdir/test_digraph.vim

Patch 8.2.0576
Problem:    Some <A HREF="message.html#errors">errors</A> are not covered by tests.
Solution:   Add a few more tests. (Dominique Pellé, closes #5920)
Files:      src/testdir/test_buffer.vim, src/testdir/test_digraph.vim,
            src/testdir/test_expr.vim, src/testdir/test_messages.vim

Patch 8.2.0577
Problem:    Not all modifiers supported for <A HREF="options.html#:options">:options</A>.
Solution:   Use all cmdmod.split flags. (closes #4401)
Files:      src/usercmd.c, src/proto/usercmd.pro, src/scriptfile.c,
            src/testdir/test_options.vim, src/testdir/test_usercommands.vim

Patch 8.2.0578
Problem:    Heredoc for interfaces does not support &quot;trim&quot;.
Solution:   Update the <A HREF="usr_41.html#script">script</A> heredoc support to be same <A HREF="motion.html#as">as</A> the <A HREF="eval.html#:let">:let</A> command.
            (Yegappan Lakshmanan, closes #5916)
Files:      runtime/doc/if_lua.txt, runtime/doc/if_mzsch.txt,
            runtime/doc/if_perl.txt, runtime/doc/if_pyth.txt,
            runtime/doc/if_ruby.txt, runtime/doc/if_tcl.txt, src/evalvars.c,
            src/ex_getln.c, src/proto/evalvars.pro, src/testdir/test86.in,
            src/testdir/test87.in, src/testdir/test_lua.vim,
            src/testdir/test_perl.vim, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim, src/testdir/test_pyx2.vim,
            src/testdir/test_pyx3.vim, src/testdir/test_ruby.vim,
            src/testdir/test_tcl.vim, src/userfunc.c, src/vim9compile.c

Patch 8.2.0579
Problem:    Coverity warns for unused value.
Solution:   Change order and use &quot;else if&quot;.
Files:      src/os_unix.c

Patch 8.2.0580
Problem:    Window size wrong if <A HREF="options.html#'ea'">'ea'</A> is off and <A HREF="options.html#'splitright'">'splitright'</A> is on and
            splitting then closing a <A HREF="windows.html#window">window</A>.
Solution:   Put abandoned <A HREF="windows.html#window">window</A> space in the right place. (Mark Waggoner)
Files:      src/testdir/test_winbuf_close.vim, src/window.c

Patch 8.2.0581 (after 8.2.0547)
Problem:    <A HREF="os_win32.html#Win32">Win32</A> console: the cursor position is always top-left.
Solution:   Revert the patch for restoring screen.
Files:      src/os_win32.c

Patch 8.2.0582
Problem:    Color ramp test does not show text colors.
Solution:   Add a row of 16 text colors and 16 <A HREF="syntax.html#bold">bold</A> text colors.
Files:      src/testdir/color_ramp.vim

Patch 8.2.0583
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: # comment not recognized in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Recognize and skip # comment.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.0584
Problem:    Viminfo file uses obsolete function <A HREF="builtin.html#file_readable()">file_readable()</A>.
Solution:   Use <A HREF="builtin.html#filereadable()">filereadable()</A>. (closes #5934)
Files:      src/session.c

Patch 8.2.0585
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: # comment not recognized after <A HREF="repeat.html#:vim9script">:vim9script</A>.
Solution:   Check <A HREF="usr_41.html#script">script</A> type. Make comment after &quot;<A HREF="eval.html#:echo">:echo</A>&quot; work.  And in
            several other places.
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/eval.c,
            src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.0586
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: # comment not sufficiently tested
Solution:   Check for preceding white space.
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.0587
Problem:    Compiler warning for unused variable.
Solution:   Add UNUSED.
Files:      src/ex_docmd.c

Patch 8.2.0588
Problem:    Putty does not use &quot;sgr&quot; <A HREF="options.html#'ttymouse'">'ttymouse'</A> by default.
Solution:   Make &quot;sgr&quot; the default for Putty. (Christian Brabandt,
            closes #5942)
Files:      src/term.c

Patch 8.2.0589
Problem:    .bsd file type not recognized.
Solution:   Recognize .bsd <A HREF="motion.html#as">as</A> BSDL. (Daniel Kho, closes #5945)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0590
Problem:    No <A HREF="options.html#'backspace'">'backspace'</A> value allows ignoring the insertion point.
Solution:   Add the &quot;nostop&quot; and 3 values. (Christian Brabandt, closes #5940)
Files:      runtime/doc/options.txt, src/edit.c, src/option.c, src/option.h,
            src/optionstr.c, src/testdir/gen_opt_test.vim,
            src/testdir/test_backspace_opt.vim

Patch 8.2.0591
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: should always support IPv6
Solution:   Add build flag. (Ozaki Kiichi, closes #5944)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.2.0592
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with VTP: cursor is not made invisible.
Solution:   Output the code to make the cursor visible or invisible. (Nobuhiro
            Takasaki, closes #5941)
Files:      src/os_win32.c

Patch 8.2.0593
Problem:    Finding a user command is not optimal.
Solution:   Start further down in the <A HREF="eval.html#list">list</A> of commands.
Files:      src/ex_cmds.h, src/ex_docmd.c

Patch 8.2.0594
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build with WINVER set to 0x0501.
Solution:   Only use inet_ntop() when available. (Ozaki Kiichi, closes #5946)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/auto/configure,
            src/channel.c, src/config.h.in, src/configure.ac

Patch 8.2.0595
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all commands using ends_excmd() tested.
Solution:   Find # comment after regular commands. Add more tests.  Report
            error for where <A HREF="motion.html#it">it</A> was caused.
Files:      src/ex_docmd.c, src/vim9compile.c, src/vim9execute.c, src/usercmd.c,
            src/evalfunc.c, src/userfunc.c, src/proto/userfunc.pro,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0596
Problem:    Crash in test49.
Solution:   Check the right pointer.
Files:      src/userfunc.c, src/testdir/test_eval.ok

Patch 8.2.0597
Problem:    Test_eval is old style.
Solution:   Change some tests to a new style test.
Files:      src/testdir/test_eval.in, src/testdir/test_eval.ok,
            src/testdir/test_eval_stuff.vim

Patch 8.2.0598
Problem:    Test_eval_stuff fails in normal <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Close the new <A HREF="windows.html#window">window</A>.
Files:      src/testdir/test_eval_stuff.vim

Patch 8.2.0599
Problem:    Netbeans interface insufficiently tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5921)
Files:      runtime/doc/netbeans.txt, src/netbeans.c, src/os_win32.c,
            src/testdir/runtest.vim, src/testdir/test_netbeans.py,
            src/testdir/test_netbeans.vim

Patch 8.2.0600
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot read or write <A HREF="eval.html#w:">w:</A>, <A HREF="eval.html#t:">t:</A> and <A HREF="eval.html#b:">b:</A> <A HREF="eval.html#variables">variables</A>.
Solution:   Implement load and store for <A HREF="eval.html#w:">w:</A>, <A HREF="eval.html#t:">t:</A> and <A HREF="eval.html#b:">b:</A> <A HREF="eval.html#variables">variables</A>.
            (closes #5950)
Files:      src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim,
            src/vim9.h, src/vim9compile.c, src/vim9execute.c

Patch 8.2.0601
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:unlet">:unlet</A> is not compiled.
Solution:   Implement <A HREF="eval.html#:unlet">:unlet</A> instruction and check for <A HREF="message.html#errors">errors</A>.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/vim9.h,
            src/vim9execute.c, src/evalvars.c, src/proto/evalvars.pro,
            src/eval.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0602
Problem:    <A HREF="eval.html#:unlet">:unlet</A> $VAR does not work properly.
Solution:   Make &quot;<A HREF="eval.html#:lockvar">:lockvar</A> $VAR&quot; fail.  Check the &quot;skip&quot; flag.
Files:      src/evalvars.c, src/globals.h, src/testdir/test_vimscript.vim

Patch 8.2.0603
Problem:    Configure does not detect moonjit.
Solution:   Add check for moonjit. (Shlomi Fish, closes #5947)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.0604
Problem:    <A HREF="insert.html#:startinsert">:startinsert</A> in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> used later.
Solution:   Ignore <A HREF="insert.html#:startinsert">:startinsert</A> in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (closes #5952)
Files:      src/ex_docmd.c, src/testdir/test_terminal.vim

Patch 8.2.0605
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot unlet an environment variable.
Solution:   Implement unlet for $VAR.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0606
Problem:    Several <A HREF="syntax.html#syntax">syntax</A> HL <A HREF="message.html#errors">errors</A> not checked.
Solution:   Add tests. (Yegappan Lakshmanan, closes #5954)
Files:      src/testdir/test_syntax.vim

Patch 8.2.0607
Problem:    Gcc warns for using uninitialized variable. (John Marriott)
Solution:   Set name_end also for environment <A HREF="eval.html#variables">variables</A>.
Files:      src/evalvars.c

Patch 8.2.0608
Problem:    Warning from clang when building message test.
Solution:   Use a void pointer.  (Dominique Pellé, closes #5958)
Files:      src/message_test.c

Patch 8.2.0609
Problem:    Configure does not detect moonjit correctly.
Solution:   Double the brackets. (Ozaki Kiichi)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.0610
Problem:    Some tests are still old style.
Solution:   Convert to new style tests. (Yegappan Lakshmanan, closes #5957)
Files:      src/testdir/test_blob.vim, src/testdir/test_cursor_func.vim,
            src/testdir/test_eval.in, src/testdir/test_eval.ok,
            src/testdir/test_eval_func.vim, src/testdir/test_eval_stuff.vim,
            src/testdir/test_expr.vim, src/testdir/test_filter_map.vim,
            src/testdir/test_functions.vim, src/testdir/test_listdict.vim,
            src/testdir/test_sort.vim, src/testdir/test_syntax.vim,
            src/testdir/test_utf8.vim, src/testdir/test_vimscript.vim

Patch 8.2.0611
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for space before #comment.
Solution:   Add space checks.
Files:      src/eval.c, src/evalvars.c, src/ex_docmd.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0612
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for space before #comment.
Solution:   Add space checks.
Files:      src/ex_eval.c, src/ex_cmds.c, src/regexp.c, src/proto/regexp.pro,
            src/gui.c, src/highlight.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_sort.vim

Patch 8.2.0613
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for space before #comment.
Solution:   Add space checks.
Files:      src/highlight.c, src/menu.c, src/syntax.c,
            src/testdir/test_vim9_script.vim,
            runtime/lang/menu_de_de.latin1.vim

Patch 8.2.0614
Problem:    Get ml_get error when <A HREF="change.html#deleting">deleting</A> a line in <A HREF="options.html#'completefunc'">'completefunc'</A>. (Yegappan
            Lakshmanan)
Solution:   Lock the text while evaluating <A HREF="options.html#'completefunc'">'completefunc'</A>.
Files:      src/insexpand.c, src/globals.h, src/edit.c, src/ex_getln.c,
            src/undo.c, src/testdir/test_edit.vim, src/testdir/test_excmd.vim,
            src/testdir/test_gf.vim, src/testdir/test_popup.vim,
            src/testdir/test_ex_mode.vim, runtime/doc/insert.txt

Patch 8.2.0615
Problem:    Regexp benchmark test is old style.
Solution:   Make <A HREF="motion.html#it">it</A> a new style test.  Fix using a NULL <A HREF="eval.html#list">list</A>.  Add more tests.
            (Yegappan Lakshmanan, closes #5963)
Files:      src/evalbuffer.c, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Makefile,
            src/testdir/bench_re_freeze.in, src/testdir/bench_re_freeze.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_bench_regexp.vim,
            src/testdir/test_blob.vim, src/testdir/test_bufline.vim,
            src/testdir/test_channel.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_functions.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_popupwin.vim, src/testdir/test_prompt_buffer.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_window_cmd.vim

Patch 8.2.0616
Problem:    Build error when disabling the <A HREF="diff.html#diff">diff</A> feature.
Solution:   Move parenthesis outside of #ifdef. (Tom Ryder)
Files:      src/drawline.c

Patch 8.2.0617
Problem:    New error check triggers in Swedish menu.
Solution:   <A HREF="insert.html#Insert">Insert</A> <A HREF="intro.html#backslash">backslash</A>. (Mats Tegner, closes #5966)
Files:      runtime/lang/menu_sv_se.latin1.vim

Patch 8.2.0618
Problem:    Echoing a <A HREF="vim9.html#null">null</A> <A HREF="eval.html#list">list</A> results in no output. (Yegappan Lakshmanan)
Solution:   Return &quot;<A HREF="motion.html#[]">[]</A>&quot; instead of NULL in echo_string_core().
Files:      src/eval.c, src/testdir/test_messages.vim

Patch 8.2.0619
Problem:    Null <A HREF="eval.html#dict">dict</A> is not handled like an empty <A HREF="eval.html#dict">dict</A>.
Solution:   Fix the code and add tests. (Yegappan Lakshmanan, closes #5968)
Files:      src/dict.c, src/eval.c, src/testdir/test_blob.vim,
            src/testdir/test_expr.vim, src/testdir/test_filter_map.vim,
            src/testdir/test_let.vim, src/testdir/test_listdict.vim,
            src/testdir/test_search.vim, src/testdir/test_unlet.vim,
            src/testdir/test_usercommands.vim, src/testdir/test_vimscript.vim

Patch 8.2.0620
Problem:    Error in menu translations.
Solution:   <A HREF="insert.html#Insert">Insert</A> a <A HREF="intro.html#backslash">backslash</A> before a space.
Files:      runtime/lang/menu_it_it.latin1.vim,
            runtime/lang/menu_chinese_gb.936.vim

Patch 8.2.0621
Problem:    After running tests asan files may remain.
Solution:   Clean up asan files with &quot;make testclean&quot;.
Files:      src/testdir/Makefile, src/Makefile

Patch 8.2.0622
Problem:    <A HREF="os_haiku.html#Haiku">Haiku</A>: <A HREF="gui.html#GUI">GUI</A> does not compile.
Solution:   Various fixes. (Emir Sarı, closes #5961)
Files:      Filelist, README.md, READMEdir/README_haiku.txt,
            runtime/doc/os_haiku.txt, src/Makefile, src/beval.h,
            src/gui_haiku.cc, src/proto/gui_haiku.pro

Patch 8.2.0623
Problem:    Typo in test comment. (Christ van Willegen)
Solution:   Avoid mixing up a data structure with a body part.
Files:      src/testdir/test_listdict.vim

Patch 8.2.0624
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for space before #comment.
Solution:   Add space checks.  Fix <A HREF="eval.html#:throw">:throw</A> with double quoted <A HREF="eval.html#string">string</A>.
Files:      src/usercmd.c, src/userfunc.c, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0625
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing error when calling unknown function.
Solution:   Give error while compiling.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.0626
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong <A HREF="syntax.html#syntax">syntax</A> of function in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Give error for missing space. Implement <A HREF="eval.html#:echomsg">:echomsg</A> and <A HREF="eval.html#:echoerr">:echoerr</A>.
            (closes #5670)
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h, src/userfunc.c,
            src/eval.c, src/globals.h, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.0627
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message does not work. (Yegappan Lakshmanan)
Solution:   Swap lines.
Files:      src/userfunc.c

Patch 8.2.0628
Problem:    Error in menu translations.
Solution:   <A HREF="insert.html#Insert">Insert</A> a <A HREF="intro.html#backslash">backslash</A> before a space in one more file. (Shun Bai,
            Emir Sarı)
Files:      runtime/lang/menu_zh_cn.utf-8.vim,
            runtime/lang/menu_ca_es.latin1.vim,
            runtime/lang/menu_cs_cz.iso_8859-2.vim,
            runtime/lang/menu_cs_cz.utf-8.vim,
            runtime/lang/menu_czech_czech_republic.1250.vim,
            runtime/lang/menu_czech_czech_republic.ascii.vim,
            runtime/lang/menu_da.utf-8.vim,
            runtime/lang/menu_fi_fi.latin1.vim,
            runtime/lang/menu_hu_hu.iso_8859-2.vim,
            runtime/lang/menu_hu_hu.utf-8.vim,
            runtime/lang/menu_is_is.latin1.vim,
            runtime/lang/menu_no_no.latin1.vim, runtime/lang/menu_pt_br.vim,
            runtime/lang/menu_pt_pt.vim,
            runtime/lang/menu_sk_sk.iso_8859-2.vim,
            runtime/lang/menu_sl_si.latin2.vim,
            runtime/lang/menu_slovak_slovak_republic.1250.vim,
            runtime/lang/menu_tr_tr.cp1254.vim,
            runtime/lang/menu_tr_tr.iso_8859-9.vim,
            runtime/lang/menu_tr_tr.utf-8.vim, runtime/lang/menu_vi_vn.vim

Patch 8.2.0629
Problem:    Setting a <A HREF="options.html#boolean">boolean</A> option to <A HREF="eval.html#v:false">v:false</A> does not work.
Solution:   Do not use the <A HREF="eval.html#string">string</A> representation of the value. (Christian
            Brabandt, closes #5974)
Files:      src/evalvars.c, src/testdir/test_options.vim

Patch 8.2.0630
Problem:    &quot;make tags&quot; does not cover <A HREF="os_haiku.html#Haiku">Haiku</A> <A HREF="gui.html#GUI">GUI</A> file.
Solution:   Add *.cc files.
Files:      src/Make_all.mak

Patch 8.2.0631
Problem:    <A HREF="os_haiku.html#Haiku">Haiku</A> file formatted with wrong tabstop.
Solution:   Use normal tabstop. Fix white space.
Files:      src/gui_haiku.cc

Patch 8.2.0632
Problem:    Crash when using <A HREF="os_haiku.html#Haiku">Haiku</A>.
Solution:   Lock the screen. (closes #5975, closes #5973)
Files:      src/screen.c

Patch 8.2.0633
Problem:    Crash when using <A HREF="vim9.html#null">null</A> <A HREF="builtin.html#partial">partial</A> in <A HREF="builtin.html#filter()">filter()</A>.
Solution:   Fix crash.  Add more tests. (Yegappan Lakshmanan, closes #5976)
Files:      src/eval.c, src/testdir/test_blob.vim,
            src/testdir/test_channel.vim, src/testdir/test_eval_stuff.vim,
            src/testdir/test_execute_func.vim, src/testdir/test_expr.vim,
            src/testdir/test_filter_map.vim, src/testdir/test_fold.vim,
            src/testdir/test_functions.vim, src/testdir/test_let.vim,
            src/testdir/test_listdict.vim, src/testdir/test_partial.vim,
            src/testdir/test_usercommands.vim

Patch 8.2.0634
Problem:    Crash with <A HREF="vim9.html#null">null</A> <A HREF="builtin.html#partial">partial</A> and <A HREF="eval.html#blob">blob</A>.
Solution:   Check for NULL pointer.  Add more tests. (Yegappan Lakshmanan,
            closes #5984)
Files:      src/eval.c, src/list.c, src/testdir/test_blob.vim,
            src/testdir/test_bufwintabinfo.vim, src/testdir/test_cd.vim,
            src/testdir/test_channel.vim, src/testdir/test_cursor_func.vim,
            src/testdir/test_eval_stuff.vim, src/testdir/test_expr.vim,
            src/testdir/test_filter_map.vim, src/testdir/test_fnamemodify.vim,
            src/testdir/test_functions.vim, src/testdir/test_getvar.vim,
            src/testdir/test_listdict.vim, src/testdir/test_messages.vim,
            src/testdir/test_partial.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_tabpage.vim, src/testdir/test_vimscript.vim,
            src/testdir/test_window_cmd.vim, src/testdir/test_window_id.vim,
            src/testdir/test_writefile.vim

Patch 8.2.0635
Problem:    When using 256 colors DarkYellow does not show expected color.
Solution:   Use color 3 instead of 130. (Romain Lafourcade, closes #5985)
Files:      src/highlight.c

Patch 8.2.0636
Problem:    <A HREF="message.html#:messages">:messages</A> does not show the maintainer when $LANG is unset.
Solution:   Call get_mess_lang() if available. (closes #5978)
Files:      src/message.c

Patch 8.2.0637
Problem:    Incsearch highlighting does not work for &quot;:sort!&quot;.
Solution:   Skip over the exclamation point. (closes #5983)
Files:      src/ex_getln.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_incsearch_sort_02.dump

Patch 8.2.0638
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="message.html#messages">messages</A> test fails.
Solution:   Clear environment <A HREF="eval.html#variables">variables</A>.
Files:      src/testdir/test_messages.vim

Patch 8.2.0639
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="message.html#messages">messages</A> test still fails.
Solution:   Filter out the maintainer message.
Files:      src/testdir/test_messages.vim

Patch 8.2.0640
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: expanding `=expr` does not work.
Solution:   Find <A HREF="editing.html#wildcards">wildcards</A> in not compiled commands.  Reorganize test files.
Files:      Filelist, src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/vim9.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim,
            src/testdir/Make_all.mak

Patch 8.2.0641
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: `=expr` not expanded in <A HREF="print.html#:hardcopy">:hardcopy</A> and &quot;<A HREF="syntax.html#syntax">syntax</A> include&quot;.
Solution:   Add the EX_EXPAND flag.  Expend &quot;<A HREF="syntax.html#syntax">syntax</A> include&quot;.
Files:      src/ex_cmds.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.0642
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using invalid index.
Solution:   Check index for being valid.  Fix memory leak.
Files:      src/vim9compile.c, src/clientserver.c

Patch 8.2.0643 (after 8.2.0635)
Problem:    Terminal uses brown instead of dark yellow. (Romain Lafourcade)
Solution:   Use color index 3 instead of 130. (closes #5993)
Files:      src/terminal.c

Patch 8.2.0644
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for invalid function arguments.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5988)
Files:      runtime/doc/eval.txt, src/testdir/test_bufline.vim,
            src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_expr.vim, src/testdir/test_functions.vim,
            src/testdir/test_listener.vim, src/testdir/test_match.vim,
            src/testdir/test_menu.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_registers.vim, src/testdir/test_reltime.vim,
            src/testdir/test_terminal.vim, src/testdir/test_textprop.vim,
            src/testdir/test_window_cmd.vim, src/testdir/test_window_id.vim,
            src/testdir/test_writefile.vim

Patch 8.2.0645
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="terminal.html#terminal">terminal</A>: <A HREF="pattern.html#CTRL-C">CTRL-C</A> does not get to child <A HREF="channel.html#job">job</A>.
Solution:   Remove CREATE_NEW_PROCESS_GROUP from CreateProcessW(). (Nobuhiro
            Takasaki, closes #5987)
Files:      src/terminal.c

Patch 8.2.0646
Problem:    <A HREF="term.html#t_Co">t_Co</A> uses the value of $COLORS in the <A HREF="gui.html#GUI">GUI</A>. (Masato Nishihata)
Solution:   Ignore $COLORS for the <A HREF="gui.html#GUI">GUI</A>. (closes #5992)
Files:      src/os_unix.c, src/term.c

Patch 8.2.0647
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: repeat <A HREF="intro.html#count">count</A> for events was not used.
Solution:   Check the repeat <A HREF="intro.html#count">count</A>. (Nobuhiro Takasaki, closes #5989)
Files:      src/os_win32.c

Patch 8.2.0648
Problem:    Semicolon search does not work in first line.
Solution:   Allow the cursor to be in line zero. (Christian Brabandt,
            closes #5996)
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.2.0649
Problem:    Undo problem when an <A HREF="autocmd.html#InsertLeave">InsertLeave</A> <A HREF="autocmd.html#autocommand">autocommand</A> resets <A HREF="undo.html#undo">undo</A>. (Kutsan
            Kaplan)
Solution:   Do not create a new <A HREF="undo.html#undo">undo</A> block when leaving <A HREF="insert.html#Insert">Insert</A> mode.
Files:      src/edit.c, src/testdir/test_edit.vim

Patch 8.2.0650
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> function can be deleted.
Solution:   Disallow <A HREF="change.html#deleting">deleting</A> <A HREF="usr_41.html#script">script</A> function.  Delete <A HREF="eval.html#functions">functions</A> when sourcing
            a <A HREF="usr_41.html#script">script</A> again.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/evalfunc.c,
            src/vim9compile.c, src/vim9execute.c, src/vim9script.c,
            src/scriptfile.c, src/testing.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.0651
Problem:    Old style benchmark test still in <A HREF="eval.html#list">list</A> of distributed files.
Solution:   Remove the files from the <A HREF="eval.html#list">list</A>.
Files:      Filelist

Patch 8.2.0652 (after 8.2.0650)
Problem:    Compiler warning for char conversion.
Solution:   Use unsigned char buffer.
Files:      src/userfunc.c

Patch 8.2.0653 (after 8.2.0650)
Problem:    using uninitialized pointer.
Solution:   Move assignment up. (John Marriott)
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.0654
Problem:    Building with <A HREF="if_pyth.html#Python">Python</A> fails.
Solution:   Add missing argument.
Files:      src/if_py_both.h

Patch 8.2.0655
Problem:    Search code not sufficiently tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #5999)
Files:      src/testdir/test_charsearch.vim, src/testdir/test_gn.vim,
            src/testdir/test_goto.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_normal.vim, src/testdir/test_search.vim,
            src/testdir/test_textformat.vim, src/testdir/test_textobjects.vim,
            src/testdir/test_visual.vim

Patch 8.2.0656
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: redrawing right screen edge may not be needed.
Solution:   Check the build version. (Nobuhiro Takasaki, closes #6002)
Files:      src/drawscreen.c, src/os_win32.c, src/proto/os_win32.pro

Patch 8.2.0657
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check if called variable is a FuncRef.
Solution:   Add a type check.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.0658 (after 8.2.0646)
Problem:    HP-UX build fails when <A HREF="builtin.html#setenv()">setenv()</A> is not defined.
Solution:   Change &quot;colors&quot; to &quot;t_colors&quot;. (John Marriott)
Files:      src/os_unix.c

Patch 8.2.0659
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for equal func type.
Solution:   Add a test.  Improve type check.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0660
Problem:    The search.c file is a bit big.
Solution:   Split off the text object code to a separate file. (Yegappan
            Lakshmanan, closes #6007)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/proto.h, src/proto/search.pro, src/proto/textobject.pro,
            src/search.c, src/textobject.c

Patch 8.2.0661
Problem:    Eval test is still old style.
Solution:   Change into new style tests. (Yegappan Lakshmanan, closes #6009)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test_eval.in, src/testdir/test_eval.ok,
            src/testdir/test_eval_stuff.vim

Patch 8.2.0662
Problem:    Cannot use <A HREF="builtin.html#input()">input()</A> in a <A HREF="channel.html#channel">channel</A> callback.
Solution:   Reset vgetc_busy. (closes #6010)
Files:      src/globals.h, src/ex_getln.c, src/evalfunc.c,
            src/testdir/test_channel.vim

Patch 8.2.0663
Problem:    Not all systemd temp files are recognized.
Solution:   Add two more patterns. (Jamie Macdonald, closes #6003)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0664
Problem:    Included undesired changes in Makefile.
Solution:   Revert the changes.
Files:      src/Makefile

Patch 8.2.0665
Problem:    Wrongly assuming <A HREF="if_pyth.html#Python">Python</A> executable is called &quot;<A HREF="if_pyth.html#python">python</A>&quot;.
Solution:   Use detected <A HREF="if_pyth.html#python">python</A> command. (Ken Takata, closes #6016)
            Also use CheckFunction if possible.
Files:      src/testdir/test_terminal.vim, src/testdir/check.vim

Patch 8.2.0666
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Remove the &quot;maintainer&quot; line. (Ken Takata, closes #6015)
Files:      src/testdir/shared.vim, src/testdir/test_messages.vim,
            src/testdir/test_ruby.vim

Patch 8.2.0667
Problem:    Cannot <A HREF="usr_90.html#install">install</A> <A HREF="os_haiku.html#Haiku">Haiku</A> version from source.
Solution:   Update Makefile and rdef file. (Emir Sarı, closes #6013)
Files:      Filelist, READMEdir/README_haiku.txt, runtime/doc/os_haiku.txt,
            src/Makefile, src/os_haiku.rdef.in, src/os_haiku.rdef

Patch 8.2.0668
Problem:    Compiler warning for int/size_t usage.
Solution:   Change &quot;int&quot; to &quot;size_t&quot;. (Mike Williams)
Files:      src/vim9execute.c

Patch 8.2.0669
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: display in VTP is a bit slow.
Solution:   Optimize the code. (Nobuhiro Takasaki, closes #6014)
Files:      src/os_win32.c, src/screen.c

Patch 8.2.0670
Problem:    Cannot change <A HREF="windows.html#window">window</A> when evaluating <A HREF="options.html#'completefunc'">'completefunc'</A>.
Solution:   Make a difference between not <A HREF="change.html#changing">changing</A> text or <A HREF="windows.html#buffers">buffers</A> and also
            not <A HREF="change.html#changing">changing</A> <A HREF="windows.html#window">window</A>.
Files:      src/ex_getln.c, src/beval.c, src/change.c, src/edit.c, src/eval.c,
            src/ex_docmd.c, src/insexpand.c, src/globals.h, src/indent.c,
            src/map.c, src/window.c, src/proto/ex_getln.pro, src/register.c,
            src/undo.c, src/testdir/test_edit.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_popup.vim

Patch 8.2.0671
Problem:    <A HREF="os_haiku.html#Haiku">Haiku</A>: compiler warnings.
Solution:   Avoid the warnings. Drop display_errors() copy. (Emir Sarı,
            closes #6018)
Files:      .gitignore, src/gui.c, src/gui_haiku.cc

Patch 8.2.0672
Problem:    Heredoc in scripts does not accept lower <A HREF="change.html#case">case</A> marker.
Solution:   Allow lower <A HREF="change.html#case">case</A> only in non-Vim scripts. (Ken Takata,
            closes #6019)
Files:      src/evalvars.c, src/testdir/test_lua.vim,
            src/testdir/test_perl.vim, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim, src/testdir/test_pyx2.vim,
            src/testdir/test_pyx3.vim, src/testdir/test_ruby.vim

Patch 8.2.0673
Problem:    Cannot build <A HREF="os_haiku.html#Haiku">Haiku</A> in shadow directory.
Solution:   Add symlink. (Ozaki Kiichi, closes #6023)
Files:      src/Makefile

Patch 8.2.0674
Problem:    Some source files are too big.
Solution:   Move text <A HREF="change.html#formatting">formatting</A> <A HREF="eval.html#functions">functions</A> to a new file. (Yegappan
            Lakshmanan, closes #6021)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/edit.c, src/getchar.c, src/ops.c, src/option.c, src/proto.h,
            src/proto/edit.pro, src/proto/getchar.pro, src/proto/ops.pro,
            src/proto/option.pro, src/proto/textformat.pro, src/textformat.c

Patch 8.2.0675
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no support for closures.
Solution:   Do not re-use stack entries.
Files:      src/vim9compile.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/evalvars.c, src/proto/evalvars.pro

Patch 8.2.0676
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> in <A HREF="eval.html#list">list</A> of distributed files does not match.
Solution:   Drop &quot;testdir/test_[a-z]*.ok&quot;.  Add CI sed files.
Files:      Filelist

Patch 8.2.0677
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no support for closures.
Solution:   Find <A HREF="eval.html#variables">variables</A> in the outer function scope, so long <A HREF="motion.html#as">as</A> the scope
            exists.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/userfunc.c,
            src/vim9execute.c, src/structs.h, src/vim9.h,
            src/testdir/test_vim9_func.vim

Patch 8.2.0678
Problem:    Rare crash for <A HREF="popup.html#popup">popup</A> menu.
Solution:   Check for NULL pointer. (Nobuhiro Takasaki, closes #6027)
Files:      src/popupmenu.c

Patch 8.2.0679
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: incomplete support for closures.
Solution:   At the end of a function copy arguments and local <A HREF="eval.html#variables">variables</A> if
            they are still used by a referenced <A HREF="eval.html#closure">closure</A>.
Files:      src/structs.h, src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.0680
Problem:    PTYGROUP and PTYMODE are unused.
Solution:   Remove from autoconf. (closes #6024)
Files:      src/configure.ac, src/auto/configure, src/config.h.in

Patch 8.2.0681
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> for <A HREF="options.html#'hlsearch'">'hlsearch'</A> highlighting may leak. (Dominique Pellé)
Solution:   Call end_search_hl() to make sure the previous <A HREF="pattern.html#pattern">pattern</A> is freed.
            (closes #6028)
Files:      src/screen.c

Patch 8.2.0682
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: parsing function argument type can get stuck.
Solution:   Bail out when not making progress.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.0683
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: parsing type does not always work.
Solution:   Handle func type without return value.  Test more closures.
            Fix type check offset.  Fix garbage collection.
Files:      src/vim9compile.c, src/vim9execute.c, src/proto/vim9execute.pro,
            src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.0684
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using <A HREF="eval.html#lambda">lambda</A>.
Solution:   Move the funccal context to the <A HREF="builtin.html#partial">partial</A>. Free the function when
            <A HREF="starting.html#exiting">exiting</A>.
Files:      src/vim9.h, src/structs.h, src/vim9execute.c, src/userfunc.c,
            src/eval.c, src/testdir/test_vim9_func.vim

Patch 8.2.0685 (after 8.2.0684)
Problem:    Build failure.
Solution:   Include missing changes.
Files:      src/vim9compile.c

Patch 8.2.0686
Problem:    Formatoptions not sufficiently tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #6031)
Files:      src/testdir/test_normal.vim, src/testdir/test_textformat.vim

Patch 8.2.0687
Problem:    Some tests <A HREF="diff.html#do">do</A> not work on FreeBSD.
Solution:   Enable <A HREF="options.html#modeline">modeline</A>.  Use WaitFor() in more cases. (Ozaki Kiichi,
            closes #6036)
Files:      src/testdir/test_quickfix.vim, src/testdir/test_terminal.vim

Patch 8.2.0688
Problem:    Output clobbered if setting <A HREF="options.html#'verbose'">'verbose'</A> to see shell commands.
Solution:   Only output &quot;Searching for&quot; when <A HREF="options.html#'verbose'">'verbose'</A> is 11 or higher.
Files:      src/scriptfile.c, runtime/doc/options.txt

Patch 8.2.0689
Problem:    When using getaddrinfo() the error message is unclear.
Solution:   Use gai_strerror() to get the message. (Ozaki Kiichi,
            closes #6034)
Files:      src/channel.c

Patch 8.2.0690
Problem:    Line number of option set by <A HREF="options.html#modeline">modeline</A> is wrong.
Solution:   Do not double the line number. (Ozaki Kiichi, closes #6035)
Files:      src/option.c, src/testdir/test_modeline.vim

Patch 8.2.0691
Problem:    Startup test fails.
Solution:   Adjust expected output from -V2 argument.
Files:      src/testdir/test_startup.vim

Patch 8.2.0692
Problem:    Startup test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Allow for any path.
Files:      src/testdir/test_startup.vim

Patch 8.2.0693
Problem:    Closure using argument not tested.
Solution:   Add a test, make <A HREF="motion.html#it">it</A> work.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.0694
Problem:    <A HREF="os_haiku.html#Haiku">Haiku</A>: <A HREF="channel.html#channel">channel</A> and <A HREF="terminal.html#terminal">terminal</A> <A HREF="diff.html#do">do</A> not work.
Solution:   Close files when the <A HREF="channel.html#job">job</A> has finished. (Ozaki Kiichi,
            closes #6039)
Files:      src/channel.c, src/getchar.c, src/gui_haiku.cc, src/misc1.c

Patch 8.2.0695
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot define a function inside a function.
Solution:   Initial support for <A HREF="vim9.html#:def">:def</A> inside <A HREF="vim9.html#:def">:def</A>.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/vim9compile.c,
            src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.0696
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: nested function does not work properly
Solution:   Create a function reference.  Check argument <A HREF="intro.html#count">count</A>.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.0697
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using nested function.
Solution:   Unreference function when <A HREF="change.html#deleting">deleting</A> instructions. Adjust reference
            <A HREF="intro.html#count">count</A> for local <A HREF="eval.html#variables">variables</A>.
Files:      src/vim9compile.c, src/vim9execute.c

Patch 8.2.0698
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion not fully tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #6041)
Files:      src/testdir/test_edit.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_textformat.vim

Patch 8.2.0699
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all <A HREF="message.html#errors">errors</A> tested.
Solution:   Add test for deleted function.  Bail out on first error.
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/vim9.vim

Patch 8.2.0700
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: converting error message to exception not tested.
Solution:   Test exception from error.  Do not continue after <A HREF="eval.html#:echoerr">:echoerr</A>.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.0701
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> test fails without <A HREF="channel.html#job">job</A> feature.
Solution:   Add feature check.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0702
Problem:    Running <A HREF="channel.html#channel">channel</A> tests may leave running process behind.
Solution:   Make <A HREF="if_pyth.html#Python">Python</A> client exit when running into EOF. (Kurtis Rader,
            part of #6046)
Files:      src/testdir/test_channel_pipe.py

Patch 8.2.0703
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#closure">closure</A> cannot store value in outer context.
Solution:   Make storing value in outer context work.  Make <A HREF="vim9.html#:disassemble">:disassemble</A>
            accept a function reference.
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h, src/eval.c,
            src/structs.h, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.0704
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak in disassemble test.
Solution:   Decrement refcount when creating funccal.
Files:      src/vim9execute.c

Patch 8.2.0705
Problem:    Indent tests don't run on CI for FreeBSD.
Solution:   Set <A HREF="options.html#modeline">modeline</A>. (Ozaki Kiichi, closes #6048)
Files:      .cirrus.yml, runtime/indent/testdir/runtest.vim

Patch 8.2.0706
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="testing.html#assert_fails()">assert_fails()</A> causes function to finish.
Solution:   Check did_emsg instead of called_emsg.
Files:      src/vim9execute.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.0707
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> function test fails.
Solution:   Adjust expected error code.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.0708
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: constant expressions are not simplified.
Solution:   Simplify <A HREF="eval.html#string">string</A> concatenation.
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.0709
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: compiler warning for int vs size_t.
Solution:   Add type cast. (Mike Williams)
Files:      src/channel.c

Patch 8.2.0710
Problem:    Netbeans test sometimes fails.
Solution:   <A HREF="motion.html#Mark">Mark</A> any test using an external command <A HREF="motion.html#as">as</A> flaky.
Files:      src/testdir/shared.vim

Patch 8.2.0711
Problem:    With a long running Vim the temp directory might be cleared on
            some systems.
Solution:   Lock the temp directory. (closes #6044)
Files:      src/config.h.in, src/configure.ac, src/auto/configure,
            src/fileio.c, src/globals.h, src/os_unix.h

Patch 8.2.0712
Problem:    Various code not fully tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #6049)
Files:      src/testdir/test_functions.vim, src/testdir/test_options.vim,
            src/testdir/test_system.vim, src/testdir/test_termcodes.vim

Patch 8.2.0713
Problem:    The pam_environment file is not recognized.
Solution:   Add a <A HREF="filetype.html#filetype">filetype</A> <A HREF="pattern.html#pattern">pattern</A> for pamenv. (closes #6051)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0714
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: handling constant <A HREF="eval.html#expression">expression</A> does not scale.
Solution:   Use another solution, passing typval_T.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0715
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory.
Solution:   Free strings after concatenating them.
Files:      src/vim9compile.c

Patch 8.2.0716
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: another memory leak.
Solution:   Clear typval when failing.
Files:      src/vim9compile.c

Patch 8.2.0717
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: postponed constant expressions does not scale.
Solution:   Add a structure to pass around postponed constants.
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.0718
Problem:    Gcc warning for returning pointer to local variable. (John
            Marriott)
Solution:   Return another pointer.
Files:      src/evalvars.c

Patch 8.2.0719
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: more expressions can be evaluated at compile time
Solution:   Recognize has('name').
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.0720
Problem:    Occasional exit when encountering an X error. (Manfred Lotz)
Solution:   On an X error <A HREF="diff.html#do">do</A> not exit, <A HREF="diff.html#do">do</A> preserve files.
Files:      src/os_unix.c

Patch 8.2.0721
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when skipping.
Solution:   Disable skipping in generate_ppconst().
Files:      src/vim9compile.c

Patch 8.2.0722
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not handling constant <A HREF="eval.html#expression">expression</A> for elseif.
Solution:   Use postponed constants.  Delete the code for evaluating a
            constant <A HREF="eval.html#expression">expression</A>.
Files:      src/vim9compile.c

Patch 8.2.0723
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: nested constant <A HREF="eval.html#expression">expression</A> not evaluated compile time.
Solution:   Use compile_expr1() for parenthesis.
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.0724
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: appending to buffer/window/tab variable not tested
Solution:   Add a test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0725
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot call a function declared later in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Make two passes through the <A HREF="usr_41.html#script">script</A> file.
Files:      src/scriptfile.c, src/proto/scriptfile.pro, src/vim9script.c,
            src/vim9compile.c, src/vim9execute.c, src/proto/vim9compile.pro,
            src/userfunc.c, src/proto/userfunc.pro, src/evalvars.c,
            src/proto/evalvars.pro, src/vim.h,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0726
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when calling not compiled <A HREF="vim9.html#:def">:def</A> function.
Solution:   Check if function is compiled earlier.
Files:      src/vim9execute.c

Patch 8.2.0727
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: new gcc compiler does not support scanf format.
Solution:   Use &quot;&#37;ll&quot; instead of &quot;&#37;I&quot;. (Ken Takata)
Files:      src/vim.h

Patch 8.2.0728
Problem:    Messages about a deadly signal are not left aligned.
Solution:   Output a CR before the NL. (Dominique Pellé, #6055)
Files:      src/misc1.c, src/os_unix.c

Patch 8.2.0729
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: When reloading a <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A> are not cleared.
Solution:   When sourcing a <A HREF="usr_41.html#script">script</A> again clear all <A HREF="map.html#script-local">script-local</A> <A HREF="eval.html#variables">variables</A>.
Files:      src/dict.c, src/proto/dict.pro, src/scriptfile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0730
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Assignment to <A HREF="eval.html#dict">dict</A> member does not work.
Solution:   Parse <A HREF="eval.html#dict">dict</A> assignment. Implement getting <A HREF="eval.html#dict">dict</A> member.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/globals.h,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.0731
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: parsing declarations continues after <A HREF="repeat.html#:finish">:finish</A>.
Solution:   Bail out when encountering <A HREF="repeat.html#:finish">:finish</A>.
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.0732
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: storing value in <A HREF="eval.html#dict">dict</A> messes up stack.
Solution:   Correct item <A HREF="intro.html#count">count</A> of stack.
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.0733
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assigning to <A HREF="eval.html#dict">dict</A> or <A HREF="eval.html#list">list</A> argument does not work.
Solution:   Recognize an argument <A HREF="motion.html#as">as</A> assignment target.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.0734
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when using <A HREF="repeat.html#:finish">:finish</A>.
Solution:   Do not check for next line in third pass.
Files:      src/scriptfile.c

Patch 8.2.0735
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using uninitialized memory.
Solution:   Clear the arg_lvar field.
Files:      src/vim9compile.c

Patch 8.2.0736
Problem:    Some files not recognized <A HREF="motion.html#as">as</A> pamenv.
Solution:   Add pam_inv.conf. (closes #6065)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0737
Problem:    When shell doesn't support <A HREF="starting.html#CTRL-Z">CTRL-Z</A> Vim still handles <A HREF="motion.html#it">it</A>.
Solution:   Ignore the STOP signal if <A HREF="motion.html#it">it</A> was ignored on <A HREF="starting.html#startup">startup</A>.
            (Kurtis Rader, closes #5990, closes #6058)
Files:      src/os_unix.c

Patch 8.2.0738
Problem:    Mouse handling in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> not well tested.
Solution:   Add tests. (Yegappan Lakshmanan, closes #6052)
Files:      src/testdir/term_util.vim, src/testdir/test_gui.vim,
            src/testdir/test_modeless.vim, src/testdir/test_terminal.vim

Patch 8.2.0739
Problem:    Incomplete <A HREF="repeat.html#profiling">profiling</A> when <A HREF="starting.html#exiting">exiting</A> because of a deadly signal.
Solution:   Call __gcov_flush() if available.
Files:      src/os_unix.c, src/Makefile, .travis.yml

Patch 8.2.0740
Problem:    Minor message mistakes.
Solution:   Change vim to Vim and other fixes.
Files:      src/if_py_both.h, src/if_tcl.c, src/main.c

Patch 8.2.0741
Problem:    <A HREF="if_pyth.html#Python">Python</A> tests fail because of changed message.
Solution:   Adjust the expected <A HREF="message.html#messages">messages</A> (Dominique Pellé, closes #6066)
Files:      src/testdir/test86.ok, src/testdir/test87.ok

Patch 8.2.0742
Problem:    Handling of a <A HREF="starting.html#TERM">TERM</A> signal not tested.
Solution:   Add a test for SIGTERM. (Dominique Pellé, closes #6055)
Files:      src/testdir/test_signals.vim

Patch 8.2.0743
Problem:    Can move to another buffer from a <A HREF="terminal.html#terminal">terminal</A> in <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Do not allow &quot;<A HREF="editing.html#gf">gf</A>&quot; or editing a file. (closes #6072)
Files:      src/normal.c, src/ex_cmds.c, src/testdir/test_popupwin.vim

Patch 8.2.0744
Problem:    The name vim is not capitalized in a message.
Solution:   Use &quot;Vim&quot; instead of &quot;vim&quot;.
Files:      src/main.c

Patch 8.2.0745
Problem:    Crash on exit when not all popups are closed.
Solution:   Close popups when freeing all memory.  Disable checking for <A HREF="popup.html#popup">popup</A>
            when editing a file for now.
Files:      src/misc2.c, src/ex_cmds.c

Patch 8.2.0746
Problem:    <A HREF="popup.html#popup_clear()">popup_clear()</A> hangs when a <A HREF="popup.html#popup">popup</A> can't be closed.
Solution:   Bail out when a <A HREF="popup.html#popup">popup</A> can't be closed.
Files:      src/popupwin.c, src/proto/popupwin.pro

Patch 8.2.0747
Problem:    Cannot forcefully close all popups.
Solution:   Add the &quot;force&quot; argument to <A HREF="popup.html#popup_clear()">popup_clear()</A>.  Use <A HREF="motion.html#it">it</A> after running a
            test.  Put back the check for a <A HREF="popup.html#popup">popup</A> when editing a file.
Files:      runtime/doc/popup.txt, src/evalfunc.c, src/popupwin.c,
            src/proto/popupwin.pro, src/tag.c, src/window.c, src/misc2.c,
            src/ex_cmds.c, src/channel.c, src/testdir/runtest.vim,
            src/testdir/test_terminal.vim

Patch 8.2.0748
Problem:    Cannot get a <A HREF="eval.html#list">list</A> of all popups.
Solution:   Add <A HREF="popup.html#popup_list()">popup_list()</A>.  Use <A HREF="motion.html#it">it</A> in the test runner.
Files:      runtime/doc/eval.txt, runtime/doc/popup.txt, src/popupwin.c,
            src/proto/popupwin.pro, src/evalfunc.c,
            src/testdir/test_popupwin.vim, src/testdir/runtest.vim

Patch 8.2.0749
Problem:    <A HREF="starting.html#TERM">TERM</A> signal test fails on FreeBSD.
Solution:   Do not check the <A HREF="message.html#messages">messages</A>, the may appear anywhere. (Dominique
            Pellé, closes #6075)
Files:      src/testdir/test_signals.vim

Patch 8.2.0750
Problem:    Netbeans test is a bit flaky.
Solution:   Allow for standard sign to be defined.  Use WaitForAssert().
Files:      src/testdir/test_netbeans.vim

Patch 8.2.0751
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: performance can be improved.
Solution:   Don't call break.  Inline check for <A HREF="eval.html#list">list</A> materialize.  Make an
            inline version of ga_grow().
Files:      src/macros.h, src/evalfunc.c, src/misc2.c,
            src/proto/misc2.pro, src/channel.c, src/eval.c, src/evalbuffer.c,
            src/evalvars.c, src/filepath.c, src/highlight.c, src/insexpand.c,
            src/json.c, src/list.c, src/popupmenu.c, src/popupwin.c,
            src/userfunc.c, src/if_py_both.h

Patch 8.2.0752
Problem:    Terminal in <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> test is a bit flaky.
Solution:   Wait for shell <A HREF="channel.html#job">job</A> status to be &quot;run&quot;.  <A HREF="motion.html#Mark">Mark</A> <A HREF="motion.html#as">as</A> flaky test.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.0753
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: expressions are evaluated in the discovery phase.
Solution:   Bail out if an <A HREF="eval.html#expression">expression</A> is not a constant.  Require a type for
            declared constants.
Files:      src/vim.h, src/evalvars.c, src/eval.c, src/ex_eval.c,
            src/evalfunc.c, src/userfunc.c, src/dict.c, src/list.c,
            src/vim9compile.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.0754
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: No test for forward declaration.
Solution:   Add a test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0755
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: No error when variable initializer is not a constant.
Solution:   Return FAIL when trying to get a variable value.  Do not execute a
            <A HREF="usr_41.html#script">script</A> when an error is detected in the first or second phase.
Files:      src/eval.c, src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.0756 (after 8.2.0249)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: still a compiler warning.
Solution:   Move flag to another place in the Makefile. (Ken Takata,
            closes #6083)
Files:      src/Make_mvc.mak

Patch 8.2.0757
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for MEMBER instruction.
Solution:   Add a test.  Make matches stricter.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.0758
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for STORELIST and STOREDICT.
Solution:   Add a test.  Make matches stricter.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.0759 (after 8.2.0751)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing changes for performance improvements
Solution:   Use GA_GROW().  Don't call breakcheck so often.
Files:      src/vim9execute.c

Patch 8.2.0760
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#dict">dict</A> member <A HREF="message.html#errors">errors</A> not tested.
Solution:   Delete unreachable error.  Add tests.
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.0761
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: instructions not tested
Solution:   Use a variable instead of a constant.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.0762
Problem:    Buffer is not considered modified after setting crypt key.
Solution:   Set the modified flag. (Christian Brabandt, closes #6082)
Files:      src/optionstr.c, src/testdir/test_crypt.vim

Patch 8.2.0763
Problem:    <A HREF="gui.html#GUI">GUI</A> test fails without the <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Check the <A HREF="terminal.html#terminal">terminal</A> feature is supported. (Ken Takata,
            closes #6084)
Files:      src/testdir/test_gui.vim

Patch 8.2.0764
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assigning to option not fully tested.
Solution:   Add more test cases. Allow using any type for assignment.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0765
Problem:    In the <A HREF="gui.html#GUI">GUI</A> can't use all the modifiers. (Andri Möll)
Solution:   Do not apply Alt/Meta early, <A HREF="diff.html#do">do</A> <A HREF="motion.html#it">it</A> later like with the <A HREF="terminal.html#terminal">terminal</A>.
            Avoid the <A HREF="gui_x11.html#Motif">Motif</A> test from crashing.
Files:      src/gui_gtk_x11.c, src/gui_x11.c, src/gui_mac.c, src/gui_w32.c,
            src/gui_motif.c

Patch 8.2.0766
Problem:    Display error when using <A HREF="options.html#'number'">'number'</A> and <A HREF="options.html#'breakindent'">'breakindent'</A>.
Solution:   Adjust extra spaces in the first row. (Ken Takata, closes #6089,
            closes #5986)
Files:      src/drawline.c, src/testdir/test_breakindent.vim

Patch 8.2.0767
Problem:    ModifyOtherKeys active when using a shell command in autocmd.
Solution:   Output T_CTE when going to cooked mode. (closes 5617)
Files:      src/term.c

Patch 8.2.0768
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak in <A HREF="usr_41.html#script">script</A> test.
Solution:   Clear typval before giving an error message.
Files:      src/vim9execute.c

Patch 8.2.0769
Problem:    <A HREF="autocmd.html#VimLeavePre">VimLeavePre</A> not triggered when Vim is terminated.
Solution:   Unblock <A HREF="autocmd.html#autocommands">autocommands</A>.
Files:      src/main.c, src/testdir/test_signals.vim

Patch 8.2.0770
Problem:    Cannot map <A HREF="scroll.html#CTRL-B">CTRL-B</A> when using the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Reset the CTRL modifier when used. (closes #6092)
Files:      src/gui_gtk_x11.c

Patch 8.2.0771
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot call a compiled <A HREF="eval.html#closure">closure</A> from not compiled code.
Solution:   Pass funcexe to call_user_func().
Files:      src/userfunc.c, src/vim9execute.c, src/proto/vim9execute.pro,
            src/eval.c, src/testdir/test_vim9_func.vim

Patch 8.2.0772
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some variable initializations not tested.
Solution:   Add a few more tests
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0773
Problem:    Switching to raw mode every time &quot;<A HREF="cmdline.html#:">:</A>&quot; is used.
Solution:   When executing a shell set cur_tmode to TMODE_UNKNOWN, so that the
            next time TMODE_RAW is used <A HREF="motion.html#it">it</A> is set, but not every time.
Files:      src/term.h, src/os_unix.c, src/term.c, src/os_amiga.c,
            src/os_win32.c

Patch 8.2.0774
Problem:    <A HREF="term.html#t_TI">t_TI</A> and <A HREF="term.html#t_TE">t_TE</A> are output when using <A HREF="options.html#'visualbell'">'visualbell'</A>. (Dominique
            Pellé)
Solution:   Do not change the <A HREF="terminal.html#terminal">terminal</A> mode for a short sleep.  Do not output
            <A HREF="term.html#t_TI">t_TI</A> and <A HREF="term.html#t_TE">t_TE</A> when switching to/from TMODE_SLEEP. Make tmode an
            enum.
Files:      src/os_unix.c, src/proto/os_unix.pro, src/os_amiga.c,
            src/proto/os_amiga.pro, src/os_mswin.c, src/proto/os_mswin.pro,
            src/os_vms.c, src/proto/os_vms.pro, src/os_win32.c,
            src/proto/os_win32.pro, src/term.c, src/term.h, src/globals.h

Patch 8.2.0775
Problem:    Not <A HREF="starting.html#easy">easy</A> to call a Vim function from <A HREF="if_lua.html#Lua">Lua</A>.
Solution:   Add vim.call() and vim.fn(). (Prabir Shrestha, closes #6063)
Files:      runtime/doc/if_lua.txt, src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.0776
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revision 719.
Files:      Filelist, src/libvterm/README, src/libvterm/Makefile,
            src/libvterm/find-wide-chars.pl, src/libvterm/src/fullwidth.inc,
            src/libvterm/src/unicode.c

Patch 8.2.0777 (after 8.2.0776)
Problem:    Terminal test fails.
Solution:   Adjust character position for double-wide characters.
Files:      src/testdir/test_terminal.vim

Patch 8.2.0778
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 720 - 723.
Files:      src/libvterm/t/10state_putglyph.test, src/libvterm/Makefile,
            src/libvterm/t/run-test.pl, src/libvterm/src/state.c,
            src/libvterm/t/92lp1805050.test

Patch 8.2.0779
Problem:    Tmode_T not used everywhere.
Solution:   Also use tmode_T for settmode().
Files:      src/term.c, src/proto/term.pro

Patch 8.2.0780
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 724 - 726.
Files:      Filelist, src/libvterm/t/40screen_ascii.test,
            src/libvterm/t/60screen_ascii.test,
            src/libvterm/t/41screen_unicode.test,
            src/libvterm/t/61screen_unicode.test,
            src/libvterm/t/42screen_damage.test,
            src/libvterm/t/62screen_damage.test,
            src/libvterm/t/43screen_resize.test,
            src/libvterm/t/63screen_resize.test,
            src/libvterm/t/44screen_pen.test,
            src/libvterm/t/64screen_pen.test,
            src/libvterm/t/45screen_protect.test,
            src/libvterm/t/65screen_protect.test,
            src/libvterm/t/46screen_extent.test,
            src/libvterm/t/66screen_extent.test,
            src/libvterm/t/47screen_dbl_wh.test,
            src/libvterm/t/67screen_dbl_wh.test,
            src/libvterm/t/48screen_termprops.test,
            src/libvterm/t/68screen_termprops.test, src/libvterm/t/30pen.test,
            src/libvterm/t/30state_pen.test, src/libvterm/t/92lp1805050.test,
            src/libvterm/t/31state_rep.test, src/libvterm/doc/seqs.txt

Patch 8.2.0781 (after 8.2.0775)
Problem:    Compiler warning for not using value in <A HREF="if_lua.html#Lua">Lua</A>.
Solution:   Add &quot;(void)&quot;.
Files:      src/if_lua.c

Patch 8.2.0782
Problem:    Cannot build with <A HREF="if_lua.html#Lua">Lua</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add DLL symbol for luaL_Loadstring. (Ken Takata)
Files:      src/if_lua.c

Patch 8.2.0783
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 728 - 729.
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Makefile,
            src/libvterm/src/keyboard.c, src/libvterm/t/25state_input.test,
            src/libvterm/t/harness.c, src/libvterm/src/vterm.c,
            src/libvterm/src/vterm_internal.h,
            src/libvterm/t/26state_query.test

Patch 8.2.0784
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 730 - 733.
Files:      src/libvterm/src/vterm.c, src/libvterm/src/state.c,
            src/libvterm/include/vterm.h, src/libvterm/src/vterm_internal.h,
            src/libvterm/t/harness.c

Patch 8.2.0785
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 734 - 740.
Files:      src/libvterm/include/vterm.h, src/libvterm/src/pen.c,
            src/libvterm/src/vterm.c, src/libvterm/doc/seqs.txt,
            src/libvterm/t/30state_pen.test, src/libvterm/t/run-test.pl,
            src/libvterm/Makefile, src/libvterm/CONTRIBUTING

Patch 8.2.0786
Problem:    <A HREF="eval.html#Channel">Channel</A> test is flaky on FreeBSD.
Solution:   Set the socket TCP_NODELAY option. Adjust expected line <A HREF="intro.html#count">count</A> in
            <A HREF="netbeans.html#netbeans">netbeans</A> test. (Ozaki Kiichi, closes #6097)
Files:      src/testdir/test_channel.py, src/testdir/test_netbeans.vim

Patch 8.2.0787
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 741 - 742.
Files:      Filelist, src/libvterm/src/screen.c

Patch 8.2.0788
Problem:    Memory leak in libvterm.
Solution:   free tmpbuffer.
Files:      src/libvterm/src/vterm.c

Patch 8.2.0789
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expression">expression</A> <A HREF="testing.html#testing">testing</A> lost coverage using constants.
Solution:   Use a few <A HREF="eval.html#variables">variables</A> instead of constants.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.0790
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> index not well tested.
Solution:   Add a few more tests.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0791
Problem:    A second <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with <A HREF="terminal.html#terminal">terminal</A> causes trouble.
Solution:   Disallow opening a second terminal-popup <A HREF="windows.html#window">window</A>. (closes #6101,
            closes #6103) Avoid defaulting to an invalid line number.
Files:      runtime/doc/popup.txt, src/popupwin.c, src/ex_docmd.c,
            src/testdir/test_popupwin.vim, src/testdir/test_terminal.vim

Patch 8.2.0792
Problem:    Build failure with small features.
Solution:   Add #ifdef.
Files:      src/popupwin.c

Patch 8.2.0793
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build <A HREF="gui.html#GUI">GUI</A> with small features. (Michael Soyka)
Solution:   Add #ifdef around use of windowsVersion. (Ken Takata)
Files:      src/os_win32.c

Patch 8.2.0794
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 743 - 747.
Files:      src/libvterm/src/state.c, src/libvterm/src/screen.c,
            src/libvterm/src/vterm_internal.h, src/libvterm/include/vterm.h,
            src/libvterm/t/67screen_dbl_wh.test, src/libvterm/t/run-test.pl

Patch 8.2.0795
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 748 - 754.
Files:      src/libvterm/include/vterm.h, src/libvterm/src/screen.c,
            src/libvterm/src/state.c, src/libvterm/t/32state_flow.test,
            src/libvterm/t/60screen_ascii.test,
            src/libvterm/t/62screen_damage.test,
            src/libvterm/t/63screen_resize.test, src/libvterm/t/harness.c,
            src/libvterm/t/run-test.pl

Patch 8.2.0796
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: compiler can't handle <A HREF="develop.html#C99">C99</A> construct in libvterm.
Solution:   Change to C90 construct.
Files:      src/libvterm/src/state.c

Patch 8.2.0797
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: compiler still can't handle <A HREF="develop.html#C99">C99</A> construct.
Solution:   Change to C90 construct. (Dominique Pellé, closes #6106)
Files:      src/libvterm/src/state.c

Patch 8.2.0798
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 755 - 758.
Files:      src/libvterm/t/run-test.pl, src/libvterm/src/screen.c,
            src/libvterm/t/harness.c, src/libvterm/include/vterm.h,
            src/libvterm/src/parser.c, src/libvterm/src/state.c,
            src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h,
            src/libvterm/t/02parser.test,
            src/libvterm/t/18state_termprops.test,
            src/libvterm/t/29state_fallback.test,
            src/libvterm/t/68screen_termprops.test, src/terminal.c

Patch 8.2.0799
Problem:    Build fails if snprintf is not available.
Solution:   Use vim_snprintf().
Files:      src/libvterm/src/state.c

Patch 8.2.0800
Problem:    Errors from failing test are unclear.
Solution:   Include text where parsing failed.
Files:      src/json.c, src/testdir/test_json.vim

Patch 8.2.0801
Problem:    Terminal test fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Concatenate OSC pieces.
Files:      src/terminal.c

Patch 8.2.0802
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 759 - 762.
Files:      src/terminal.c, src/libvterm/doc/seqs.txt,
            src/libvterm/include/vterm.h, src/libvterm/src/pen.c,
            src/libvterm/src/screen.c, src/libvterm/src/state.c,
            src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h,
            src/libvterm/t/harness.c, src/libvterm/t/12state_scroll.test

Patch 8.2.0803
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revisions 764 - 767
Files:      src/Makefile, src/libvterm/src/parser.c,
            src/libvterm/src/vterm_internal.h, src/libvterm/t/02parser.test,
            src/libvterm/t/run-test.pl, src/libvterm/find-wide-chars.pl,
            src/libvterm/src/fullwidth.inc

Patch 8.2.0804
Problem:    Libvterm code lags behind the upstream version.
Solution:   Include revision 727, but add the index instead of switching
            between RGB and indexed.
Files:      src/terminal.c, src/term.c, src/libvterm/include/vterm.h,
            src/libvterm/src/pen.c, src/libvterm/src/screen.c,
            src/libvterm/src/vterm_internal.h,
            src/libvterm/t/30state_pen.test,
            src/libvterm/t/harness.c, src/libvterm/src/state.c,
            src/libvterm/t/26state_query.test,
            src/libvterm/t/64screen_pen.test

Patch 8.2.0805
Problem:    Terminal key codes test fails on some systems.
Solution:   Skip keypad 3 and 9. (Yegappan Lakshmanan, closes #6070)
Files:      src/testdir/test_terminal.vim

Patch 8.2.0806
Problem:    using &quot;func!&quot; after <A HREF="vim9.html#vim9script">vim9script</A> gives confusing error.
Solution:   Give <A HREF="message.html#E477">E477</A>. (closes #6107)
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.0807
Problem:    Cannot easily restore a <A HREF="map.html#mapping">mapping</A>.
Solution:   Add <A HREF="builtin.html#mapset()">mapset()</A>.
Files:      runtime/doc/eval.txt, src/map.c, src/proto/map.pro, src/evalfunc.c
            src/testdir/test_maparg.vim

Patch 8.2.0808
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6069)  Fix memory
            leak.
Files:      src/testdir/test_gui.vim, src/testdir/test_terminal.vim,
            src/terminal.c

Patch 8.2.0809
Problem:    Build failure with small features. (Tony Mechelynck)
Solution:   Move &quot;<A HREF="eval.html#expr">expr</A>&quot; inside #ifdef.
Files:      src/map.c

Patch 8.2.0810
Problem:    Error when appending &quot;tagfile&quot; to <A HREF="options.html#'wildoptions'">'wildoptions'</A>.
Solution:   use flags P_ONECOMMA and P_NODUP. (Dmitri Vereshchagin,
            closes #6105)
Files:      src/optiondefs.h, src/testdir/test_options.vim

Patch 8.2.0811
Problem:    Terminal keycode test is flaky.
Solution:   Use WaitForAssert()
Files:      src/testdir/test_terminal.vim

Patch 8.2.0812
Problem:    <A HREF="builtin.html#mapset()">mapset()</A> does not properly handle <A HREF="intro.html#&lt;&gt;">&lt;&gt;</A> <A HREF="intro.html#notation">notation</A>.
Solution:   Convert <A HREF="intro.html#&lt;&gt;">&lt;&gt;</A> codes. (closes #6116)
Files:      src/map.c, src/testdir/test_maparg.vim

Patch 8.2.0813
Problem:    libvterm code is slightly different from upstream.
Solution:   Use upstream text to avoid future <A HREF="diff.html#merge">merge</A> problems.  Mainly comment
            style changes.
Files:      src/libvterm/include/vterm.h, src/libvterm/src/rect.h,
            src/libvterm/src/utf8.h, src/libvterm/src/vterm_internal.h,
            src/libvterm/src/encoding.c, src/libvterm/src/keyboard.c,
            src/libvterm/src/mouse.c, src/libvterm/src/parser.c,
            src/libvterm/src/pen.c, src/libvterm/src/screen.c,
            src/libvterm/src/state.c, src/libvterm/src/unicode.c,
            src/libvterm/src/vterm.c

Patch 8.2.0814
Problem:    Clang warning for implicit conversion.
Solution:   Add type cast. (Dominique Pellé, closes #6124)
Files:      src/evalfunc.c

Patch 8.2.0815
Problem:    <A HREF="builtin.html#maparg()">maparg()</A> does not provide enough information for <A HREF="builtin.html#mapset()">mapset()</A>.
Solution:   Add &quot;lhsraw&quot; and &quot;lhsrawalt&quot; items.  Drop &quot;simplified&quot;
Files:      src/map.c, runtime/doc/eval.txt, src/testdir/test_maparg.vim

Patch 8.2.0816
Problem:    Terminal test fails when compiled with Athena.
Solution:   Do give an error when the <A HREF="gui.html#GUI">GUI</A> is not running. (hint by Dominique
            Pellé, closes #5928, closes #6132)
Files:      src/globals.h, src/gui.c, src/term.c, src/channel.c,
            src/testdir/test_terminal.vim

Patch 8.2.0817
Problem:    Not enough memory allocated when converting <A HREF="eval.html#string">string</A> with special
            character.
Solution:   Reserve space for modifier code. (closes #6130)
Files:      src/eval.c, src/testdir/test_functions.vim

Patch 8.2.0818
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using a discovery phase doesn't work well.
Solution:   Remove the discovery phase, instead compile a function only when
            <A HREF="motion.html#it">it</A> is used.  Add <A HREF="vim9.html#:defcompile">:defcompile</A> to compile def <A HREF="eval.html#functions">functions</A> earlier.
Files:      runtime/doc/vim9.txt, src/vim9script.c, src/structs.h,
            src/userfunc.c, src/proto/userfunc.pro, src/eval.c,
            src/evalvars.c, src/proto/evalvars.pro, src/vim9compile.c,
            src/proto/vim9compile.pro, src/vim9execute.c, src/ex_cmds.h,
            src/ex_docmd.c, src/ex_cmdidxs.h, src/vim.h, src/testdir/vim9.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.0819
Problem:    Compiler warning for unused variable.
Solution:   Remove the variable.
Files:      src/evalvars.c

Patch 8.2.0820
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function type isn't set until compiled.
Solution:   Set function type early.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/userfunc.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.0821
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak in <A HREF="eval.html#expr">expr</A> test.
Solution:   Do not decrement the length of the <A HREF="eval.html#list">list</A> of <A HREF="eval.html#functions">functions</A> if the
            current function is not at the end.
Files:      src/vim9compile.c

Patch 8.2.0822
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: code left over from discovery phase.
Solution:   Remove the dead code.
Files:      src/scriptfile.c, src/proto/scriptfile.pro, src/ex_cmds.h,
            src/evalvars.c, src/proto/evalvars.pro, src/ex_docmd.c

Patch 8.2.0823
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> <A HREF="editing.html#reload">reload</A> test is disabled.
Solution:   Compile a function in the context of the <A HREF="usr_41.html#script">script</A> where <A HREF="motion.html#it">it</A> was
            defined.  Set execution stack for compiled function.  Add a test
            that an error is reported for the right file/function.
Files:      src/vim9compile.c, src/vim9execute.c, src/scriptfile.c,
            src/proto/scriptfile.pro, src/userfunc.c, src/globals.h,
            src/structs.h, src/ex_docmd.c, src/ex_eval.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0824 (after 8.2.0817)
Problem:    Still not enough memory allocated when converting <A HREF="eval.html#string">string</A> with
            special character.
Solution:   Reserve space for expanding K_SPECIAL. (closes #6130)
Files:      src/eval.c, src/testdir/test_functions.vim

Patch 8.2.0825
Problem:    def_function() may return pointer that was freed.
Solution:   Set &quot;fp&quot; to NULL after freeing <A HREF="motion.html#it">it</A>.
Files:      src/userfunc.c

Patch 8.2.0826
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash in <A HREF="vim9.html#:defcompile">:defcompile</A>.
Solution:   Restart the loop after a call to compile_def_function() caused the
            hash table to resize.
Files:      src/userfunc.c

Patch 8.2.0827
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash in <A HREF="vim9.html#:defcompile">:defcompile</A>.
Solution:   Fix off-by-one error.
Files:      src/userfunc.c

Patch 8.2.0828
Problem:    Travis: <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A> doesn't work everywhere.
Solution:   Use <A HREF="pattern.html#[:blank:]">[:blank:]</A> instead of \b. (Ozaki Kiichi, closes #6146)
Files:      .travis.yml, ci/config.mk.clang.sed, ci/config.mk.gcc.sed,
            ci/config.mk.sed, src/if_ruby.c

Patch 8.2.0829
Problem:    <A HREF="builtin.html#filter()">filter()</A> may give misleading error message.
Solution:   Also mention <A HREF="eval.html#Blob">Blob</A> <A HREF="motion.html#as">as</A> an allowed argument.
Files:      src/list.c, src/testdir/test_filter_map.vim

Patch 8.2.0830
Problem:    <A HREF="gui_x11.html#Motif">Motif</A>: can't map &quot;<A HREF="change.html#!">!</A>&quot;. (Ben Jackson)
Solution:   Remove the <A HREF="intro.html#shift">shift</A> modifier if it's already included in the key.
            (closes #6147)
Files:      src/gui_x11.c

Patch 8.2.0831
Problem:    Compiler warnings for integer sizes.
Solution:   Add type casts. (Mike Williams)
Files:      src/libvterm/src/pen.c, src/terminal.c

Patch 8.2.0832
Problem:    Compiler warning for uninitialized variable. (Tony Mechelynck)
Solution:   Add initial value.
Files:      src/map.c

Patch 8.2.0833
Problem:    Mapping &lt;C-bslash&gt; doesn't work in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Reset seenModifyOtherKeys when starting the <A HREF="gui.html#GUI">GUI</A>. (closes #6150)
Files:      src/gui.c

Patch 8.2.0834
Problem:    <A HREF="windows.html#:drop">:drop</A> command in <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> causes problems.
Solution:   Check for using a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>. (closes #6151)
Files:      src/ex_cmds.c, src/testdir/test_popupwin.vim

Patch 8.2.0835
Problem:    <A HREF="gui_x11.html#Motif">Motif</A>: <A HREF="map.html#mapping">mapping</A> &lt;C-bslash&gt; still doesn't work.
Solution:   Accept CSI for K_SPECIAL.  Do not apply CTRL to the character
            early.  (closes #6150)
Files:      src/getchar.c, src/gui_x11.c

Patch 8.2.0836
Problem:    Not all <A HREF="quickfix.html#:cdo">:cdo</A> output is visible.
Solution:   Reset <A HREF="options.html#'shortmess'">'shortmess'</A> temporarily. (Yegappan Lakshmanan, closes #6155)
Files:      src/ex_cmds2.c, src/testdir/test_cdo.vim

Patch 8.2.0837
Problem:    Compiler warning for value set but not used.
Solution:   Move variable inside #ifdef.
Files:      src/channel.c

Patch 8.2.0838
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: compiler warning for uninitialized <A HREF="eval.html#variables">variables</A>.
Solution:   Initialize <A HREF="eval.html#variables">variables</A>.
Files:      src/screen.c

Patch 8.2.0839
Problem:    Dropping modifier when putting a character back in typeahead.
Solution:   Add modifier to ins_char_typebuf(). (closes #6158)
Files:      src/getchar.c, src/proto/getchar.pro, src/message.c, src/normal.c,
            src/terminal.c, src/globals.h, src/testdir/test_messages.vim

Patch 8.2.0840
Problem:    Search match <A HREF="intro.html#count">count</A> wrong when only match is in fold.
Solution:   Update search stats when in a closed fold. (Christian Brabandt,
            closes #6160, closes #6152)
Files:      src/search.c, src/testdir/dumps/Test_searchstat_3.dump,
            src/testdir/test_search_stat.vim

Patch 8.2.0841
Problem:    <A HREF="options.html#'verbose'">'verbose'</A> value 16 causes duplicate output.
Solution:   Combine levels 15 and 16 into one message. (Christian Brabandt,
            closes #6153)
Files:      runtime/doc/options.txt, src/ex_docmd.c

Patch 8.2.0842 (after 8.2.0837)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="channel.html#channel">channel</A> tests fail.
Solution:   Adjust #ifdefs. (closes #6162)
Files:      src/channel.c

Patch 8.2.0843
Problem:    Filetype elm not detected.
Solution:   Recognize *.elm files. (closes #6157)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0844
Problem:    Text properties crossing lines not handled correctly.
Solution:   When saving for <A HREF="undo.html#undo">undo</A> include an extra line when needed and <A HREF="diff.html#do">do</A> not
            adjust properties when undoing. (Axel Forsman, closes #5875)
Files:      src/memline.c, src/proto/memline.pro, src/undo.c, src/structs.h

Patch 8.2.0845
Problem:    Text properties crossing lines not handled correctly.
Solution:   When joining lines <A HREF="diff.html#merge">merge</A> text properties if possible.
            (Axel Forsman, closes #5839, closes #5683)
Files:      src/testdir/test_textprop.vim, src/memline.c, src/ops.c,
            src/proto/textprop.pro, src/textprop.c,
            src/testdir/dumps/Test_textprop_01.dump

Patch 8.2.0846
Problem:    Build failure with small features.
Solution:   Add #ifdef.
Files:      src/undo.c

Patch 8.2.0847
Problem:    Typval related code is spread out.
Solution:   Move code to new typval.c file. (Yegappan Lakshmanan, closes #6093)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/eval.c, src/evalfunc.c, src/globals.h, src/proto.h,
            src/proto/eval.pro, src/proto/evalfunc.pro, src/proto/typval.pro,
            src/typval.c

Patch 8.2.0848
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: the Windows <A HREF="terminal.html#terminal">terminal</A> code has some flaws.
Solution:   Do not redraw the right edge of the screen.  Remove the background
            color trick.  Flush the screen output buffer often.  (Nobuhiro
            Takasaki, #5546)
Files:      src/os_win32.c, src/proto/os_win32.pro, src/term.c

Patch 8.2.0849
Problem:    <A HREF="os_beos.html#BeOS">BeOS</A> code is not maintained and probably unused.
Solution:   Remove the <A HREF="os_beos.html#BeOS">BeOS</A> code. (Emir Sarı, closes #5817)
Files:      Filelist, src/Makefile, src/configure.ac, src/auto/configure,
            src/evalfunc.c, src/normal.c, src/os_beos.c, src/os_beos.h,
            src/os_beos.rsrc, src/os_unix.c, src/proto.h,
            src/proto/os_beos.pro, src/pty.c, src/screen.c, src/term.c,
            src/testdir/test_functions.vim, src/ui.c, src/vim.h

Patch 8.2.0850
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="builtin.html#exepath()">exepath()</A> works differently from cmd.exe.
Solution:   Make <A HREF="builtin.html#exepath()">exepath()</A> work better on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (closes #6115)
Files:      runtime/doc/eval.txt, src/os_win32.c,
            src/testdir/test_functions.vim

Patch 8.2.0851 (after 8.2.0833)
Problem:    Can't distinguish &lt;M-a&gt; from accented &quot;<A HREF="insert.html#a">a</A>&quot; in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Use another way to make <A HREF="map.html#mapping">mapping</A> &lt;C-bslash&gt; work. (closes #6163)
Files:      src/gui.c, src/gui_gtk_x11.c, src/getchar.c

Patch 8.2.0852
Problem:    Cannot map CTRL-S on some systems.
Solution:   Do not use CTRL-S for flow <A HREF="intro.html#control">control</A>.
Files:      src/os_unix.c

Patch 8.2.0853
Problem:    ml_delete() often called with <A HREF="eval.html#FALSE">FALSE</A> argument.
Solution:   Use ml_delete_flags(x, ML_DEL_MESSAGE) when argument is <A HREF="eval.html#TRUE">TRUE</A>.
Files:      src/buffer.c, src/change.c, src/diff.c, src/evalbuffer.c,
            src/ex_cmds.c, src/ex_docmd.c, src/fileio.c, src/if_lua.c,
            src/if_mzsch.c, src/if_ruby.c, src/if_tcl.c, src/normal.c,
            src/popupmenu.c, src/popupwin.c, src/quickfix.c, src/spell.c,
            src/terminal.c, src/if_perl.xs, src/if_py_both.h, src/memline.c,
            src/proto/memline.pro

Patch 8.2.0854
Problem:    Xxd cannot show offset <A HREF="motion.html#as">as</A> a decimal number.
Solution:   Add the &quot;<A HREF="starting.html#-d">-d</A>&quot; flag. (Aapo Rantalainen, closes #5616)
Files:      src/testdir/test_xxd.vim, src/xxd/xxd.c

Patch 8.2.0855
Problem:    <A HREF="gui.html#GUI">GUI</A> tests fail because the test doesn't use a modifier.
Solution:   Add &quot;\{xxx}&quot; to be able to encode a modifier.
Files:      runtime/doc/eval.txt, src/typval.c, src/misc2.c, src/vim.h,
            src/proto/misc2.pro, src/gui_mac.c, src/option.c, src/highlight.c,
            src/term.c, src/testdir/test_backspace_opt.vim,
            src/testdir/test_mapping.vim, src/testdir/test_messages.vim

Patch 8.2.0856 (after 8.2.0852)
Problem:    CTRL-S stops output.
Solution:   Invert the IXON flag. (closes #6166)
Files:      src/os_unix.c

Patch 8.2.0857
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> cell height can be a pixel too much.
Solution:   Subtract 3 instead of 1 when rounding. (closes #6168)
Files:      src/gui_gtk_x11.c

Patch 8.2.0858
Problem:    Not <A HREF="starting.html#easy">easy</A> to require <A HREF="if_lua.html#Lua">Lua</A> modules.
Solution:   Improve use of <A HREF="if_lua.html#Lua">Lua</A> path. (Prabir Shrestha, closes #6098)
Files:      Filelist, src/if_lua.c, src/optionstr.c, src/proto/if_lua.pro,
            src/testdir/test_lua.vim,
            src/testdir/testluaplugin/lua/testluaplugin/hello.lua,
            src/testdir/testluaplugin/lua/testluaplugin/init.lua

Patch 8.2.0859
Problem:    No Turkish translation of the manual.
Solution:   Add Turkish translations. (Emir Sarı, closes #5641)
Files:      Filelist, runtime/doc/Makefile, runtime/doc/evim-tr.1,
            runtime/doc/evim-tr.UTF-8.1, runtime/doc/vim-tr.1,
            runtime/doc/vim-tr.UTF-8.1, runtime/doc/vimdiff-tr.1,
            runtime/doc/vimdiff-tr.UTF-8.1, runtime/doc/vimtutor-tr.1,
            runtime/doc/vimtutor-tr.UTF-8.1, src/Makefile

Patch 8.2.0860
Problem:    Cannot use <A HREF="change.html#CTRL-A">CTRL-A</A> and <A HREF="change.html#CTRL-X">CTRL-X</A> on unsigned numbers.
Solution:   Add &quot;unsigned&quot; to <A HREF="options.html#'nrformats'">'nrformats'</A>. (Naruhiko Nishino, closes #6144)
Files:      runtime/doc/options.txt, src/ops.c, src/optionstr.c,
            src/testdir/test_increment.vim

Patch 8.2.0861
Problem:    Cannot easily get all the current marks.
Solution:   Add <A HREF="builtin.html#getmarklist()">getmarklist()</A>. (Yegappan Lakshmanan, closes #6032)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/mark.c, src/proto/mark.pro, src/testdir/test_marks.vim

Patch 8.2.0862
Problem:    &quot;:term ++curwin&quot; makes the current buffer hidden. (Harm te
            Hennepe)
Solution:   Do not hide the current buffer. (closes #6170)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.0863
Problem:    Cannot set a separate color for underline/undercurl.
Solution:   Add the <A HREF="term.html#t_AU">t_AU</A> and <A HREF="term.html#t_8u">t_8u</A> <A HREF="term.html#termcap">termcap</A> codes. (Timur Celik, closes #6011)
Files:      runtime/doc/syntax.txt, runtime/doc/term.txt, src/globals.h,
            src/highlight.c, src/optiondefs.h, src/proto/term.pro,
            src/screen.c, src/structs.h, src/term.c, src/term.h,
            src/testdir/test_options.vim

Patch 8.2.0864
Problem:    Pragmas are indented all the way to the left.
Solution:   Add an option to indent pragmas like normal code. (Max Rumpf,
            closes #5468)
Files:      runtime/doc/indent.txt, src/cindent.c, src/structs.h,
            src/testdir/test_cindent.vim

Patch 8.2.0865
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> foldlevel is taken from the start of the line.
Solution:   Add &quot;<A HREF="syntax.html#:syn">:syn</A> foldlevel&quot; to be able to use the minimal foldlevel in
            the line. (Brad King, closes #6087)
Files:      runtime/doc/syntax.txt, src/structs.h, src/syntax.c,
            src/testdir/test_syntax.vim

Patch 8.2.0866
Problem:    Not enough tests for buffer <A HREF="editing.html#writing">writing</A>.
Solution:   Add more tests. Use CheckRunVimInTerminal in more places.
            (Yegappan Lakshmanan, closes #6167)
Files:      src/testdir/test_arglist.vim, src/testdir/test_match.vim,
            src/testdir/test_messages.vim, src/testdir/test_netbeans.py,
            src/testdir/test_netbeans.vim, src/testdir/test_search.vim,
            src/testdir/test_signals.vim, src/testdir/test_signs.vim,
            src/testdir/test_startup.vim, src/testdir/test_startup_utf8.vim,
            src/testdir/test_syntax.vim, src/testdir/test_tabpage.vim,
            src/testdir/test_timers.vim, src/testdir/test_vimscript.vim,
            src/testdir/test_writefile.vim

Patch 8.2.0867
Problem:    Using \{xxx} for encoding a modifier is not nice.
Solution:   Use \&lt;*xxx&gt; instead, since it's the same <A HREF="motion.html#as">as</A> \&lt;xxx&gt; but producing a
            different code.
Files:      runtime/doc/eval.txt, src/typval.c, src/misc2.c, src/vim.h,
            src/testdir/test_backspace_opt.vim, src/testdir/test_mapping.vim,
            src/testdir/test_messages.vim

Patch 8.2.0868
Problem:    <A HREF="builtin.html#trim()">trim()</A> always trims both ends.
Solution:   Add an argument to only trim the beginning or end. (Yegappan
            Lakshmanan, closes #6126)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_functions.vim

Patch 8.2.0869
Problem:    It is not possible to customize the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> contents.
Solution:   Add <A HREF="options.html#'quickfixtextfunc'">'quickfixtextfunc'</A>. (Yegappan Lakshmanan, closes #5465)
Files:      runtime/doc/eval.txt, runtime/doc/options.txt,
            runtime/doc/quickfix.txt, src/option.h, src/optiondefs.h,
            src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.0870
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Control keys don't work in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Don't set seenModifyOtherKeys for now. (Yasuhiro Matsumoto,
            closes #6175)
Files:      src/gui.c

Patch 8.2.0871
Problem:    Cannot use <A HREF="builtin.html#getmarklist()">getmarklist()</A> <A HREF="motion.html#as">as</A> a <A HREF="eval.html#method">method</A>.
Solution:   Make <A HREF="builtin.html#getmarklist()">getmarklist()</A> work <A HREF="motion.html#as">as</A> a <A HREF="eval.html#method">method</A>.  Add one to the column
            number to match <A HREF="builtin.html#getpos()">getpos()</A>. (Yegappan Lakshmanan, closes #6176)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/mark.c,
            src/testdir/test_marks.vim

Patch 8.2.0872
Problem:    <A HREF="mbyte.html#XIM">XIM</A> code is mixed with <A HREF="mbyte.html#multibyte">multibyte</A> code.
Solution:   Move the <A HREF="mbyte.html#XIM">XIM</A> code to a separate file. (Yegappan Lakshmanan,
            closes #6177)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/gui_xim.c,
            src/mbyte.c, src/proto.h, src/proto/gui_xim.pro,
            src/proto/mbyte.pro

Patch 8.2.0873
Problem:    A .jl file can be sawfish (lisp) or Julia.
Solution:   Do not recognize *.jl <A HREF="motion.html#as">as</A> lisp, since <A HREF="motion.html#it">it</A> might be Julia.
            (closes #6178)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0874
Problem:    Signals test is a bit flaky.
Solution:   Flush the XautoOut file.  Delete files that may be left behind
            from a failure. (Dominique Pellé, closes #6179)
Files:      src/testdir/test_signals.vim

Patch 8.2.0875
Problem:    Getting attributes for directory entries is slow.
Solution:   Add <A HREF="builtin.html#readdirex()">readdirex()</A>. (Ken Takata, closes #5619)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/fileio.c, src/filepath.c, src/proto/fileio.pro,
            src/proto/filepath.pro, src/testdir/test_functions.vim

Patch 8.2.0876
Problem:    <A HREF="editing.html#:pwd">:pwd</A> does not give a hint about the scope of the directory
Solution:   Make &quot;<A HREF="various.html#:verbose">:verbose</A> pwd&quot; show the scope. (Takuya Fujiwara, closes #5469)
Files:      runtime/doc/editing.txt, src/ex_docmd.c, src/testdir/test_cd.vim

Patch 8.2.0877
Problem:    Cannot get the search statistics.
Solution:   Add the <A HREF="builtin.html#searchcount()">searchcount()</A> function. (Fujiwara Takuya, closes #4446)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/macros.h,
            src/proto/search.pro, src/search.c,
            src/testdir/test_search_stat.vim

Patch 8.2.0878
Problem:    No <A HREF="builtin.html#reduce()">reduce()</A> function.
Solution:   Add a <A HREF="builtin.html#reduce()">reduce()</A> function. (closes #5481)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/globals.h, src/list.c,
            src/proto/list.pro, src/testdir/test_listdict.vim

Patch 8.2.0879
Problem:    Compiler warning for unused function argument.
Solution:   Add UNUSED.
Files:      src/search.c

Patch 8.2.0880 (after 8.2.0877)
Problem:    Leaking memory when using <A HREF="builtin.html#searchcount()">searchcount()</A>.
Solution:   Free the last used search <A HREF="pattern.html#pattern">pattern</A>.
Files:      src/search.c

Patch 8.2.0881
Problem:    Compiler warning for argument type.
Solution:   Add type cast. (Mike Williams)
Files:      src/ops.c

Patch 8.2.0882
Problem:    Leaking memory when using <A HREF="builtin.html#reduce()">reduce()</A>.
Solution:   Free the intermediate value.
Files:      src/list.c

Patch 8.2.0883
Problem:    Memory leak in test 49.
Solution:   Free &quot;sfile&quot; from the exception.
Files:      src/ex_docmd.c

Patch 8.2.0884
Problem:    Searchcount() test fails on slower systems.
Solution:   Set a longer timeout.
Files:      src/search.c, src/testdir/test_search_stat.vim

Patch 8.2.0885
Problem:    &quot;make shadow&quot; does not link new <A HREF="if_lua.html#lua">lua</A> test dir.
Solution:   Also link testdir/testluaplugin. (Elimar Riesebieter)
Files:      src/Makefile

Patch 8.2.0886
Problem:    Cannot use <A HREF="eval.html#octal">octal</A> numbers in <A HREF="eval.html#scriptversion">scriptversion</A> 4.
Solution:   Add the &quot;<A HREF="eval.html#0o">0o</A>&quot; <A HREF="intro.html#notation">notation</A>. (Ken Takata, closes #5304)
Files:      runtime/doc/eval.txt, src/charset.c, src/evalfunc.c,
            src/testdir/test_eval_stuff.vim, src/testdir/test_functions.vim,
            src/vim.h

Patch 8.2.0887
Problem:    Searchcount().exact_match is 1 right after a match.
Solution:   Use LT_POS() instead of LTOREQ_POS(). (closes #6189)
Files:      src/search.c, src/testdir/test_search_stat.vim

Patch 8.2.0888
Problem:    Readdirex() returns size -2 for a directory.
Solution:   Add missing &quot;else&quot;. (Ken Takata, closes #6185)
Files:      src/fileio.c, src/testdir/test_functions.vim

Patch 8.2.0889
Problem:    Using old style comments.
Solution:   Use <A HREF="version7.html#//">//</A> comments. (Yegappan Lakshmanan, closes #6190)
Files:      src/gui_xim.c

Patch 8.2.0890
Problem:    No color in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> when <A HREF="options.html#'termguicolors'">'termguicolors'</A> is set.
Solution:   Clear the <A HREF="syntax.html#underline">underline</A> color. (closes #6186)
Files:      src/highlight.c

Patch 8.2.0891
Problem:    Clang warns for invalid conversion.
Solution:   Use zero instead of INVALCOLOR.
Files:      src/highlight.c

Patch 8.2.0892
Problem:    Ubsan warns for undefined behavior.
Solution:   Use unsigned instead of signed variable. (Dominique Pellé,
            closes #6193)
Files:      src/regexp_nfa.c

Patch 8.2.0893
Problem:    Assert_equalfile() does not take a third argument.
Solution:   Implement the third argument. (Gary Johnson)
Files:      runtime/doc/eval.txt, runtime/doc/testing.txt, src/evalfunc.c,
            src/testdir/test_assert.vim, src/testing.c

Patch 8.2.0894
Problem:    <A HREF="spell.html#:mkspell">:mkspell</A> can take very long if the <A HREF="motion.html#word">word</A> <A HREF="intro.html#count">count</A> is high.
Solution:   Use long to avoid negative numbers.  Increase the <A HREF="vi_diff.html#limits">limits</A> by 20&#37; if
            the compression did not have effect.
Files:      src/spellfile.c

Patch 8.2.0895
Problem:    <A HREF="spell.html#:mkspell">:mkspell</A> output does not mention the tree type.
Solution:   Back out increasing the <A HREF="vi_diff.html#limits">limits</A>, <A HREF="motion.html#it">it</A> has no effect.  Mention the
            tree being compressed.  Only give a message once per second.
Files:      src/spellfile.c

Patch 8.2.0896
Problem:    Crash when calling <A HREF="builtin.html#searchcount()">searchcount()</A> with a <A HREF="eval.html#string">string</A>.
Solution:   Check the argument is a <A HREF="eval.html#dict">dict</A>. (closes #6192)
Files:      src/search.c, src/testdir/test_search_stat.vim

Patch 8.2.0897
Problem:    <A HREF="eval.html#List">List</A> of <A HREF="eval.html#functions">functions</A> in patched version is outdated.
Solution:   Update the function lists only.
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt

Patch 8.2.0898
Problem:    Missing help for a function goes unnoticed.
Solution:   Add a test. (Gary Johnson)
Files:      src/testdir/test_function_lists.vim, src/testdir/Make_all.mak

Patch 8.2.0899
Problem:    Assert_equalfile() does not give a hint about the difference.
Solution:   Display the last seen text.
Files:      src/testing.c, src/testdir/test_assert.vim

Patch 8.2.0900
Problem:    Function <A HREF="eval.html#list">list</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make sure the fileformat is &quot;<A HREF="os_unix.html#unix">unix</A>&quot;
Files:      src/testdir/test_function_lists.vim

Patch 8.2.0901
Problem:    Formatting CJK text isn't optimal.
Solution:   Properly break CJK lines. (closes #3875)
Files:      runtime/doc/change.txt, src/mbyte.c, src/ops.c, src/option.h,
            src/proto/mbyte.pro, src/testdir/Make_all.mak, src/textformat.c,
            src/testdir/test_cjk_linebreak.vim

Patch 8.2.0902
Problem:    Using <A HREF="builtin.html#searchcount()">searchcount()</A> in <A HREF="options.html#'statusline'">'statusline'</A> causes an error.
Solution:   Avoid saving/restoring the search <A HREF="pattern.html#pattern">pattern</A> recursively.
            (closes #6194)
Files:      src/search.c, src/testdir/test_search_stat.vim,
            src/testdir/dumps/Test_searchstat_4.dump

Patch 8.2.0903
Problem:    comparing WINVER does not work correctly.
Solution:   Use arithmetic expansion. (Ozaki Kiichi, closes #6197)
Files:      src/Make_cyg_ming.mak

Patch 8.2.0904
Problem:    Assuming <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> for rhs of <A HREF="map.html#mapping">mapping</A>.
Solution:   Ignore seenModifyOtherKeys for mapped characters. (closes #6200)
Files:      src/getchar.c, src/testdir/test_gui.vim

Patch 8.2.0905
Problem:    Test coverage could be better.
Solution:   Add a couple of tests. (Dominique Pellé, closes #6202)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_ga.vim

Patch 8.2.0906
Problem:    When setting <A HREF="options.html#'termguicolors'">'termguicolors'</A> SpellBad is no longer red.
Solution:   Only use the RGB guisp color for cterm when using the &quot;<A HREF="syntax.html#underline">underline</A>&quot;
            or &quot;<A HREF="syntax.html#undercurl">undercurl</A>&quot; attributes to avoid the background color to be
            cleared. Also make <A HREF="term.html#t_8u">t_8u</A> empty when the termresponse indicates a
            real xterm. (closes #6207)
Files:      src/highlight.c, src/term.c

Patch 8.2.0907
Problem:    When using <A HREF="repeat.html#:global">:global</A> <A HREF="gui.html#clipboard">clipboard</A> isn't set correctly.
Solution:   Set &quot;clip_unnamed_saved&quot; instead of &quot;clip_unnamed&quot;. (Christian
            Brabandt, closes #6203, closes #6198)
Files:      src/clipboard.c, src/testdir/test_global.vim

Patch 8.2.0908
Problem:    Crash when <A HREF="change.html#changing">changing</A> the function table while listing <A HREF="motion.html#it">it</A>.
Solution:   Bail out when the function table changes. (closes #6209)
Files:      src/userfunc.c, src/testdir/test_timers.vim

Patch 8.2.0909
Problem:    Cannot go back to the previous local directory.
Solution:   Add &quot;tcd -&quot; and &quot;lcd -&quot;. (Yegappan Lakshmanan, closes #4362)
Files:      runtime/doc/editing.txt, src/filepath.c, src/ex_docmd.c,
            src/structs.h, src/testdir/test_cd.vim, src/window.c

Patch 8.2.0910
Problem:    Vim is not reproducibly buildable.
Solution:   Use the $SOURCE_DATE_EPOCH environment variable in configure.
            (James McCoy, closes #513)  Give a warning about using <A HREF="motion.html#it">it</A>.
Files:      src/config.h.in, src/config.mk.in, src/configure.ac,
            src/auto/configure, src/version.c, src/Makefile

Patch 8.2.0911
Problem:    Crash when opening a buffer for the cmdline <A HREF="windows.html#window">window</A> fails. (Chris
            Barber)
Solution:   Check do_ecmd() succeeds.  Reset got_int if &quot;<A HREF="repeat.html#q">q</A>&quot; was used at the
            more prompt. (closes #6211)
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_cmdwin_interrupted.dump

Patch 8.2.0912
Problem:    A few test cases for CJK <A HREF="change.html#formatting">formatting</A> are disabled.
Solution:   Fix the tests and enable them. (closes #6212)
Files:      src/testdir/test_cjk_linebreak.vim

Patch 8.2.0913
Problem:    Code for resetting <A HREF="eval.html#v:register">v:register</A> is duplicated.
Solution:   Add reset_reg_var().
Files:      src/evalvars.c, src/proto/evalvars.pro, src/main.c, src/normal.c

Patch 8.2.0914
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot specify a &quot;modified by&quot; text.
Solution:   Add MODIFIED_BY in the MSVC build file.  (Chen Lei, closes #1275)
Files:      src/Make_mvc.mak

Patch 8.2.0915
Problem:    Search() cannot skip over matches like <A HREF="builtin.html#searchpair()">searchpair()</A> can.
Solution:   Add an optional &quot;skip&quot; argument. (Christian Brabandt, closes #861)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_syntax.vim,
            src/structs.h, src/evalvars.c, src/proto/evalvars.pro

Patch 8.2.0916
Problem:    Mapping with partly <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> code does not work.
Solution:   If there is no <A HREF="map.html#mapping">mapping</A> with a separate modifier include the
            modifier in the key and then try <A HREF="map.html#mapping">mapping</A> again. (closes #6200)
Files:      src/getchar.c, src/proto/getchar.pro, src/edit.c, src/term.c,
            src/proto/term.pro, src/testdir/test_termcodes.vim

Patch 8.2.0917
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> entries <A HREF="diff.html#do">do</A> not support a &quot;note&quot; type.
Solution:   Add support for &quot;note&quot;. (partly by Yegappan Lakshmanan,
            closes #5527, closes #6216)
Files:      runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.2.0918
Problem:    Duplicate code for evaluating <A HREF="eval.html#expression">expression</A> argument.
Solution:   Merge the code and make the use more flexible.
Files:      src/evalfunc.c, src/eval.c, src/proto/eval.pro, src/evalvars.c,
            src/proto/evalvars.pro, src/structs.h

Patch 8.2.0919
Problem:    Merging modifier for <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> is done <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove the merging done in vgetc().
Files:      src/getchar.c, src/ex_getln.c

Patch 8.2.0920
Problem:    Writing <A HREF="starting.html#viminfo">viminfo</A> fails with a circular reference.
Solution:   Use copyID to detect the cycle. (closes #6217)
Files:      src/testdir/test_viminfo.vim, src/viminfo.c

Patch 8.2.0921
Problem:    <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="motion.html#T">T</A> in cmdline <A HREF="windows.html#window">window</A> causes trouble.
Solution:   Disallow <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="motion.html#T">T</A> in the cmdline <A HREF="windows.html#window">window</A>.  Add more tests.
            (Naruhiko Nishino, closes #6219)
Files:      src/testdir/test_cmdline.vim, src/window.c

Patch 8.2.0922
Problem:    Search test fails.
Solution:   Remove failure tests for calls that no longer fail.
Files:      src/testdir/test_search.vim

Patch 8.2.0923
Problem:    <A HREF="cmdline.html#Cmdline">Cmdline</A> test is slow.
Solution:   Use WaitForAssert().
Files:      src/testdir/test_cmdline.vim

Patch 8.2.0924
Problem:    Cannot save and restore a <A HREF="sponsor.html#register">register</A> properly.
Solution:   Add <A HREF="builtin.html#getreginfo()">getreginfo()</A> and make <A HREF="builtin.html#setreg()">setreg()</A> accept a dictionary. (Andy
            Massimino, closes #3370)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/proto/register.pro, src/register.c,
            src/testdir/test_eval_stuff.vim, src/testdir/test_registers.vim

Patch 8.2.0925
Problem:    Getcompletion() does not return command line arguments.
Solution:   Add the &quot;cmdline&quot; option. (Shougo, closes #1140)
Files:      runtime/doc/eval.txt, src/cmdexpand.c,
            src/testdir/test_cmdline.vim

Patch 8.2.0926
Problem:    <A HREF="cmdline.html#Cmdline">Cmdline</A> test fails on Appveyor.
Solution:   Add CR to the commands. (Naruhiko Nishino, closes #6220)
Files:      src/testdir/test_cmdline.vim

Patch 8.2.0927
Problem:    Some sshconfig and ssdhconfig files are not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> patterns.
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0928
Problem:    Many type casts are used for vim_strnsave().
Solution:   Make the length argument size_t instead of int. (Ken Takata,
            closes #5633)  Remove some type casts.
Files:      src/misc2.c, src/proto/misc2.pro, src/autocmd.c, src/channel.c,
            src/cmdexpand.c, src/dict.c, src/diff.c, src/digraph.c,
            src/eval.c, src/evalfunc.c, src/highlight.c, src/syntax.c

Patch 8.2.0929
Problem:    <A HREF="eval.html#v:register">v:register</A> is not cleared after an <A HREF="motion.html#operator">operator</A> was executed.
Solution:   Clear <A HREF="eval.html#v:register">v:register</A> after finishing an <A HREF="motion.html#operator">operator</A> (Andy Massimino,
            closes #5305)
Files:      src/normal.c, src/testdir/test_registers.vim

Patch 8.2.0930
Problem:    Script <A HREF="filetype.html#filetype">filetype</A> detection trips over env <A HREF="starting.html#-S">-S</A> argument.
Solution:   Remove &quot;<A HREF="starting.html#-S">-S</A>&quot; and &quot;--ignore-environment&quot;. (closes #5013)
            Add tests.
Files:      runtime/scripts.vim, src/testdir/test_filetype.vim

Patch 8.2.0931
Problem:    Some remarks about <A HREF="os_beos.html#BeOS">BeOS</A> remain.
Solution:   Remove <A HREF="os_beos.html#BeOS">BeOS</A> remarks from the help and other files. (Emir Sarı,
            closes #6221)
Files:      READMEdir/README_extra.txt, runtime/doc/options.txt,
            runtime/doc/os_beos.txt, runtime/doc/os_vms.txt,
            runtime/doc/vi_diff.txt, src/INSTALL

Patch 8.2.0932
Problem:    Misspelling spelllang.
Solution:   Add an &quot;<A HREF="motion.html#l">l</A>&quot;. (Dominique Pellé)
Files:      src/optionstr.c, src/proto/spell.pro, src/spell.c

Patch 8.2.0933
Problem:    <A HREF="options.html#'quickfixtextfunc'">'quickfixtextfunc'</A> does not get <A HREF="windows.html#window">window</A> ID of location <A HREF="eval.html#list">list</A>.
Solution:   Add &quot;<A HREF="windows.html#winid">winid</A>&quot; to the <A HREF="eval.html#dict">dict</A> argument. (Yegappan Lakshmanan,
            closes #6222)
Files:      runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.2.0934
Problem:    Running lhelpgrep <A HREF="if_cscop.html#twice">twice</A> in a help <A HREF="windows.html#window">window</A> doesn't jump to the help
            topic.
Solution:   Check whether any <A HREF="windows.html#window">window</A> with the location <A HREF="eval.html#list">list</A> is present.
            (Yegappan Lakshmanan, closes #6215)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.0935
Problem:    Flattening a <A HREF="eval.html#list">list</A> with existing code is slow.
Solution:   Add <A HREF="builtin.html#flatten()">flatten()</A>. (Mopp, closes #3676)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/list.c, src/proto/list.pro, src/testdir/Make_all.mak,
            src/testdir/test_flatten.vim

Patch 8.2.0936
Problem:    Some terminals misinterpret the code for getting cursor style.
Solution:   Send a sequence to the <A HREF="terminal.html#terminal">terminal</A> and check the result. (IWAMOTO
            Kouichi, closes #2126)  Merged with current code.
Files:      src/main.c, src/term.c, src/proto/term.pro,
            src/testdir/term_util.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_terminal.vim, src/testdir/test_startup_utf8.vim,
            src/testdir/dumps/Test_balloon_eval_term_01.dump,
            src/testdir/dumps/Test_balloon_eval_term_01a.dump,
            src/testdir/dumps/Test_balloon_eval_term_02.dump,
            src/testdir/dumps/Test_terminal_all_ansi_colors.dump

Patch 8.2.0937
Problem:    Asan failure in the <A HREF="builtin.html#flatten()">flatten()</A> test.
Solution:   Free the flattened <A HREF="eval.html#list">list</A>.
Files:      src/list.c

Patch 8.2.0938
Problem:    <A HREF="pattern.html#NFA">NFA</A> <A HREF="pattern.html#regexp">regexp</A> uses <A HREF="builtin.html#tolower()">tolower()</A> to compare ignore-case. (Thayne McCombs)
Solution:   Use utf_fold() when possible. (ref. neovim #12456)
Files:      src/macros.h, src/diff.c, src/regexp_nfa.c,
            src/testdir/test_regexp_utf8.vim

Patch 8.2.0939
Problem:    checking for term <A HREF="intro.html#escape">escape</A> sequences is long and confusing
Solution:   Refactor code into separate <A HREF="eval.html#functions">functions</A>.
Files:      src/term.c

Patch 8.2.0940 (after 8.2.0939)
Problem:    Build failure with tiny features.
Solution:   Add #ifdef.  Add UNUSED.  A bit more cleaning up.
Files:      src/term.c

Patch 8.2.0941
Problem:    Detecting <A HREF="terminal.html#terminal">terminal</A> properties is unstructured.
Solution:   Add a table with <A HREF="terminal.html#terminal">terminal</A> properties.  Set properties when a
            <A HREF="terminal.html#terminal">terminal</A> is detected.
Files:      src/term.c

Patch 8.2.0942
Problem:    Expanding to local dir after homedir keeps &quot;~/&quot;.
Solution:   Adjust modify_fname(). (Christian Brabandt, closes #6205,
            closes #5979)
Files:      src/filepath.c, src/testdir/test_fnamemodify.vim

Patch 8.2.0943
Problem:    Displaying ^M or ^J depends on current buffer.
Solution:   Pass the displayed buffer to transchar(). (closes #6225)
Files:      src/drawline.c, src/charset.c, src/proto/charset.pro,
            src/ex_cmds.c, src/gui_beval.c, src/message.c,
            src/testdir/test_display.vim,
            src/testdir/dumps/Test_display_unprintable_01.dump,
            src/testdir/dumps/Test_display_unprintable_02.dump

Patch 8.2.0944
Problem:    Xxd test leaves file behind.
Solution:   Delete the file &quot;XXDfile&quot;. (Christian Brabandt, closes #6228)
Files:      src/testdir/test_xxd.vim

Patch 8.2.0945
Problem:    Cannot use &quot;<A HREF="spell.html#z=">z=</A>&quot; when <A HREF="options.html#'spell'">'spell'</A> is off.
Solution:   Make &quot;<A HREF="spell.html#z=">z=</A>&quot; work even when <A HREF="options.html#'spell'">'spell'</A> is off. (Christian Brabandt,
            Gary Johnson, closes #6227)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/spell.c,
            src/spellsuggest.c, src/testdir/test_spell.vim, src/globals.h

Patch 8.2.0946
Problem:    Cannot use &quot;<A HREF="repeat.html#q">q</A>&quot; to cancel a number prompt.
Solution:   Recognize &quot;<A HREF="repeat.html#q">q</A>&quot; instead of ignoring <A HREF="motion.html#it">it</A>.
Files:      src/misc1.c, src/testdir/test_functions.vim

Patch 8.2.0947
Problem:    Readdirex() doesn't handle broken link properly.
Solution:   Small fixes to <A HREF="builtin.html#readdirex()">readdirex()</A>. (Christian Brabandt, closes #6226,
            closes #6213)
Files:      src/fileio.c, src/testdir/test_functions.vim

Patch 8.2.0948
Problem:    Spell test fails.
Solution:   Adjust expected text of the prompt.
Files:      src/testdir/test_spell.vim

Patch 8.2.0949
Problem:    Strptime() does not use DST.
Solution:   Set the tm_isdst field to -1. (Tomáš Janoušek, closes #6230)
Files:      src/time.c, src/testdir/test_functions.vim

Patch 8.2.0950
Problem:    Tagjump test fails.
Solution:   Adjust expected text of the prompt.
Files:      src/testdir/test_tagjump.vim

Patch 8.2.0951
Problem:    Search stat test has leftover from debugging.
Solution:   Remove line that writes a file. (Christian Brabandt, closes #6224)
Files:      src/testdir/test_search_stat.vim

Patch 8.2.0952
Problem:    No simple way to interrupt Vim.
Solution:   Add the <A HREF="autocmd.html#SigUSR1">SigUSR1</A> <A HREF="autocmd.html#autocommand">autocommand</A>, triggered by SIGUSR1. (Jacob Hayes,
            closes #1718)
Files:      runtime/doc/autocmd.txt, src/vim.h, src/autocmd.c, src/getchar.c,
            src/globals.h, src/os_unix.c, src/testdir/test_autocmd.vim

Patch 8.2.0953
Problem:    Spell checking doesn't work for CamelCased words.
Solution:   Add the &quot;camel&quot; value in the new option <A HREF="options.html#'spelloptions'">'spelloptions'</A>.
            (closes #1235)
Files:      runtime/doc/options.txt, runtime/doc/spell.txt, src/optiondefs.h,
            src/option.h, src/option.c, src/buffer.c, src/optionstr.c,
            src/testdir/gen_opt_test.vim, src/testdir/test_spell.vim

Patch 8.2.0954
Problem:    Not all desktop files are recognized.
Solution:   Add the *.directory <A HREF="pattern.html#pattern">pattern</A>. (Eisuke Kawashima, closes #3317)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0955 (after 8.2.0953)
Problem:    Build fails.
Solution:   Add missing struct change.
Files:      src/structs.h

Patch 8.2.0956 (after 8.2.0953)
Problem:    Spell test fails.
Solution:   Add missing change the <A HREF="spell.html#spell">spell</A> checking.
Files:      src/spell.c

Patch 8.2.0957
Problem:    Compiler warning for uninitialized variable. (Tony Mechelynck)
Solution:   Initialize one variable.
Files:      src/spell.c

Patch 8.2.0958
Problem:    Not sufficient <A HREF="testing.html#testing">testing</A> for buffer <A HREF="editing.html#writing">writing</A>.
Solution:   Add a few tests. (Yegappan Lakshmanan, closes #6238)
Files:      src/testdir/test_backup.vim, src/testdir/test_writefile.vim

Patch 8.2.0959
Problem:    Using <A HREF="options.html#'quickfixtextfunc'">'quickfixtextfunc'</A> is a bit slow.
Solution:   Process a <A HREF="eval.html#list">list</A> of entries. (Yegappan Lakshmanan, closes #6234)
Files:      runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.2.0960
Problem:    Cannot use <A HREF="vim9.html#:import">:import</A> in legacy Vim <A HREF="usr_41.html#script">script</A>.
Solution:   Support <A HREF="vim9.html#:import">:import</A> in any Vim <A HREF="usr_41.html#script">script</A>.
Files:      src/vim9script.c, src/evalvars.c, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.0961
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: no completion for locales.
Solution:   Use the directories in $VIMRUNTIME/lang to complete locales.
            (Christian Brabandt, closes 36248)
Files:      src/cmdexpand.c, src/ex_cmds2.c, src/testdir/test_cmdline.vim

Patch 8.2.0962
Problem:    Terminal test sometimes hangs on Travis.
Solution:   Do show output for this test temporarily.
Files:      src/testdir/Makefile

Patch 8.2.0963
Problem:    <A HREF="eval.html#Number">Number</A> increment/decrement does not work with <A HREF="options.html#'virtualedit'">'virtualedit'</A>.
Solution:   Handle coladd <A HREF="change.html#changing">changing</A>. (Christian Brabandt, closes #6240,
            closes #923)
Files:      runtime/doc/options.txt, runtime/doc/various.txt, src/ops.c,
            src/testdir/test_increment.vim

Patch 8.2.0964
Problem:    <A HREF="autocmd.html#TextYankPost">TextYankPost</A> does not provide info about <A HREF="visual.html#Visual">Visual</A> selection.
Solution:   Add the 'visual' key in <A HREF="eval.html#v:event">v:event</A>. (closes #6249)
Files:      runtime/doc/autocmd.txt, src/register.c,
            src/testdir/test_autocmd.vim

Patch 8.2.0965
Problem:    Has_funcundefined() is not used.
Solution:   Delete the function. (Dominique Pellé, closes #6242)
Files:      src/autocmd.c, src/proto/autocmd.pro

Patch 8.2.0966
Problem:    <A HREF="options.html#'shortmess'">'shortmess'</A> flag &quot;<A HREF="pattern.html#n">n</A>&quot; not used in two places.
Solution:   Make use of the &quot;<A HREF="pattern.html#n">n</A>&quot; flag consistent. (Nick Jensen, closes #6245,
            closes #6244)
Files:      src/bufwrite.c, src/proto/bufwrite.pro, src/buffer.c,
            src/fileio.c, src/testdir/dumps/Test_popup_textprop_corn_5.dump,
            src/testdir/dumps/Test_start_with_tabs.dump

Patch 8.2.0967
Problem:    Unnecessary type casts for vim_strnsave().
Solution:   Remove the type casts.
Files:      src/evalvars.c, src/ex_cmds.c, src/ex_eval.c, src/fileio.c,
            src/filepath.c, src/findfile.c, src/highlight.c, src/if_ruby.c,
            src/insexpand.c, src/json.c, src/mark.c, src/memline.c,
            src/menu.c, src/misc1.c, src/ops.c, src/os_win32.c, src/regexp.c,
            src/regexp_bt.c, src/regexp_nfa.c, src/register.c, src/search.c,
            src/sign.c, src/syntax.c, src/term.c, src/terminal.c, src/undo.c,
            src/usercmd.c, src/userfunc.c, src/vim9compile.c, src/if_perl.xs

Patch 8.2.0968
Problem:    No proper <A HREF="testing.html#testing">testing</A> of the <A HREF="options.html#'cpoptions'">'cpoptions'</A> flags.
Solution:   Add tests. (Yegappan Lakshmanan, closes #6251)
Files:      src/testdir/Make_all.mak, src/testdir/test_cpoptions.vim,
            src/testdir/test_edit.vim, src/testdir/test_normal.vim

Patch 8.2.0969
Problem:    Assert_equal() output for dicts is hard to figure out.
Solution:   Only show the different items.
Files:      src/testing.c, src/testdir/test_assert.vim

Patch 8.2.0970
Problem:    Terminal properties are not available in Vim <A HREF="usr_41.html#script">script</A>.
Solution:   Add the <A HREF="builtin.html#terminalprops()">terminalprops()</A> function.
Files:      src/term.c, src/proto/term.pro, src/evalfunc.c, src/main.c,
            src/testing.c, src/globals.h, src/testdir/test_termcodes.vim,
            runtime/doc/usr_41.txt, runtime/doc/eval.txt,
            runtime/doc/testing.txt

Patch 8.2.0971
Problem:    Build with tiny features fails.
Solution:   Add #ifdef.
Files:      src/term.c

Patch 8.2.0972
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> variable declarations need a type.
Solution:   Make &quot;let var: type&quot; declare a <A HREF="map.html#script-local">script-local</A> variable.
Files:      src/evalvars.c, src/vim9script.c, src/proto/vim9script.pro,
            src/globals.h, src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.0973
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type is not checked when assigning to a <A HREF="usr_41.html#script">script</A> variable.
Solution:   Check the type.
Files:      src/evalvars.c, src/vim9script.c, src/proto/vim9script.pro,
            src/vim9compile.c, src/proto/vim9compile.pro,
            src/testdir/test_vim9_script.vim

Patch 8.2.0974
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when <A HREF="usr_41.html#script">script</A> var has wrong type.
Solution:   Free the variable name.
Files:      src/vim9script.vim

Patch 8.2.0975
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> variable does not accept optional <A HREF="change.html#s">s</A>: prefix.
Solution:   Adjust the accepted <A HREF="syntax.html#syntax">syntax</A>.
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.0976
Problem:    Some <A HREF="options.html#'cpoptions'">'cpoptions'</A> not tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6253)
Files:      src/testdir/test_cd.vim, src/testdir/test_charsearch.vim,
            src/testdir/test_cpoptions.vim, src/testdir/test_normal.vim

Patch 8.2.0977
Problem:    <A HREF="term.html#t_8u">t_8u</A> is made empty for the wrong terminals. (Dominique Pelle)
Solution:   Invert the check for TPR_YES. (closes #6254)
Files:      src/term.c, src/testdir/test_termcodes.vim

Patch 8.2.0978
Problem:    Leaking memory in termcodes test.
Solution:   Set <A HREF="term.html#t_8u">t_8u</A> with set_option_value().
Files:      src/term.c

Patch 8.2.0979
Problem:    A couple of screendump tests fail.
Solution:   Do not redraw when clearing <A HREF="term.html#t_8u">t_8u</A>.
Files:      src/term.c

Patch 8.2.0980
Problem:    Raku file extension not recognized. (Steven Penny)
Solution:   Recognize .raku and .rakumod. (closes #6255)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0981
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot compile &quot;[var, var] = list&quot;.
Solution:   Implement <A HREF="eval.html#list">list</A> assignment.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/evalvars.c,
            src/proto/evalvars.pro, src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.0982
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for reading/writing files.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6257)
            Add &quot;ui_delay&quot; to <A HREF="testing.html#test_override()">test_override()</A> and use <A HREF="motion.html#it">it</A> for the <A HREF="motion.html#CTRL-O">CTRL-O</A> test.
Files:      src/testing.c, src/globals.h, src/ui.c, runtime/doc/testing.txt,
            src/testdir/test_autocmd.vim, src/testdir/test_edit.vim,
            src/testdir/test_filechanged.vim, src/testdir/test_writefile.vim

Patch 8.2.0983
Problem:    SConstruct file type not recognized.
Solution:   Use <A HREF="if_pyth.html#python">python</A> for SConstruct files. (Roland Hieber)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.0984
Problem:    Not using previous <A HREF="windows.html#window">window</A> when closing a shell <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Use &quot;prevwin&quot; if <A HREF="motion.html#it">it</A> was set. (closes #6267)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.0985
Problem:    Simplify() does not remove slashes from &quot;///path&quot;.
Solution:   Reduce <A HREF="change.html#&gt;">&gt;</A> 2 slashes to one. (closes #6263)
Files:      src/findfile.c, src/testdir/test_functions.vim

Patch 8.2.0986 (after 8.2.0985)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="eval.html#functions">functions</A> test fails.
Solution:   Only simplify ///path on <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/testdir/test_functions.vim

Patch 8.2.0987
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to [var; var].
Solution:   Assign rest of items to a <A HREF="eval.html#list">list</A>.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/list.c,
            src/proto/list.pro, src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.0988
Problem:    Getting directory contents is always <A HREF="change.html#case">case</A> sorted.
Solution:   Add sort <A HREF="options.html#options">options</A> and <A HREF="eval.html#v:collate">v:collate</A>. (Christian Brabandt, closes #6229)
Files:      runtime/doc/eval.txt, runtime/doc/mlang.txt, src/auto/configure,
            src/cmdexpand.c, src/config.h.in, src/configure.ac,
            src/evalfunc.c, src/evalvars.c, src/ex_cmds2.c, src/fileio.c,
            src/filepath.c, src/globals.h, src/proto/fileio.pro,
            src/testdir/test_cmdline.vim, src/testdir/test_functions.vim,
            src/vim.h

Patch 8.2.0989
Problem:    Crash after resizing a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (August Masquelier)
Solution:   Add check for valid row in libvterm. (closes #6273)
Files:      src/libvterm/src/state.c, src/libvterm/src/screen.c

Patch 8.2.0990 (after 8.2.0988)
Problem:    Using duplicate error number.
Solution:   Use an unused error number.  Add a test for <A HREF="motion.html#it">it</A>.
Files:      src/globals.h, src/testdir/test_functions.vim

Patch 8.2.0991
Problem:    Cannot get <A HREF="windows.html#window">window</A> type for autocmd and preview <A HREF="windows.html#window">window</A>.
Solution:   Add types to <A HREF="builtin.html#win_gettype()">win_gettype()</A>. (Yegappan Lakshmanan, closes #6277)
Files:      runtime/doc/eval.txt, src/evalwindow.c,
            src/testdir/test_autocmd.vim, src/testdir/test_preview.vim

Patch 8.2.0992
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using <A HREF="vim9.html#:import">:import</A> in the Vim command.
Solution:   Give an error when using <A HREF="vim9.html#:import">:import</A> outside of a <A HREF="usr_41.html#script">script</A>.
            (closes #6271)
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim,
            src/testdir/term_util.vim

Patch 8.2.0993
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> test fails with normal features.
Solution:   Use :func instead of <A HREF="vim9.html#:def">:def</A> for now.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0994
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing function causes compilation error.
Solution:   Call test function indirectly.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.0995
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for the <A HREF="builtin.html#readdir()">readdir()</A> sort option.
Solution:   Add a few more tests. (Christian Brabandt, closes #6278)
Files:      src/testdir/test_functions.vim

Patch 8.2.0996
Problem:    Using &quot;aucmdwin&quot; in <A HREF="builtin.html#win_gettype()">win_gettype()</A> is not ideal.
Solution:   Rename to &quot;autocmd&quot;.
Files:      runtime/doc/eval.txt, src/evalwindow.c,
            src/testdir/test_autocmd.vim

Patch 8.2.0997
Problem:    Cannot execute a <A HREF="sponsor.html#register">register</A> containing line continuation.
Solution:   Concatenate lines where needed. (Yegappan Lakshmanan,
            closes #6272)
Files:      runtime/doc/repeat.txt, src/register.c,
            src/testdir/test_registers.vim

Patch 8.2.0998
Problem:    Not all <A HREF="tagsrch.html#tag">tag</A> code is tested.
Solution:   Add a few more test cases. (Yegappan Lakshmanan, closes #6284)
Files:      src/testdir/test_tagjump.vim

Patch 8.2.0999
Problem:    Moving to next <A HREF="motion.html#sentence">sentence</A> gets stuck on <A HREF="change.html#quote.">quote.</A>
Solution:   When moving to the next <A HREF="motion.html#sentence">sentence</A> doesn't result in moving, advance
            a character and try again. (closes #6291)
Files:      src/textobject.c, src/testdir/test_textobjects.vim

Patch 8.2.1000
Problem:    Get error when leaving <A HREF="intro.html#Ex">Ex</A> mode with <A HREF="editing.html#:visual">:visual</A> and a CmdLineEnter
            <A HREF="autocmd.html#autocommand">autocommand</A> was used.
Solution:   Reset ex_pressedreturn. (closes #6293)
Files:      src/ex_docmd.c, src/testdir/test_ex_mode.vim

Patch 8.2.1001
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash with nested &quot;if&quot; and assignment.
Solution:   Skip more of the assignment.  Do not set ctx_skip when code is
            reachable.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1002
Problem:    Test may fail when run directly.
Solution:   Check if g:run_nr exists. (Christian Brabandt, closes #6285)
Files:      src/testdir/term_util.vim

Patch 8.2.1003
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#sort()">sort()</A> is too generic.
Solution:   Get type from the first argument. (closes #6292)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1004
Problem:    Line numbers below filler lines not always updated.
Solution:   Don't break out of the win_line() loop too early. (Christian
            Brabandt, closes #6294, closes #6138)
Files:      src/drawline.c, src/testdir/dumps/Test_diff_rnu_01.dump,
            src/testdir/dumps/Test_diff_rnu_02.dump,
            src/testdir/dumps/Test_diff_rnu_03.dump,
            src/testdir/test_diffmode.vim

Patch 8.2.1005
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using TRUE/FALSE/MAYBE for ctx_skip is confusing.
Solution:   Use an enum value.
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.1006
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: require unnecessary return statement.
Solution:   Improve the use of the had_return flag. (closes #6270)
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.1007
Problem:    Completion doesn't work after &quot;<A HREF="insert.html#:r">:r</A> ++arg !&quot;.
Solution:   Skip over &quot;++arg&quot;. (Christian Brabandt, closes #6275,
            closes #6258)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.1008
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for disassembling newly added instructions.
Solution:   Add a function and check disassembly.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.1009
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some failures not checked for.
Solution:   Add test cases.  Remove unused code.
Files:      src/testdir/test_vim9_script.vim, src/vim9execute.c

Patch 8.2.1010
Problem:    Build failure in libvterm with debug enabled. (John Little)
Solution:   Use &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot; instead of &quot;<A HREF="repeat.html#.">.</A>&quot;.
Files:      src/libvterm/src/state.c

Patch 8.2.1011
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not tested.
Solution:   Add a few more test cases.  Reorder checks for clearer error.
            Remove unreachable code.
Files:      src/evalvars.c, src/vim9script.c, src/vim9execute.c,
            src/proto/vim9script.pro, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1012
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot declare single character <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A>.
Solution:   Don't see &quot;<A HREF="eval.html#b:">b:</A>&quot;, &quot;s:&quot;, etc. <A HREF="motion.html#as">as</A> namespace.  Fix item size of
            sn_var_vals.
Files:      src/vim9script.c, src/scriptfile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1013
Problem:    <A HREF="eval.html#Channel">Channel</A> tests can be a bit flaky.
Solution:   Set the g:test_is_flaky flag in SetUp().
Files:      src/testdir/test_channel.vim

Patch 8.2.1014
Problem:    Using &quot;name&quot; for a <A HREF="eval.html#string">string</A> result is confusing.
Solution:   Rename to &quot;end&quot;.
Files:      src/typval.c

Patch 8.2.1015
Problem:    Popup <A HREF="change.html#filter">filter</A> gets key with modifier prepended when using
            <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A>.
Solution:   Remove the <A HREF="intro.html#shift">shift</A> modifier when <A HREF="motion.html#it">it</A> is included in the key, also
            when the Alt or Meta modifier is used.
Files:      src/term.c, src/misc2.c, src/testdir/test_popupwin.vim

Patch 8.2.1016
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails when <A HREF="channel.html#channel">channel</A> feature is missing.
Solution:   Process an <A HREF="eval.html#:if">:if</A> command when skipping
Files:      src/vim9compile.c

Patch 8.2.1017
Problem:    Appveyor output doesn't show MinGW console features.
Solution:   <A HREF="eval.html#List">List</A> the features of the console build.
Files:      ci/appveyor.bat

Patch 8.2.1018
Problem:    Typo in enum value. (James McCoy)
Solution:   Fix the typo.
Files:      src/vim9compile.c

Patch 8.2.1019
Problem:    Mapping &lt;M-S-a&gt; does not work in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Move the logic to remove the <A HREF="intro.html#shift">shift</A> modifier to
            may_remove_shift_modifier() and also use <A HREF="motion.html#it">it</A> in the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/gui_gtk_x11.c, src/misc2.c, src/proto/misc2.pro, src/term.c

Patch 8.2.1020
Problem:    Popupwin test fails in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Send <A HREF="gui.html#GUI">GUI</A> byte sequence for &lt;C-S-a&gt;.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.1021
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A> interface not tested enough.
Solution:   Add a couple more tests. (Dominique Pellé, closes #6301)
Files:      src/testdir/test_ruby.vim

Patch 8.2.1022
Problem:    Various parts of code not covered by tests.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6300)
Files:      src/testdir/test_blob.vim, src/testdir/test_cpoptions.vim,
            src/testdir/test_digraph.vim, src/testdir/test_edit.vim,
            src/testdir/test_iminsert.vim, src/testdir/test_paste.vim,
            src/testdir/test_prompt_buffer.vim,
            src/testdir/test_selectmode.vim, src/testdir/test_tabpage.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_textformat.vim,
            src/testdir/test_viminfo.vim, src/testdir/test_virtualedit.vim,
            src/testdir/test_visual.vim

Patch 8.2.1023
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: redefining a function uses a new index every time.
Solution:   When redefining a function clear the contents and re-use the
            index.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/userfunc.c,
            src/structs.h, src/eval.c, src/evalvars.c, src/vim9execute.c

Patch 8.2.1024
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for using &quot;let <A HREF="eval.html#g:var">g:var</A> = val&quot;.
Solution:   Add an error.
Files:      src/evalvars.c, src/globals.h, src/structs.h, src/vim9compile.c,
            src/scriptfile.c, src/userfunc.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.1025
Problem:    Tabpage menu and tabline not sufficiently tested.
Solution:   Add tests. (Yegappan Lakshmanan, closes #6307)
Files:      src/testdir/test_digraph.vim, src/testdir/test_tabpage.vim

Patch 8.2.1026
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot break the line after &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot;.
Solution:   Check for a continuation line after &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot;, &quot;<A HREF="index.html#[">[</A>&quot; and &quot;<A HREF="repeat.html#.">.</A>&quot;.  Ignore
            trailing white space.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1027
Problem:    <A HREF="gui.html#GUI">GUI</A>: <A HREF="mbyte.html#multibyte">multibyte</A> characters <A HREF="diff.html#do">do</A> not work in a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Do not assume a key is one byte. (closes #6304)
Files:      src/gui_gtk_x11.c, src/gui_x11.c

Patch 8.2.1028
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for declaring buffer, <A HREF="windows.html#window">window</A>, etc. variable.
Solution:   Give an error.  Unify the error <A HREF="message.html#messages">messages</A>.
Files:      src/evalvars.c, src/globals.h, src/vim9compile.c,
            src/proto/vim9compile.pro, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1029
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot chain function calls with <A HREF="eval.html#-&gt;">-&gt;</A> at line start.
Solution:   Peek ahead for a following line starting with &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot;. (closes #6306)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1030
Problem:    Reducing size of a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> may cause a crash.
Solution:   Make sure the row and column don't become negative. (closes #6273)
Files:      src/libvterm/src/state.c, src/libvterm/src/screen.c

Patch 8.2.1031
Problem:    Build failure with Perl5.32.
Solution:   Define a few more <A HREF="eval.html#functions">functions</A>. (Felix Yan, closes #6310)
Files:      src/if_perl.xs

Patch 8.2.1032
Problem:    Error message for declaring a variable cannot be translated.
Solution:   Enclose in _().  Make environment variable a separate message.
Files:      src/globals.h, src/vim9compile.c

Patch 8.2.1033
Problem:    Not <A HREF="starting.html#easy">easy</A> to read the test time in the test output.
Solution:   Align the times.  Make slow tests <A HREF="syntax.html#bold">bold</A>.
Files:      src/testdir/runtest.vim

Patch 8.2.1034
Problem:    Compiler warning for uninitialized <A HREF="eval.html#variables">variables</A>.
Solution:   Add initializations. (John Marriott)
Files:      src/vim9compile.c

Patch 8.2.1035
Problem:    <A HREF="builtin.html#setreg()">setreg()</A> does not always clear the <A HREF="sponsor.html#register">register</A>.
Solution:   Clear the <A HREF="sponsor.html#register">register</A> if the <A HREF="eval.html#dict">dict</A> argument is empty. (Andy Massimino,
            closes #3370)
Files:      src/evalfunc.c, src/testdir/test_registers.vim

Patch 8.2.1036
Problem:    Popupwin test fails sometimes.
Solution:   Use WaitForAssert() instead of a sleep.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.1037
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using line continuation inside <A HREF="vim9.html#:def">:def</A>.
Solution:   Check for no more lines available.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1038
Problem:    Popupwin test fails.
Solution:   Fix WaitForAssert() argument.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.1039
Problem:    Cannot put NUL byte on <A HREF="gui.html#clipboard">clipboard</A>.
Solution:   Use the text length. (Christian Brabandt, closes #6312,
            closes #6149)
Files:      src/winclip.c, src/testdir/test_registers.vim

Patch 8.2.1040
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for <A HREF="intro.html#movement">movement</A> commands.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6313)
Files:      src/testdir/test_cursor_func.vim, src/testdir/test_functions.vim,
            src/testdir/test_gf.vim, src/testdir/test_normal.vim,
            src/testdir/test_options.vim, src/testdir/test_quickfix.vim

Patch 8.2.1041
Problem:    Test summary is missing executed <A HREF="intro.html#count">count</A>.
Solution:   Adjust <A HREF="pattern.html#pattern">pattern</A> used for counting.
Files:      src/testdir/summarize.vim

Patch 8.2.1042
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot put an <A HREF="motion.html#operator">operator</A> on the next line.
Solution:   Require a colon before a range to see if that causes problems.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/ex_docmd.c,
            src/globals.h, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1043
Problem:    &#37;a item in <A HREF="options.html#'statusline'">'statusline'</A> not tested.
Solution:   Add a test. (Dominique Pellé, closes #6318)
Files:      src/testdir/test_statusline.vim

Patch 8.2.1044
Problem:    Not all systemd file types are recognized.
Solution:   Match several more files. (Guido Cella, closes #6319)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1045
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line break before <A HREF="motion.html#operator">operator</A> does not work.
Solution:   Peek the next line for an <A HREF="motion.html#operator">operator</A>.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1046
Problem:    Insufficient tests for src/buffer.c.
Solution:   Add more tests.  Move comments related tests to a separate file.
            (Yegappan Lakshmanan, closes #6325)
Files:      src/testdir/Make_all.mak, src/testdir/test_buffer.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_comments.vim,
            src/testdir/test_normal.vim, src/testdir/test_textformat.vim

Patch 8.2.1047
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> cannot use line continuation like in a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Pass the getline function pointer to the <A HREF="builtin.html#eval()">eval()</A> <A HREF="eval.html#functions">functions</A>.  Use <A HREF="motion.html#it">it</A>
            for addition and multiplication operators.
Files:      src/vim.h, src/structs.h, src/globals.h, src/ex_eval.c,
            src/eval.c, src/proto/eval.pro, src/dict.c, src/evalfunc.c,
            src/evalvars.c, src/list.c, src/userfunc.c, src/scriptfile.c,
            src/proto/scriptfile.pro, src/testdir/test_vim9_expr.vim

Patch 8.2.1048 (after 8.2.1047)
Problem:    Build failure without the <A HREF="eval.html#eval">eval</A> feature.
Solution:   Add dummy typedef.
Files:      src/structs.h

Patch 8.2.1049 (after 8.2.1047)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when using continuation line.
Solution:   Keep a pointer to the continuation line in evalarg_T.  Centralize
            checking for a next command.
Files:      src/structs.h, src/eval.c, src/proto/eval.pro, src/beval.c,
            src/buffer.c, src/clientserver.c, src/evalvars.c, src/ex_docmd.c,
            src/ex_eval.c, src/filepath.c, src/findfile.c, src/fold.c,
            src/globals.h, src/if_ole.cpp, src/if_perl.xs, src/if_tcl.c,
            src/map.c, src/quickfix.c, src/regexp.c, src/register.c,
            src/screen.c, src/userfunc.c

Patch 8.2.1050 (after 8.2.1049)
Problem:    Missing change in struct.
Solution:   Add missing change.
Files:      src/ex_cmds.h

Patch 8.2.1051
Problem:    Crash when <A HREF="change.html#changing">changing</A> a <A HREF="eval.html#list">list</A> while using <A HREF="builtin.html#reduce()">reduce()</A> on <A HREF="motion.html#it">it</A>.
Solution:   Lock the <A HREF="eval.html#list">list</A>. (closes #6330)
Files:      src/list.c, src/testdir/test_listdict.vim

Patch 8.2.1052
Problem:    Build failure with older compilers.
Solution:   Move declaration to start of block.
Files:      src/eval.c

Patch 8.2.1053
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for <A HREF="options.html#'statusline'">'statusline'</A> and <A HREF="options.html#'tabline'">'tabline'</A>.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6333)
Files:      src/testdir/test_autocmd.vim, src/testdir/test_statusline.vim,
            src/testdir/test_tabline.vim

Patch 8.2.1054
Problem:    Not so <A HREF="starting.html#easy">easy</A> to pass a <A HREF="if_lua.html#lua">lua</A> function to Vim.
Solution:   Convert a <A HREF="if_lua.html#Lua">Lua</A> function and <A HREF="eval.html#closure">closure</A> to a Vim funcref. (Prabir
            Shrestha, closes #6246)
Files:      runtime/doc/if_lua.txt, src/if_lua.c, src/proto/userfunc.pro,
            src/structs.h, src/testdir/test_lua.vim, src/userfunc.c

Patch 8.2.1055
Problem:    No <A HREF="filetype.html#filetype">filetype</A> set for pacman config files.
Solution:   Recognize pacman.conf and *.hook. (Guido Cella, closes #6335)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1056
Problem:    Wrong display when mixing match <A HREF="syntax.html#conceal">conceal</A> and <A HREF="syntax.html#syntax">syntax</A> <A HREF="syntax.html#conceal">conceal</A>.
Solution:   Adjust how <A HREF="syntax.html#conceal">conceal</A> flags are used. (closes #6327, closes #6303)
Files:      src/drawline.c, src/highlight.c,
            src/testdir/test_matchadd_conceal.vim

Patch 8.2.1057 (after 8.2.1054)
Problem:    Cannot build with dynamic <A HREF="if_lua.html#Lua">Lua</A>.
Solution:   Add dll <A HREF="eval.html#variables">variables</A>.
Files:      src/if_lua.c

Patch 8.2.1058
Problem:    Multiline <A HREF="syntax.html#conceal">conceal</A> causes display <A HREF="message.html#errors">errors</A>.
Solution:   Do not allow <A HREF="syntax.html#conceal">conceal</A> cross over EOL. (closes #6326, closes #4854,
            closes #6302)
Files:      src/drawline.c, src/testdir/test_conceal.vim,
            src/testdir/test_diffmode.vim

Patch 8.2.1059
Problem:    Crash when using <A HREF="tabpage.html#:tabonly">:tabonly</A> in an <A HREF="autocmd.html#autocommand">autocommand</A>. (Yegappan Lakshmanan)
Solution:   Do not allow the <A HREF="autocmd.html#autocommand">autocommand</A> <A HREF="windows.html#window">window</A> to be closed.
Files:      src/ex_docmd.c, src/window.c, src/globals.h,
            src/testdir/test_autocmd.vim

Patch 8.2.1060
Problem:    Not all elinks files are recognized.
Solution:   Just check for &quot;elinks.conf&quot;. (Guido Cella, closes #6337)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1061
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for src/window.c.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6345)
Files:      src/testdir/test_excmd.vim, src/testdir/test_gf.vim,
            src/testdir/test_options.vim, src/testdir/test_popupwin.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_tabpage.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_window_cmd.vim,
            src/window.c

Patch 8.2.1062
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed inside &quot;cond ? val1 : val2&quot;.
Solution:   Check for <A HREF="motion.html#operator">operator</A> after line break.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1063
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed before &#124;&#124; or &amp;&amp;.
Solution:   Check for <A HREF="motion.html#operator">operator</A> after line break.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1064
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed before comparators.
Solution:   Check for comparator after line break.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1065
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed inside a <A HREF="eval.html#list">list</A>.
Solution:   Handle line break inside a <A HREF="eval.html#list">list</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/eval.c, src/proto/eval.pro, src/list.c, src/proto/list.pro,
            src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_arglist.vim

Patch 8.2.1066
Problem:    <A HREF="if_lua.html#Lua">Lua</A> arrays are zero based.
Solution:   Make <A HREF="if_lua.html#Lua">Lua</A> arrays one based. (Prabir Shrestha, closes #6347)
            Note: this is not backwards compatible.
Files:      runtime/doc/if_lua.txt, src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.1067
Problem:    Expression &quot;!expr-&gt;func()&quot; does not work.
Solution:   Apply plus and minus earlier. (closes #6348)
Files:      src/eval.c, src/proto/eval.pro, src/evalvars.c, src/userfunc.c,
            src/testdir/test_expr.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.1068
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed inside a <A HREF="eval.html#dict">dict</A>.
Solution:   Handle line break inside a <A HREF="eval.html#dict">dict</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/eval.c, src/dict.c, src/proto/dict.pro,
            src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1069
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: fail to check for white space in <A HREF="eval.html#list">list</A>.
Solution:   Add check for white space.
Files:      src/list.c

Patch 8.2.1070
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when lacking white space in <A HREF="eval.html#dict">dict</A>.
Solution:   Clear the typval.
Files:      src/dict.c

Patch 8.2.1071
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed inside a <A HREF="eval.html#lambda">lambda</A>.
Solution:   Handle line break inside a <A HREF="eval.html#lambda">lambda</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/eval.c, src/proto/eval.pro, src/evalvars.c, src/userfunc.c,
            src/proto/userfunc.pro, src/popupwin.c, src/vim9compile.c,
            src/ex_eval.c, src/globals.h, src/structs.h,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1072
Problem:    Missing libvterm test.
Solution:   Sync with libvterm revision 768.
Files:      src/libvterm/src/state.c, src/libvterm/t/63screen_resize.test

Patch 8.2.1073
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed in () <A HREF="eval.html#expression">expression</A>.
Solution:   Skip a line break.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1074
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed after some operators.
Solution:   Skip a line break after the <A HREF="motion.html#operator">operator</A>.  Add
            eval_may_get_next_line() to simplify checking for a line break.
Files:      src/eval.c, src/proto/eval.pro, src/dict.c, src/list.c,
            src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1075
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed in <A HREF="eval.html#:echo">:echo</A> <A HREF="eval.html#expression">expression</A>.
Solution:   Skip linebreak.
Files:      src/eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1076
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed in <A HREF="eval.html#:if">:if</A> <A HREF="eval.html#expression">expression</A>.
Solution:   Skip linebreak.
Files:      src/eval.c, src/proto/eval.pro, src/evalvars.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.1077
Problem:    No enough test coverage for highlighting.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6351)
Files:      runtime/doc/syntax.txt, src/testdir/test_cmdline.vim,
            src/testdir/test_highlight.vim, src/testdir/test_match.vim

Patch 8.2.1078
Problem:    Highlight and match functionality together in one file.
Solution:   Move match functionality to a separate file. (Yegappan Lakshmanan,
            closes #6352)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/highlight.c, src/match.c, src/proto.h,
            src/proto/highlight.pro, src/proto/match.pro

Patch 8.2.1079
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed in a while loop.
Solution:   Update stored loop lines when finding line breaks.
Files:      src/structs.h, src/globals.h, src/eval.c, src/evalvars.c,
            src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.1080
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed in a for loop.
Solution:   Skip line breaks in for command.
Files:      src/eval.c, src/ex_eval.c, src/proto/eval.pro, src/userfunc.c,
            src/structs.h, src/globals.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.1081
Problem:    <A HREF="if_lua.html#Lua">Lua</A>: cannot use table.insert() and table.remove().
Solution:   Add the <A HREF="eval.html#list">list</A> <A HREF="eval.html#functions">functions</A>. (Prabir Shrestha, closes #6353)
Files:      runtime/doc/if_lua.txt, src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.1082
Problem:    Coverity complains about ignoring dict_add() return value.
Solution:   Add (void).
Files:      src/evalfunc.c

Patch 8.2.1083
Problem:    Crash when using <A HREF="builtin.html#reduce()">reduce()</A> on a NULL <A HREF="eval.html#list">list</A>.
Solution:   Only access the <A HREF="eval.html#list">list</A> when not NULL.
Files:      src/list.c, src/testdir/test_listdict.vim

Patch 8.2.1084
Problem:    <A HREF="if_lua.html#Lua">Lua</A>: registering function has useless code.
Solution:   Remove clearing grow arrays.
Files:      src/userfunc.c

Patch 8.2.1085
Problem:    Coverity complains about ignoring dict_add() return value.
Solution:   Add (void).
Files:      src/register.c

Patch 8.2.1086
Problem:    Possibly using freed memory when text properties used when
            <A HREF="change.html#changing">changing</A> indent of a line.
Solution:   Compute the offset before calling ml_replace().
Files:      src/indent.c

Patch 8.2.1087
Problem:    Possible memory leak when file expansion fails.
Solution:   Clear the grow array when returning FAIL.  Use an error message
            instead of an empty <A HREF="eval.html#string">string</A>.
Files:      src/filepath.c

Patch 8.2.1088
Problem:    A very long translation might cause a buffer overflow.
Solution:   Truncate the message if needed.
Files:      src/fileio.c

Patch 8.2.1089
Problem:    Coverity warns for pointer computation.
Solution:   Avoid computing a pointer to invalid memory.
Files:      src/spellfile.c

Patch 8.2.1090
Problem:    May use NULL pointer when skipping over name.
Solution:   Always set ll_name_end.
Files:      src/eval.c

Patch 8.2.1091
Problem:    No check if opening a pty works.
Solution:   Check for invalid file descriptor.
Files:      src/os_unix.c

Patch 8.2.1092
Problem:    Not checking if saving for <A HREF="undo.html#undo">undo</A> succeeds.
Solution:   Bail out if u_savesub() returns FAIL.
Files:      src/textprop.c

Patch 8.2.1093
Problem:    <A HREF="if_pyth.html#Python">Python</A>: double free when adding item to <A HREF="eval.html#dict">dict</A> fails.
Solution:   Remove vim_free() call.
Files:      src/if_py_both.h

Patch 8.2.1094
Problem:    Dead code in libvterm.
Solution:   Remove condition that is always <A HREF="vim9.html#true">true</A>.
Files:      src/libvterm/src/pen.c

Patch 8.2.1095
Problem:    May use pointer after freeing <A HREF="motion.html#it">it</A> when text properties are used.
Solution:   Update <A HREF="undo.html#redo">redo</A> buffer before calling ml_replace().
Files:      src/spellsuggest.c

Patch 8.2.1096
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#getqflist()">getqflist()</A> is wrong.
Solution:   Let the return type depend on the arguments.  Also for
            <A HREF="builtin.html#getloclist()">getloclist()</A>. (closes #6357)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1097
Problem:    Highlight code not sufficiently tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #6359)
Files:      src/testdir/test_filter_cmd.vim, src/testdir/test_highlight.vim

Patch 8.2.1098
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use line break in <A HREF="eval.html#:throw">:throw</A> argument.
Solution:   Check for line break.
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.1099
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use line break in <A HREF="quickfix.html#:cexpr">:cexpr</A> argument.
Solution:   Check for line break.
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.1100
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use line break in <A HREF="eval.html#:execute">:execute</A>, <A HREF="eval.html#:echomsg">:echomsg</A> and <A HREF="eval.html#:echoerr">:echoerr</A>
            argument.
Solution:   Check for line break.
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.1101
Problem:    No error when using wrong arguments for <A HREF="builtin.html#setqflist()">setqflist()</A> or
            <A HREF="builtin.html#setloclist()">setloclist()</A>.
Solution:   Check for the error.
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1102
Problem:    Coverity gets confused by an unnecessary NULL check.
Solution:   Remove the check for NULL.
Files:      src/quickfix.c

Patch 8.2.1103
Problem:    Coverity reports an unnecessary NULL check.
Solution:   Remove the check for NULL.
Files:      src/eval.c

Patch 8.2.1104
Problem:    Coverity warns for possible NULL pointer use.
Solution:   Check &quot;pbyts&quot; is not NULL.
Files:      src/spellsuggest.c

Patch 8.2.1105
Problem:    Insufficient test coverage for <A HREF="if_lua.html#Lua">Lua</A>.
Solution:   Add tests. (Yegappan Lakshmanan, closes #6368)  Fix uncovered
            memory leak.  Avoid unnecessary copy/free.
Files:      src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.1106
Problem:    Crash when trying to use <A HREF="change.html#s">s</A>: variable in typed command.
Solution:   Don't use the <A HREF="usr_41.html#script">script</A> index when not set. (Ken Takata,
            closes #6366)
Files:      src/vim9compile.c, src/testdir/test_vimscript.vim

Patch 8.2.1107
Problem:    <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> and <A HREF="options.html#'imstatusfunc'">'imstatusfunc'</A> are not used in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Adjust the #ifdefs. (closes #6367)
Files:      runtime/doc/options.txt, src/gui_xim.c,
            src/testdir/test_iminsert.vim

Patch 8.2.1108
Problem:    Mouse left-right scroll is not supported in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Implement mouse codes 6 and 7. (Trygve Aaberge, closes #6363)
Files:      src/libvterm/src/mouse.c, src/mouse.c, src/terminal.c,
            src/testdir/mouse.vim, src/testdir/test_termcodes.vim

Patch 8.2.1109 (after 8.2.1106)
Problem:    Still crashing when using s:variable.
Solution:   Remove assignment. (Ken Takata)
Files:      src/vim9compile.c

Patch 8.2.1110
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line continuation does not work in function arguments.
Solution:   Pass &quot;evalarg&quot; to get_func_tv().  Fix seeing double quoted <A HREF="eval.html#string">string</A>
            <A HREF="motion.html#as">as</A> comment.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/eval.c, src/ex_eval.c,
            src/list.c, src/dict.c, src/proto/eval.pro,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim

Patch 8.2.1111
Problem:    Inconsistent naming of get_list_tv() and eval_dict().
Solution:   Rename get_list_tv() to eval_list().  Similarly for eval_number(),
            eval_string(), eval_lit_string() and a few others.
Files:      src/eval.c, src/list.c, src/proto/list.pro, src/vim9compile.c,
            src/typval.c, src/proto/typval.pro, src/vim9script.c,
            src/evalfunc.c, src/evalvars.c, src/proto/evalvars.pro,
            src/vim9execute.c

Patch 8.2.1112
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line continuation allowed in <A HREF="eval.html#method">method</A> call.
Solution:   Handle line continuation in <A HREF="eval.html#expression">expression</A> before <A HREF="eval.html#method">method</A> call.
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1113
Problem:    No test for <A HREF="starting.html#verbose">verbose</A> output of <A HREF="eval.html#:call">:call</A>.
Solution:   Add a test.
Files:      src/testdir/test_user_func.vim

Patch 8.2.1114
Problem:    Terminal test sometimes times out.
Solution:   Split the test in two parts.
Files:      src/testdir/Makefile, src/testdir/Make_all.mak,
            src/testdir/term_util.vim, src/testdir/test_terminal.vim,
            src/testdir/test_terminal2.vim

Patch 8.2.1115
Problem:    Iminsert test fails when compiled with VIMDLL.
Solution:   Change condition. (Ken Takata, closes #6376)
Files:      src/testdir/test_iminsert.vim

Patch 8.2.1116
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: parsing command checks for <A HREF="eval.html#list">list</A> <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Adjust how a command is parsed.
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1117
Problem:    Coverity warns for using uninitialized field.
Solution:   Initialize v_lock.
Files:      src/if_lua.c

Patch 8.2.1118
Problem:    Condition can never be <A HREF="vim9.html#true">true</A>, dead code.
Solution:   Remove the dead code.
Files:      src/move.c

Patch 8.2.1119
Problem:    Configure fails with Xcode 12 beta.
Solution:   use &quot;return&quot; instead of &quot;exit()&quot;. (Nico Weber, closes #6381)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.1120
Problem:    <A HREF="if_pyth.html#Python">Python</A> code not tested properly.
Solution:   Add more tests and convert old-style test into new-style test.
            (Yegappan Lakshmanan, closes #6370)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test86.in, src/testdir/test86.ok,
            src/testdir/test_python2.vim

Patch 8.2.1121
Problem:    Command completion not working after ++arg.
Solution:   Move skipping up. (Christian Brabandt, closes #6382)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.1122
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line continuation in <A HREF="eval.html#dict">dict</A> member not recognized.
Solution:   Check for line continuation.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1123
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 test is old style.
Solution:   Turn into new style test. (Yegappan Lakshmanan, closes #6385)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test87.in, src/testdir/test87.ok,
            src/testdir/test_python2.vim, src/testdir/test_python3.vim

Patch 8.2.1124
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no line break allowed in <A HREF="vim9.html#:import">:import</A> command.
Solution:   Skip over line breaks.
Files:      src/vim9script.c, src/proto/vim9script.pro, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1125
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: double <A HREF="change.html#quote">quote</A> can be a <A HREF="eval.html#string">string</A> or a comment.
Solution:   Only support comments starting with # to avoid confusion.
Files:      src/eval.c, src/proto/eval.pro, src/dict.c, src/list.c,
            src/vim9script.c

Patch 8.2.1126
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="quickfix.html#:copen">:copen</A> causes an error.
Solution:   Add flag LET_NO_COMMAND in set_var().
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.1127
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: getting a <A HREF="eval.html#dict">dict</A> member may not work.
Solution:   Clear the <A HREF="eval.html#dict">dict</A> only after <A HREF="uganda.html#copying">copying</A> the item. (closes #6390)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1128
Problem:    The write message mentions characters, but it's actually bytes.
Solution:   Change &quot;<A HREF="change.html#C">C</A>&quot; to &quot;<A HREF="motion.html#B">B</A>&quot; and &quot;characters&quot; to &quot;bytes&quot;.
Files:      runtime/doc/options.txt, src/fileio.c,
            src/testdir/test_cscope.vim, src/testdir/test_netbeans.vim,
            src/testdir/dumps/Test_diff_syntax_1.dump,
            src/testdir/dumps/Test_long_file_name_1.dump,
            src/testdir/dumps/Test_display_unprintable_01.dump,
            src/testdir/dumps/Test_tselect_1.dump

Patch 8.2.1129
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="motion.html#bar">bar</A> not recognized after not compiled command.
Solution:   Check for <A HREF="motion.html#bar">bar</A> for commands where this is possible. (closes #6391)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1130
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="motion.html#bar">bar</A> not recognized after function call
Solution:   Skip <A HREF="pattern.html#whitespace">whitespace</A>. (closes #6391)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1131
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message for returning a value in a function that does
            not return anything is not clear.
Solution:   Add a specific message.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1132
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#repeat()">repeat()</A> is not specific enough.
Solution:   Return the type of the first argument. (closes #6395)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1133
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#add()">add()</A> is not specific enough.
Solution:   Return the type of the first argument. (closes #6395)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1134
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: getting a <A HREF="eval.html#list">list</A> member may not work.
Solution:   Clear the <A HREF="eval.html#list">list</A> only after <A HREF="uganda.html#copying">copying</A> the item. (closes #6393)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1135
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: getting a <A HREF="eval.html#dict">dict</A> member may not work.
Solution:   Clear the <A HREF="eval.html#dict">dict</A> only after <A HREF="uganda.html#copying">copying</A> the item.
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1136
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#argv()">argv()</A> is always any.
Solution:   Use list&lt;string&gt; if there is no argument.
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1137
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: modifiers not cleared after compiling function.
Solution:   Clear command modifiers. (closes #6396)
Files:      src/vim9compile.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/testdir/test_vim9_func.vim,
            src/testdir/dumps/Test_vim9_silent_echo.dump

Patch 8.2.1138
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#copy()">copy()</A> and <A HREF="builtin.html#deepcopy()">deepcopy()</A> is any.
Solution:   Use type of the argument.
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1139 (after 8.2.1137)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for silent echo fails in some environments.
Solution:   Use <A HREF="eval.html#:function">:function</A> instead of <A HREF="vim9.html#:def">:def</A>.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1140
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#extend()">extend()</A> is any.
Solution:   Use type of the argument.
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1141
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#filter()">filter()</A> is any.
Solution:   Use type of the argument.
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1142
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#insert()">insert()</A> is any.
Solution:   Use type of the first argument.
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1143
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#remove()">remove()</A> is any.
Solution:   Use the member type of the first argument, if known.
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1144
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#reverse()">reverse()</A> is any.
Solution:   Use the type of the first argument.
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1145
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;for&quot; only accepts a <A HREF="eval.html#list">list</A> at compile time.
Solution:   Also accept a <A HREF="eval.html#list">list</A> at runtime.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1146
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for <A HREF="if_pyth.html#Python">Python</A>.
Solution:   Add more tests.  Fix uncovered problems. (Yegappan Lakshmanan,
            closes #6392)
Files:      src/if_py_both.h, src/if_python3.c, src/testdir/shared.vim,
            src/testdir/test_python2.vim, src/testdir/test_python3.vim

Patch 8.2.1147
Problem:    <A HREF="editing.html#:confirm">:confirm</A> may happen in cooked mode. (Jason Franklin)
Solution:   Switch to raw mode before prompting. (Brandon Pfeifer)
Files:      src/message.c, src/testdir/test_excmd.vim

Patch 8.2.1148
Problem:    Warning for using int instead of size_t.
Solution:   Change &quot;len&quot; argument to size_t. (Mike Williams)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/vim9script.c

Patch 8.2.1149
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:eval">:eval</A> command not handled properly.
Solution:   Compile the <A HREF="eval.html#:eval">:eval</A> command. (closes #6408)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1150
Problem:    ml_get error when using <A HREF="if_pyth.html#Python">Python</A>. (Yegappan Lakshmanan)
Solution:   Check the line number is not out of range.  Call &quot;Check&quot; with
            &quot;fromObj&quot; instead of &quot;from&quot;.
Files:      src/if_py_both.h, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim

Patch 8.2.1151
Problem:    Insufficient test coverage for <A HREF="if_pyth.html#Python">Python</A>.
Solution:   Add more test cases. (Yegappan Lakshmanan, closes #6415)
Files:      src/testdir/test_python2.vim, src/testdir/test_python3.vim

Patch 8.2.1152
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function reference is missing <A HREF="usr_41.html#script">script</A> prefix.
Solution:   Use the actual function name instead of the name searched for in
            the <A HREF="usr_41.html#script">script</A> context. (closes #6412)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1153
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test fails on some systems.
Solution:   Return proper value from Compare().
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1154
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using imported function.
Solution:   Check for a function type.  Set the <A HREF="usr_41.html#script">script</A> context when calling a
            function. (closes #6412)
Files:      src/evalvars.c, src/scriptfile.c, src/proto/scriptfile.pro,
            src/vim9execute.c, src/structs.h, src/testdir/test_vim9_script.vim

Patch 8.2.1155
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot handle line break inside <A HREF="eval.html#lambda">lambda</A>.
Solution:   Pass the compilation context through. (closes #6407, closes #6409)
Files:      src/structs.h, src/vim9compile.c, src/proto/vim9compile.pro,
            src/eval.c, src/testdir/test_vim9_func.vim

Patch 8.2.1156
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: No error for invalid command in compiled function.
Solution:   Handle CMD_SIZE.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1157
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: dict.name is not recognized <A HREF="motion.html#as">as</A> an <A HREF="eval.html#expression">expression</A>.
Solution:   Recognize &quot;.name&quot;. (closes #6418)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1158 (after 8.2.1155)
Problem:    Build error.
Solution:   Add missing change to globals.
Files:      src/globals.h

Patch 8.2.1159
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing space after a comma.
Solution:   Check for white space.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1160
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak in allocated types.
Solution:   Free the type pointers.
Files:      src/vim9script.c, src/userfunc.c, src/vim9compile.c,
            src/proto/vim9compile.pro

Patch 8.2.1161
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using freed memory.
Solution:   Put pointer back in evalarg instead of freeing <A HREF="motion.html#it">it</A>.
Files:      src/userfunc.c, src/vim9compile.c, src/eval.c, src/proto/eval.pro,
            src/structs.h

Patch 8.2.1162
Problem:    Crash when using a <A HREF="eval.html#lambda">lambda</A>.
Solution:   Check for evalarg to be NULL.
Files:      src/userfunc.c

Patch 8.2.1163 (after 8.2.1161)
Problem:    Build error.
Solution:   Add missing change to globals.
Files:      src/globals.h

Patch 8.2.1164
Problem:    Text cleared by checking <A HREF="terminal.html#terminal">terminal</A> properties not redrawn. (Alexey
            Radkov)
Solution:   <A HREF="motion.html#Mark">Mark</A> the screen characters <A HREF="motion.html#as">as</A> invalid. (closes #6422)
Files:      src/screen.c, src/proto/screen.pro, src/term.c

Patch 8.2.1165
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for the <A HREF="if_tcl.html#Tcl">Tcl</A> interface.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #6423)
Files:      src/testdir/test_tcl.vim

Patch 8.2.1166
Problem:    Once mouse move events are enabled <A HREF="builtin.html#getchar()">getchar()</A> returns them.
Solution:   Ignore K_MOUSEMOVE in <A HREF="builtin.html#getchar()">getchar()</A>. (closes #6424)
Files:      runtime/doc/eval.txt, src/getchar.c

Patch 8.2.1167
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: builtin function <A HREF="eval.html#method">method</A> call only supports first argument.
Solution:   Shift arguments when needed. (closes #6305, closes #6419)
Files:      src/evalfunc.c, src/vim9compile.c, src/vim9execute.c,
            src/vim9.h, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1168
Problem:    Wrong <A HREF="eval.html#method">method</A> argument for <A HREF="builtin.html#appendbufline()">appendbufline()</A>.
Solution:   Use FEARG_3.
Files:      src/evalfunc.c

Patch 8.2.1169
Problem:    Write NUL past allocated space using corrupted <A HREF="spell.html#spell">spell</A> file.
            (Markus Vervier)
Solution:   Init &quot;<A HREF="change.html#c">c</A>&quot; every time.
Files:      src/spellfile.c

Patch 8.2.1170
Problem:    Cursor off by one with block paste while <A HREF="options.html#'virtualedit'">'virtualedit'</A> is &quot;all&quot;.
Solution:   Adjust condition. (Hugo Gualandi, closes #6430)
Files:      src/register.c, src/testdir/test_registers.vim

Patch 8.2.1171
Problem:    Possible crash when out of memory.
Solution:   Check for NULL pointer. (Dominique Pellé, closes #6432)
Files:      src/syntax.c

Patch 8.2.1172
Problem:    Error <A HREF="message.html#messages">messages</A> when doing &quot;make clean&quot; in the runtime/doc or
            src/tee directories.
Solution:   Use &quot;rm -f&quot;.
Files:      runtime/doc/Makefile, src/tee/Makefile

Patch 8.2.1173
Problem:    Tee doesn't build on some systems.
Solution:   Include header files. (Dominique Pelle, closes #6431)
Files:      src/tee/tee.c

Patch 8.2.1174
Problem:    No test for the &quot;<A HREF="repeat.html#recording">recording</A> @x&quot; message.
Solution:   Add a test. (Dominique Pellé, closes #6427)
Files:      src/testdir/test_registers.vim

Patch 8.2.1175
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Cannot split a line before &quot;.member&quot;.
Solution:   Check for &quot;.member&quot; after line break.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1176
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough type checking in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Use same type checking <A HREF="motion.html#as">as</A> in a <A HREF="vim9.html#:def">:def</A> function.
Files:      src/vim9compile.c, src/proto/vim9compile.pro,
            src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1177
Problem:    Terminal2 test sometimes hangs in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Move some tests to other files to further locate the problem.
            Set the <A HREF="gui.html#GUI">GUI</A> to a fixed screen size.
Files:      src/testdir/test_terminal.vim, src/testdir/test_terminal2.vim,
            src/testdir/test_terminal3.vim, src/testdir/Make_all.mak,
            src/testdir/runtest.vim

Patch 8.2.1178
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="change.html#filter">filter</A> function recognized <A HREF="motion.html#as">as</A> command modifier, leading to a
            crash.
Solution:   Clear cmdmod after freeing items.  Do not recognize a command
            modifier followed by non-white space. (closes #6434)
Files:      src/ex_docmd.c, src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1179
Problem:    Test_termwinscroll() sometimes hangs in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test in the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/testdir/test_terminal2.vim

Patch 8.2.1180
Problem:    Build failure in small version.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.1181
Problem:    Json code not fully tested.
Solution:   Add more test coverage. (Dominique Pellé, closes #6433)
Files:      src/testdir/test_json.vim

Patch 8.2.1182
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for <A HREF="pattern.html#whitespace">whitespace</A> after comma in <A HREF="eval.html#lambda">lambda</A>.
Solution:   Give error if white space is missing.
Files:      src/userfunc.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.1183
Problem:    <A HREF="testing.html#assert_fails()">assert_fails()</A> checks the last error message.
Solution:   Check the first error, <A HREF="motion.html#it">it</A> is more relevant.  Fix all the tests
            that rely on the old behavior.
Files:      runtime/doc/testing.txt, src/message.c, src/globals.h,
            src/testing.c, src/testdir/test_autocmd.vim,
            src/testdir/test_buffer.vim, src/testdir/test_cd.vim,
            src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_cpoptions.vim,
            src/testdir/test_cscope.vim, src/if_cscope.c,
            src/testdir/test_excmd.vim, src/evalvars.c,
            src/testdir/test_expr.vim, src/testdir/test_functions.vim,
            src/testdir/test_json.vim, src/testdir/test_let.vim,
            src/testdir/test_listdict.vim, src/testdir/test_listener.vim,
            src/testdir/test_match.vim, src/testdir/test_menu.vim,
            src/testdir/test_method.vim, src/testdir/test_normal.vim,
            src/testdir/test_popup.vim, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_random.vim, src/testdir/test_search.vim,
            src/testdir/test_signs.vim, src/testdir/test_spell.vim,
            src/testdir/test_substitute.vim, src/testdir/test_syntax.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_taglist.vim,
            src/testdir/test_terminal.vim, src/testdir/test_textprop.vim,
            src/testdir/test_trycatch.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim, src/vim9compile.c,
            src/testdir/test_vim9_script.vim, src/testdir/test_viminfo.vim,
            src/testdir/test_winbuf_close.vim,
            src/testdir/test_window_cmd.vim, src/testdir/test_writefile.vim,
            src/testdir/test_regexp_latin.vim, src/testdir/test_utf8.vim,
            src/testdir/test_global.vim, src/testdir/test_tagfunc.vim

Patch 8.2.1184 (after 8.2.1183)
Problem:    Some tests fail.
Solution:   Adjust tests for different <A HREF="testing.html#assert_fails()">assert_fails()</A> behavior.  Remove unused
            variable.
Files:      src/testdir/test_assert.vim, src/testdir/test_eval_stuff.vim,
            src/evalvars.c

Patch 8.2.1185 (after 8.2.1183)
Problem:    Some other tests fail.
Solution:   Adjust tests for different <A HREF="testing.html#assert_fails()">assert_fails()</A> behavior.
Files:      src/testdir/test_lua.vim, src/testdir/test_tcl.vim

Patch 8.2.1186
Problem:    With SGR mouse codes balloon doesn't show up after click.
Solution:   Add the MOUSE_RELEASE bits to mouse_code.
Files:      src/mouse.c

Patch 8.2.1187
Problem:    Terminal2 test sometimes hangs in the <A HREF="gui.html#GUI">GUI</A> on Travis.
Solution:   Disable Test_zz2_terminal_guioptions_bang() for now.
Files:      src/testdir/test_terminal2.vim

Patch 8.2.1188
Problem:    Memory leak with invalid json input.
Solution:   Free all keys at the end. (Dominique Pellé, closes #6443,
            closes #6442)
Files:      src/json.c, src/testdir/test_json.vim

Patch 8.2.1189
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line continuation in <A HREF="eval.html#lambda">lambda</A> doesn't always work.
Solution:   Do not use a local evalarg unless there isn't one. (closes #6439)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1190
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: checking for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="syntax.html#syntax">syntax</A> is spread out.
Solution:   Use in_vim9script().
Files:      src/vim9script.c, src/dict.c, src/eval.c, src/evalvars.c,
            src/ex_docmd.c, src/list.c, src/scriptfile.c, src/userfunc.c

Patch 8.2.1191
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when function calls itself.
Solution:   Add status UF_COMPILING. (closes #6441)
Files:      src/structs.h, src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1192
Problem:    <A HREF="if_lua.html#Lua">Lua</A> test fails with older <A HREF="if_lua.html#Lua">Lua</A> version.
Solution:   Adjust expected error <A HREF="message.html#messages">messages</A>. (closes #6444)
Files:      src/testdir/test_lua.vim

Patch 8.2.1193
Problem:    Terminal <A HREF="windows.html#window">window</A> not redrawn when dragging a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> over <A HREF="motion.html#it">it</A>.
Solution:   Redraw <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (fixes #6438)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_term_01.dump,
            src/testdir/dumps/Test_popupwin_term_02.dump

Patch 8.2.1194
Problem:    Test failure because shell prompt differs.
Solution:   Set the shell prompt.
Files:      src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_term_01.dump,
            src/testdir/dumps/Test_popupwin_term_02.dump

Patch 8.2.1195
Problem:    Clientserver test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Expect a different error message.
Files:      src/testdir/test_clientserver.vim

Patch 8.2.1196
Problem:    Build failure with normal features.
Solution:   Add #ifdef.
Files:      src/popupwin.c

Patch 8.2.1197
Problem:    Clientserver test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Expect a different error message.
Files:      src/testdir/test_clientserver.vim

Patch 8.2.1198
Problem:    Terminal2 test sometimes hangs in the <A HREF="gui.html#GUI">GUI</A> on Travis.
Solution:   Move test function to terminal3 to see if the problem moves too.
Files:      src/testdir/test_terminal2.vim, src/testdir/test_terminal3.vim

Patch 8.2.1199
Problem:    Not all assert <A HREF="eval.html#functions">functions</A> are fully tested.
Solution:   Test more assert <A HREF="eval.html#functions">functions</A>.
Files:      src/testing.c, src/testdir/test_assert.vim

Patch 8.2.1200
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot disassemble a <A HREF="eval.html#lambda">lambda</A> function.
Solution:   Recognize &quot;&lt;lambda&gt;123&quot; <A HREF="motion.html#as">as</A> a function name.
Files:      src/vim9execute.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.1201
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when passing number <A HREF="motion.html#as">as</A> <A HREF="eval.html#dict">dict</A> key.
Solution:   Check key type to be <A HREF="eval.html#string">string</A>. (closes #6449)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1202
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when calling a <A HREF="eval.html#closure">closure</A> from a builtin function.
Solution:   Use the current execution context. (closes #6441)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1203
Problem:    Unused assignments in <A HREF="eval.html#expression">expression</A> evaluation.
Solution:   Move declarations and assignments to inner blocks where possible.
Files:      src/eval.c

Patch 8.2.1204
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#true">true</A> and <A HREF="vim9.html#false">false</A> not recognized in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Recognize <A HREF="vim9.html#true">true</A> and <A HREF="vim9.html#false">false</A>.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1205
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &amp;&amp; and &#124;&#124; work differently when not compiled.
Solution:   Keep the value.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1206
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash in <A HREF="eval.html#expr">expr</A> test when run in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Temporarily comment out two test lines.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.1207
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash in <A HREF="eval.html#expr">expr</A> test when run in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Break out of loop over hashtab also when function got removed and
            added.
Files:      src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1208
Problem:    Build failure.
Solution:   Add missing change.
Files:      src/structs.h

Patch 8.2.1209
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test failure.
Solution:   Add missing changes to hashtab.
Files:      src/hashtab.c

Patch 8.2.1210
Problem:    Using ht_used when looping through a hashtab is <A HREF="various.html#less">less</A> reliable.
Solution:   Use ht_changed in a few more places.
Files:      src/userfunc.c, src/if_py_both.h

Patch 8.2.1211 (after 8.2.1118)
Problem:    Removed more than dead code.
Solution:   Put back the decrement.
Files:      src/move.c, src/testdir/test_diffmode.vim

Patch 8.2.1212
Problem:    Cannot build with <A HREF="if_lua.html#Lua">Lua</A> 5.4.
Solution:   Use luaL_typeerror instead defining <A HREF="motion.html#it">it</A>. (closes #6454)
Files:      src/if_lua.c

Patch 8.2.1213
Problem:    Mouse codes not tested sufficiently.
Solution:   Add more tests for mouse codes. (closes #6436)
Files:      src/testdir/test_termcodes.vim

Patch 8.2.1214
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: default <A HREF="starting.html#_vimrc">_vimrc</A> not correct in silent <A HREF="usr_90.html#install">install</A> mode.
Solution:   Add the LoadDefaultVimrc <A HREF="map.html#macro">macro</A>. (Ken Takata, closes #6451)
Files:      nsis/gvim.nsi

Patch 8.2.1215
Problem:    <A HREF="os_mint.html#Atari">Atari</A> <A HREF="os_mint.html#MiNT">MiNT</A> support is outdated.
Solution:   Nobody responded this code is still useful, so let's delete <A HREF="motion.html#it">it</A>.
Files:      Filelist, src/os_mint.h, src/vim.h, src/Make_mint.mak,
            src/digraph.c, src/fileio.c, src/memfile.c, src/os_unix.c,
            src/term.c, READMEdir/README_extra.txt, runtime/doc/os_mint.txt,
            src/INSTALL

Patch 8.2.1216
Problem:    Startup test fails.
Solution:   Adjust expected values for deleted lines.
Files:      src/testdir/test_startup.vim

Patch 8.2.1217
Problem:    Startup test depends on <A HREF="builtin.html#random">random</A> source file.
Solution:   Write a test file to find <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="message.html#errors">errors</A> in.
Files:      src/testdir/test_startup.vim

Patch 8.2.1218
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use 'text'-&gt;func().
Solution:   Recognize <A HREF="eval.html#string">string</A> at start of command.
Files:      src/vim9compile.c, src/ex_docmd.c, src/testdir/test_vim9_func.vim

Patch 8.2.1219
Problem:    Symlink not followed if dirname ends in <A HREF="version7.html#//">//</A>.
Solution:   Resolve symlink earlier. (Tomáš Janoušek, closes #6454)
Files:      src/memline.c, src/testdir/test_swap.vim

Patch 8.2.1220
Problem:    memory access error when dragging a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> over a buffer
            with <A HREF="fold.html#folding">folding</A>.
Solution:   Avoid going over the end of the cache. (closes #6438)
Files:      src/mouse.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_term_01.dump,
            src/testdir/dumps/Test_popupwin_term_02.dump,
            src/testdir/dumps/Test_popupwin_term_03.dump,
            src/testdir/dumps/Test_popupwin_term_04.dump

Patch 8.2.1221
Problem:    Memory leak when updating <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Clear search highlighting.
Files:      src/popupwin.c

Patch 8.2.1222
Problem:    When using <A HREF="debug.html#valgrind">valgrind</A> a Vim command started by a test uses the same
            log file name which gets overwritten.
Solution:   Fix <A HREF="pattern.html#regexp">regexp</A> to rename the log file.
Files:      src/testdir/shared.vim

Patch 8.2.1223
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid type error for function default value.
Solution:   Use right argument index. (closes #6458)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1224
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: arguments from <A HREF="builtin.html#partial">partial</A> are not used.
Solution:   Put the <A HREF="builtin.html#partial">partial</A> arguments on the stack. (closes #6460)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1225
Problem:    Linker <A HREF="message.html#errors">errors</A> when building with dynamic <A HREF="if_pyth.html#Python">Python</A> 3.9.
Solution:   Add #defined items. (closes #6461)
Files:      src/if_python3.c

Patch 8.2.1226
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="windows.html#windows">windows</A> positioning wrong when the taskbar is placed
            at the top or left of the screen.
Solution:   Use GetWindowRect and MoveWindow APIs. (Yukihiro Nakadaira,
            Ken Takata, closes #6455)
Files:      src/gui_w32.c

Patch 8.2.1227
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: allowing both quoted and # comments is confusing.
Solution:   Only support # comments in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      runtime/doc/vim9.txt, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/vim9compile.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1228
Problem:    Scrollbars not flush against the <A HREF="windows.html#window">window</A> edges when maximised.
Solution:   Add padding. (Ken Takata, closes #5602, closes #6466)
Files:      src/gui.c, src/gui_athena.c, src/gui_gtk.c, src/gui_haiku.cc,
            src/gui_mac.c, src/gui_motif.c, src/gui_photon.c, src/gui_w32.c,
            src/proto/gui_athena.pro, src/proto/gui_gtk.pro,
            src/proto/gui_haiku.pro, src/proto/gui_mac.pro,
            src/proto/gui_motif.pro, src/proto/gui_photon.pro,
            src/proto/gui_w32.pro

Patch 8.2.1229
Problem:    Build error without the <A HREF="eval.html#eval">eval</A> feature.
Solution:   Declare starts_with_colon. Make function local.
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro

Patch 8.2.1230
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> index error not caught by try/catch.
Solution:   Do not bail out if an error is inside try/catch. (closes #6462)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1231
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="gui.html#GUI">GUI</A> code can be cleaned up.
Solution:   Do a bit of cleaning up. (Ken Takata, closes #6465)
Files:      src/gui_w32.c, src/proto/gui_w32.pro

Patch 8.2.1232
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: Snap cancelled by split command.
Solution:   Do not cancel Snap when splitting a <A HREF="windows.html#window">window</A>. (Ken Takata,
            closes #6467)
Files:      src/gui_w32.c

Patch 8.2.1233
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: various <A HREF="message.html#errors">errors</A> not caught by try/catch.
Solution:   Do not bail out if an error is inside try/catch.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1234
Problem:    <A HREF="if_lua.html#Lua">Lua</A> build problem with old compiler.
Solution:   Move declarations to start of the block. (Taro Muraoka,
            closes #6477)
Files:      src/if_lua.c

Patch 8.2.1235
Problem:    Not all mouse codes covered by tests.
Solution:   Add more tests for the mouse. (Yegappan Lakshmanan, closes #6472)
Files:      src/testdir/mouse.vim, src/testdir/test_termcodes.vim

Patch 8.2.1236
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a few <A HREF="message.html#errors">errors</A> not caught by try/catch.
Solution:   Do not bail out if an error is inside try/catch.  Fix that a not
            matching catch doesn't jump to <A HREF="eval.html#:endtry">:endtry</A>.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1237
Problem:    Changing <A HREF="options.html#'completepopup'">'completepopup'</A> after opening a <A HREF="popup.html#popup">popup</A> has no effect. (Jay
            Sitter)
Solution:   Close the <A HREF="popup.html#popup">popup</A> when the <A HREF="options.html#options">options</A> are changed. (closes #6471)
Files:      runtime/doc/options.txt, src/popupwin.c, src/proto/popupwin.pro,
            src/optionstr.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_infopopup_8.dump

Patch 8.2.1238
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a few remaining <A HREF="message.html#errors">errors</A> not caught by try/catch.
Solution:   Do not bail out if an error is inside try/catch.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1239
Problem:    &quot;maxwidth&quot; in <A HREF="options.html#'completepopup'">'completepopup'</A> not obeyed. (Jay Sitter)
Solution:   Add separate field for value from option. (closes #6470)
Files:      src/structs.h, src/popupwin.c, src/popupmenu.c,
            src/testdir/dumps/Test_popupwin_infopopup_9.dump

Patch 8.2.1240
Problem:    <A HREF="gui.html#GUI">GUI</A> tests sometimes fail because of translations.
Solution:   Reload the <A HREF="gui.html#menus">menus</A> without translation. (Taro Muraoka, closes #6486)
Files:      src/testdir/runtest.vim

Patch 8.2.1241
Problem:    Cannot use <A HREF="builtin.html#getbufinfo()">getbufinfo()</A> <A HREF="motion.html#as">as</A> a <A HREF="eval.html#method">method</A>.
Solution:   Support using <A HREF="builtin.html#getbufinfo()">getbufinfo()</A> <A HREF="motion.html#as">as</A> a <A HREF="eval.html#method">method</A>. (closes #6458)
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_bufwintabinfo.vim

Patch 8.2.1242
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if calling a function with wrong argument type.
Solution:   Check types of arguments. (closes #6469)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.1243
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot have a comment or empty line halfway a <A HREF="eval.html#list">list</A> at <A HREF="usr_41.html#script">script</A>
            level.
Solution:   Skip more than one line if needed.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/eval.c,
            src/scriptfile.c

Patch 8.2.1244
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: in <A HREF="eval.html#lambda">lambda</A> index assumes a <A HREF="eval.html#list">list</A>.
Solution:   Use the value type to decide about <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A>. (closes #6479)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1245
Problem:    Build failure in tiny version.
Solution:   Add #ifdef.
Files:      src/scriptfile.c

Patch 8.2.1246
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: comment after assignment doesn't work.
Solution:   Skip over white space. (closes #6481)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1247
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot index a character in a <A HREF="eval.html#string">string</A>.
Solution:   Add ISN_STRINDEX instruction. (closes #6478)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1248
Problem:    Netbeans test is flaky in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Filter out geometry <A HREF="message.html#messages">messages</A>. (Taro Muraoka, closes #6487)
Files:      src/testdir/test_netbeans.vim

Patch 8.2.1249
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: disassemble test fails.
Solution:   Change INDEX to LISTINDEX.  Add test for STRINDEX.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.1250
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use the <A HREF="eval.html#g:">g:</A>, <A HREF="eval.html#b:">b:</A>, <A HREF="eval.html#t:">t:</A> and <A HREF="eval.html#w:">w:</A> namespaces.
Solution:   Add instructions to push a <A HREF="eval.html#dict">dict</A> for the namespaces. (closes #6480)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1251
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: warning for pointer usage, test failure undetected.
Solution:   Fix pointer indirection.  Give error when executing function
            failed for any reason.  Fix instruction names.
Files:      src/vim9execute.c, src/userfunc.c, src/proto/userfunc.pro

Patch 8.2.1252
Problem:    &quot;<A HREF="motion.html#:marks">:marks</A>&quot; may show <A HREF="motion.html#'&lt;">'&lt;</A> and <A HREF="motion.html#'&gt;">'&gt;</A> mixed up.
Solution:   Show the <A HREF="motion.html#mark">mark</A> position <A HREF="motion.html#as">as</A> where <A HREF="motion.html#'&lt;">'&lt;</A> and <A HREF="motion.html#'&gt;">'&gt;</A> would jump.
Files:      src/mark.c, src/testdir/test_marks.vim

Patch 8.2.1253
Problem:    CTRL-K in <A HREF="insert.html#Insert">Insert</A> mode gets <A HREF="autocmd.html#&lt;CursorHold&gt;">&lt;CursorHold&gt;</A> inserted. (Roland
            Puntaier)
Solution:   Do not reset did_cursorhold, restore <A HREF="motion.html#it">it</A>. (closes #6447)
Files:      src/normal.c

Patch 8.2.1254
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="pattern.html#regexp">regexp</A> test may fail if <A HREF="options.html#'iskeyword'">'iskeyword'</A> set wrongly.
Solution:   Override the <A HREF="options.html#'iskeyword'">'iskeyword'</A> value. (Taro Muraoka, closes #6502)
Files:      src/testdir/test_regexp_utf8.vim

Patch 8.2.1255
Problem:    Cannot use a <A HREF="eval.html#lambda">lambda</A> with <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#functions">functions</A>.
Solution:   Add support for <A HREF="eval.html#lambda">lambda</A>. (Yegappan Lakshmanan, closes #6499)
Files:      runtime/doc/eval.txt, runtime/doc/options.txt,
            runtime/doc/quickfix.txt, src/channel.c, src/evalvars.c,
            src/optionstr.c, src/proto/evalvars.pro, src/proto/quickfix.pro,
            src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1256
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type wrong after getting <A HREF="eval.html#dict">dict</A> item in <A HREF="eval.html#lambda">lambda</A>.
Solution:   Set the type to &quot;any&quot; after enforcing <A HREF="eval.html#dict">dict</A> type. (closes #6491)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1257
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> unpack doesn't work at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Detect unpack assignment better. (closes #6494)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.1258 (after 8.2.1253)
Problem:    <A HREF="autocmd.html#CursorHold">CursorHold</A> does not work well.a (Shane-XB-Qian)
Solution:   Only restore did_cursorhold when using <A HREF="various.html#:normal">:normal</A>.
Files:      src/normal.c

Patch 8.2.1259
Problem:    Empty group in <A HREF="options.html#'tabline'">'tabline'</A> may cause using an invalid pointer.
Solution:   Set the group start position. (closes #6505)
Files:      src/buffer.c, src/testdir/test_tabline.vim

Patch 8.2.1260
Problem:    There is no good test for <A HREF="autocmd.html#CursorHold">CursorHold</A>.
Solution:   Add a test.  Remove duplicated test. (Yegappan Lakshmanan,
            closes #6503)
Files:      src/testdir/test_autocmd.vim, src/testdir/test_buffer.vim,
            src/testdir/test_normal.vim

Patch 8.2.1261
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: common type of function not tested.
Solution:   Add a test.  Fix uncovered problems.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1262
Problem:    src/ex_cmds.c file is too big.
Solution:   Move help related code to src/help.c. (Yegappan Lakshmanan,
            closes #6506)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/cmdexpand.c, src/ex_cmds.c, src/help.c, src/proto.h,
            src/proto/ex_cmds.pro, src/proto/help.pro

Patch 8.2.1263
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: comparators use <A HREF="options.html#'ignorecase'">'ignorecase'</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Ignore <A HREF="options.html#'ignorecase'">'ignorecase'</A>.  Use <A HREF="vim9.html#true">true</A> and <A HREF="vim9.html#false">false</A> instead of 1 and 0.
            (closes #6497)
Files:      src/eval.c, src/typval.c, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1264
Problem:    Terminal <A HREF="builtin.html#getwinpos()">getwinpos()</A> test is a bit flaky.
Solution:   Call <A HREF="builtin.html#getwinpos()">getwinpos()</A> a bit later.
Files:      src/testdir/test_terminal3.vim

Patch 8.2.1265
Problem:    Crash with EXITFREE when <A HREF="builtin.html#split()">split()</A> fails.
Solution:   Restore <A HREF="options.html#'cpoptions'">'cpoptions'</A>.
Files:      src/evalfunc.c

Patch 8.2.1266 (after 8.2.1262)
Problem:    Makefile preference were accidentally included.
Solution:   Revert the Makefile changes.
Files:      src/Makefile

Patch 8.2.1267
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: tests may fail due to $PROMPT value.
Solution:   Set $PROMPT for <A HREF="testing.html#testing">testing</A>. (Taro Muraoka, closes #6510)
Files:      src/testdir/runtest/vim

Patch 8.2.1268
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for using double <A HREF="change.html#quote">quote</A> comment after :func or <A HREF="vim9.html#:def">:def</A>.
Solution:   Only accept double <A HREF="change.html#quote">quote</A> when not in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> and not after
            <A HREF="vim9.html#:def">:def</A>. (closes #6483)
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.1269
Problem:    Language and <A HREF="mbyte.html#locale">locale</A> code spread out.
Solution:   Move relevant code to src/locale.c. (Yegappan Lakshmanan,
            closes #6509)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/ex_cmds2.c, src/locale.c, src/main.c, src/proto.h,
            src/proto/ex_cmds2.pro, src/proto/locale.pro

Patch 8.2.1270
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not skipping over function type declaration with only a
            return type.
Solution:   Skip over the return type. (issue #6507)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1271
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Error for <A HREF="eval.html#Funcref">Funcref</A> function argument type.
Solution:   Find the actual function type if possible. (issue #6507)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1272
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type not checked if declaration also assigns value.
Solution:   Check the type. (issue #6507)
Files:      src/eval.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/vim9script.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1273
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="terminal.html#terminal">terminal</A> test may leave file behind.
Solution:   Wait a moment for process to end before <A HREF="change.html#deleting">deleting</A> the file.
            (Taro Muraoka, closes #6513)
Files:      src/testdir/test_terminal.vim

Patch 8.2.1274
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing white space in assignment at <A HREF="usr_41.html#script">script</A>
            level.
Solution:   Check for white space. (closes #6495)
Files:      src/eval.c, src/evalvars.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_let.vim

Patch 8.2.1275
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiler warning for buffer size.
Solution:   Change the offset from 10 to 15. (Dominique Pellé, closes #6518)
Files:      src/vim9script.c

Patch 8.2.1276
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: system test may fail if more.exe is installed.
Solution:   Explicitly use more.com. (Taro Muraoka, Ken Takata, closes #6517)
Files:      src/testdir/test_system.vim

Patch 8.2.1277
Problem:    Tests on Travis <A HREF="diff.html#do">do</A> not run with EXITFREE.
Solution:   Add EXITFREE to all builds to uncover any mistakes.
Files:      .travis.yml

Patch 8.2.1278
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line break after &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot; only allowed in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Only allow line break after &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot;. (closes #6492)
Files:      src/vim9compile.c, src/globals.h, src/testdir/test_vim9_expr.vim

Patch 8.2.1279
Problem:    Some tests on Travis have EXITFREE duplicated.
Solution:   Remove EXITFREE from shadowopt.  Add &quot;shadow&quot; to <A HREF="channel.html#job">job</A> name.
Files:      .travis.yml

Patch 8.2.1280
Problem:    <A HREF="intro.html#Ex">Ex</A> command error cannot contain an argument.
Solution:   Add ex_errmsg() and translate earlier.  Use e_trailing_arg where
            possible.
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/buffer.c,
            src/ex_eval.c, src/match.c, src/testdir/test_tabpage.vim

Patch 8.2.1281
Problem:    The &quot;trailing characters&quot; error can be hard to understand.
Solution:   Add the trailing characters to the message.
Files:      src/cmdhist.c, src/eval.c, src/evalfunc.c, src/evalvars.c,
            src/ex_cmds.c, src/ex_docmd.c, src/ex_eval.c, src/json.c,
            src/menu.c, src/quickfix.c, src/sign.c, src/userfunc.c

Patch 8.2.1282
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using CheckScriptFailure() in
            Test_vim9script_call_fail_decl().
Solution:   Do not decrement the def_functions len unless the function was
            newly added.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1283
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for misplaced <A HREF="eval.html#-&gt;">-&gt;</A> lacks argument.
Solution:   Use the pointer before <A HREF="motion.html#it">it</A> was advanced.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1284
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: skipping over type includes following white space, leading
            to an error for missing white space.
Solution:   Do not skip over white space after the type.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1285
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked on assignment.
Solution:   Check function argument types. (issue #6507)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1286
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: No error when using a type on a <A HREF="windows.html#window">window</A> variable
Solution:   Recognize the <A HREF="syntax.html#syntax">syntax</A> and give an error. (closes #6521)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.1287
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using an imported function.
Solution:   Add the function type to the imported entry. (closes #6522)
Files:      src/vim9script.c, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1288
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="motion.html#mark">mark</A> in range.
Solution:   Use the flag that a colon was seen. (closes #6528)
Files:      src/ex_docmd.c, src/testdir/test_vim9_func.vim

Patch 8.2.1289
Problem:    Crash when using a custom completion function.
Solution:   Initialize all of the expand_T. (closes #6532)
Files:      src/cmdexpand.c

Patch 8.2.1290
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot replace a global function.
Solution:   Allow for &quot;<A HREF="change.html#!">!</A>&quot; on a global function. (closes #6524)  Also fix that
            :delfunc on a <A HREF="vim9.html#:def">:def</A> function only made <A HREF="motion.html#it">it</A> empty.
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.1291
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type of varargs items is not checked.
Solution:   Check the <A HREF="eval.html#list">list</A> item types. (closes #6523)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1292
Problem:    AIDL <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> detection. (Dominique Pellé, closes #6533)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1293
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:execute">:execute</A> mixes up () <A HREF="eval.html#expression">expression</A> and function call.
Solution:   Do not skip white space when looking for the &quot;<A HREF="motion.html#(">(</A>&quot;. (closes #6531)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1294
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using <A HREF="vim9.html#vim9script">vim9script</A> in <A HREF="autocmd.html#TextYankPost">TextYankPost</A>.
Solution:   Use EX_LOCKOK instead of the EX_CMDWIN flag for command that can
            be used when text is locked. (closes #6529)
Files:      src/ex_cmds.h, src/ex_docmd.c

Patch 8.2.1295
Problem:    Tests 44 and 99 are old style.
Solution:   Convert to new style tests. (Yegappan Lakshmanan, closes #6536)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,
            src/testdir/test44.in, src/testdir/test44.ok,
            src/testdir/test99.in, src/testdir/test99.ok,
            src/testdir/test_regexp_utf8.vim

Patch 8.2.1296
Problem:    Some part of using <A HREF="options.html#'smartcase'">'smartcase'</A> was not tested.
Solution:   Add more tests. (Dominique Pellé, closes #6538)
Files:      src/testdir/test_search.vim

Patch 8.2.1297
Problem:    When a test fails it's often not <A HREF="starting.html#easy">easy</A> to see what the call stack
            is.
Solution:   Add more entries from the call stack in the exception message.
Files:      runtime/doc/cmdline.txt, src/scriptfile.c,
            src/proto/scriptfile.pro, src/debugger.c, src/ex_docmd.c,
            src/ex_eval.c, src/message.c, src/testing.c,
            src/testdir/test_expand_func.vim

Patch 8.2.1298
Problem:    Compiler warning for unused argument in small version.
Solution:   Add UNUSED.
Files:      src/scriptfile.c

Patch 8.2.1299
Problem:    Compiler warning for using size_t for int and void pointer.
Solution:   Add type casts.
Files:      src/scriptfile.c

Patch 8.2.1300
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: optional argument type not parsed properly.
Solution:   Skip over the &quot;<A HREF="pattern.html#?">?</A>&quot;. (issue #6507)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/evalvars.c,
            src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1301
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: varargs argument type not parsed properly.
Solution:   Skip over the &quot;<A HREF="eval.html#...">...</A>&quot;. (issue #6507)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1302
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: varargs arg after optional arg does not work
Solution:   Check for the &quot;<A HREF="eval.html#...">...</A>&quot; first. (issue #6507)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1303
Problem:    Calling <A HREF="popup.html#popup_setoptions()">popup_setoptions()</A> resets <A HREF="options.html#'signcolumn'">'signcolumn'</A>.
Solution:   Only set <A HREF="options.html#'signcolumn'">'signcolumn'</A> when creating the <A HREF="popup.html#popup">popup</A>. (closes #6542)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.1304
Problem:    Debug backtrace isn't tested much.
Solution:   Add more specific tests. (Ben Jackson, closes #6540)
Files:      src/testdir/runtest.vim, src/testdir/test_debugger.vim

Patch 8.2.1305
Problem:    Some tests are still old style.
Solution:   Convert tests 52 and 70 to new style. (Yegappan Lakshmanan,
            closes #6544)  Fix error in FinishTesting().
Files:      src/testdir/runtest.vim, src/Makefile, src/testdir/Make_all.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_vms.mms,
            src/testdir/test52.in, src/testdir/test52.ok,
            src/testdir/test70.in, src/testdir/test70.ok,
            src/testdir/test_mzscheme.vim, src/testdir/test_writefile.vim

Patch 8.2.1306
Problem:    Checking for first character of <A HREF="eval.html#dict">dict</A> key is inconsistent.
Solution:   Add eval_isdictc(). (closes #6546)
Files:      src/eval.c, src/proto/eval.pro, src/vim9compile.c,
            src/testdir/test_listdict.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_let.vim

Patch 8.2.1307
Problem:    <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> width does not include number, fold of sign column
            width.
Solution:   Take number, fold and sign column with into account.
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_sign_2.dump

Patch 8.2.1308
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: accidentally using &quot;<A HREF="change.html#x">x</A>&quot; causes Vim to exit.
Solution:   Disallow using &quot;<A HREF="editing.html#:x">:x</A>&quot; or &quot;xit&quot; in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #6399)
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/vim9script.c,
            src/proto/vim9script.pro, src/ex_docmd.c, src/ex_cmds.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1309
Problem:    Build failure with tiny version.
Solution:   Add #ifdef.
Files:      src/ex_cmds.c, src/ex_docmd.c

Patch 8.2.1310
Problem:    Configure with Xcode 12 fails to check for tgetent.
Solution:   Declare tgetent(). (Ozaki Kiichi, closes #6558)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.1311
Problem:    Test failures with legacy Vim <A HREF="usr_41.html#script">script</A>.
Solution:   Actually check for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/vim9script.c

Patch 8.2.1312
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="terminal.html#terminal">terminal</A> test may fail if dir.exe exists.
Solution:   Use dir.com. (Ken Takata, closes #6557)
Files:      src/testdir/test_terminal3.vim

Patch 8.2.1313
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>: cannot assign to environment variable.
Solution:   Recognize environment variable assignment. (closes #6548)
            Also <A HREF="options.html#options">options</A> and <A HREF="change.html#registers">registers</A>.
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.1314
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: rule for comment after <A HREF="eval.html#:function">:function</A> is confusing.
Solution:   Allow double quoted comment after <A HREF="eval.html#:function">:function</A> in <A HREF="vim9.html#vim9script">vim9script</A>.
            (closes #6556)
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.1315
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: test log contains <A HREF="intro.html#escape">escape</A> sequences.
Solution:   Do not use <A HREF="term.html#t_md">t_md</A> and <A HREF="term.html#t_me">t_me</A> but ANSI <A HREF="intro.html#escape">escape</A> sequences. (Ken Takata,
            closes #6559)
Files:      src/testdir/runtest.vim

Patch 8.2.1316
Problem:    Test <A HREF="usr_42.html#42">42</A> is still old style.
Solution:   Turn <A HREF="motion.html#it">it</A> into a new style test. (Yegappan Lakshmanan, closes #6561)
Files:      src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,
            src/testdir/test42.in, src/testdir/test42.ok,
            src/testdir/test_writefile.vim

Patch 8.2.1317
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> tests on AppVeyor are slow.
Solution:   Use GitHub Actions. (Ken Takata, closes #6569)
Files:      Filelist, .github/workflows/ci-windows.yaml, appveyor.yml,
            ci/appveyor.bat

Patch 8.2.1318
Problem:    No status badge for Github CI.
Solution:   Add a badge.
Files:      README.md

Patch 8.2.1319
Problem:    Status badge for Github CI has wrong link.
Solution:   Rename and use the right link
Files:      README.md, .github/workflows/ci-windows.yaml

Patch 8.2.1320
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot declare some single <A HREF="print.html#letter">letter</A> <A HREF="eval.html#variables">variables</A>.
Solution:   Do not recognize a colon for a namespace for single <A HREF="print.html#letter">letter</A>
            <A HREF="eval.html#variables">variables</A>. (closes #6547)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1321
Problem:    GitHub CI also runs on <A HREF="tagsrch.html#tag">tag</A> push.
Solution:   Skip CI on push. (Ken Takata, closes #6571)
Files:      .github/workflows/ci-windows.yaml

Patch 8.2.1322
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#method">method</A> on double quoted <A HREF="eval.html#string">string</A> doesn't work.
Solution:   Recognize double quoted <A HREF="eval.html#string">string</A>. (closes #6562)
Files:      src/ex_docmd.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1323
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid operators only rejected in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Also reject them at <A HREF="usr_41.html#script">script</A> level. (closes #6564)
Files:      src/eval.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1324
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line break after &quot;<A HREF="change.html#=">=</A>&quot; does not work.
Solution:   Also allow for NUL after &quot;<A HREF="change.html#=">=</A>&quot;. (closes #6549)
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.1325
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> for <A HREF="eval.html#autoload">autoload</A> not tested.
Solution:   Add a test.  Update help.
Files:      runtime/doc/vim9.txt, src/testdir/test_autoload.vim,
            src/testdir/sautest/autoload/auto9.vim

Patch 8.2.1326
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: skipping over white space after <A HREF="eval.html#list">list</A>.
Solution:   Do not skip white space, a following <A HREF="motion.html#[]">[]</A> would be misinterpreted.
            (closes #6552)  Fix a few side effects.
Files:      src/list.c, src/dict.c, src/eval.c, src/userfunc.c,
            src/testdir/test_functions.vim, src/testdir/test_gn.vim,
            src/testdir/test_popupwin.vim, src/testdir/test_tabpage.vim,
            src/testdir/test_textprop.vim, src/testdir/test_textobjects.vim

Patch 8.2.1327
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: configure can't find <A HREF="if_tcl.html#Tcl">Tcl</A> libraries.
Solution:   Adjust configure check. (closes #6575)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.1328
Problem:    No space allowed before comma in <A HREF="eval.html#list">list</A>.
Solution:   Legacy Vim <A HREF="usr_41.html#script">script</A> allows <A HREF="motion.html#it">it</A>. (closes #6577)
Files:      src/dict.c, src/list.c, src/testdir/test_listdict.vim

Patch 8.2.1329
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot define global function inside <A HREF="vim9.html#:def">:def</A> function.
Solution:   Assign to global variable instead of local. (closes #6584)
Files:      src/vim9compile.c, src/userfunc.c, src/proto/userfunc.pro,
            src/vim9.h, src/vim9execute.c, src/structs.h,
            src/misc2.c, src/proto/misc2.pro, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1330
Problem:    Github workflow takes longer than needed.
Solution:   Do two test runs in parallel instead of sequentially. (Ken Takata,
            closes #6579)
Files:      .github/workflows/ci-windows.yaml

Patch 8.2.1331
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:echo">:echo</A> with two lists doesn't work.
Solution:   Do not skip white space before <A HREF="motion.html#[]">[]</A>. (closes #6552)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1332
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using nested global function.
Solution:   Delete the function when <A HREF="change.html#deleting">deleting</A> the instruction.  Disable test
            that still causes a leak.
Files:      src/vim9compile.c, src/userfunc.c, src/proto/userfunc.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.1333
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using nested global function.
Solution:   Swap from and to when <A HREF="uganda.html#copying">copying</A> the lines.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1334
Problem:    Github workflow timeout needs tuning
Solution:   Use a 10 minute timeout. Fail when timing out. (Ken Takata,
            closes #6590)
Files:      .github/workflows/ci-windows.yaml

Patch 8.2.1335
Problem:    <A HREF="pattern.html#CTRL-C">CTRL-C</A> in the <A HREF="gui.html#GUI">GUI</A> doesn't interrupt. (Sergey Vlasov)
Solution:   Recognize &quot;<A HREF="change.html#C">C</A>&quot; with CTRL modifier <A HREF="motion.html#as">as</A> <A HREF="pattern.html#CTRL-C">CTRL-C</A>. (issue #6565)
Files:      src/gui.c, src/proto/gui.pro, src/gui_gtk_x11.c, src/gui_x11.c,
            src/gui_photon.c

Patch 8.2.1336 (after 8.2.1335)
Problem:    Build failure on non-Unix systems.
Solution:   Add #ifdef.
Files:      src/gui.c

Patch 8.2.1337
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use empty key in <A HREF="eval.html#dict">dict</A> assignment.
Solution:   Allow empty key. (closes #6591)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1338
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assigning to <A HREF="map.html#script-local">script-local</A> variable doesn't check type.
Solution:   Use the type. (issue #6591)
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1339
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assigning to global <A HREF="eval.html#dict">dict</A> variable doesn't work.
Solution:   Guess variable type based in index type. (issue #6591)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1340
Problem:    Some tests fail on Cirrus CI and/or with FreeBSD.
Solution:   Make <A HREF="options.html#'backupskip'">'backupskip'</A> empty. Do not run tests <A HREF="motion.html#as">as</A> root. Check for
            directory when using <A HREF="starting.html#viminfo">viminfo</A>. (Ozaki Kiichi, closes #6596)
Files:      .cirrus.yml, src/testdir/test_backup.vim,
            src/testdir/test_edit.vim, src/testdir/test_viminfo.vim,
            src/testdir/test_writefile.vim, src/viminfo.c

Patch 8.2.1341
Problem:    Build failures.
Solution:   Add missing error message.
Files:      src/globals.h

Patch 8.2.1342
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: accidentally using &quot;<A HREF="change.html#x">x</A>&quot; gives a confusing error.
Solution:   Disallow using &quot;<A HREF="change.html#:t">:t</A>&quot; in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (issue #6399)
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/vim9script.c,
            src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.1343
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot find global function when using <A HREF="eval.html#g:">g:</A> when local
            function with the same name exists.
Solution:   Find global function when using <A HREF="eval.html#g:">g:</A>.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1344
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: No test for trying to redefine global function.
Solution:   Add a test.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1345
Problem:    Redraw error when using visual block and scroll.
Solution:   Add check for w_topline. (closes #6597)
Files:      src/drawscreen.c, src/testdir/test_display.vim,
            src/testdir/dumps/Test_display_visual_block_scroll.dump

Patch 8.2.1346
Problem:    Small build fails.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.1347
Problem:    Cannot easily get the <A HREF="usr_41.html#script">script</A> ID.
Solution:   Support expand('&lt;SID&gt;').
Files:      runtime/doc/map.txt, src/ex_docmd.c,
            src/testdir/test_expand_func.vim

Patch 8.2.1348
Problem:    Build failure without the <A HREF="eval.html#eval">eval</A> feature.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.1349
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can define a function with the name of an import.
Solution:   Disallow using an existing name. (closes #6585)
Files:      src/userfunc.c, src/vim9compile.c, src/globals.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.1350
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for error message when redefining function.
Solution:   Add a test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1351
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no proper error if using namespace for nested function.
Solution:   Specifically check for a namespace. (closes #6582)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1352
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for shadowing a <A HREF="map.html#script-local">script-local</A> function by a nested
            function.
Solution:   Check for <A HREF="map.html#script-local">script-local</A> function. (closes #6586)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1353
Problem:    Crash when drawing double-wide character in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
            (Masato Nishihata)
Solution:   Check getcell() returning NULL. (issue #6141)
Files:      src/libvterm/src/screen.c, src/testdir/test_terminal.vim

Patch 8.2.1354
Problem:    Test 59 is old style.
Solution:   Convert into a new style test. (Yegappan Lakshmanan, closes #6604)
Files:      runtime/doc/eval.txt, src/Makefile, src/testdir/Make_all.mak,
            src/testdir/Make_vms.mms, src/testdir/test59.in,
            src/testdir/test59.ok, src/testdir/test_spell_utf8.vim

Patch 8.2.1355
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error using <A HREF="eval.html#:let">:let</A> for <A HREF="options.html#options">options</A> and <A HREF="change.html#registers">registers</A>.
Solution:   Give an error. (closes #6568)
Files:      src/evalvars.c, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1356
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot get the percent <A HREF="sponsor.html#register">register</A>.
Solution:   Check for readable <A HREF="change.html#registers">registers</A> instead of writable. (closes #6566)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1357
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to / <A HREF="sponsor.html#register">register</A>.
Solution:   Adjust check for assignment. (issue #6566)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1358
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails with <A HREF="various.html#+dnd">+dnd</A> is not available.
Solution:   Add condition.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1359
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to / <A HREF="sponsor.html#register">register</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Adjust check for assignment in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #6567)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.1360
Problem:    Stray error for white space after <A HREF="eval.html#expression">expression</A>.
Solution:   Ignore trailing white space. (closes #6608)
Files:      src/eval.c, src/testdir/test_filter_map.vim

Patch 8.2.1361
Problem:    Error for white space after <A HREF="eval.html#expression">expression</A> in assignment.
Solution:   Skip over white space. (closes #6617)
Files:      src/eval.c, src/testdir/test_expr.vim

Patch 8.2.1362
Problem:    Last entry of &quot;<A HREF="options.html#:set">:set</A> <A HREF="options.html#'term'">term</A>=xxx&quot; overwritten by error message when
            <A HREF="options.html#'cmdheight'">'cmdheight'</A> is two or more. (Tony Mechelynck)
Solution:   Output extra line breaks.
Files:      src/term.c, src/testdir/test_termcodes.vim

Patch 8.2.1363
Problem:    Test trying to run <A HREF="terminal.html#terminal">terminal</A> when <A HREF="motion.html#it">it</A> is not supported.
Solution:   Check if Vim can be run in a <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/testdir/test_termcodes.vim

Patch 8.2.1364
Problem:    Invalid memory access when searching for raw <A HREF="eval.html#string">string</A>.
Solution:   Check for delimiter match before following <A HREF="change.html#quote.">quote.</A> (closes #6578)
Files:      src/search.c

Patch 8.2.1365
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing white space around <A HREF="motion.html#operator">operator</A>.
Solution:   Check for white space. (closes #6618)
Files:      src/eval.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/evalvars.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.1366
Problem:    Test 49 is old style.
Solution:   Convert several tests to new style. (Yegappan Lakshmanan,
            closes #6629)
Files:      src/testdir/script_util.vim, src/testdir/test49.ok,
            src/testdir/test49.vim, src/testdir/test_vimscript.vim

Patch 8.2.1367
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing white space around <A HREF="motion.html#operator">operator</A>.
Solution:   Check for white space around *, / and <A HREF="motion.html#&#37;">&#37;</A>.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1368
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing white space around <A HREF="motion.html#operator">operator</A>.
Solution:   Check for white space around <A HREF="change.html#&lt;">&lt;</A>, !=, etc.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1369
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="autocmd.html#autocommand">autocommand</A> test sometimes fails.
Solution:   Do not rely on the cat command.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.1370
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: warning for using fstat() with stat_T.
Solution:   use _fstat64() if available. (Naruhiko Nishino, closes #6625)
Files:      src/macros.h

Patch 8.2.1371
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing white space around <A HREF="motion.html#operator">operator</A>.
Solution:   Check for white space around &amp;&amp; and &#124;&#124;.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1372
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing white space around <A HREF="motion.html#operator">operator</A>.
Solution:   Check for white space around ? and <A HREF="cmdline.html#:.">:.</A>
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1373
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for assigning to non-existing <A HREF="usr_41.html#script">script</A> var.
Solution:   Check that in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> the variable was defined. (closes #6630)
Files:      src/vim9compile.c, src/userfunc.c, src/structs.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.1374
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for assigning empty <A HREF="eval.html#list">list</A> to <A HREF="usr_41.html#script">script</A> variable.
Solution:   Use t_unknown for empty <A HREF="eval.html#list">list</A> member. (closes #6595)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1375
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#method">method</A> name with digit not accepted.
Solution:   Use eval_isnamec() instead of eval_isnamec1(). (closes #6613)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1376
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expression">expression</A> <A HREF="map.html#mapping">mapping</A> causes error for using <A HREF="vim9.html#:import">:import</A>.
Solution:   Add EX_LOCK_OK to <A HREF="vim9.html#:import">:import</A> and <A HREF="vim9.html#:export">:export</A>. (closes #6606)
Files:      src/ex_cmds.h, src/testdir/test_vim9_script.vim

Patch 8.2.1377
Problem:    Triggering the <A HREF="usr_11.html#ATTENTION">ATTENTION</A> prompt causes typeahead to be messed up.
Solution:   Increment tb_change_cnt. (closes #6541)
Files:      src/getchar.c

Patch 8.2.1378
Problem:    Cannot put space between function name and paren.
Solution:   Allow this for backwards compatibility.
Files:      src/eval.c, src/testdir/test_expr.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1379
Problem:    Curly braces <A HREF="eval.html#expression">expression</A> ending in &quot; }&quot; does not work.
Solution:   Skip over white space when checking for &quot;<A HREF="motion.html#}">}</A>&quot;. (closes #6634)
Files:      src/dict.c, src/testdir/test_eval_stuff.vim

Patch 8.2.1380
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#getreg()">getreg()</A> is always a <A HREF="eval.html#string">string</A>.
Solution:   Use <A HREF="eval.html#list">list</A> of strings when there are three arguments. (closes #6633)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1381
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: crash with <A HREF="if_pyth.html#Python">Python</A> 3.5 when stdin is redirected.
Solution:   Reconnect stdin. (Yasuhiro Matsumoto, Ken Takata, closes #6641)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/if_python3.c

Patch 8.2.1382
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="vim9.html#:import">:import</A> in <A HREF="filetype.html#filetype">filetype</A> <A HREF="usr_05.html#plugin">plugin</A> gives an error.
Solution:   Allow commands with the EX_LOCK_OK flag. (closes #6636)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.1383
Problem:    Test 49 is old style.
Solution:   Convert test cases to new style. (Yegappan Lakshmanan,
            closes #6638)
Files:      src/testdir/test49.ok, src/testdir/test49.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.1384
Problem:    No <A HREF="usr_11.html#ATTENTION">ATTENTION</A> prompt for <A HREF="quickfix.html#:vimgrep">:vimgrep</A> first match file.
Solution:   When there is an existing swap file <A HREF="diff.html#do">do</A> not keep the dummy buffer.
            (closes #6649)
Files:      src/quickfix.c, src/testdir/runtest.vim,
            src/testdir/test_quickfix.vim

Patch 8.2.1385
Problem:    No <A HREF="testing.html#testing">testing</A> on ARM.
Solution:   Add a test on Travis for ARM. (Ozaki Kiichi, closes #6615)
Files:      .travis.yml

Patch 8.2.1386
Problem:    Backslash not removed after space in option with space in
            <A HREF="options.html#'isfname'">'isfname'</A>.
Solution:   Do remove <A HREF="intro.html#backslash">backslash</A> before space, also when <A HREF="motion.html#it">it</A> is in <A HREF="options.html#'isfname'">'isfname'</A>.
            (Yasuhiro Matsumoto, closes #6651)
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.2.1387
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to single <A HREF="print.html#letter">letter</A> variable with type.
Solution:   Exclude the colon from the variable name. (closes #6647)
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.1388
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: += only works for numbers.
Solution:   Use += <A HREF="motion.html#as">as</A> concatenate for a <A HREF="eval.html#list">list</A>. (closes #6646)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1389
Problem:    File missing from the <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add script_util.vim to the <A HREF="eval.html#list">list</A> of distributes files.
Files:      Filelist

Patch 8.2.1390
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error after storing an option value.
Solution:   Drop the type after a STOREOPT instruction. (closes #6632)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1391
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for shadowing a <A HREF="usr_41.html#script">script</A> function.
Solution:   Check for already defined items. (closes #6652)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1392
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error line number incorrect after skipping over comment
            lines.
Solution:   <A HREF="insert.html#Insert">Insert</A> empty lines for skipped lines.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1393
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for <A HREF="usr_41.html#script">script</A> debugging.
Solution:   Add more tests. (Ben Jackson)
Files:      src/testdir/test_debugger.vim

Patch 8.2.1394
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling a function interferes with command modifiers.
Solution:   Save and restore command modifiers. (closes #6658)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1395
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if declaring a funcref with a lower <A HREF="change.html#case">case</A> <A HREF="print.html#letter">letter</A>.
Solution:   Check the name after the type is inferred. Fix confusing name.
Files:      src/vim9compile.c, src/dict.c, src/eval.c, src/evalvars.c,
            src/proto/evalvars.pro, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1396
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for unexpectedly returning a value.
Solution:   Only set the return type for lambda's.  Make using function type
            in a function reference work.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1397
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#maparg()">maparg()</A> not adjusted for fourth argument.
Solution:   Check if fourth argument is present. (closes #6645)
Files:      src/evalfunc.c, src/testdir/test_maparg.vim

Patch 8.2.1398
Problem:    Autoload <A HREF="usr_41.html#script">script</A> sourced <A HREF="if_cscop.html#twice">twice</A> if sourced directly.
Solution:   Do not source an <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> again. (issue #6644)
Files:      src/scriptfile.c, src/testdir/sautest/autoload/sourced.vim

Patch 8.2.1399
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: may find imported item in wrong <A HREF="usr_41.html#script">script</A>.
Solution:   When looking up <A HREF="map.html#script-local">script-local</A> function use the embedded <A HREF="usr_41.html#script">script</A> ID.
            (issue #6644)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1400
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test does not delete written files.
Solution:   Correct file names.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1401
Problem:    Cannot jump to the last used <A HREF="tabpage.html#tabpage">tabpage</A>.
Solution:   Add <A HREF="tabpage.html#g&lt;Tab&gt;">g&lt;Tab&gt;</A> and tabpagnr('#'). (Yegappan Lakshmanan, closes #6661,
            neovim #11626)
Files:      runtime/doc/eval.txt, runtime/doc/index.txt,
            runtime/doc/tabpage.txt, src/evalwindow.c, src/globals.h,
            src/normal.c, src/proto/window.pro, src/testdir/test_tabpage.vim,
            src/window.c

Patch 8.2.1402
Problem:    s390x tests always fail.
Solution:   Temporarily disable s390x tests.
Files:      .travis.yml

Patch 8.2.1403
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Vim highlighting fails in cmdline <A HREF="windows.html#window">window</A> if <A HREF="motion.html#it">it</A> uses <A HREF="vim9.html#Vim9">Vim9</A>
            commands.
Solution:   Allow using <A HREF="repeat.html#:vim9script">:vim9script</A>, <A HREF="vim9.html#:import">:import</A> and <A HREF="vim9.html#:export">:export</A> while in the cmdline
            <A HREF="windows.html#window">window</A>. (closes #6656)
Files:      src/ex_cmds.h, src/testdir/test_vim9_script.vim

Patch 8.2.1404
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test fails in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Use another key to map.  Improve cleanup.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1405
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: vim9compile.c is getting too big.
Solution:   Split off type code to vim9type.c.
Files:      Filelist, src/vim9compile.c, src/proto/vim9compile.pro,
            src/vim9type.c, src/proto/vim9type.pro, src/proto.h,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Makefile

Patch 8.2.1406
Problem:    Popupwindow lacks scrollbar if no &quot;maxheight&quot; is used.
Solution:   Compute the max height depending on the position. (closes #6664)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_toohigh_1.dump,
            src/testdir/dumps/Test_popupwin_toohigh_2.dump

Patch 8.2.1407
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type of <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A> only depends on first item.
Solution:   Use all items to decide about the type.
Files:      src/vim9compile.c, src/vim9type.c, src/proto/vim9type.pro,
            src/testdir/test_vim9_expr.vim, runtime/doc/vim9.txt

Patch 8.2.1408
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type casting not supported.
Solution:   Introduce type casting.
Files:      runtime/doc/vim9.txt, src/vim9compile.c,
            src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1409
Problem:    Npmrc and php.ini <A HREF="filetype.html#filetypes">filetypes</A> not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> detection. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1410
Problem:    Adding compiler <A HREF="usr_05.html#plugin">plugin</A> requires test change.
Solution:   Include compiler <A HREF="usr_05.html#plugin">plugin</A> and adjust test.
Files:      src/testdir/test_compiler.vim, runtime/compiler/xo.vim

Patch 8.2.1411
Problem:    when splitting a <A HREF="windows.html#window">window</A> localdir is copied but prevdir is not.
Solution:   Also copy prevdir. (closes #6667)
Files:      src/window.c, src/testdir/test_cd.vim

Patch 8.2.1412
Problem:    Vim: not <A HREF="motion.html#operator">operator</A> does not result in <A HREF="options.html#boolean">boolean</A>.
Solution:   Make type depend on <A HREF="motion.html#operator">operator</A>. (issue 6678)  Fix using &quot;<A HREF="vim9.html#false">false</A>&quot; and
            &quot;<A HREF="vim9.html#true">true</A>&quot; in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1413 (after 8.2.1401)
Problem:    Previous <A HREF="intro.html#tab">tab</A> page not usable from an <A HREF="intro.html#Ex">Ex</A> command.
Solution:   Add the &quot;<A HREF="pattern.html##">#</A>&quot; argument for <A HREF="tabpage.html#:tabnext">:tabnext</A> et al. (Yegappan Lakshmanan,
            closes #6677)
Files:      runtime/doc/tabpage.txt, src/ex_docmd.c, src/window.c,
            src/testdir/test_tabpage.vim

Patch 8.2.1414
Problem:    Popupwindow missing last couple of lines when cursor is in the
            first line.
Solution:   Compute the max height also when top aligned. (closes #6664)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_toohigh_3.dump,
            src/testdir/dumps/Test_popupwin_nospace.dump

Patch 8.2.1415
Problem:    Closing a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with <A HREF="pattern.html#CTRL-C">CTRL-C</A> interrupts <A HREF="options.html#'statusline'">'statusline'</A> if <A HREF="motion.html#it">it</A>
            calls a function.
Solution:   Reset got_int while redrawing. (closes #6675)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_ctrl_c.dump

Patch 8.2.1416
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="options.html#boolean">boolean</A> evaluation does not work <A HREF="motion.html#as">as</A> intended.
Solution:   Use tv2bool() in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #6681)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim, src/testdir/vim9.vim

Patch 8.2.1417
Problem:    Test 49 is old style.
Solution:   Convert more parts to new style test. (Yegappan Lakshmanan,
            closes #6682)
Files:      src/testdir/test49.ok, src/testdir/test49.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.1418
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid error for missing white space after function.
Solution:   Do not skip over white space. (closes #6679)
Files:      src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1419
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not <A HREF="motion.html#operator">operator</A> applied too early.
Solution:   Implement the &quot;numeric_only&quot; argument. (closes #6680)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1420
Problem:    Test 49 is old style.
Solution:   Convert remaining parts to new style. Remove obsolete items.
            (Yegappan Lakshmanan, closes #6683)
Files:      Filelist, runtime/doc/testing.txt, src/Make_mvc.mak, src/Makefile,
            src/testdir/Make_all.mak, src/testdir/Make_amiga.mak,
            src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_vms.mms, src/testdir/Makefile,
            src/testdir/README.txt, src/testdir/test49.in,
            src/testdir/test49.ok, src/testdir/test49.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_vimscript.vim

Patch 8.2.1421
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: handling &quot;<A HREF="motion.html#+">+</A>&quot; and &quot;<A HREF="motion.html#-">-</A>&quot; before number differs from Vim <A HREF="usr_41.html#script">script</A>.
Solution:   Use the same sequence of commands.
Files:      src/vim9compile.c

Patch 8.2.1422
Problem:    The <A HREF="os_mac.html#Mac">Mac</A> <A HREF="gui.html#GUI">GUI</A> implementation is outdated and probably doesn't even
            work.
Solution:   Remove the <A HREF="os_mac.html#Mac">Mac</A> <A HREF="gui.html#GUI">GUI</A> code.  The MacVim project provides the
            supported Vim <A HREF="gui.html#GUI">GUI</A> version.
Files:      Filelist, src/gui_mac.c, src/proto/gui_mac.pro, src/proto.h,
            src/Makefile, src/configure.ac, src/auto/configure,
            src/evalfunc.c, src/fileio.c, src/gui.c, src/if_mzsch.c,
            src/main.c, src/misc2.c, src/mouse.c, src/os_mac_conv.c,
            src/os_unix.c, src/feature.h, src/globals.h, src/gui.h,
            src/option.h, src/optiondefs.h, src/os_mac.h, src/structs.h,
            src/vim.h, src/INSTALLmac.txt

Patch 8.2.1423
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: find global function when looking for <A HREF="map.html#script-local">script-local</A>.
Solution:   Don't strip prefix if name starts with &quot;s:&quot;. (closes #6688)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1424 (after 8.2.1422)
Problem:    <A HREF="os_mac.html#Mac">Mac</A> build fails.
Solution:   Adjust configure to not fall back to Athena.  Adjust some other
            files.
Files:      src/configure.ac, src/auto/configure, src/os_macosx.m,
            src/version.c

Patch 8.2.1425
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="builtin.html#call()">call()</A> without <A HREF="eval.html#:call">:call</A>.
Solution:   Do not skip over &quot;call(&quot;. (closes #6689)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1426
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot call <A HREF="eval.html#autoload">autoload</A> function in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Load the <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A>. (closes #6690)
Files:      src/vim9execute.c, src/vim9compile.c, src/scriptfile.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1427
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a range with marks in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Parse range after colon. (closes #6686)
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.1428
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#:def">:def</A> function does not abort on nested function error.
Solution:   Check whether an error message was given. (closes #6691)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1429
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing white after : in <A HREF="eval.html#dict">dict</A>.
Solution:   Check for white space. (closes #6671)  Also check that there is no
            white before the <A HREF="cmdline.html#:.">:.</A>
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.1430
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for missing comma instead of extra white space.
Solution:   Check if comma can be found after white space. (closes #6668)
            Also check for extra white space in literal <A HREF="eval.html#dict">dict</A>. (closes #6670)
Files:      src/list.c, src/dict.c, src/vim9compile.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1431
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for white space before comma in <A HREF="eval.html#dict">dict</A>.
Solution:   Check for extra white space. (closes #6674)
Files:      src/vim9compile.c, src/dict.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1432
Problem:    Various inconsistencies in test files.
Solution:   Add modelines where they were missing.  Use Check commands instead
            of silently skipping over tests.  Adjust indents and comments.
            (Ken Takata, closes #6695)
Files:      src/testdir/test_arglist.vim, src/testdir/test_assert.vim,
            src/testdir/test_autochdir.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_autoload.vim, src/testdir/test_balloon.vim,
            src/testdir/test_balloon_gui.vim, src/testdir/test_behave.vim,
            src/testdir/test_blockedit.vim, src/testdir/test_breakindent.vim,
            src/testdir/test_bufline.vim, src/testdir/test_bufwintabinfo.vim,
            src/testdir/test_cd.vim, src/testdir/test_changedtick.vim,
            src/testdir/test_changelist.vim, src/testdir/test_channel.vim,
            src/testdir/test_checkpath.vim, src/testdir/test_cindent.vim,
            src/testdir/test_cjk_linebreak.vim,
            src/testdir/test_clientserver.vim,
            src/testdir/test_close_count.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_command_count.vim,
            src/testdir/test_comparators.vim, src/testdir/test_compiler.vim,
            src/testdir/test_crypt.vim, src/testdir/test_cursorline.vim,
            src/testdir/test_curswant.vim, src/testdir/test_debugger.vim,
            src/testdir/test_delete.vim, src/testdir/test_diffmode.vim,
            src/testdir/test_digraph.vim, src/testdir/test_display.vim,
            src/testdir/test_edit.vim, src/testdir/test_environ.vim,
            src/testdir/test_erasebackword.vim,
            src/testdir/test_escaped_glob.vim, src/testdir/test_ex_equal.vim,
            src/testdir/test_ex_undo.vim, src/testdir/test_ex_z.vim,
            src/testdir/test_exec_while_if.vim, src/testdir/test_exists.vim,
            src/testdir/test_exists_autocmd.vim, src/testdir/test_exit.vim,
            src/testdir/test_expand_dllpath.vim,
            src/testdir/test_expr_utf8.vim, src/testdir/test_feedkeys.vim,
            src/testdir/test_file_size.vim, src/testdir/test_fileformat.vim,
            src/testdir/test_filter_cmd.vim,
            src/testdir/test_find_complete.vim, src/testdir/test_findfile.vim,
            src/testdir/test_fixeol.vim, src/testdir/test_flatten.vim,
            src/testdir/test_fnameescape.vim, src/testdir/test_fold.vim,
            src/testdir/test_functions.vim, src/testdir/test_ga.vim,
            src/testdir/test_getcwd.vim, src/testdir/test_getvar.vim,
            src/testdir/test_glob2regpat.vim, src/testdir/test_global.vim,
            src/testdir/test_gui.vim, src/testdir/test_gui_init.vim,
            src/testdir/test_highlight.vim, src/testdir/test_hlsearch.vim,
            src/testdir/test_iminsert.vim,
            src/testdir/test_increment_dbcs.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_interrupt.vim,
            src/testdir/test_job_fails.vim, src/testdir/test_join.vim,
            src/testdir/test_json.vim, src/testdir/test_jumplist.vim,
            src/testdir/test_jumps.vim, src/testdir/test_lambda.vim,
            src/testdir/test_langmap.vim, src/testdir/test_largefile.vim,
            src/testdir/test_lineending.vim, src/testdir/test_listchars.vim,
            src/testdir/test_listener.vim, src/testdir/test_listlbr.vim,
            src/testdir/test_listlbr_utf8.vim,
            src/testdir/test_makeencoding.vim, src/testdir/test_man.vim,
            src/testdir/test_mapping.vim, src/testdir/test_marks.vim,
            src/testdir/test_matchadd_conceal.vim,
            src/testdir/test_matchadd_conceal_utf8.vim,
            src/testdir/test_memory_usage.vim, src/testdir/test_menu.vim,
            src/testdir/test_messages.vim, src/testdir/test_mksession.vim,
            src/testdir/test_modeline.vim,
            src/testdir/test_nested_function.vim, src/testdir/test_number.vim,
            src/testdir/test_options.vim, src/testdir/test_packadd.vim,
            src/testdir/test_partial.vim, src/testdir/test_paste.vim,
            src/testdir/test_plus_arg_edit.vim, src/testdir/test_preview.vim,
            src/testdir/test_profile.vim, src/testdir/test_prompt_buffer.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_quotestar.vim,
            src/testdir/test_random.vim, src/testdir/test_recover.vim,
            src/testdir/test_regex_char_classes.vim,
            src/testdir/test_regexp_latin.vim, src/testdir/test_registers.vim,
            src/testdir/test_rename.vim, src/testdir/test_retab.vim,
            src/testdir/test_scriptnames.vim, src/testdir/test_scroll_opt.vim,
            src/testdir/test_scrollbind.vim, src/testdir/test_search_stat.vim,
            src/testdir/test_searchpos.vim, src/testdir/test_set.vim,
            src/testdir/test_sha256.vim, src/testdir/test_shift.vim,
            src/testdir/test_shortpathname.vim, src/testdir/test_signs.vim,
            src/testdir/test_sort.vim, src/testdir/test_sound.vim,
            src/testdir/test_source_utf8.vim, src/testdir/test_spellfile.vim,
            src/testdir/test_startup.vim, src/testdir/test_startup_utf8.vim,
            src/testdir/test_stat.vim, src/testdir/test_suspend.vim,
            src/testdir/test_swap.vim, src/testdir/test_syntax.vim,
            src/testdir/test_tab.vim, src/testdir/test_tabline.vim,
            src/testdir/test_tagcase.vim, src/testdir/test_tagjump.vim,
            src/testdir/test_taglist.vim, src/testdir/test_termcodes.vim,
            src/testdir/test_termencoding.vim, src/testdir/test_terminal.vim,
            src/testdir/test_terminal2.vim, src/testdir/test_terminal3.vim,
            src/testdir/test_terminal_fail.vim,
            src/testdir/test_true_false.vim,
            src/testdir/test_utf8_comparisons.vim,
            src/testdir/test_vartabs.vim, src/testdir/test_version.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_winbar.vim,
            src/testdir/test_winbuf_close.vim,
            src/testdir/test_window_cmd.vim, src/testdir/test_window_id.vim,
            src/testdir/test_windows_home.vim, src/testdir/test_wnext.vim,
            src/testdir/test_wordcount.vim, src/testdir/test_writefile.vim,
            src/testdir/test_xxd.vim

Patch 8.2.1433
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot mingle comments in multi-line <A HREF="eval.html#lambda">lambda</A>.
Solution:   Skip over NULL lines. (closes #6694)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1434
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when <A HREF="eval.html#lambda">lambda</A> uses outer function argument.
Solution:   Set the flag that the outer context is used.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1435
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: always converting to <A HREF="eval.html#string">string</A> for &quot;..&quot; leads to mistakes.
Solution:   Only automatically convert simple types.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/vim9.h,
            src/vim9execute.c, src/proto/vim9execute.pro, src/eval.c,
            src/evalfunc.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1436
Problem:    Function implementing <A HREF="change.html#:substitute">:substitute</A> has unexpected name.
Solution:   Rename from do_sub() to ex_substitute().
Files:      src/ex_cmds.c, src/proto/ex_cmds.pro, src/ex_docmd.c,
            src/ex_cmds.h

Patch 8.2.1437
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="options.html#'statusline'">'statusline'</A> is evaluated using <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A>.
Solution:   Always use legacy <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A>.
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.1438
Problem:    Missing tests for interrupting <A HREF="usr_41.html#script">script</A> execution from debugger.
Solution:   Add tests. (Yegappan Lakshmanan, closes #6697)
Files:      src/testdir/test_debugger.vim

Patch 8.2.1439
Problem:    Tiny and small builds have no test coverage.
Solution:   Restore tests that <A HREF="diff.html#do">do</A> not depend on the <A HREF="various.html#+eval">+eval</A> feature.
            (Ken Takata, closes #6696)
Files:      .travis.yml, Filelist, Makefile, runtime/doc/testing.txt,
            src/Make_mvc.mak, src/Makefile, src/testdir/Make_all.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,
            src/testdir/Makefile, src/testdir/runtest.vim,
            src/testdir/test1.in, src/testdir/test1.ok, src/testdir/test20.in,
            src/testdir/test20.ok, src/testdir/test21.in,
            src/testdir/test21.ok, src/testdir/test22.in,
            src/testdir/test22.ok, src/testdir/test23.in,
            src/testdir/test23.ok, src/testdir/test24.in,
            src/testdir/test24.ok, src/testdir/test25.in,
            src/testdir/test25.ok, src/testdir/test26.in,
            src/testdir/test26.ok, src/testdir/test27.in,
            src/testdir/test27.ok, src/testdir/test_options.vim

Patch 8.2.1440
Problem:    Debugger code insufficiently tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #6700)
Files:      src/testdir/test_debugger.vim, src/testdir/test_vimscript.vim

Patch 8.2.1441
Problem:    Running tests in tiny version gives error for summarize.vim.
Solution:   Set <A HREF="options.html#'cpoptions'">'cpoptions'</A> to allow for line continuation.  Restore
            redirecting test output to /dev/null.
Files:      src/testdir/summarize.vim, src/testdir/Makefile

Patch 8.2.1442
Problem:    Outdated references to the <A HREF="os_mac.html#Mac">Mac</A> Carbon <A HREF="gui.html#GUI">GUI</A>.
Solution:   Remove or update references. (Yee Cheng Chin, closes #6703)
Files:      READMEdir/README_extra.txt, src/Makefile, src/configure.ac,
            src/auto/configure, src/gui_haiku.cc, src/os_macosx.m,
            src/testdir/test_iminsert.vim, src/vim.h

Patch 8.2.1443
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when interrupting a nested <A HREF="vim9.html#:def">:def</A> function.
Solution:   Push a dummy return value onto the stack. (closes #6701)
Files:      src/vim9execute.c

Patch 8.2.1444
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out and names can be confusing.
Solution:   Start moving error <A HREF="message.html#messages">messages</A> to a separate file and use clear
            names.
Files:      Filelist, src/vim.h, src/globals.h, src/errors.h, src/Makefile,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Make_vms.mms,
            src/dict.c, src/evalvars.c, src/ex_docmd.c, src/list.c,
            src/userfunc.c, src/vim9compile.c, src/vim9execute.c,
            src/vim9script.c, src/vim9type.c

Patch 8.2.1445
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function expanded name is cleared when sourcing a <A HREF="usr_41.html#script">script</A>
            again.
Solution:   Only clear the expanded name when <A HREF="change.html#deleting">deleting</A> the function.
            (closes #6707)
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.1446
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line number in error message is not correct.
Solution:   Set SOURCING_LNUM before calling emsg(). (closes #6708)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1447
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#keys()">keys()</A> is list&lt;any&gt;.
Solution:   Should be list&lt;string&gt;. (closes #6711)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1448
Problem:    Test 77a for <A HREF="os_vms.html#VMS">VMS</A> depends on small.vim which does not exist.
Solution:   Use the 'silent while 0&quot; trick. (issue #6696)
Files:      src/testdir/test77a.in

Patch 8.2.1449
Problem:    Some test makefiles delete files that are not generated.
Solution:   Remove the deletion commands.
Files:      src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Make_amiga.mak, src/testdir/Make_vms.mms

Patch 8.2.1450
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check that <A HREF="map.html#script-local">script-local</A> items don't become global.
Solution:   Add a test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1451
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> type at <A HREF="usr_41.html#script">script</A> level only uses first item.
Solution:   Use all members, like in a compiled function. (closes #6712)
            Also for dictionary.
Files:      src/vim9type.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1452
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: dead code in to_name_end().
Solution:   Remove check for <A HREF="eval.html#lambda">lambda</A> and <A HREF="eval.html#dict">dict</A>, <A HREF="motion.html#it">it</A> won't be used.
Files:      src/vim9compile.c

Patch 8.2.1453
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: failure to compile <A HREF="eval.html#lambda">lambda</A> not tested.
Solution:   Add a test <A HREF="change.html#case">case</A>.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.1454
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: failure invoking <A HREF="eval.html#lambda">lambda</A> with wrong arguments.
Solution:   Handle invalid arguments.  Add a test.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1455
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using typecast before constant.
Solution:   Generate constant before checking type.  Add tets.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1456
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: test files are not deleted.
Solution:   use &quot;del&quot; instead of $(DEL).
Files:      src/testdir/Make_dos.mak

Patch 8.2.1457
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: the output of <A HREF="vim9.html#:disassemble">:disassemble</A> cannot be interrupted.
Solution:   Check got_int. (closes #6715)
Files:      src/vim9execute.c

Patch 8.2.1458
Problem:    .gawk files not recognized.
Solution:   Recognize .gawk files. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1459
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: declaring a <A HREF="usr_41.html#script">script</A> variable at the <A HREF="usr_41.html#script">script</A> level does not
            infer the type.
Solution:   Get the type from the value. (closes #6716)
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.1460
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#messages">messages</A> into errors.h.
Files:      src/errors.h, src/globals.h, src/vim9compile.c, src/vim9execute.c,
            src/vim9script.c, src/vim9type.c, src/scriptfile.c, src/ex_cmds.c,
            src/ex_docmd.c, src/match.c, src/eval.c, src/evalvars.c,
            src/userfunc.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.1461
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#string">string</A> indexes are counted in bytes.
Solution:   Use character indexes. (closes #6574)
Files:      runtime/doc/eval.txt, src/eval.c, src/proto/eval.pro,
            src/vim9execute.c, src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1462
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#string">string</A> <A HREF="eval.html#slice">slice</A> not supported yet.
Solution:   Add support for <A HREF="eval.html#string">string</A> slicing.
Files:      src/errors.h, src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/eval.c, src/proto/eval.pro, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1463
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> <A HREF="eval.html#slice">slice</A> not supported yet.
Solution:   Add support for <A HREF="eval.html#list">list</A> slicing.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/eval.c,
            src/list.c, src/proto/list.pro, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1464
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: build warning for unused variable.
Solution:   Delete the variable declaration.
Files:      src/vim9execute.c

Patch 8.2.1465
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#subscript">subscript</A> not handled properly.
Solution:   Adjust error message.  Remove dead code.  Disallow <A HREF="eval.html#string">string</A> to
            number conversion in scripts.
Files:      src/errors.h, src/vim9compile.c, src/vim9execute.c, src/eval.c,
            src/typval.c, src/list.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1466
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot index or <A HREF="eval.html#slice">slice</A> a variable with type &quot;any&quot;.
Solution:   Add runtime index and <A HREF="eval.html#slice">slice</A>.
Files:      src/eval.c, src/proto/eval.pro, src/vim9compile.c,
            src/vim9execute.c, src/vim9.h, src/errors.h, src/list.c,
            src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1467
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:echomsg">:echomsg</A> doesn't like a <A HREF="eval.html#dict">dict</A> argument.
Solution:   Convert arguments like in legacy <A HREF="usr_41.html#script">script</A>. (closes #6717)
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1468
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid error for missing white space.
Solution:   Don't skip over white space after index. (closes #6718)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1469
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign <A HREF="eval.html#string">string</A> to <A HREF="eval.html#string">string</A> option.
Solution:   Change checks for option value. (closes #6720)
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.1470
Problem:    Errors in <A HREF="spell.html#spell">spell</A> file not tested.
Solution:   Add test for <A HREF="spell.html#spell">spell</A> file <A HREF="message.html#errors">errors</A>. (Yegappan Lakshmanan,
            closes #6721)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.1471
Problem:    <A HREF="eval.html#:const">:const</A> only locks the variable, not the value.
Solution:   Lock the value <A HREF="motion.html#as">as</A> &quot;<A HREF="eval.html#:lockvar">:lockvar</A> 1 var&quot; would <A HREF="diff.html#do">do</A>. (closes #6719)
Files:      src/evalvars.c, src/testdir/test_const.vim

Patch 8.2.1472
Problem:    &quot;:argdel&quot; does not work like &quot;:.argdel&quot; <A HREF="motion.html#as">as</A> documented. (Alexey
            Demin)
Solution:   Make &quot;:argdel&quot; work like &quot;:.argdel&quot;. (closes #6727)
            Also fix giving the error &quot;<A HREF="motion.html#0">0</A> more files to edit&quot;.
Files:      src/arglist.c, src/ex_docmd.c, src/testdir/test_arglist.vim

Patch 8.2.1473
Problem:    Items in a <A HREF="eval.html#list">list</A> given to <A HREF="eval.html#:const">:const</A> can still be modified.
Solution:   Work like &quot;:lockvar! name&quot; but don't lock referenced items.
            Make locking a <A HREF="eval.html#blob">blob</A> work.
Files:      runtime/doc/eval.txt, src/evalvars.c, src/eval.c,
            src/testdir/test_const.vim

Patch 8.2.1474
Problem:    /usr/lib/udef/rules.d not recognized <A HREF="motion.html#as">as</A> udevrules.
Solution:   Adjust match <A HREF="pattern.html#pattern">pattern</A>. (Haochen Tong, closes 36722)
Files:      runtime/autoload/dist/ft.vim, src/testdir/test_filetype.vim

Patch 8.2.1475
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can't use <A HREF="eval.html#v:true">v:true</A> for option flags.
Solution:   Add tv_get_bool_chk(). (closes #6725)
Files:      src/typval.c, src/proto/typval.pro, src/channel.c

Patch 8.2.1476 (after 8.2.1474)
Problem:    Filetype test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Remove &quot;<A HREF="motion.html#^">^</A>&quot; from <A HREF="pattern.html#pattern">pattern</A>.
Files:      runtime/autoload/dist/ft.vim

Patch 8.2.1477
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using bufnr('&#37;').
Solution:   Don't give an error for using a <A HREF="eval.html#string">string</A> argument. (closes #6723)
Files:      src/evalbuffer.c, src/testdir/test_vim9_func.vim

Patch 8.2.1478
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; for some <A HREF="popup.html#popup">popup</A> <A HREF="options.html#options">options</A>.
Solution:   Add dict_get_bool(). (closes #6725)
Files:      src/dict.c, src/proto/dict.pro, src/popupwin.c

Patch 8.2.1479
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for <A HREF="eval.html#list">list</A> index uses wrong line number.
Solution:   Set source line number. (closes #6724)  Add a way to assert the
            line number of the error with <A HREF="testing.html#assert_fails()">assert_fails()</A>.
Files:      runtime/doc/testing.txt, src/vim9execute.c, src/testing.c,
            src/evalfunc.c, src/message.c, src/globals.h, src/testdir/vim9.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1480
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: skip <A HREF="eval.html#expression">expression</A> in <A HREF="builtin.html#search()">search()</A> gives error.
Solution:   use tv_get_bool() eval_expr_to_bool(). (closes #6729)
Files:      src/eval.c, src/typval.c, src/proto/typval.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.1481
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line number reported with error may be wrong.
Solution:   Check line number in tests.
Files:      src/testdir/test_vim9_expr.vim, src/testdir/vim9.vim,
            src/vim9execute.c

Patch 8.2.1482
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using a nested <A HREF="eval.html#lambda">lambda</A>.
Solution:   Do not clear the growarray when not evaluating.  Correct pointer
            when getting the next line. (closes #6731)
Files:      src/eval.c, src/scriptfile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1483
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for using special <A HREF="motion.html#as">as</A> number when returning &quot;<A HREF="vim9.html#false">false</A>&quot;
            from a <A HREF="popup.html#popup">popup</A> <A HREF="change.html#filter">filter</A>.
Solution:   Use tv_get_bool(). (closes #6733)
Files:      src/popupwin.c

Patch 8.2.1484
Problem:    Flaky failure in <A HREF="testing.html#assert_fails()">assert_fails()</A>.
Solution:   Only used fourth argument if there is a third argument.
Files:      src/testing.c

Patch 8.2.1485
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#readdirex()">readdirex()</A> <A HREF="eval.html#expression">expression</A> doesn't accept bool.
Solution:   Accept both -1 and bool. (closes #6737)
Files:      src/filepath.c, src/testdir/test_vim9_func.vim

Patch 8.2.1486
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#readdir()">readdir()</A> <A HREF="eval.html#expression">expression</A> doesn't accept bool.
Solution:   Merge with code for <A HREF="builtin.html#readdirex()">readdirex()</A>. (closes #6737)
Files:      src/filepath.c, src/testdir/test_vim9_func.vim

Patch 8.2.1487
Problem:    Travis: installing snd-dummy is not always useful.
Solution:   Only <A HREF="usr_90.html#install">install</A> snd-dummy on amd64. (Ozaki Kiichi, closes #6738)
Files:      .travis.yml, ci/load-snd-dummy.sh

Patch 8.2.1488
Problem:    Text does not scroll when <A HREF="insert.html#inserting">inserting</A> above first line.
Solution:   Adjust off-by-one error. (Ken Takata, closes #6739)
Files:      src/drawscreen.c, src/testdir/test_display.vim,
            src/testdir/dumps/Test_display_scroll_at_topline.dump

Patch 8.2.1489
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when setting an option with <A HREF="builtin.html#setbufvar()">setbufvar()</A>.
Solution:   Do not get a number from a <A HREF="eval.html#string">string</A> value. (closes #6740)
Files:      src/evalvars.c, src/testdir/test_vim9_func.vim

Patch 8.2.1490
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using /= with float and number doesn't work.
Solution:   Better support assignment with <A HREF="motion.html#operator">operator</A>. (closes #6742)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1491
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when compiling heredoc lines start with comment.
Solution:   Skip over NULL pointers. Do not remove comment and empty lines
            when fetching function lines. (closes #6743)
Files:      src/vim9compile.c, src/scriptfile.c, src/proto/scriptfile.pro,
            src/structs.h, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/ex_cmds.h, src/autocmd.c, src/proto/autocmd.pro,
            src/ex_getln.c, src/proto/ex_getln.pro, src/userfunc.c,
            src/proto/userfunc.pro, src/evalfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1492
Problem:    Build failures.
Solution:   Move typedef out of #ifdef.  Adjust argument types.  Discover
            America.
Files:      src/structs.h, src/ex_docmd.c

Patch 8.2.1493
Problem:    Not enough test coverage for the <A HREF="spell.html#spell">spell</A> file handling.
Solution:   Add <A HREF="spell.html#spell">spell</A> file tests. (Yegappan Lakshmanan, closes #6728)
Files:      src/spellfile.c, src/testdir/test_spellfile.vim

Patch 8.2.1494
Problem:    Missing change to calling eval_getline().
Solution:   Change last argument.
Files:      src/eval.c

Patch 8.2.1495
Problem:    &quot;make clean&quot; may delete too many files.
Solution:   Do not delete $APPDIR. (closes #6751)
Files:      src/Makefile

Patch 8.2.1496
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot; #&quot; in a <A HREF="map.html#mapping">mapping</A>.
Solution:   Do not remove a comment with the EX_NOTRLCOM flag. (closes #6746)
Files:      src/ex_docmd.c, src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1497
Problem:    <A HREF="autocmd.html#CursorHold">CursorHold</A> test is flaky. (Jakub Kądziołka)
Solution:   Use WaitForAssert() (closes #6754)
Files:      src/testdir/test_autocmd.vim

Patch 8.2.1498
Problem:    On slow systems tests can be flaky.
Solution:   Use TermWait() instead of term-wait(). (Yegappan Lakshmanan,
            closes #6756)
Files:      src/testdir/test_digraph.vim, src/testdir/test_display.vim,
            src/testdir/test_popupwin.vim, src/testdir/test_termcodes.vim,
            src/testdir/test_terminal.vim, src/testdir/test_terminal3.vim,
            src/testdir/test_writefile.vim

Patch 8.2.1499
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using &quot;<A HREF="motion.html#$">$</A>&quot; with <A HREF="builtin.html#col()">col()</A>.
Solution:   Reorder getting the column value. (closes #6744)
Files:      src/eval.c, src/testdir/test_vim9_func.vim

Patch 8.2.1500
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using address without a command.
Solution:   Execute the range itself. (closes #6747)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1501
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: concatenating to constant reverses order.
Solution:   Generate constant before option, <A HREF="sponsor.html#register">register</A> and environment
            variable. (closes #6757)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1502
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can use += with a <A HREF="eval.html#:let">:let</A> command at <A HREF="usr_41.html#script">script</A> level.
Solution:   Give an error.
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1503
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for an autocmd defined in a <A HREF="vim9.html#:def">:def</A> function in legacy
            Vim <A HREF="usr_41.html#script">script</A>.
Solution:   Don't check the variable type. (closes #6758)
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.1504
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: white space checks are only done for a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Also <A HREF="diff.html#do">do</A> checks at the <A HREF="usr_41.html#script">script</A> level.  Adjust the name of a few
            error <A HREF="message.html#messages">messages</A>.
Files:      src/userfunc.c, src/errors.h, src/dict.c, src/list.c,
            src/vim9compile.c, src/vim9script.c, src/vim9type.c,
            src/evalvars.c, src/testdir/test_vim9_expr.vim,
            src/testdir/vim9.vim

Patch 8.2.1505
Problem:    Not all file read and writecode is tested.
Solution:   Add a few tests. (Dominique Pellé, closes #6764)
Files:      src/testdir/test_eval_stuff.vim, src/testdir/test_fnamemodify.vim,
            src/testdir/test_functions.vim

Patch 8.2.1506
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when using a number other than 0 or 1 <A HREF="motion.html#as">as</A> bool.
Solution:   Check the number is 0 or 1.
Files:      src/errors.h, src/typval.c, src/testdir/test_vim9_func.vim

Patch 8.2.1507
Problem:    Using malloc() directly.
Solution:   Use ALLOC_ONE().  Remove superfluous typecast.  (Hussam al-Homsi,
            closes #6768)
Files:      src/eval.c, src/memline.c, src/vimrun.c

Patch 8.2.1508
Problem:    Not all debugger commands covered by tests.
Solution:   Add tests for going up/down in the stack. (Ben Jackson,
            closes #6765)
Files:      src/testdir/test_debugger.vim

Patch 8.2.1509
Problem:    Vertical separator is cleared when dragging a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> using a
            <A HREF="mbyte.html#multi-byte">multi-byte</A> character for the border.
Solution:   Only clear the character before the <A HREF="windows.html#window">window</A> if <A HREF="motion.html#it">it</A> is using a
            <A HREF="mbyte.html#multi-byte">multi-byte</A> character. (closes #6766)
Files:      src/screen.c

Patch 8.2.1510
Problem:    Using &quot;var&quot; in a <A HREF="vim9.html#:def">:def</A> function may refer to a legacy Vim <A HREF="usr_41.html#script">script</A>
            variable.
Solution:   Require using &quot;s:&quot; to refer to a legacy Vim <A HREF="usr_41.html#script">script</A> variable.
            (closes #6771)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1511
Problem:    Putting a <A HREF="eval.html#string">string</A> in <A HREF="visual.html#Visual">Visual</A> block mode ignores <A HREF="mbyte.html#multi-byte">multi-byte</A>
            characters.
Solution:   Adjust the column for <A HREF="visual.html#Visual">Visual</A> block mode. (closes #6767)
Files:      src/register.c, src/testdir/test_visual.vim

Patch 8.2.1512
Problem:    Failure after <A HREF="eval.html#ternary">ternary</A> <A HREF="eval.html#expression">expression</A> fails.
Solution:   Restore eval_flags. (Yasuhiro Matsumoto, closes #6776)
Files:      src/eval.c, src/testdir/test_vimscript.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1513
Problem:    Cannot interrupt shell used for filename expansion. (Dominique
            Pellé)
Solution:   Do set tmode in mch_delay(). (closes #6770)
Files:      src/vim.h, src/os_unix.c, src/proto/os_unix.pro, src/term.c,
            src/channel.c, src/if_cscope.c, src/os_amiga.c, src/ui.c,
            src/proto/os_amiga.pro, src/os_win32.c, src/proto/os_win32.pro

Patch 8.2.1514
Problem:    Multibyte vertical separator is cleared when dragging a <A HREF="popup.html#popup">popup</A>
            <A HREF="windows.html#window">window</A> using a <A HREF="mbyte.html#multi-byte">multi-byte</A> character for the border.
Solution:   Only clear the character before the <A HREF="windows.html#window">window</A> if <A HREF="motion.html#it">it</A> is double width.
            (closes #6766)
Files:      src/screen.c

Patch 8.2.1515
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can create <A HREF="eval.html#s:var">s:var</A> in legacy <A HREF="usr_41.html#script">script</A> but cannot unlet.
Solution:   Allow <A HREF="eval.html#:unlet">:unlet</A> for legacy <A HREF="usr_41.html#script">script</A> var.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1516
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for <A HREF="eval.html#:exe">:exe</A> has wrong line number.
Solution:   Set line number before calling do_cmdline_cmd(). (closes #6774)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1517
Problem:    Cannot easily get the character under the cursor.
Solution:   Add the {chars} argument to <A HREF="builtin.html#strpart()">strpart()</A>.
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_functions.vim

Patch 8.2.1518
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to local option.
Solution:   Skip over &quot;&amp;l:&quot; and &quot;&amp;g:&quot;. (closes #6749)
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/testdir/vim9.vim,
            src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1519
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="intro.html#Ex">Ex</A> command default range is not set.
Solution:   When range is not given use default. (closes #6779)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.1520
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="tagsrch.html#CTRL-]">CTRL-]</A> used in <A HREF="vim9.html#:def">:def</A> function does not work.
Solution:   Omit <A HREF="intro.html#count">count</A> or prepend colon. (closes #6769)
Files:      src/normal.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1521
Problem:    Reading past end of buffer when reading spellfile. (Yegappan
            Lakshmanan)
Solution:   Store the byte length and check for <A HREF="motion.html#it">it</A>.
Files:      src/spellfile.c, src/spell.h

Patch 8.2.1522
Problem:    Not enough test coverage for the <A HREF="spell.html#spell">spell</A> file handling.
Solution:   Add <A HREF="spell.html#spell">spell</A> file tests. (Yegappan Lakshmanan, closes #6763)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.1523
Problem:    Still not enough test coverage for the <A HREF="spell.html#spell">spell</A> file handling.
Solution:   Add <A HREF="spell.html#spell">spell</A> file tests. (Yegappan Lakshmanan, closes #6790)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.1524
Problem:    No longer get an error for <A HREF="eval.html#string">string</A> concatenation with float.
            (Tsuyoshi Cho)
Solution:   Only convert float for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #6787)
Files:      src/eval.c, src/testdir/test_eval_stuff.vim

Patch 8.2.1525
Problem:    Messages from tests were not always displayed.
Solution:   Always show <A HREF="message.html#messages">messages</A>, the timing is always useful. (Ken Takata,
            closes #6792)
Files:      src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,
            src/testdir/Makefile

Patch 8.2.1526
Problem:    Line in testdir Makefile got commented out. (Christian Brabandt)
Solution:   Revert.
Files:      src/testdir/Makefile

Patch 8.2.1527
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a function name <A HREF="motion.html#as">as</A> a function reference at <A HREF="usr_41.html#script">script</A>
            level.
Solution:   Check if a name is a function name. (closes #6789)
Files:      src/evalvars.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1528
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:endif">:endif</A> not found after &quot;if false&quot;.
Solution:   When skipping still check for a following command. (closes #6797)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1529
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:elseif">:elseif</A> may be compiled when not needed.
Solution:   Do evaluate the <A HREF="eval.html#:elseif">:elseif</A> <A HREF="eval.html#expression">expression</A>.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1530
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip <A HREF="intro.html#Ex">Ex</A> command inside &quot;if false&quot;.
Files:      src/vim9compile.c

Patch 8.2.1531
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   When skipping expect function to be NULL.
Files:      src/vim9compile.c

Patch 8.2.1532
Problem:    Compiler warning for conversion of size_t to long.
Solution:   Add type cast.
Files:      src/eval.c

Patch 8.2.1533
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when passing <A HREF="builtin.html#getreginfo()">getreginfo()</A> result to <A HREF="builtin.html#setreg()">setreg()</A>.
Solution:   Use dict_get_bool() for &quot;isunnamed&quot;. (closes #6784)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1534
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error for argument type is not at call position.
Solution:   Set the context and stack after checking the arguments.
            (issue #6785)
Files:      src/userfunc.c, src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1535
Problem:    It is not possible to specify cell widths of characters.
Solution:   Add <A HREF="builtin.html#setcellwidths()">setcellwidths()</A>.
Files:      runtime/doc/eval.txt, runtime/doc/options.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/mbyte.c,
            src/proto/mbyte.pro, src/errors.h, src/testdir/test_utf8.vim

Patch 8.2.1536
Problem:    Cannot get the class of a character; emoji widths are wrong in
            some environments.
Solution:   Add <A HREF="builtin.html#charclass()">charclass()</A>. Update some emoji widths.  Add <A HREF="usr_41.html#script">script</A> to check
            emoji widths.
Files:      Filelist, runtime/doc/eval.txt, runtime/doc/usr_41.txt,
            src/evalfunc.c, src/mbyte.c, src/proto/mbyte.pro,
            src/testdir/emoji_list.vim, src/testdir/test_functions.vim

Patch 8.2.1537
Problem:    Memory access error when using <A HREF="builtin.html#setcellwidths()">setcellwidths()</A>.
Solution:   Use array and pointers correctly.
Files:      src/mbyte.c, src/errors.h, src/testdir/test_utf8.vim

Patch 8.2.1538
Problem:    <A HREF="if_pyth.html#Python">Python</A>: iteration over vim <A HREF="index.html#objects">objects</A> fails to keep reference.
Solution:   Keep a reference for the object. (Paul Ollis, closes #6803,
            closes #6806)
Files:      src/if_py_both.h, src/testdir/test_python3.vim

Patch 8.2.1539
Problem:    Using invalid <A HREF="usr_41.html#script">script</A> ID causes a crash.
Solution:   Check the <A HREF="usr_41.html#script">script</A> ID to be valid. (closes #6804)
Files:      src/globals.h, src/evalvars.c, src/profiler.c, src/scriptfile.c,
            src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1540
Problem:    The user cannot try out emoji character widths.
Solution:   Move the emoji <A HREF="usr_41.html#script">script</A> to the runtime/tools directory.
Files:      Filelist, src/testdir/emoji_list.vim, runtime/tools/emoji_list.vim

Patch 8.2.1541
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot find function reference for s:Func.
Solution:   Recognize <A HREF="map.html#&lt;SNR&gt;">&lt;SNR&gt;</A> prefix. (closes #6805)
Files:      src/userfunc.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1542
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test with invalid SID does not work in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test in the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1543
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test with invalid SID is skipped in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Read the <A HREF="pattern.html#CTRL-C">CTRL-C</A> that <A HREF="builtin.html#feedkeys()">feedkeys()</A> put in typeahead.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1544
Problem:    Cannot translate <A HREF="message.html#messages">messages</A> in a Vim <A HREF="usr_41.html#script">script</A>.
Solution:   Add <A HREF="builtin.html#gettext()">gettext()</A>.  Try <A HREF="motion.html#it">it</A> out for a few <A HREF="message.html#messages">messages</A> in the <A HREF="options.html#options">options</A>
            <A HREF="windows.html#window">window</A>.
Files:      Filelist, src/po/Makefile, src/po/README.txt, runtime/optwin.vim,
            src/evalfunc.c, src/po/tojavascript.vim, src/po/fixfilenames.vim,
            runtime/doc/eval.txt, runtime/doc/usr_41.txt

Patch 8.2.1545
Problem:    <A HREF="channel.html#ch_logfile()">ch_logfile()</A> is unclear about closing when forking.
Solution:   Adjust the log <A HREF="message.html#messages">messages</A>.
Files:      src/channel.c, src/os_unix.c

Patch 8.2.1546
Problem:    Build rule for Vim.app is unused.
Solution:   Delete the related build rules.
Files:      src/Makefile

Patch 8.2.1547
Problem:    Various comment problems.
Solution:   Update comments.
Files:      src/arglist.c, src/map.c, src/mbyte.c, src/tag.c, src/undo.c,
            src/testdir/README.txt, src/testdir/test_put.vim,
            src/libvterm/README

Patch 8.2.1548
Problem:    Cannot move position of &quot;&#37;&#37;&quot; in message translations. (Emir Sarı)
Solution:   Improve the check <A HREF="usr_41.html#script">script</A>.
Files:      src/po/check.vim

Patch 8.2.1549
Problem:    The &quot;<A HREF="change.html#r">r</A>&quot; command fails for keys with modifiers if <A HREF="options.html#'esckeys'">'esckeys'</A> is off
            and <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> is used. (Lauri Tirkkonen)
Solution:   Temporarily disable bracketed paste and <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> if
            <A HREF="options.html#'esckeys'">'esckeys'</A> is off. (closes #6809)
Files:      src/normal.c

Patch 8.2.1550
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: bufname('&#37;') gives an error.
Solution:   Only give an error for wrong argument type. (closes #6807)
Files:      src/evalbuffer.c, src/testdir/test_vim9_func.vim

Patch 8.2.1551
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for argument type does not mention the number.
Solution:   Pass the argument number to where the error is given.
Files:      src/vim9type.c, src/proto/vim9type.pro, src/vim9compile.c,
            src/vim9execute.c, src/vim9script.c, src/eval.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.1552
Problem:    Warnings from asan with clang-11. (James McCoy)
Solution:   Avoid using a NULL pointer. (issue #6811)
Files:      src/fold.c

Patch 8.2.1553 (after 8.2.1552)
Problem:    Crash in edit test.
Solution:   Avoid using invalid pointer.
Files:      src/fold.c

Patch 8.2.1554
Problem:    Crash in normal test.
Solution:   Skip adjusting marks if there are no <A HREF="fold.html#folds">folds</A>.
Files:      src/fold.c

Patch 8.2.1555
Problem:    Not all tests are executed on Github Actions.
Solution:   Copy &quot;src&quot; to &quot;src2&quot; earlier. Recognize &quot;src2&quot; in a couple more
            places.  Add two tests to the <A HREF="eval.html#list">list</A> of flaky tests. (Ken Takata,
            closes #6798)
Files:      .github/workflows/ci-windows.yaml, src/testdir/runtest.vim,
            src/testdir/test_python2.vim, src/testdir/test_python3.vim

Patch 8.2.1556
Problem:    Cursorline highlighting always overrules sign highlighting.
Solution:   Combine the highlighting, use the priority to decide how.
            (closes #6812)
Files:      runtime/doc/sign.txt, src/structs.h, src/drawline.c,
            runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,
            src/testdir/test_signs.vim,
            src/testdir/dumps/Test_sign_cursor_5.dump,
            src/testdir/dumps/Test_sign_cursor_6.dump

Patch 8.2.1557
Problem:    Crash in <A HREF="quickfix.html#:vimgrep">:vimgrep</A> when started <A HREF="motion.html#as">as</A> &quot;vim -n&quot;. (Raul Segura)
Solution:   Check mfp pointer. (Yegappan Lakshmanan, closes #6827)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1558
Problem:    Signs test fails.
Solution:   Add missing change to sign.c.
Files:      src/sign.c

Patch 8.2.1559
Problem:    s390x tests work again.
Solution:   re-enable s390x tests. (James McCoy, closes #6829)
Files:      .travis.yml

Patch 8.2.1560
Problem:    Using NULL pointers in some code. (James McCoy)
Solution:   Avoid adding to a NULL pointer.  Use byte <A HREF="motion.html#as">as</A> unsigned.
Files:      src/fold.c, src/eval.c, src/spellsuggest.c, src/spellfile.c,
            src/vim9compile.c

Patch 8.2.1561
Problem:    Using NULL pointers in fold code.
Solution:   Avoid using a NULL pointer. (Dominique Pellé, closes #6831,
            closes #6831)
Files:      src/fold.c

Patch 8.2.1562
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using &quot;<A HREF="motion.html#&#37;">&#37;</A>&quot; where a buffer is expected.
Solution:   Add tv_get_buf_from_arg(). (closes #6814)
Files:      src/typval.c, src/proto/typval.pro, src/evalbuffer.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.1563
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using '&#37;&quot; with <A HREF="builtin.html#setbufvar()">setbufvar()</A> or <A HREF="builtin.html#getbufvar()">getbufvar()</A>.
Solution:   Use tv_get_buf_from_arg(). (closes #6816)
Files:      src/evalvars.c, src/testdir/test_vim9_func.vim

Patch 8.2.1564
Problem:    A few remaining <A HREF="message.html#errors">errors</A> from ubsan.
Solution:   Avoid the warnings. (Dominique Pellé, closes #6837)
Files:      src/spellfile.c, src/spellsuggest.c, src/viminfo.c

Patch 8.2.1565
Problem:    Spellfile test sometimes fails.
Solution:   Check running into the end of the file.
Files:      src/spellfile.c

Patch 8.2.1566
Problem:    Not all Bazel files are recognized.
Solution:   Add *.bazel and *.BUILD. (closes #6836)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1567
Problem:    No example to use ubsan with clang.
Solution:   Add example commands. (Dominique Pellé, issue #6811)
Files:      src/Makefile

Patch 8.2.1568
Problem:    <A HREF="textprop.html#prop_find()">prop_find()</A> skips properties in the same line if &quot;skipstart&quot; is
            used.
Solution:   Use &quot;continue&quot; instead of &quot;break&quot;. (closes #6840)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.1569
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: fixes for <A HREF="eval.html#functions">functions</A> not tested; failure in <A HREF="builtin.html#getchangelist()">getchangelist()</A>.
Solution:   Add tests. (closes #6813, closes #6815, closes #6817)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1570
Problem:    Configure check for dirfd() does not work on HPUX. (Michael Osipov)
Solution:   Use AC_TRY_LINK instead of AC_TRY_COMPILE. (closes #6838)
Files:      src/configure.ac, src/auto/configure, src/fileio.c, src/globals.h

Patch 8.2.1571
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#count()">count()</A> third argument cannot be &quot;<A HREF="vim9.html#true">true</A>&quot;.
Solution:   Use tv_get_bool_chk(). (closes #6818)
Files:      src/typval.c, src/list.c, src/testdir/test_vim9_func.vim

Patch 8.2.1572
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#expand()">expand()</A> does not take &quot;<A HREF="vim9.html#true">true</A>&quot; <A HREF="motion.html#as">as</A> argument.
Solution:   Use tv_get_bool_chk().  (closes #6819)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1573
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#getreg()">getreg()</A> does not take &quot;<A HREF="vim9.html#true">true</A>&quot; <A HREF="motion.html#as">as</A> argument.
Solution:   Use tv_get_bool_chk().  (closes #6820)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1574
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#glob()">glob()</A> does not take &quot;<A HREF="vim9.html#true">true</A>&quot; <A HREF="motion.html#as">as</A> argument.
Solution:   Use tv_get_bool_chk(). (closes #6821)
Files:      src/filepath.c, src/testdir/test_vim9_func.vim

Patch 8.2.1575
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#globpath()">globpath()</A> does not take &quot;<A HREF="vim9.html#true">true</A>&quot; <A HREF="motion.html#as">as</A> argument.
Solution:   Use tv_get_bool_chk(). (closes #6821)
Files:      src/filepath.c, src/testdir/test_vim9_func.vim

Patch 8.2.1576
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#index()">index()</A> does not take &quot;<A HREF="vim9.html#true">true</A>&quot; <A HREF="motion.html#as">as</A> argument.
Solution:   Use tv_get_bool_chk(). (closes #6823)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1577
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#hasmapto()">hasmapto()</A>, <A HREF="builtin.html#mapcheck()">mapcheck()</A> and <A HREF="builtin.html#maparg()">maparg()</A> <A HREF="diff.html#do">do</A> not take &quot;<A HREF="vim9.html#true">true</A>&quot; <A HREF="motion.html#as">as</A>
            argument.
Solution:   Use tv_get_bool(). (closes #6822, closes #6824)
Files:      src/evalfunc.c, src/map.c, src/testdir/test_vim9_func.vim

Patch 8.2.1578
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="popup.html#popup_clear()">popup_clear()</A> does not take &quot;<A HREF="vim9.html#true">true</A>&quot; <A HREF="motion.html#as">as</A> argument.
Solution:   Use tv_get_bool(). (closes #6826)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.1579
Problem:    Reports from asan are not optimal.
Solution:   Use clang with ubsan. (James McCoy, closes #6811)
Files:      .travis.yml

Patch 8.2.1580
Problem:    Wildmenu does not work properly.
Solution:   Do not call may_do_incsearch_highlighting() if completion is in
            progress.
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_1.dump,
            src/testdir/dumps/Test_wildmenu_2.dump,
            src/testdir/dumps/Test_wildmenu_3.dump,
            src/testdir/dumps/Test_wildmenu_4.dump

Patch 8.2.1581
Problem:    Using <A HREF="builtin.html#line()">line()</A> for global <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> doesn't work.
Solution:   Set <A HREF="tabpage.html#tabpage">tabpage</A> to &quot;curtab&quot;. (closes #6847)
Files:      src/evalwindow.c, src/testdir/test_popupwin.vim

Patch 8.2.1582
Problem:    The <A HREF="channel.html#channel">channel</A> log does not show typed text.
Solution:   Add raw typed text to the log file.
Files:      src/ui.c, src/os_win32.c

Patch 8.2.1583
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot easily measure code coverage.
Solution:   Add the COVERAGE option. (Ken Takata, closes #6842)
Files:      src/Make_cyg_ming.mak

Patch 8.2.1584
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; for &quot;skipstart&quot; in <A HREF="textprop.html#prop_find()">prop_find()</A>.
Solution:   Use dict_get_bool() instead of tv_get_number(). (closes #6852)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.1585
Problem:    Messages in errors.h not translated, xgettext on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> not
            fully supported.
Solution:   Add errors.h to <A HREF="eval.html#list">list</A> of input files.  Update <A HREF="os_win32.html#MS-Windows">MS-Windows</A> makefiles
            to improve message translations. (Ken Takata, closes #6858)
Files:      src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,
            src/po/Makefile, src/po/README.txt, src/po/fixfilenames.vim

Patch 8.2.1586
Problem:    <A HREF="windows.html#:resize">:resize</A> command not fully tested.
Solution:   Add a couple of tests. (Dominique Pellé, closes #6857)
Files:      src/testdir/test_window_cmd.vim

Patch 8.2.1587
Problem:    Loop for handling keys for the command line is too long.
Solution:   Move wild menu handling to separate <A HREF="eval.html#functions">functions</A>. (Yegappan
            Lakshmanan, closes #6856)
Files:      src/cmdexpand.c, src/proto/cmdexpand.pro, src/ex_getln.c

Patch 8.2.1588
Problem:    Cannot read back the prompt of a prompt buffer.
Solution:   Add <A HREF="builtin.html#prompt_getprompt()">prompt_getprompt()</A>. (Ben Jackson, closes #6851)
Files:      runtime/doc/channel.txt, runtime/doc/eval.txt,
            runtime/doc/usr_41.txt, src/channel.c, src/edit.c, src/evalfunc.c,
            src/proto/channel.pro, src/proto/edit.pro,
            src/testdir/test_prompt_buffer.vim

Patch 8.2.1589
Problem:    Term_start() <A HREF="options.html#options">options</A> for size are overruled by <A HREF="options.html#'termwinsize'">'termwinsize'</A>.
            (Sergey Vlasov)
Solution:   Set <A HREF="options.html#'termwinsize'">'termwinsize'</A> to the specified size.
Files:      src/terminal.c, src/testdir/test_terminal2.vim,
            src/testdir/term_util.vim

Patch 8.2.1590
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#bufnr()">bufnr()</A> doesn't take &quot;<A HREF="vim9.html#true">true</A>&quot; argument.
Solution:   use tv_get_bool_chk(). (closes #6863)
Files:      src/evalbuffer.c, src/testdir/test_vim9_func.vim

Patch 8.2.1591
Problem:    Using winheight('.') in tests works but is wrong.
Solution:   Use winheight(0). (issue #6863)
Files:      src/testdir/test_functions.vim, src/testdir/test_quickfix.vim

Patch 8.2.1592
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: passing &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#char2nr()">char2nr()</A> fails.
Solution:   Use tv_get_bool_chk(). (closes #6865)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1593
Problem:    Tests <A HREF="diff.html#do">do</A> not check the error number properly.
Solution:   Add a colon after the error number. (closes #6869)
Files:      src/testdir/test_assert.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_backspace_opt.vim, src/testdir/test_channel.vim,
            src/testdir/test_clientserver.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_const.vim, src/testdir/test_cscope.vim,
            src/testdir/test_eval_stuff.vim, src/testdir/test_functions.vim,
            src/testdir/test_global.vim, src/testdir/test_gui.vim,
            src/testdir/test_hlsearch.vim, src/testdir/test_lambda.vim,
            src/testdir/test_let.vim, src/testdir/test_listdict.vim,
            src/testdir/test_move.vim, src/testdir/test_normal.vim,
            src/testdir/test_popupwin.vim, src/testdir/test_put.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_rename.vim,
            src/testdir/test_search.vim, src/testdir/test_signs.vim,
            src/testdir/test_substitute.vim, src/testdir/test_syntax.vim,
            src/testdir/test_tagfunc.vim, src/testdir/test_tagjump.vim,
            src/testdir/test_taglist.vim, src/testdir/test_terminal.vim,
            src/testdir/test_terminal2.vim, src/testdir/test_textprop.vim,
            src/testdir/test_timers.vim, src/testdir/test_true_false.vim,
            src/testdir/test_user_func.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_vimscript.vim,
            src/testdir/test_winbar.vim, src/testdir/test_winbuf_close.vim,
            src/testdir/test_window_cmd.vim, src/testdir/test_writefile.vim

Patch 8.2.1594
Problem:    Pull requests on github <A HREF="diff.html#do">do</A> not notify a maintainer.
Solution:   Add a CODEOWNERS file with a few initial entries.
Files:      Filelist, .github/CODEOWNERS

Patch 8.2.1595
Problem:    Cannot easily see what Vim sends to the <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Write output to the <A HREF="channel.html#channel">channel</A> log if <A HREF="motion.html#it">it</A> contains <A HREF="terminal.html#terminal">terminal</A> <A HREF="intro.html#control">control</A>
            sequences.  Avoid warnings for tputs() argument.
Files:      src/term.c, src/globals.h, src/edit.c, src/normal.c,
            src/optionstr.c

Patch 8.2.1596
Problem:    Using win_screenpos('.') in tests works but is wrong.
Solution:   Use win_screenpos(0).
Files:      src/testdir/test_terminal3.vim

Patch 8.2.1597
Problem:    The <A HREF="channel.html#channel">channel</A> source file is too big.
Solution:   Move <A HREF="channel.html#job">job</A> related code to a new source file.
Files:      Filelist, src/Makefile, src/Make_mvc.mak, src/Make_cyg_ming.mak,
            src/channel.c, src/proto/channel.pro, src/job.c,
            src/proto/job.pro, src/proto.h, src/edit.c, src/proto/edit.pro,
            src/globals.h, src/configure.ac, src/auto/configure

Patch 8.2.1598
Problem:    Starting a hidden <A HREF="terminal.html#terminal">terminal</A> resizes the current <A HREF="windows.html#window">window</A>.
Solution:   Do not resize the current <A HREF="windows.html#window">window</A> for a hidden <A HREF="terminal.html#terminal">terminal</A>.
            (closes #6872)
Files:      src/terminal.c, src/testdir/test_terminal2.vim

Patch 8.2.1599
Problem:    Missing line end when skipping a long line with <A HREF="quickfix.html#:cgetfile">:cgetfile</A>.
Solution:   Fix off-by-one error. (closes #6870)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1600
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; with <A HREF="builtin.html#deepcopy()">deepcopy()</A>.
Solution:   Use tv_get_bool_chk(). (closes #6867)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_listdict.vim

Patch 8.2.1601
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; with <A HREF="builtin.html#garbagecollect()">garbagecollect()</A>.
Solution:   Use tv_get_bool(). (closes #6871)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1602
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; with <A HREF="builtin.html#getbufinfo()">getbufinfo()</A>.
Solution:   Use dict_get_bool(). (closes #6873)
Files:      src/evalbuffer.c, src/testdir/test_vim9_func.vim

Patch 8.2.1603
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; with <A HREF="builtin.html#getchar()">getchar()</A>.
Solution:   use tv_get_bool_chk(). (closes #6874)
Files:      src/getchar.c, src/testdir/test_vim9_func.vim

Patch 8.2.1604
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; with <A HREF="builtin.html#getcompletion()">getcompletion()</A>.
Solution:   use tv_get_bool_chk(). (closes #6875)
Files:      src/cmdexpand.c, src/testdir/test_vim9_func.vim

Patch 8.2.1605
Problem:    Default maintainer on github is wrong.
Solution:   Use Bram's account.
Files:      .github/CODEOWNERS

Patch 8.2.1606
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; with <A HREF="builtin.html#has()">has()</A>.
Solution:   Use tv_get_bool(). (closes #6876)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1607
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#getchar()">getchar()</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   First consume any available input.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1608
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#getchar()">getchar()</A> test fails with <A HREF="gui.html#GUI">GUI</A>.
Solution:   Avoid that getchar(0) gets stuck on K_IGNORE.
Files:      src/getchar.c

Patch 8.2.1609
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails when build without <A HREF="various.html#+channel">+channel</A>.
Solution:   Add check for <A HREF="various.html#+channel">+channel</A>. (closes #6879)
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.1610
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#list2str()">list2str()</A> and <A HREF="builtin.html#str2list()">str2list()</A>.
Solution:   Use tv_get_bool_chk(). (closes #6877)
Files:      src/evalfunc.c, src/list.c, src/testdir/test_vim9_func.vim

Patch 8.2.1611
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#nr2char()">nr2char()</A>.
Solution:   use tv_get_bool_chk(). (closes #6878)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1612
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="textprop.html#prop_remove()">prop_remove()</A>.
Solution:   Use dict_get_bool(). (closes #6853)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.1613
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="textprop.html#prop_type_add()">prop_type_add()</A>.
Solution:   Use tv_get_bool(). (closes #6850)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.1614
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#searchcount()">searchcount()</A>.
Solution:   Use tv_get_bool_chk(). (closes #6854)
Files:      src/search.c, src/testdir/test_vim9_func.vim

Patch 8.2.1615
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#searchdecl()">searchdecl()</A>.
Solution:   use tv_get_bool_chk(). (closes #6881)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1616
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#synID()">synID()</A>.
Solution:   Use tv_get_bool_chk(). (closes #6860)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1617
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#win_splitmove()">win_splitmove()</A>.
Solution:   Use dict_get_bool(). (closes #6862)  Alphabetize test <A HREF="eval.html#functions">functions</A>.
Files:      src/evalwindow.c, src/testdir/test_vim9_func.vim

Patch 8.2.1618
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#setloclist()">setloclist()</A>.
Solution:   Use dict_get_bool(). (closes #6882)
Files:      src/quickfix.c, src/testdir/test_vim9_func.vim

Patch 8.2.1619
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#spellsuggest()">spellsuggest()</A>.
Solution:   Use tv_get_bool_chk(). (closes #6883)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1620
Problem:    <A HREF="builtin.html#searchcount()">searchcount()</A> test fails.
Solution:   Restore default flag value.
Files:      src/search.c

Patch 8.2.1621
Problem:    Crash when using submatch(0, 1) in <A HREF="builtin.html#substitute()">substitute()</A>.
Solution:   Increment reference <A HREF="intro.html#count">count</A>. (closes #6887)
Files:      src/regexp.c, src/testdir/test_substitute.vim

Patch 8.2.1622
Problem:    Loop to handle keys for the command line is too long.
Solution:   Move code to <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan, closes #6880)
Files:      src/ex_getln.c

Patch 8.2.1623
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="eval.html#:call">:call</A> where <A HREF="motion.html#it">it</A> is not needed.
Solution:   Remove <A HREF="eval.html#:call">:call</A>. (closes #6892)
Files:      src/testdir/test_maparg.vim, src/testdir/test_textprop.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1624
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#split()">split()</A>, <A HREF="builtin.html#str2nr()">str2nr()</A> and <A HREF="builtin.html#strchars()">strchars()</A>.
Solution:   Use tv_get_bool_chk(). (closes #6884, closes #6885, closes #6886)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1625
Problem:    Compiler warning for use of fptr_T.
Solution:   Make the type <A HREF="various.html#less">less</A> strict.
Files:      src/regexp.c

Patch 8.2.1626
Problem:    Test for <A HREF="builtin.html#strchars()">strchars()</A> fails with different error number.
Solution:   Adjust the error number.
Files:      src/testdir/test_utf8.vim

Patch 8.2.1627
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to <A HREF="builtin.html#submatch()">submatch()</A>, <A HREF="terminal.html#term_gettty()">term_gettty()</A> and
            <A HREF="terminal.html#term_start()">term_start()</A>
Solution:   Use tv_get_bool_chk(). (closes #6888, closes #6890, closes #6889)
Files:      src/evalfunc.c, src/terminal.c, src/job.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.1628
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass &quot;<A HREF="vim9.html#true">true</A>&quot; to timer_paused().
Solution:   Use tv_get_bool(). (closes #6891)
Files:      src/time.c, src/testdir/test_vim9_func.vim

Patch 8.2.1629
Problem:    Test fails without <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Check for <A HREF="terminal.html#terminal">terminal</A> feature.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1630
Problem:    Terminal test fails.
Solution:   Correct argument to <A HREF="terminal.html#term_start()">term_start()</A>.  Correct error number.
Files:      src/testdir/test_terminal.vim, src/testdir/test_terminal2.vim

Patch 8.2.1631
Problem:    test_fails() does not check the context of the line number.
Solution:   Use another argument to specify the context of the line number.
Files:      runtime/doc/testing.txt, runtime/doc/eval.txt,
            src/testdir/test_vim9_func.vim, src/testing.c, src/globals.h,
            src/evalfunc.c, src/message.c

Patch 8.2.1632
Problem:    Not checking the context of test_fails().
Solution:   Add the line number and context arguments.  Give error if
            <A HREF="testing.html#assert_fails()">assert_fails()</A> argument types are wrong.
Files:      src/testing.c, src/errors.h, src/testdir/test_assert.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.1633
Problem:    Some error <A HREF="message.html#messages">messages</A> are internal but <A HREF="diff.html#do">do</A> not use iemsg().
Solution:   Use iemsg(). (Dominique Pellé, closes #6894)
Files:      src/regexp.c, src/regexp_bt.c, src/regexp_nfa.c

Patch 8.2.1634
Problem:    Loop to handle keys for the command line is too long.
Solution:   Move a few more parts to separate <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #6895)
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.1635
Problem:    No <A HREF="digraph.html#digraph">digraph</A> for 0x2022 BULLET.
Solution:   Use &quot;oo&quot;. (Hans Ginzel, closes #6904)
Files:      src/digraph.c, runtime/doc/digraph.txt

Patch 8.2.1636
Problem:    Get stuck if a <A HREF="popup.html#popup">popup</A> <A HREF="change.html#filter">filter</A> causes an error.
Solution:   Check whether the function can be called and does not cause an
            error.  (closes #6902)
Files:      src/structs.h, src/popupwin.c, src/testdir/test_popupwin.vim
            src/testdir/dumps/Test_popupwin_wrong_name.dump,
            src/testdir/dumps/Test_popupwin_three_errors_1.dump,
            src/testdir/dumps/Test_popupwin_three_errors_2.dump

Patch 8.2.1637
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="change.html#:put">:put</A> ={expr} does not work inside <A HREF="vim9.html#:def">:def</A> function.
Solution:   Add ISN_PUT. (closes #6397)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/register.c,
            src/proto/register.pro, src/edit.c, src/ex_docmd.c, src/mouse.c,
            src/normal.c, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1638
Problem:    Leaking memory when <A HREF="popup.html#popup">popup</A> <A HREF="change.html#filter">filter</A> function can't be called.
Solution:   Don't return too soon.
Files:      src/popupwin.c

Patch 8.2.1639
Problem:    Options <A HREF="windows.html#window">window</A> cannot be translated.
Solution:   Get the translation for &quot;local to&quot; texts once and use them in many
            places. Fix that <A HREF="options.html#'whichwrap'">'whichwrap'</A> is not a local option. (issue #6800)
Files:      runtime/optwin.vim

Patch 8.2.1640
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: missing header for getgrgid().
Solution:   Add the grp.h header. (Ola Söder, closes #6906)
Files:      src/os_amiga.h

Patch 8.2.1641
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use 0 or 1 where a bool is expected.
Solution:   Allow using 0 and 1 for a bool type. (closes #6903)
Files:      src/vim9compile.c, src/vim9type.c, src/proto/vim9type.pro,
            src/structs.h, src/testdir/test_vim9_script.vim

Patch 8.2.1642
Problem:    Options test fails.
Solution:   Correct call to OptionG().
Files:      runtime/optwin.vim

Patch 8.2.1643
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#:defcompile">:defcompile</A> compiles dead <A HREF="eval.html#functions">functions</A>.
Solution:   Skip over dead <A HREF="eval.html#functions">functions</A>.
Files:      src/userfunc.c

Patch 8.2.1644
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign 1 and 0 to bool at <A HREF="usr_41.html#script">script</A> level.
Solution:   Add the TTFLAG_BOOL_OK flag to the type. Fix name of test
            function.
Files:      src/vim9type.c, src/testdir/test_vim9_script.vim,
            src/testdir/vim9.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.1645
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: icons become broken images when resized.
Solution:   Use gtk_image_new_from_icon_name(). (closes #6916)
            Fix compiler warnings.
Files:      src/gui_gtk_x11.c

Patch 8.2.1646
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: Unnecessary #include.
Solution:   Remove the #include. (Ola Söder, closes #6908)
Files:      src/version.c

Patch 8.2.1647
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: result of <A HREF="eval.html#expression">expression</A> with &amp;&amp; and &#124;&#124; cannot be assigned to a
            bool variable.
Solution:   Add the TTFLAG_BOOL_OK flag and convert the value if needed.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1648
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: no common build file for <A HREF="os_amiga.html#Amiga">Amiga</A> (-like) systems.
Solution:   Turn Make_morph.mak into Make_ami.mak. (Ola Söder, closes #6805)
Files:      Filelist, src/Make_ami.mak, src/Make_morph.mak, src/INSTALLami.txt

Patch 8.2.1649
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: using old file chooser.
Solution:   Use native file chooser on <A HREF="gui_x11.html#GTK">GTK</A> 3.20 and above. (Yogeshwar
            Velingker, closes #6909)
Files:      src/gui_gtk.c

Patch 8.2.1650
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: result of &amp;&amp; and &#124;&#124; <A HREF="eval.html#expression">expression</A> cannot be assigned to a bool
            at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Add the VAR_BOOL_OK flag.  Convert to bool when needed.
Files:      src/structs.h, src/vim9type.c, src/proto/vim9type.pro,
            src/vim9script.c, src/evalvars.c, src/eval.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1651
Problem:    Spellfile code not completely tested.
Solution:   Add a few more test cases. (Yegappan Lakshmanan, closes #6918)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.1652
Problem:    Cannot translate lines in the <A HREF="options.html#options">options</A> <A HREF="windows.html#window">window</A>.
Solution:   Use the AddOption() function to split descriptions where indicated
            by a line break. (issue #6800)
Files:      runtime/optwin.vim

Patch 8.2.1653
Problem:    Expand('&lt;stack&gt;') does not include the final line number.
Solution:   Add the line number. (closes #6927)
Files:      src/vim.h, src/scriptfile.c, src/proto/scriptfile.pro,
            src/debugger.c, src/ex_docmd.c, src/ex_eval.c, src/message.c,
            src/testing.c, src/testdir/test_expand_func.vim

Patch 8.2.1654
Problem:    When <A HREF="channel.html#job">job</A> writes to hidden buffer current <A HREF="windows.html#window">window</A> has display
            <A HREF="message.html#errors">errors</A>.  (Johnny McArthur)
Solution:   Use aucmd_prepbuf() instead of switch_to_win_for_buf().
            (closes #6925)
Files:      src/channel.c

Patch 8.2.1655
Problem:    Cannot build with Strawberry <A HREF="if_perl.html#Perl">Perl</A> 5.32.0.
Solution:   Use Perl_sv_2pvbyte_flags. (closes #6921)
Files:      src/if_perl.xs

Patch 8.2.1656
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: callstack wrong if <A HREF="vim9.html#:def">:def</A> function calls <A HREF="vim9.html#:def">:def</A> function.
Solution:   Set the line number before calling. (closes #6914)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1657
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no proper error for nested &quot;:def!&quot;.
Solution:   Check for &quot;<A HREF="change.html#!">!</A>&quot;. (closes #6920)
Files:      src/errors.h, src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1658
Problem:    Expand('&lt;stack&gt;') has trailing &quot;..&quot;.
Solution:   Remove the &quot;..&quot;. (closes #6927)
Files:      src/scriptfile.c, src/testdir/test_expand_func.vim

Patch 8.2.1659
Problem:    Spellfile code not completely tested.
Solution:   Add a few more test cases. (Yegappan Lakshmanan, closes #6929)
Files:      src/testdir/test_spell.vim, src/testdir/test_spellfile.vim

Patch 8.2.1660
Problem:    Assert <A HREF="eval.html#functions">functions</A> require passing expected result <A HREF="motion.html#as">as</A> the first
            argument, which isn't obvious.
Solution:   Use a <A HREF="eval.html#method">method</A>, <A HREF="motion.html#as">as</A> in &quot;runtest()-&gt;assert_equal(expected)&quot;.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1661
Problem:    Cannot connect to 127.0.0.1 for host with only IPv6 addresses.
Solution:   pass AI_V4MAPPED flag to getaddrinfo. (Filipe Brandenburger,
            closes #6931)
Files:      src/channel.c

Patch 8.2.1662
Problem:    <A HREF="starting.html#:mksession">:mksession</A> does not restore shared <A HREF="terminal.html#terminal">terminal</A> buffer properly.
Solution:   Keep a hashtab with <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#buffers">buffers</A>. (Rob Pilling, closes #6930)
Files:      src/hashtab.c, src/proto/terminal.pro, src/session.c,
            src/terminal.c, src/testdir/test_mksession.vim

Patch 8.2.1663
Problem:    Options <A HREF="windows.html#window">window</A> entries cannot be translated.
Solution:   Use AddOption() for all explanations. (closes #6800)
Files:      runtime/optwin.vim

Patch 8.2.1664
Problem:    Memory leak when using <A HREF="starting.html#:mkview">:mkview</A> with a <A HREF="terminal.html#terminal">terminal</A> buffer.
Solution:   Don't use a hastab for <A HREF="starting.html#:mkview">:mkview</A>. (Rob Pilling, closes #6935)
Files:      src/session.c, src/terminal.c, src/testdir/test_mksession.vim

Patch 8.2.1665
Problem:    Cannot <A HREF="diff.html#do">do</A> fuzzy <A HREF="eval.html#string">string</A> matching.
Solution:   Add <A HREF="builtin.html#matchfuzzy()">matchfuzzy()</A>. (Yegappan Lakshmanan, closes #6932)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/proto/search.pro, src/search.c, src/testdir/test_functions.vim

Patch 8.2.1666
Problem:    The initial value of <A HREF="options.html#'backupskip'">'backupskip'</A> can have duplicate items.
Solution:   Remove duplicates, like when <A HREF="motion.html#it">it</A> is set later. (Tom Ryder,
            closes #6940)
Files:      src/option.c, src/testdir/test_options.vim

Patch 8.2.1667
Problem:    Local function name cannot shadow a global function name.
Solution:   Ignore global <A HREF="eval.html#functions">functions</A> when checking a <A HREF="map.html#script-local">script-local</A> or scoped
            function name. (closes #6926)
Files:      src/vim9compile.c, src/userfunc.c, src/proto/userfunc.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.1668
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not accepting 0 or 1 <A HREF="motion.html#as">as</A> bool when type is any.
Solution:   Convert the type with the CHECKTYPE instruction. (closes #6913)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1669
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when storing a value fails.
Solution:   Free the value when not storing <A HREF="motion.html#it">it</A>.
Files:      src/evalvars.c

Patch 8.2.1670
Problem:    A couple of gcc compiler warnings.
Solution:   Initialize local <A HREF="eval.html#variables">variables</A>. (Dominique Pellé, closes #6944)
Files:      src/memline.c, src/option.c

Patch 8.2.1671
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: stray error for missing white space.
Solution:   Do not skip over white space after member. (closes #6917)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1672
Problem:    v_lock is used when <A HREF="motion.html#it">it</A> is not initialized. (Yegappan Lakshmanan)
Solution:   Initialize the typval in eval1().
Files:      src/eval.c

Patch 8.2.1673
Problem:    <A HREF="builtin.html#complete_info()">complete_info()</A> selected index has an invalid value. (Ben Jackson)
Solution:   Set the index when there is only one match. (closes #6945)
            Add test for <A HREF="builtin.html#complete_info()">complete_info()</A>.
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.1674
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: internal error when using variable that was not set.
Solution:   Give a meaningful error. (closes #6937)
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.1675
Problem:    MinGW: testdir makefile deletes non-existing file.
Solution:   Use another way to delete the output file if <A HREF="motion.html#it">it</A> already exists.
            (Michael Soyka)
Files:      src/testdir/Make_ming.mak

Patch 8.2.1676
Problem:    Compiler warnings for function typecast.
Solution:   Add an intermediate cast to &quot;void *&quot;.
Files:      src/os_unix.c

Patch 8.2.1677
Problem:    Memory access <A HREF="message.html#errors">errors</A> when calling <A HREF="builtin.html#setloclist()">setloclist()</A> in an <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Give an error if the <A HREF="eval.html#list">list</A> was changed unexpectedly. (closes #6946)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1678
Problem:    Crash when using &quot;<A HREF="options.html#:set">:set</A>&quot; after &quot;<A HREF="syntax.html#:ownsyntax">:ownsyntax</A>&quot;. (Dhiraj Mishra)
Solution:   Make sure <A HREF="options.html#'spelloptions'">'spelloptions'</A> is not NULL. (closes #6950)
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.2.1679
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;:*&quot; is not recognized <A HREF="motion.html#as">as</A> a range.
Solution:   Move recognizing &quot;*&quot; into skip_range(). (closes #6938)
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/cmdexpand.c,
            src/ex_getln.c, src/userfunc.c, src/vim9compile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.1680
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line number for compare error is wrong.
Solution:   Set SOURCING_LNUM. (closes #6936)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1681
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unnecessary <A HREF="eval.html#:call">:call</A> commands in tests.
Solution:   Remove the commands. (issue #6936)
Files:      src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.1682
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: const works in an unexpected way.
Solution:   &quot;<A HREF="eval.html#:const">:const</A>&quot; only disallows <A HREF="change.html#changing">changing</A> the variable, not the value.
            Make &quot;list[0] = 9&quot; work at the <A HREF="usr_41.html#script">script</A> level.
Files:      src/vim9compile.c, src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.1683
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment test fails.
Solution:   Include changes to find <A HREF="intro.html#Ex">Ex</A> command.
Files:      src/ex_docmd.c

Patch 8.2.1684
Problem:    &quot;<A HREF="editing.html#gF">gF</A>&quot; does not use line number after file in <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Look for &quot;:123&quot; after the <A HREF="visual.html#Visual">Visual</A> area. (closes #6952)
Files:      src/findfile.c, src/testdir/test_gf.vim

Patch 8.2.1685
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot declare a constant value.
Solution:   Introduce &quot;:const!&quot;.
Files:      runtime/doc/vim9.txt, src/ex_cmds.h, src/vim9compile.c,
            src/vim9.h, src/vim9execute.c, src/evalvars.c,
            src/proto/evalvars.pro, src/errors.h, src/vim.h, src/eval.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1686
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;const!&quot; not sufficiently tested.
Solution:   Add a few more test cases.  Fix type checking.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1687
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: out of bounds error.
Solution:   Check that cmdidx is not negative.
Files:      src/vim9compile.c

Patch 8.2.1688
Problem:    Increment/decrement removes text property.
Solution:   <A HREF="insert.html#Insert">Insert</A> the new number before <A HREF="change.html#deleting">deleting</A> the old one. (closes #6962)
Files:      src/ops.c, src/testdir/test_textprop.vim

Patch 8.2.1689
Problem:    <A HREF="options.html#'colorcolumn'">'colorcolumn'</A> doesn't show in indent.
Solution:   Also draw the column when draw_state is WL_BRI or WL_SBR.
            (Alexey Demin, closes #6948, closes #6619)
Files:      src/drawline.c, src/testdir/dumps/Test_colorcolumn_2.dump,
            src/testdir/dumps/Test_colorcolumn_3.dump,
            src/testdir/test_highlight.vim

Patch 8.2.1690
Problem:    Text properties not adjusted for &quot;<A HREF="insert.html#I">I</A>&quot; in <A HREF="visual.html#Visual">Visual</A> block mode.
Solution:   Call inserted_bytes(). (closes #6961)
Files:      src/ops.c, src/change.c, src/proto/change.pro,
            src/testdir/test_textprop.vim

Patch 8.2.1691
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: list&lt;any&gt; is not accepted where list&lt;number&gt; is expected.
Solution:   Add <A HREF="eval.html#functions">functions</A> to allocate and free a type_T, use <A HREF="motion.html#it">it</A> in
            ISN_CHECKTYPE. (closes #6959)
Files:      src/vim9.h, src/globals.h, src/vim9compile.c, src/vim9execute.c,
            src/vim9type.c, src/proto/vim9type.pro, src/errors.h,
            src/evalfunc.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1692
Problem:    Build fails because TTFLAG_STATIC is missing.
Solution:   Include missing change.
Files:      src/structs.h

Patch 8.2.1693
Problem:    &quot;hi def&quot; does not work for cleared highlight.
Solution:   Check the &quot;sg_cleared&quot; flag. (Maxim Kim, closes #6956,
            closes #4405)
Files:      src/highlight.c, src/testdir/test_highlight.vim

Patch 8.2.1694
Problem:    Compiler warning for loss if data.
Solution:   Add typecast.
Files:      src/ops.c

Patch 8.2.1695
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using varargs type &quot;any&quot;.
Solution:   Check if uf_va_type is &amp;t_any. (closes #6957)
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.1696
Problem:    Unused (duplicate) macros.
Solution:   Remove the macros.
Files:      src/spell.c

Patch 8.2.1697
Problem:    Inconsistent capitalization of error <A HREF="message.html#messages">messages</A>.
Solution:   Always start with a capital.
Files:      src/errors.h, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim,
            src/testdir/test_assert.vim

Patch 8.2.1698
Problem:    Cannot lock a variable in legacy Vim <A HREF="usr_41.html#script">script</A> like in <A HREF="vim9.html#Vim9">Vim9</A>.
Solution:   Make &quot;<A HREF="eval.html#:lockvar">:lockvar</A> 0&quot; work.
Files:      runtime/doc/eval.txt, src/evalvars.c, src/proto/evalvars.pro,
            src/dict.c, src/eval.c, src/list.c, src/typval.c, src/userfunc.c,
            src/testdir/test_const.vim, src/testdir/test_listdict.vim

Patch 8.2.1699
Problem:    Build failure due to missing error message.
Solution:   Add error message.
Files:      src/errors.h

Patch 8.2.1700
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: try/catch causes wrong value to be returned.
Solution:   Reset tcd_return. (closes #6964)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1701
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: sort(&quot;i&quot;) does not work.
Solution:   Don't try getting a number for a <A HREF="eval.html#string">string</A> argument. (closes #6958)
Files:      src/list.c, src/testdir/test_vim9_func.vim

Patch 8.2.1702
Problem:    Crash when using <A HREF="undo.html#undo">undo</A> after <A HREF="change.html#deleting">deleting</A> folded lines.
Solution:   Check for NULL pointer. (closes #6968)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.1703
Problem:    &quot;<A HREF="syntax.html#:highlight">:highlight</A> clear&quot; does not restore default link.
Solution:   Remember the default link and restore <A HREF="motion.html#it">it</A>. (Antony Scriven,
            closes #6970, closes #4405)
Files:      runtime/doc/syntax.txt, src/highlight.c,
            src/testdir/test_highlight.vim

Patch 8.2.1704
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash in for loop when <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> has an error.
Solution:   Reset suppress_errthrow.  Check for NULL <A HREF="eval.html#list">list</A>. (closes #6967)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.1705
Problem:    &quot;<A HREF="starting.html#verbose">verbose</A> hi Name&quot; reports incorrect info after &quot;<A HREF="syntax.html#:hi">:hi</A> clear&quot;.
Solution:   Store the <A HREF="usr_41.html#script">script</A> context. (Antony Scriven, closes #6975)
Files:      src/highlight.c, src/testdir/test_highlight.vim

Patch 8.2.1706
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash after running into the &quot;Multiple closures&quot; error.
Solution:   When a function fails still update any closures. (closes #6973)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1707
Problem:    Small inconsistency in highlight test.
Solution:   Use one argument for <A HREF="eval.html#:execute">:execute</A>. (Antony Scriven, #6975)
Files:      src/testdir/test_highlight.vim

Patch 8.2.1708
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message for function has unprintable characters.
Solution:   use printable_func_name(). (closes #6965)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1709
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using multiple closures.
Solution:   Free the <A HREF="builtin.html#partial">partial</A>.
Files:      src/vim9execute.c

Patch 8.2.1710
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> of <A HREF="eval.html#list">list</A> type can be wrong.
Solution:   Use VAR_UNKNOWN for empty <A HREF="eval.html#list">list</A>.  Recognize VAR_UNKNOWN when
            looking for a common type. (closes #6979)
Files:      src/vim9type.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1711
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when using <A HREF="builtin.html#partial">partial</A>.
Solution:   Do delete the function even when <A HREF="motion.html#it">it</A> was compiled.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/userfunc.c,
            src/vim9execute.c

Patch 8.2.1712
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when calling a <A HREF="eval.html#lambda">lambda</A>.
Solution:   Decrement function reference from ISN_DCALL.
Files:      src/vim9compile.c, src/userfunc.c, src/proto/userfunc.pro

Patch 8.2.1713
Problem:    <A HREF="gui_x11.html#Motif">Motif</A> <A HREF="gui.html#GUI">GUI</A>: crash when setting menu colors. (Andrzej Bylicki)
Solution:   Add <A HREF="intro.html#{}">{}</A> to make &quot;<A HREF="pattern.html#n">n</A>&quot; incremented correctly. (closes #6989,
            closes #5948)
Files:      src/gui_motif.c

Patch 8.2.1714
Problem:    Text properties corrupted with substitute command. (Filipe
            Brandenburger)
Solution:   Get the changed line again after using u_savesub(). (closes #6984)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.1715
Problem:    <A HREF="gui_x11.html#Motif">Motif</A> <A HREF="gui.html#GUI">GUI</A>: commented out code missed <A HREF="intro.html#{}">{}</A>.
Solution:   Add <A HREF="intro.html#{}">{}</A> and reenable the code. (similar to #6989)
Files:      src/gui_motif.c

Patch 8.2.1716
Problem:    Options <A HREF="windows.html#window">window</A> has duplicate translations.
Solution:   Make one entry for &quot;global or local to buffer&quot;.  Fix wrong text.
            (closes #6983)
Files:      runtime/optwin.vim

Patch 8.2.1717
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> installer doesn't have <A HREF="russian.html#Russian">Russian</A> translations.
Solution:   Add <A HREF="russian.html#Russian">Russian</A> translations. (closes #6985)
Files:      nsis/gvim.nsi, nsis/lang/russian.nsi

Patch 8.2.1718
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#:def">:def</A> function disallows &quot;firstline&quot; and &quot;lastline&quot; argument
            names for no good reason.
Solution:   Don't check the arguments for a <A HREF="vim9.html#:def">:def</A> function. (closes #6986)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1719
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if comma is missing in between arguments.
Solution:   Give an error message.
Files:      src/errors.h, src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1720
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak with heredoc that isn't executed. (Dominique
            Pellé)
Solution:   Don't clear the <A HREF="eval.html#list">list</A> items. (closes #6991)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1721
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> installer doesn't work.
Solution:   Write &quot;<A HREF="russian.html#Russian">Russian</A>&quot; in ASCII. (closes #6995, see #6985).
Files:      nsis/lang/russian.nsi

Patch 8.2.1722
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign a <A HREF="eval.html#lambda">lambda</A> to a variable of type function.
Solution:   Allow for assigning a <A HREF="builtin.html#partial">partial</A> to a variable of type function.
            (Naruhiko Nishino, closes #6996)
Files:      src/vim9type.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1723
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Variable argument name cannot start with underscore.
Solution:   Use eval_isnamec1(). (closes #6988)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1724
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment tests spread out.
Solution:   Create new test file for assignment tests.
Files:      src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/Make_all.mak

Patch 8.2.1725
Problem:    Not all Pascal files are recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> patterns. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1726
Problem:    Fuzzy matching only works on strings.
Solution:   Support passing a <A HREF="eval.html#dict">dict</A>.  Add <A HREF="builtin.html#matchfuzzypos()">matchfuzzypos()</A> to also get the match
            positions. (Yegappan Lakshmanan, closes #6947)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/proto/search.pro, src/search.c, src/testdir/Make_all.mak,
            src/testdir/test_functions.vim, src/testdir/test_matchfuzzy.vim

Patch 8.2.1727
Problem:    A <A HREF="popup.html#popup">popup</A> created with &quot;cursorline&quot; will ignore &quot;firstline&quot;.
Solution:   When both &quot;cursorline&quot; and &quot;firstline&quot; are present put the cursor
            on &quot;firstline&quot;. (closes #7000)  Add the &quot;<A HREF="windows.html#winid">winid</A>&quot; argument to
            <A HREF="builtin.html#getcurpos()">getcurpos()</A>.
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/popupwin.c,
            src/evalwindow.c, src/testdir/test_popupwin.vim,
            src/testdir/test_functions.vim

Patch 8.2.1728
Problem:    Compiler warning for using uninitialized variable. (John Marriott)
Solution:   Initialize &quot;neighbor&quot;.
Files:      src/search.c

Patch 8.2.1729
Problem:    Endless loop when &quot;<A HREF="various.html#:normal">:normal</A>&quot; feeds <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> <A HREF="change.html#filter">filter</A>.
Solution:   Add the ex_normal_busy_done flag.
Files:      src/globals.h, src/getchar.c, src/evalfunc.c, src/ex_docmd.c,
            src/menu.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_normal_cmd.dump

Patch 8.2.1730
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use member of unknown type.
Solution:   When type is unknown use &quot;any&quot;. (closes #6997)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1731
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use += to append to empty NULL <A HREF="eval.html#list">list</A>.
Solution:   Copy the <A HREF="eval.html#list">list</A> instead of extending <A HREF="motion.html#it">it</A>. (closes #6998)
Files:      src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1732
Problem:    Stuck when <A HREF="builtin.html#win_execute()">win_execute()</A> for a <A HREF="popup.html#popup">popup</A> causes an error.
Solution:   Disable the <A HREF="change.html#filter">filter</A> callback on error. (issue #6999)
Files:      src/popupwin.c, src/testdir/term_util.vim,
            src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_win_execute.dump

Patch 8.2.1733
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leaks when using nested function.
Solution:   Free function when compilation fails.
Files:      src/vim9compile.c

Patch 8.2.1734
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a funcref for a <A HREF="eval.html#closure">closure</A> <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Instead of putting the funcref on the stack use a growarray on the
            execution context.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1735
Problem:    Github actions appear to timeout too soon.
Solution:   use &quot;timeout&quot; instead of &quot;ping&quot;.
Files:      .github/workflows/ci-windows.yaml

Patch 8.2.1736
Problem:    Failure to compile a <A HREF="pattern.html#pattern">pattern</A> not tested much.
Solution:   Add tests where a <A HREF="pattern.html#pattern">pattern</A> fails to compile. (Yegappan Lakshmanan,
            closes #7004)
Files:      src/testdir/gen_opt_test.vim, src/testdir/test_arglist.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_buffer.vim,
            src/testdir/test_checkpath.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_debugger.vim, src/testdir/test_functions.vim,
            src/testdir/test_history.vim, src/testdir/test_listdict.vim,
            src/testdir/test_options.vim, src/testdir/test_search_stat.vim,
            src/testdir/test_sort.vim, src/testdir/test_substitute.vim,
            src/testdir/test_syntax.vim, src/testdir/test_tagjump.vim,
            src/testdir/test_user_func.vim

Patch 8.2.1737
Problem:    Cursor line highlight in <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> is not always updated.
Solution:   Check if the cursor has moved. (closes #7010)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim
            src/testdir/dumps/Test_popupwin_win_execute_cursorline.dump

Patch 8.2.1738
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: <A HREF="builtin.html#str2float()">str2float()</A> recognizes comma instead of decimal point.
Solution:   Set LC_NUMERIC to &quot;<A HREF="change.html#C">C</A>&quot;. (closes #7003)
Files:      src/os_mac_conv.c

Patch 8.2.1739
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when compiling a manually defined function. (Antony
            Scriven)
Solution:   Check that the <A HREF="usr_41.html#script">script</A> ID is positive. (closes #7012)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.1740
Problem:    Test fails without the <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Skip test if the <A HREF="terminal.html#terminal">terminal</A> feature is not available.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1741
Problem:    <A HREF="builtin.html#pathshorten()">pathshorten()</A> only supports using one character.
Solution:   Add an argument to <A HREF="intro.html#control">control</A> the length. (closes #7006)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/filepath.c,
            src/proto/filepath.pro, src/testdir/test_functions.vim

Patch 8.2.1742
Problem:    Test still fails without the <A HREF="terminal.html#terminal">terminal</A> feature.
Solution:   Put check for <A HREF="terminal.html#terminal">terminal</A> feature in separate function.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.1743
Problem:    Cannot build without the <A HREF="eval.html#eval">eval</A> feature.
Solution:   Move shorten_dir outside of #ifdef.
Files:      src/filepath.c

Patch 8.2.1744
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using &quot;:const!&quot; is weird.
Solution:   Use &quot;var&quot; - &quot;final&quot; - &quot;const&quot; like Dart.  &quot;let&quot; still works for
            now.
Files:      runtime/doc/vim9.txt, src/ex_cmds.h, src/errors.h, src/evalvars.c,
            src/proto/evalvars.pro, src/cmdexpand.c, src/eval.c,
            src/ex_docmd.c, src/vim9compile.c, src/vim9execute.c,
            src/vim9script.c, src/vim.h, src/ex_cmdidxs.h,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_script.vim

Patch 8.2.1745
Problem:    Tiny version doesn't build.
Solution:   Add dummy ex_var() function.
Files:      src/ex_docmd.c

Patch 8.2.1746
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Cannot use &quot;fina&quot; for &quot;finally&quot;. (Naruhiko Nishino)
Solution:   Specifically check for &quot;fina&quot;. (closes #7020)
Files:      src/ex_docmd.c, src/testdir/test_trycatch.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1747
Problem:    Result of <A HREF="builtin.html#expand()">expand()</A> unexpectedly depends on <A HREF="options.html#'completeslash'">'completeslash'</A>.
Solution:   Temporarily reset <A HREF="options.html#'completeslash'">'completeslash'</A>. (Yasuhiro Matsumoto,
            closes #7021)
Files:      src/evalfunc.c, src/testdir/test_ins_complete.vim

Patch 8.2.1748
Problem:    Closing split <A HREF="windows.html#window">window</A> in other <A HREF="intro.html#tab">tab</A> may cause a crash.
Solution:   Set tp_curwin properly. (Rob Pilling, closes #7018)
Files:      src/window.c, src/testdir/test_winbuf_close.vim

Patch 8.2.1749
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when <A HREF="eval.html#closure">closure</A> fails in nested function.
Solution:   Handle function returns before dereferencing remaining closures.
            (closes #7008)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1750
Problem:    Setting firstline with <A HREF="popup.html#popup_setoptions()">popup_setoptions()</A> fails if cursorline is
            set.
Solution:   Use apply_options(). Update the <A HREF="popup.html#popup">popup</A> before applying &quot;<A HREF="scroll.html#zz">zz</A>&quot;.
            (closes #7010)
Files:      src/popupwin.c, src/proto/popupwin.pro, src/move.c,
            src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_win_execute_cursorline.dump,
            src/testdir/dumps/Test_popupwin_set_firstline_1.dump,
            src/testdir/dumps/Test_popupwin_set_firstline_2.dump

Patch 8.2.1751
Problem:    Using 2 where bool is expected may throw an error.
Solution:   Make this backwards compatible.
Files:      src/typval.c, src/evalfunc.c, src/testdir/test_search.vim,
            src/testdir/test_terminal2.vim

Patch 8.2.1752
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A>: cannot map alt-? with &lt;A-?&gt;. (Ingo Karkat)
Solution:   Adjust the characters for which the <A HREF="intro.html#shift">shift</A> modifier is removed.
            (closes #7016)  Make <A HREF="gui_x11.html#Motif">Motif</A> and <A HREF="os_win32.html#Win32">Win32</A> use the same function <A HREF="motion.html#as">as</A> <A HREF="gui_x11.html#GTK">GTK</A>.
Files:      src/misc2.c, src/gui_x11.c, src/gui_w32.c,
            src/testdir/test_termcodes.vim

Patch 8.2.1753
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using import at <A HREF="usr_41.html#script">script</A> level.
Solution:   Give a &quot;not implemented yet&quot; error. (closes #7026)
Files:      src/evalvars.c

Patch 8.2.1754
Problem:    Completion with <A HREF="spell.html#spell">spell</A> checking not tested.
Solution:   Add a test <A HREF="change.html#case">case</A>. (Dominique Pellé, closes #7024)
Files:      src/testdir/test_spell.vim

Patch 8.2.1755
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using invalid heredoc marker. (Dhiraj Mishra)
Solution:   Check for NULL <A HREF="eval.html#list">list</A>. (closes #7027)  Fix comment character.
Files:      src/vim9compile.c, src/evalvars.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.1756
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:let">:let</A> will soon be disallowed.
Solution:   Add v:disallow_let temporarily.  Fix tests.
Files:      src/vim.h, src/errors.h, src/evalvars.c, src/vim9compile.c,
            src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.1757
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: default <A HREF="mbyte.html#locale">locale</A> is lacking the encoding.
Solution:   Add &quot;.UTF-8 to the <A HREF="mbyte.html#locale">locale</A>. (Yee Cheng Chin, closes #7022)
Files:      src/os_mac_conv.c, src/testdir/test_environ.vim

Patch 8.2.1758
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type of unmaterialized <A HREF="eval.html#list">list</A> is wrong.
Solution:   Use list&lt;number&gt;.
Files:      src/vim9type.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1759
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Some tests are still using <A HREF="eval.html#:let">:let</A>.
Solution:   Change more declarations to use <A HREF="vim9.html#:var">:var</A>.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.1760
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when end marker is missing. (Dhiraj Mishra)
Solution:   Check for end of function lines. (closes #7031)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1761
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Some tests are still using <A HREF="eval.html#:let">:let</A>.
Solution:   Change more declarations to use <A HREF="vim9.html#:var">:var</A>.
Files:      src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1762
Problem:    When a <A HREF="builtin.html#timer">timer</A> uses <A HREF="insert.html#:stopinsert">:stopinsert</A> <A HREF="insert.html#Insert">Insert</A> mode completion isn't
            stopped. (Stanley Chan)
Solution:   Call ins_compl_prep(ESC).
Files:      src/edit.c, src/testdir/test_ins_complete.vim,
            src/testdir/dumps/Test_pum_stopped_by_timer.dump

Patch 8.2.1763
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#true">true</A>&quot; for <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> scrollbar option.
Solution:   use dict_get_bool(). (closes #7029)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.1764
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when assigning to <A HREF="usr_41.html#script">script</A> var with wrong type.
Solution:   Fix off-by-one error. (closes #7028)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1765
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some tests use &quot;var var&quot;.
Solution:   Use &quot;var name&quot;. (closes #7032)
Files:      src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.1766
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Some tests are still using <A HREF="eval.html#:let">:let</A>.
Solution:   Change the last few declarations to use <A HREF="vim9.html#:var">:var</A>.
Files:      src/testdir/runtest.vim, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_maparg.vim,
            src/testdir/test_popupwin.vim, src/testdir/test_textprop.vim

Patch 8.2.1767
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails with <A HREF="if_pyth.html#python">python</A> support.
Solution:   Use &quot;let&quot; in legacy function.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1768
Problem:    Cannot use the help menu from a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Add &quot;<A HREF="gui.html#:tlnoremenu">:tlnoremenu</A>&quot; commands. (Yee Cheng Chin, closes #7023)
Files:      runtime/menu.vim, src/testdir/test_gui.vim

Patch 8.2.1769
Problem:    A <A HREF="popup.html#popup">popup</A> <A HREF="change.html#filter">filter</A> interferes with using <A HREF="various.html#:normal">:normal</A> to move the cursor in
            a <A HREF="popup.html#popup">popup</A>.
Solution:   Do not invoke the <A HREF="change.html#filter">filter</A> when ex_normal_busy is set.
Files:      runtime/doc/popup.txt, src/getchar.c, src/evalfunc.c,
            src/ex_docmd.c, src/menu.c, src/globals.h,
            src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_normal_cmd.dump

Patch 8.2.1770
Problem:    Invalid memory use when using <A HREF="autocmd.html#SpellFileMissing">SpellFileMissing</A> autocmd.
Solution:   Add test <A HREF="change.html#case">case</A>. (Dominique Pellé, closes #7036)  Fix using a <A HREF="windows.html#window">window</A>
            that was closed.
Files:      src/spell.c, src/testdir/test_spell.vim

Patch 8.2.1771
Problem:    <A HREF="builtin.html#synIDattr()">synIDattr()</A> cannot get the value of ctermul.
Solution:   Add the &quot;ul&quot; value for &quot;what&quot;. (closes #7037)
Files:      runtime/doc/eval.txt, src/highlight.c, src/evalfunc.c,
            src/testdir/test_highlight.vim

Patch 8.2.1772
Problem:    Cannot use <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="motion.html#&lt;Down&gt;">&lt;Down&gt;</A> to move out of a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Use special_to_buf() instead of mb_char2bytes(). (closes #7045)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.1773
Problem:    Crash when calling <A HREF="builtin.html#mapset()">mapset()</A> with a <A HREF="eval.html#list">list</A> <A HREF="motion.html#as">as</A> first argument.
Solution:   Check for NULL. (closes #7040)
Files:      src/map.c, src/testdir/test_maparg.vim

Patch 8.2.1774
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: hang when forced to exit.
Solution:   Do not clean up &quot;mainwin&quot; when really_exiting is set.
            (Zdenek Dohnal, closes #7042)
Files:      src/gui_gtk_x11.c

Patch 8.2.1775
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: adding a long <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="eval.html#list">list</A> is slow.
Solution:   Shorten the buffer name only for the first entry. (Yegappan
            Lakshmanan, closes #7039, closes #7033)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1776
Problem:    Filetype.vim may be loaded <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Do &quot;<A HREF="syntax.html#syntax">syntax</A> on&quot; after &quot;<A HREF="filetype.html#filetype">filetype</A> on&quot;. (Adam Stankiewicz,
            closes #7049)
Files:      runtime/defaults.vim

Patch 8.2.1777
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some assignment tests in the wrong file.
Solution:   Move assignment tests to test_vim9_assign.
Files:      src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_script.vim

Patch 8.2.1778
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: returning from a <A HREF="builtin.html#partial">partial</A> call clears outer context, causing
            a crash.
Solution:   Put the outer context in the stack frame. (closes #7044)
Files:      src/vim9execute.c, src/vim9.h, src/testdir/test_vim9_func.vim

Patch 8.2.1779
Problem:    Some debian changelog files are not recognized.
Solution:   Add */debian/changelog. (Jason Franklin)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1780
Problem:    Statusline not updated when splitting <A HREF="windows.html#windows">windows</A>.
Solution:   Call status_redraw_all(). (Jason Franklin, closes #5496)
Files:      src/window.c, src/testdir/test_statusline.vim

Patch 8.2.1781
Problem:    Writing to prompt buffer interferes with insert mode.
Solution:   Use win_enter() instead of just setting &quot;curwin&quot;. (Ben Jackson,
            closes #7035)
Files:      src/autocmd.c, src/testdir/test_prompt_buffer.vim

Patch 8.2.1782
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot pass <A HREF="options.html#boolean">boolean</A> to <A HREF="builtin.html#mapset()">mapset()</A>.
Solution:   Use get_tv_bool(). (closes #7041)
Files:      src/map.c, src/testdir/test_vim9_func.vim

Patch 8.2.1783 (after 8.2.1781)
Problem:    Try-catch test fails.
Solution:   Don't call win_enter(), only call entering_window().
Files:      src/autocmd.c, src/window.c, src/proto/window.pro,
            src/testdir/runtest.vim

Patch 8.2.1784
Problem:    commits are not scanned for security problems
Solution:   Enable Github code scanning. (Christian Brabandt, closes #7057)
Files:      .github/workflows/codeql-analysis.yml

Patch 8.2.1785
Problem:    Compiler warning for strcpy() out of bounds. (Christian Brabandt)
Solution:   use memmove() instead.
Files:      src/dict.c

Patch 8.2.1786
Problem:    Various <A HREF="intro.html#Normal">Normal</A> mode commands not fully tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #7059)
Files:      src/testdir/test_normal.vim, src/testdir/test_regexp_utf8.vim,
            src/testdir/test_registers.vim, src/testdir/test_spellfile.vim,
            src/testdir/test_tagjump.vim, src/testdir/test_visual.vim

Patch 8.2.1787
Problem:    Crash with <A HREF="options.html#'incsearch'">'incsearch'</A> and very long line.
Solution:   Check whether regprog becomes NULL. (closes #7063)
Files:      src/search.c, src/testdir/test_search.vim

Patch 8.2.1788
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: still allows <A HREF="eval.html#:let">:let</A> for declarations.
Solution:   Make the default for v:disallow_let one.  It can still be set to
            zero to allow for using <A HREF="eval.html#:let">:let</A>.
Files:      src/evalvars.c, src/testdir/runtest.vim

Patch 8.2.1789
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash with invalid <A HREF="eval.html#list">list</A> constant. (Dhiraj Mishra)
Solution:   Return FAIL when compiling the <A HREF="eval.html#list">list</A> fails. (closes #7066)
Files:      src/vim9compile.c, src/errors.h, src/testdir/test_vim9_expr.vim

Patch 8.2.1790
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with <A HREF="if_pyth.html#Python">Python</A>: crash when executed from Vifm.
Solution:   Use NUL instead of CONIN. (Ken Takata, closes #7061, closes #7053)
Files:      src/if_python3.c

Patch 8.2.1791
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugger test fails.
Solution:   Use &quot;var&quot; instead of &quot;let&quot;.
Files:      src/testdir/test_debugger.vim

Patch 8.2.1792
Problem:    Configure does not recognize Racket 6.1+.
Solution:   Add a check for &quot;rktio&quot;. (closes #7062)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.1793
Problem:    Not consistently giving the &quot;is a directory&quot; warning.
Solution:   Adjust check for illegal file name and directory. (Yasuhiro
            Matsumoto, closes #7067)
Files:      src/fileio.c, src/testdir/test_edit.vim

Patch 8.2.1794
Problem:    No <A HREF="eval.html#falsy">falsy</A> Coalescing <A HREF="motion.html#operator">operator</A>.
Solution:   Add the &quot;<A HREF="eval.html#??">??</A>&quot; <A HREF="motion.html#operator">operator</A>.  Fix mistake with function argument <A HREF="intro.html#count">count</A>.
Files:      runtime/doc/eval.txt, src/eval.c, src/vim9compile.c,
            src/vim9type.c, src/testdir/test_expr.vim,
            src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1795
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: operators &amp;&amp; and &#124;&#124; have a confusing result.
Solution:   Make the result a <A HREF="options.html#boolean">boolean</A>.
Files:      runtime/doc/vim9.txt, src/eval.c, src/vim9compile.c,
            src/vim9execute.c, src/vim9type.c, src/structs.h, src/vim9.h,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1796
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid memory access with weird function name. (Dhiraj
            Mishra)
Solution:   Check the name is valid.  Add a test.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1797
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some parts of the code not tested.
Solution:   Add a few tests.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1798
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#ternary">ternary</A> <A HREF="motion.html#operator">operator</A> condition is too permissive.
Solution:   Use tv_get_bool_chk().
Files:      runtime/doc/vim9.txt, src/eval.c, src/vim9compile.c,
            src/vim9execute.c, src/testdir/vim9.vim,
            src/testdir/test_expr.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_cmd.vim, src/testdir/test_vim9_script.vim

Patch 8.2.1799
Problem:    Some <A HREF="intro.html#Normal">Normal</A> mode commands not fully tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #7073)
Files:      src/testdir/test_gf.vim, src/testdir/test_goto.vim,
            src/testdir/test_normal.vim, src/testdir/test_registers.vim,
            src/testdir/test_startup.vim, src/testdir/test_tabpage.vim,
            src/testdir/test_visual.vim

Patch 8.2.1800
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak if &quot;if&quot; condition is invalid.
Solution:   Free ppconst earlier.
Files:      src/vim9compile.c

Patch 8.2.1801
Problem:    Undo file not found when using &quot;<A HREF="editing.html#:args">:args</A>&quot; or &quot;<A HREF="editing.html#:next">:next</A>&quot;.
Solution:   Handle like editing another file. (closes #7072)
Files:      src/ex_cmds.c, src/testdir/test_undo.vim

Patch 8.2.1802
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash with unterminated <A HREF="eval.html#dict">dict</A>. (Dhiraj Mishra)
Solution:   Return empty <A HREF="eval.html#string">string</A> instead of NULL. (closes #7084)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1803
Problem:    A few failures are not tested.
Solution:   Test a few failures. (Dominique Pellé, closes #7075)
Files:      src/testdir/test_arglist.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_json.vim, src/testdir/test_listdict.vim

Patch 8.2.1804
Problem:    resolve('/') returns an empty <A HREF="eval.html#string">string</A>.
Solution:   Don't remove single slash. (closes #7074)
Files:      src/filepath.c, src/testdir/test_functions.vim

Patch 8.2.1805
Problem:    <A HREF="os_unix.html#Unix">Unix</A>: <A HREF="terminal.html#terminal">terminal</A> mode changed when using &quot;<A HREF="various.html#:shell">:shell</A>&quot;.
Solution:   Avoid calling settmode() when not needed. (issue #7079)
Files:      src/os_unix.c

Patch 8.2.1806
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with <A HREF="if_pyth.html#Python">Python</A>: Vim freezes after import command.
Solution:   Use either &quot;NUL&quot; or &quot;CONIN$&quot; when reopening stdin. (Yasuhiro
            Matsumoto, closes #7083)
Files:      src/if_python3.c

Patch 8.2.1807
Problem:    Can use <A HREF="helphelp.html#:help">:help</A> in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
Solution:   Give an error. (closes #7088)
Files:      src/help.c, src/testdir/test_popupwin.vim

Patch 8.2.1808
Problem:    No test coverage for &quot;:spelldump!&quot;.
Solution:   Add a test. (Dominique Pellé, closes #7089)
Files:      src/testdir/test_spell.vim

Patch 8.2.1809
Problem:    Mapping some keys with Ctrl does not work properly.
Solution:   For <A HREF="terminal.html#terminal">terminal</A>, <A HREF="gui_x11.html#GTK">GTK</A> and <A HREF="gui_x11.html#Motif">Motif</A> handle &quot;<A HREF="repeat.html#@">@</A>&quot;, &quot;<A HREF="motion.html#^">^</A>&quot; and &quot;<A HREF="motion.html#_">_</A>&quot; codes.
Files:      src/misc2.c, src/proto/misc2.pro, src/term.c, src/gui_gtk_x11.c,
            src/gui_x11.c, src/testdir/test_termcodes.vim

Patch 8.2.1810
Problem:    Some code in normal.c not covered by tests.
Solution:   Add normal mode tests. (Yegappan Lakshmanan, closes #7086)
Files:      src/testdir/test_charsearch.vim, src/testdir/test_normal.vim

Patch 8.2.1811
Problem:    Mapping Ctrl-key does not work for '<A HREF="motion.html#{">{</A>', '<A HREF="motion.html#}">}</A>' and '&#124;'.
Solution:   Remove the <A HREF="intro.html#shift">shift</A> modifier. (closes #6457)
Files:      runtime/doc/map.txt, src/misc2.c, src/testdir/test_termcodes.vim

Patch 8.2.1812
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: nested <A HREF="eval.html#closure">closure</A> throws an internal error.
Solution:   Do not skip a local variable with a <A HREF="builtin.html#partial">partial</A>. (closes #7065)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1813
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can assign wrong type to <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#dict">dict</A>. (Christian <A HREF="change.html#J">J</A>. Robinson)
Solution:   Check the type if known.
Files:      src/structs.h, src/eval.c, src/vim9script.c,
            src/proto/vim9script.pro, src/proto/evalvars.pro,
            src/testdir/test_vim9_script.vim

Patch 8.2.1814 (after 8.2.1813)
Problem:    Missing change to remove &quot;static&quot;.
Solution:   Add the change.
Files:      src/evalvars.c

Patch 8.2.1815
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using function reference.
Solution:   Temporarily disable the test.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.1816
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: another memory leak when using function reference.
Solution:   Temporarily disable the tests.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1817
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong instruction when reusing a local variable spot.
Solution:   Clear a newly allocated local variable. (closes #7080)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1818
Problem:    SE Linux: deprecation warning for security_context_t.
Solution:   Use &quot;char *&quot; instead. (James McCoy, closes #7093)
Files:      src/os_unix.c

Patch 8.2.1819
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Memory leak when using a <A HREF="eval.html#closure">closure</A>.
Solution:   Compute the minimal refcount in the funcstack.  Reenable disabled
            tests.
Files:      src/vim9execute.c, src/proto/vim9execute.pro, src/structs.h,
            src/eval.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.1820
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when error happens in <A HREF="builtin.html#timer">timer</A> callback.
Solution:   Check that current_exception is not NULL. (closes #7100)
Files:      src/ex_docmd.c

Patch 8.2.1821
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: concatenating to a NULL <A HREF="eval.html#list">list</A> doesn't work.
Solution:   Handle a NULL <A HREF="eval.html#list">list</A> like an empty <A HREF="eval.html#list">list</A>. (closes #7064)
Files:      src/list.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1822 (after 8.2.1821)
Problem:    <A HREF="eval.html#List">List</A> test doesn't fail.
Solution:   Adjust the test for NULL <A HREF="eval.html#list">list</A> handling.
Files:      src/testdir/test_listdict.vim

Patch 8.2.1823
Problem:    &quot;<A HREF="visual.html#gN">gN</A>&quot; does not select the matched <A HREF="eval.html#string">string</A>.
Solution:   Move the cursor to the start of the match.
Files:      src/search.c, src/testdir/test_gn.vim

Patch 8.2.1824
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#variables">variables</A> at the <A HREF="usr_41.html#script">script</A> level <A HREF="intro.html#escape">escape</A> their scope.
Solution:   When leaving a scope remove <A HREF="eval.html#variables">variables</A> declared in <A HREF="motion.html#it">it</A>.
Files:      src/structs.h, src/ex_eval.c, src/evalvars.c,
            src/proto/evalvars.pro, src/testdir/test_vim9_script.vim

Patch 8.2.1825
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: accessing freed memory.
Solution:   Clear sv_name when the variable is deleted.
Files:      src/ex_eval.c

Patch 8.2.1826
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a <A HREF="intro.html#{}">{}</A> block at <A HREF="usr_41.html#script">script</A> level.
Solution:   Recognize a <A HREF="intro.html#{}">{}</A> block.
Files:      src/ex_docmd.c, src/ex_cmds.h, src/ex_cmdidxs.h, src/ex_eval.c,
            src/structs.h, src/proto/ex_eval.pro, src/errors.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.1827
Problem:    Filetype detection does not test enough file names.
Solution:   Test more file names. (Adam Stankiewicz, closes #7099)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1828
Problem:    Build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add dummies for ex_block and ex_endblock.
Files:      src/ex_docmd.c

Patch 8.2.1829
Problem:    Warnings when executing Github actions.
Solution:   Use another <A HREF="eval.html#method">method</A> to set environment <A HREF="eval.html#variables">variables</A>. (Ken Takata,
            closes #7107)
Files:      .github/workflows/ci-windows.yaml

Patch 8.2.1830
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Python3 issue with stdin.
Solution:   Check if stdin is readable. (Ken Takata, closes #7106)
Files:      src/if_python3.c

Patch 8.2.1831
Problem:    File missing from <A HREF="intro.html#distribution">distribution</A>.
Solution:   Add the github code analyses file.
Files:      Filelist

Patch 8.2.1832
Problem:    <A HREF="builtin.html#readdirex()">readdirex()</A> error is displayed <A HREF="motion.html#as">as</A> a message. (Yegappan Lakshmanan)
Solution:   Use semsg() instead of smsg().
Files:      src/fileio.c, src/testdir/test_functions.vim

Patch 8.2.1833
Problem:    When reading from stdin dup() is called <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove the dup() in main.c. (Ken Takata, closes #7110)
Files:      src/main.c

Patch 8.2.1834
Problem:    PyEval_InitThreads() is deprecated in <A HREF="if_pyth.html#Python">Python</A> 3.9.
Solution:   Do not call PyEval_InitThreads in <A HREF="if_pyth.html#Python">Python</A> 3.9 and later. (Ken
            Takata, closes #7113)  Avoid warnings for <A HREF="eval.html#functions">functions</A>.
Files:      src/if_python3.c, src/if_py_both.h

Patch 8.2.1835
Problem:    &quot;<A HREF="helphelp.html#:help">:help</A> ??&quot; finds the &quot;<A HREF="change.html#!!">!!</A>&quot; <A HREF="tagsrch.html#tag">tag</A>.
Solution:   Do not translate &quot;<A HREF="pattern.html#?">?</A>&quot; into &quot;<A HREF="repeat.html#.">.</A>&quot;.  (Naruhiko Nishino, closes #7114,
            closes #7115)
Files:      src/help.c, src/testdir/test_help_tagjump.vim

Patch 8.2.1836
Problem:    Autocmd test fails on pacifist systems.
Solution:   Check that /bin/kill exists. (James McCoy, closes #7117)
            Tune the timing, make the autocmd test run faster.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.1837
Problem:    Using &quot;<A HREF="visual.html#gn">gn</A>&quot; after &quot;<A HREF="visual.html#gN">gN</A>&quot; does not work.
Solution:   Extend the other end of the <A HREF="visual.html#Visual">Visual</A> area. (closes #7109)
Files:      src/search.c, src/testdir/test_gn.vim

Patch 8.2.1838
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot insert a comment line in an <A HREF="eval.html#expression">expression</A>.
Solution:   Skip comment lines at the <A HREF="usr_41.html#script">script</A> level. (closes #7111)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1839
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leaks reported in assign test.
Solution:   Move the failing <A HREF="channel.html#job_start()">job_start()</A> call to separate test files, <A HREF="motion.html#it">it</A>
            causes <A HREF="vim9.html#false">false</A> leak reports.
Files:      src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_fails.vim,
            src/testdir/Make_all.mak

Patch 8.2.1840
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message is not clear about compilation error.
Solution:   Say &quot;compiling&quot; instead of &quot;processing&quot;.
Files:      src/vim9compile.c, src/message.c, src/globals.h,
            src/testdir/test_vim9_func.vim

Patch 8.2.1841
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for compilation error fails in normal build.
Solution:   Invoke CheckRunVimInTerminal in a separate function.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.1842
Problem:    Crash when USE_FNAME_CASE is defined and using <A HREF="editing.html#:browse">:browse</A>.
Solution:   Don't use read-only memory for &quot;<A HREF="repeat.html#.">.</A>&quot;. (Yegappan Lakshmanan,
            closes #7123)
Files:      src/ex_cmds.c, src/ex_docmd.c, src/testdir/test_edit.vim

Patch 8.2.1843
Problem:    Netbeans: with huge buffer number memory allocation may fail.
Solution:   Check for size overflow.
Files:      src/netbeans.c

Patch 8.2.1844
Problem:    Using &quot;<A HREF="repeat.html#q">q</A>&quot; at the more prompt doesn't stop a long message.
Solution:   Check for &quot;got_int&quot;. (closes #7122)
Files:      src/message.c, src/testdir/test_messages.vim,
            src/testdir/dumps/Test_quit_long_message.dump

Patch 8.2.1845
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function defined in a block can't use <A HREF="eval.html#variables">variables</A> defined in
            that block.
Solution:   First step: Make a second hashtab that holds all <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A>,
            also block-local ones, with more information.
Files:      src/structs.h, src/evalvars.c, src/ex_eval.c, src/vim9script.c,
            src/proto/vim9script.pro, src/scriptfile.c

Patch 8.2.1846
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#variables">variables</A> declared in a local block are not found in
            when a function is compiled.
Solution:   Look for <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A> in sn_all_vars.
Files:      src/structs.h, src/vim9compile.c, src/proto/vim9compile.pro,
            src/userfunc.c, src/proto/userfunc.pro, src/ex_eval.c,
            src/vim9script.c, src/proto/vim9script.pro, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1847
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using negative value for unsigned type.
Solution:   Use zero instead of -1.
Files:      src/vim9compile.c

Patch 8.2.1848
Problem:    Crash when passing a NULL <A HREF="eval.html#string">string</A> or <A HREF="eval.html#list">list</A> to <A HREF="popup.html#popup_settext()">popup_settext()</A>.
Solution:   Check for NULL pointers. (closes #7132)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.1849
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: garbage collection frees block-local <A HREF="eval.html#variables">variables</A>.
Solution:   <A HREF="motion.html#Mark">Mark</A> all <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A> <A HREF="motion.html#as">as</A> used.
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.1850
Problem:    &quot;vat&quot; does not select <A HREF="tagsrch.html#tags">tags</A> correctly over line break.
Solution:   Adjust the search <A HREF="pattern.html#pattern">pattern</A>. (Aufar Gilbran, closes #7136)
Files:      src/textobject.c, src/testdir/test_textobjects.vim

Patch 8.2.1851
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;<A HREF="change.html#!">!</A>&quot; followed by space incorrectly used.
Solution:   Skip over trailing spaces. (closes #7131)
Files:      src/eval.c, src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1852
Problem:    <A HREF="builtin.html#map()">map()</A> returning zero for NULL <A HREF="eval.html#list">list</A> is unexpected.
Solution:   Return the empty <A HREF="eval.html#list">list</A>. (closes #7133)
Files:      src/list.c, src/testdir/test_filter_map.vim,
            src/testdir/test_blob.vim

Patch 8.2.1853
Problem:    &quot;to_f&quot; is recognized at &quot;topleft&quot; modifier.
Solution:   Do not recognize modifier when &quot;<A HREF="motion.html#_">_</A>&quot; follows. (closes #7019)
Files:      src/ex_docmd.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1854
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when throwing exception for NULL <A HREF="eval.html#string">string</A>. (Dhiraj
            Mishra)
Solution:   Handle NULL <A HREF="eval.html#string">string</A> like empty <A HREF="eval.html#string">string</A>. (closes #7139)
Files:      src/vim9execute.c, src/errors.h, src/testdir/test_vim9_script.vim

Patch 8.2.1855
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: get error message when nothing is wrong.
Solution:   Check called_emsg instead of did_emsg. (closes #7143)
Files:      src/vim9compile.c, src/vim9execute.c, src/errors.h

Patch 8.2.1856
Problem:    &quot;2resize&quot; uses size of current <A HREF="windows.html#window">window</A>. (Daniel Steinberg)
Solution:   Use size of resized <A HREF="windows.html#window">window</A>. (Yasuhiro Matsumoto, closes #7152)
Files:      src/ex_docmd.c, src/testdir/test_window_cmd.vim

Patch 8.2.1857
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="channel.html#job_status()">job_status()</A> on an unused var gives an error.
Solution:   Return &quot;fail&quot;. (closes #7158)
Files:      src/job.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1858
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="change.html#filter">filter</A> <A HREF="eval.html#functions">functions</A> return number instead of bool.
Solution:   Return <A HREF="eval.html#v:true">v:true</A> instead of one. (closes #7144)
Files:      src/popupwin.c, src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.1859
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash in unpack assignment.
Solution:   Make sure an error message is turned into an exception.
            (closes #7159)
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.1860
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when throwing empty <A HREF="eval.html#string">string</A>.
Solution:   Free the empty <A HREF="eval.html#string">string</A>.
Files:      src/vim9execute.c

Patch 8.2.1861
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no specific error when parsing <A HREF="eval.html#lambda">lambda</A> fails.
Solution:   Also give <A HREF="syntax.html#syntax">syntax</A> <A HREF="message.html#errors">errors</A> when not evaluating. (closes #7154)
Files:      src/dict.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1862
Problem:    <A HREF="vim9.html#vim9">vim9</A>: memory leak when compiling <A HREF="eval.html#lambda">lambda</A> fails.
Solution:   Call clear_evalarg().
Files:      src/vim9compile.c

Patch 8.2.1863
Problem:    Json code not sufficiently tested.
Solution:   Add more test cases. (Dominique Pellé, closes #7166)
Files:      src/testdir/test_json.vim

Patch 8.2.1864
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for wrong <A HREF="eval.html#list">list</A> type.
Solution:   Add flag to indicate a constant. (closes #7160)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.1865
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#add()">add()</A> does not check type of argument.
Solution:   Inline the <A HREF="builtin.html#add()">add()</A> call. (closes #7160)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/errors.h,
            src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1866
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: appending to pushed <A HREF="eval.html#blob">blob</A> gives wrong result.
Solution:   Set ga_maxlen when <A HREF="uganda.html#copying">copying</A> a <A HREF="eval.html#blob">blob</A>.
Files:      src/blob.c, src/testdir/test_vim9_func.vim

Patch 8.2.1867
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument to <A HREF="builtin.html#add()">add()</A> not checked for <A HREF="eval.html#blob">blob</A>.
Solution:   Add the BLOBAPPEND instruction.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/errors.h,
            src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1868
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for missing space after comma in <A HREF="eval.html#dict">dict</A>.
Solution:   Check for white space. (closes #6672)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1869
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using <A HREF="builtin.html#add()">add()</A>.
Solution:   Free the added item.
Files:      src/vim9execute.c

Patch 8.2.1870
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no need to keep all <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A>.
Solution:   Only keep <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A> when a function was defined that could
            use them.  Fix freeing static <A HREF="eval.html#string">string</A> on exit.
Files:      src/vim9script.c, src/proto/vim9script.pro, src/structs.h,
            src/ex_eval.c, src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.1871
Problem:    Using &#37;v in <A HREF="options.html#'errorformat'">'errorformat'</A> may fail before &#37;Z.
Solution:   Set qf_viscol only when qf_col is set. (closes #7169)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1872
Problem:    Matchfuzzy() does not prefer sequential matches.
Solution:   Give sequential matches a higher bonus. (Christian Brabandt,
            closes #7140)
Files:      src/search.c, src/testdir/test_matchfuzzy.vim

Patch 8.2.1873
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing white space when using <A HREF="map.html#&lt;f-args&gt;">&lt;f-args&gt;</A>.
Solution:   Add spaces. (Christian <A HREF="change.html#J">J</A>. Robinson)
Files:      src/usercmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1874
Problem:    Can't <A HREF="diff.html#do">do</A> something just before leaving <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Add the <A HREF="autocmd.html#InsertLeavePre">InsertLeavePre</A> <A HREF="autocmd.html#autocommand">autocommand</A> event. (closes #7177)
Files:      runtime/doc/autocmd.txt, src/edit.c, src/vim.h,
            src/autocmd.c, src/testdir/test_edit.vim

Patch 8.2.1875
Problem:    Warning when building <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#gui">gui</A>.
Solution:   Add missing function parameter.
Files:      src/gui_gtk_f.c

Patch 8.2.1876
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types for builtin <A HREF="eval.html#functions">functions</A> are not checked at
            compile time.
Solution:   Add an argument type checking mechanism. Implement type checks for
            one function.
Files:      src/evalfunc.c, src/proto/evalfunc.pro, src/vim9compile.c,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/Make_all.mak

Patch 8.2.1877 (after 8.2.1876)
Problem:    Test for function <A HREF="eval.html#list">list</A> fails.
Solution:   Move &quot;obsolete&quot; comments one line up.
Files:      src/evalfunc.c

Patch 8.2.1878
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: error for redefining function. (Tony Mechelynck)
Solution:   Remove &quot;gtk_&quot; prefix from local <A HREF="eval.html#functions">functions</A> and prepend &quot;gui_&quot; to
            global <A HREF="eval.html#functions">functions</A>.
Files:      src/gui_gtk_f.c, src/gui_gtk_f.h, src/gui_gtk.c, src/gui_gtk_x11.c

Patch 8.2.1879
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types of <A HREF="builtin.html#insert()">insert()</A> not checked when compiling.
Solution:   Add argument type checks for <A HREF="builtin.html#insert()">insert()</A>.
Files:      src/evalfunc.c, src/proto/evalfunc.pro, src/vim9compile.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.1880
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Asan complains about adding zero to NULL.
Solution:   Check for argument <A HREF="intro.html#count">count</A> first.
Files:      src/vim9compile.c

Patch 8.2.1881
Problem:    Cannot build with <A HREF="gui_x11.html#GTK3">GTK3</A>.
Solution:   Adjust form <A HREF="eval.html#functions">functions</A>.
Files:      src/gui_gtk_f.c

Patch 8.2.1882
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: v:disallow_let is no longer needed.
Solution:   Remove v:disallow_let.
Files:      src/evalvars.c, src/vim.h, src/vim9compile.c

Patch 8.2.1883
Problem:    Compiler warnings when using <A HREF="if_pyth.html#Python">Python</A>.
Solution:   Adjust PyCFunction to also have the second argument.  Use &quot;int&quot;
            return type for some <A HREF="eval.html#functions">functions</A>.  <A HREF="insert.html#Insert">Insert</A> &quot;(void *)&quot; to get rid of
            the remaining warnings.
Files:      src/if_py_both.h, src/if_python.c, src/if_python3.c

Patch 8.2.1884
Problem:    Compiler warning for uninitialized variable. (John Marriott)
Solution:   Initialize with NULL.
Files:      src/vim9compile.c, src/evalfunc.c

Patch 8.2.1885
Problem:    Filetype tests unnecessarily creates swap files.
Solution:   Disable <A HREF="options.html#'swapfile'">'swapfile'</A>. (Ken Takata, closes #7183)
Files:      src/testdir/test_filetype.vim

Patch 8.2.1886
Problem:    Using &quot;<A HREF="various.html#:silent!">:silent!</A>&quot; in a <A HREF="popup.html#popup">popup</A> <A HREF="change.html#filter">filter</A> has unexpected effect.
Solution:   Use did_emsg instead of called_emsg. (closes #7178)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.1887
Problem:    Github actions not optimally configured.
Solution:   Run CI on any pushed branches. Set fail-fast. (Ozaki Kiichi,
            closes #7184)
Files:      .github/workflows/ci-windows.yaml

Patch 8.2.1888
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Getbufline(-1, 1, '<A HREF="motion.html#$">$</A>') gives an error.
Solution:   Return an empty <A HREF="eval.html#list">list</A>. (closes #7180)
Files:      src/evalbuffer.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.1889
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: erroneous error for missing white space after <A HREF="intro.html#{}">{}</A>.
Solution:   Don't skip over white space after <A HREF="intro.html#{}">{}</A>. (issue #7167)
Files:      src/dict.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1890
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: strange error for subtracting from a <A HREF="eval.html#list">list</A>.
Solution:   Check getting a number, not a <A HREF="eval.html#string">string</A>. (closes #7167)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1891
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: skipping over <A HREF="eval.html#expression">expression</A> doesn't handle line breaks.
Solution:   Pass evalarg to skip_expr(). (closes #7157)
Files:      src/vim9compile.c, src/eval.c, src/proto/eval.pro, src/ex_docmd.c,
            src/misc1.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1892
Problem:    Valgrind warns for using uninitialized access in tests.
Solution:   Fix condition for breaking out of loop. (Dominique Pellé,
            closes #7187)
Files:      src/terminal.c

Patch 8.2.1893
Problem:    Fuzzy matching does not support multiple words.
Solution:   Add support for matching white space separated words. (Yegappan
            Lakshmanan, closes #7163)
Files:      runtime/doc/eval.txt, src/search.c,
            src/testdir/test_matchfuzzy.vim

Patch 8.2.1894
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command modifiers are not supported.
Solution:   Support &quot;silent&quot; and &quot;silent!&quot;.
Files:      src/structs.h, src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/evalvars.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.1895 (after 8.2.1894)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: silent command modifier test fails.
Solution:   Add missing changes.
Files:      src/ex_docmd.c

Patch 8.2.1896
Problem:    Valgrind warns for using uninitialized memory.
Solution:   NUL terminate the SmcOpenConnection() error message. (Dominique
            Pellé, closes #7194)
Files:      src/os_unix.c

Patch 8.2.1897
Problem:    Command modifiers are saved and set inconsistently.
Solution:   Separate parsing and applying command modifiers.  Save values in
            cmdmod_T.
Files:      src/structs.h, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/ex_cmds.h, src/vim9compile.c

Patch 8.2.1898
Problem:    Command modifier parsing always uses global cmdmod.
Solution:   Pass in cmdmod_T to use.  Rename struct fields consistently.
Files:      src/structs.h, src/arglist.c, src/buffer.c, src/bufwrite.c,
            src/diff.c, src/change.c, src/cmdhist.c, src/edit.c,
            src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c,
            src/fileio.c, src/filepath.c, src/gui.c, src/gui_gtk_x11.c,
            src/help.c, src/if_cscope.c, src/indent.c, src/mark.c,
            src/memline.c, src/message.c, src/option.c, src/ops.c,
            src/os_unix.c, src/quickfix.c, src/register.c, src/scriptfile.c,
            src/search.c, src/session.c, src/tag.c, src/terminal.c,
            src/textformat.c, src/usercmd.c, src/vim9compile.c, src/window.c,
            src/proto/ex_docmd.pro

Patch 8.2.1899
Problem:    Crash in out-of-memory situation.
Solution:   Bail out if shell_name is NULL. (Dominique Pellé, closes #7196)
Files:      src/ex_cmds.c

Patch 8.2.1900
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command modifiers <A HREF="diff.html#do">do</A> not work.
Solution:   Make most command modifiers work.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/usercmd.c, src/proto/usercmd.pro, src/scriptfile.c,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1901
Problem:    Variable completion does not work in command line <A HREF="windows.html#window">window</A>.
Solution:   Use the &quot;prevwin&quot;. (closes #7198)
Files:      src/evalvars.c, src/testdir/test_ins_complete.vim

Patch 8.2.1902
Problem:    Default option values are changed when using <A HREF="windows.html#:badd">:badd</A> for an existing
            buffer.
Solution:   When calling buflist_new() pass a zero line number. (closes #7195)
Files:      src/ex_cmds.c, src/testdir/test_buffer.vim

Patch 8.2.1903 (after 8.2.1902)
Problem:    Buffer test fails with normal features.
Solution:   Use <A HREF="options.html#'numberwidth'">'numberwidth'</A> instead of <A HREF="options.html#'conceallevel'">'conceallevel'</A> in the test.
Files:      src/testdir/test_buffer.vim

Patch 8.2.1904
Problem:    Still using default option values after using &quot;<A HREF="windows.html#:badd">:badd</A> +1&quot;.
Solution:   Find a <A HREF="windows.html#window">window</A> where <A HREF="options.html#options">options</A> were set.  Don't set the <A HREF="windows.html#window">window</A> when
            using &quot;<A HREF="windows.html#:badd">:badd</A>&quot;.
Files:      src/buffer.c, src/ex_cmds.c, src/vim.h,
            src/testdir/test_buffer.vim

Patch 8.2.1905
Problem:    The wininfo <A HREF="eval.html#list">list</A> may contain stale entries.
Solution:   When closing a <A HREF="windows.html#window">window</A> remove any other entry where the <A HREF="windows.html#window">window</A>
            pointer is NULL.
Files:      src/buffer.c, src/proto/buffer.pro, src/window.c

Patch 8.2.1906
Problem:    Warning for signed/unsigned.
Solution:   Use size_t instead of int. (Mike Williams)
Files:      src/proto/usercmd.pro, src/usercmd.c, src/vim9execute.c

Patch 8.2.1907
Problem:    Complete_info().selected may be wrong.
Solution:   Update cp_number if <A HREF="motion.html#it">it</A> was never set. (issue #6945)
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.1908
Problem:    <A HREF="if_lua.html#Lua">Lua</A> is initialized even when not used.
Solution:   Put lua_init() after check for &quot;eap-&gt;skip&quot;. (Christian Brabandt,
            closes #7191).  Avoid compiler warnings.
Files:      src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.1909
Problem:    <A HREF="eval.html#Number">Number</A> of status line items is limited to 80.
Solution:   Dynamically allocate the arrays. (Rom Grk, closes #7181)
Files:      runtime/doc/options.txt, src/buffer.c, src/optionstr.c,
            src/proto/buffer.pro, src/screen.c, src/structs.h,
            src/testdir/test_options.vim, src/testdir/test_statusline.vim,
            src/vim.h

Patch 8.2.1910
Problem:    Reading past the end of the command line.
Solution:   Check for NUL. (closes #7204)
Files:      src/ex_docmd.c, src/testdir/test_edit.vim

Patch 8.2.1911
Problem:    Tiny build fails.
Solution:   Add #ifdef.
Files:      src/insexpand.c

Patch 8.2.1912
Problem:    With <A HREF="if_pyth.html#Python">Python</A> 3.9 some tests fail.
Solution:   Take into account the different error message. (James McCoy,
            closes #7210)
Files:      src/testdir/test_python3.vim

Patch 8.2.1913
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A>: rounding for the cell height is too strict.
Solution:   Round up above 15/16 of a pixel. (closes #7203)
Files:      src/gui_gtk_x11.c

Patch 8.2.1914
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot put line break in <A HREF="eval.html#expression">expression</A> for '<A HREF="change.html#=">=</A>' <A HREF="sponsor.html#register">register</A>.
Solution:   Pass fgetline to set_expr_line(). (closes #7209)
Files:      src/register.c, src/proto/register.pro, src/ex_docmd.c,
            src/eval.c, src/proto/eval.pro, src/misc2.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.1915
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for wrong number of arguments is not useful.
Solution:   Mention whatever we have for the name. (closes #7208)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.1916
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function call is aborted even when &quot;silent!&quot; is used.
Solution:   Use did_emsg instead of called_emsg. (closes #7213)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1917
Problem:    No test for improved Man command.
Solution:   Test that shell arguments are properly escaped.
Files:      src/testdir/test_man.vim

Patch 8.2.1918
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#E1100">E1100</A> mentions <A HREF="eval.html#:let">:let</A>.
Solution:   Mention &quot;var&quot;. (closes #7207)
Files:      src/vim9script.c, src/errors.h

Patch 8.2.1919
Problem:    Assert_fails() setting emsg_silent changes normal execution.
Solution:   Use a separate flag in_assert_fails.
Files:      src/testing.c, src/globals.h, src/buffer.c, src/change.c,
            src/fileio.c, src/insexpand.c, src/message.c, src/misc1.c,
            src/normal.c, src/screen.c, src/term.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim, src/testdir/gen_opt_test.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_mapping.vim,
            src/testdir/test_popup.vim, src/testdir/test_terminal.vim

Patch 8.2.1920
Problem:    Listlbr test fails when run after another test.
Solution:   Add test separately to <A HREF="eval.html#list">list</A> of test targets.
Files:      src/testdir/Make_all.mak, src/testdir/test_alot_utf8.vim

Patch 8.2.1921
Problem:    Fuzzy matching does not recognize path separators.
Solution:   Add a bonus for slash and <A HREF="intro.html#backslash">backslash</A>. (Yegappan Lakshmanan,
            closes #7225)
Files:      src/search.c, src/testdir/test_matchfuzzy.vim

Patch 8.2.1922
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: <A HREF="scroll.html#scrolling">scrolling</A> doesn't work properly when part of <A HREF="windows.html#window">window</A> is
            off-screen.
Solution:   Fall back to GDI <A HREF="scroll.html#scrolling">scrolling</A> if part of the <A HREF="windows.html#window">window</A> is off-screen.
            Handle multi-monitor setup better. (Ken Takata, closes #7219)
Files:      src/gui_w32.c

Patch 8.2.1923
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;<A HREF="change.html#filter">filter</A>&quot; command modifier doesn't work.
Solution:   Check for space on char before argument. (closes #7216,
            closes #7222)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1924
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when indexing <A HREF="eval.html#dict">dict</A> with NULL key.
Solution:   Use empty <A HREF="eval.html#string">string</A> instead of NULL. (closes #7229)  Make error
            message more useful for empty <A HREF="eval.html#string">string</A>.
Files:      src/vim9execute.c, src/globals.h, src/testdir/test_vim9_expr.vim

Patch 8.2.1925 (after 8.2.1924)
Problem:    List/dict test fails.
Solution:   Correct expected exception.
File:       src/testdir/test_listdict.vim

Patch 8.2.1926
Problem:    Cannot use a space in <A HREF="options.html#'spellfile'">'spellfile'</A>. (Filipe Brandenburger)
Solution:   Permit using a space. (closes #7230)
Files:      src/spell.c, src/testdir/gen_opt_test.vim

Patch 8.2.1927
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: get unknown error with an error in a <A HREF="builtin.html#timer">timer</A> function.
Solution:   Use did_emsg instead of called_emsg. (closes #7231)
Files:      src/vim9compile.c, src/vim9execute.c

Patch 8.2.1928
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;silent!&quot; not effective when <A HREF="eval.html#list">list</A> index is wrong.
Solution:   Ignore <A HREF="eval.html#list">list</A> index failure when emsg_silent is set. (closes #7232)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.1929
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: problem loading <A HREF="if_perl.html#Perl">Perl</A> 5.32.
Solution:   Define NO_THREAD_SAFE_LOCALE. (Ken Takata, closes #7234)
Files:      src/if_perl.xs

Patch 8.2.1930
Problem:    Wrong input if removing <A HREF="intro.html#shift">shift</A> results in special key code.
Solution:   Handle special key codes. (closes #7189)
Files:      src/term.c, src/testdir/test_termcodes.vim

Patch 8.2.1931
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: arguments of <A HREF="builtin.html#extend()">extend()</A> not checked at compile time.
Solution:   Add argument type checking for <A HREF="builtin.html#extend()">extend()</A>.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.1932
Problem:    Compiler warnings when building with Athena <A HREF="gui.html#GUI">GUI</A>.
Solution:   Fix function signatures.
Files:      src/gui_at_fs.c

Patch 8.2.1933
Problem:    Cannot sort using <A HREF="mbyte.html#locale">locale</A> ordering.
Solution:   Add a flag for <A HREF="change.html#:sort">:sort</A> and <A HREF="builtin.html#sort()">sort()</A> to use the <A HREF="mbyte.html#locale">locale</A>. (Dominique
            Pellé, closes #7237)
Files:      runtime/doc/change.txt, runtime/doc/eval.txt, src/ex_cmds.c,
            src/list.c, src/testdir/test_sort.vim

Patch 8.2.1934
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command modifiers in <A HREF="vim9.html#:def">:def</A> function not tested.
Solution:   Add tests.  Fix using modifier before <A HREF="change.html#filter">filter</A> command.
Files:      src/ex_docmd.c, src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1935 (after 8.2.1933)
Problem:    Sort test fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Disable the sort test with <A HREF="mbyte.html#locale">locale</A> on <A HREF="os_mac.html#Mac">Mac</A>.
Files:      src/testdir/test_sort.vim

Patch 8.2.1936
Problem:    <A HREF="starting.html#Session">Session</A> sets the local <A HREF="options.html#'scrolloff'">'scrolloff'</A> value to the global value.
Solution:   Do not let restoring the global option value change the local
            value.
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.1937
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for confirm modifier fails in some situations.
Solution:   Add a short wait.  Handle failure better.
Files:      src/testdir/term_util.vim, src/testdir/test_vim9_cmd.vim

Patch 8.2.1938
Problem:    Wiping out a <A HREF="terminal.html#terminal">terminal</A> buffer makes some tests fail.
Solution:   Do not wipe out the <A HREF="terminal.html#terminal">terminal</A> buffer unless wanted.
Files:      src/testdir/term_util.vim, src/testdir/test_terminal.vim,
            src/testdir/test_terminal3.vim

Patch 8.2.1939
Problem:    Invalid memory access in <A HREF="intro.html#Ex">Ex</A> mode with global command.
Solution:   Make sure the cursor is on a valid line. (closes #7238)
Files:      src/move.c, src/testdir/test_ex_mode.vim

Patch 8.2.1940
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: browse modifier test fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Only test when the <A HREF="various.html#+browse">+browse</A> feature is available.
Files:      src/testdir/test_vim9_cmd.vim

Patch 8.2.1941
Problem:    <A HREF="intro.html#Ex">Ex</A> mode test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test when using <A HREF="starting.html#gvim">gvim</A>.
Files:      src/testdir/test_ex_mode.vim

Patch 8.2.1942
Problem:    Insufficient test coverage for the Netbeans interface.
Solution:   Add more tests. Fix an uncovered bug. (Yegappan Lakshmanan,
            closes #7240)
Files:      runtime/doc/netbeans.txt, src/mouse.c,
            src/testdir/test_netbeans.py, src/testdir/test_netbeans.vim,
            src/testdir/test_quickfix.vim

Patch 8.2.1943
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong error message when colon is missing.
Solution:   Check for a missing colon. (issue #7239)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1944
Problem:    Netbeans test is flaky.
Solution:   Add a short delay. (Yegappan Lakshmanan, closes #7246)
Files:      src/testdir/test_netbeans.vim

Patch 8.2.1945
Problem:    Crash when passing NULL function to <A HREF="builtin.html#reduce()">reduce()</A>.
Solution:   Check for NULL pointer and give an error. (Dominique Pellé,
            closes #7243)
Files:      src/list.c, src/errors.h, src/testdir/test_listdict.vim

Patch 8.2.1946
Problem:    <A HREF="builtin.html#sort()">sort()</A> with NULL <A HREF="eval.html#string">string</A> not tested.
Solution:   Add a test.  use <A HREF="eval.html#v:collate">v:collate</A>. (Dominique Pellé, closes #7247)
Files:      src/testdir/test_sort.vim

Patch 8.2.1947
Problem:    Crash when using &quot;<A HREF="fold.html#zj">zj</A>&quot; without <A HREF="fold.html#folds">folds</A>. (Sean Dewar)
Solution:   Check for at least one fold. (closes #7245)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.1948
Problem:    <A HREF="gui.html#GUI">GUI</A>: crash when handling message while closing a <A HREF="windows.html#window">window</A>. (Srinath
            Avadhanula)
Solution:   Don't handle message while closing a <A HREF="windows.html#window">window</A>. (closes #7250)
Files:      src/window.c, src/globals.h, src/getchar.c

Patch 8.2.1949
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="builtin.html#extend()">extend()</A> on <A HREF="vim9.html#null">null</A> <A HREF="eval.html#dict">dict</A> is silently ignored.
Solution:   Give an error message.  Initialize a <A HREF="eval.html#dict">dict</A> variable with an empty
            dictionary. (closes #7251)
Files:      src/errors.h, src/list.c, src/evalvars.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.1950
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when compiling function fails when getting type.
Solution:   Handle NULL type. (closes #7253)
Files:      src/vim9type.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1951 (after 8.2.1949)
Problem:    Test for <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A> fails.
Solution:   Adjust for using an empty list/dict for a <A HREF="vim9.html#null">null</A> one.
Files:      src/testdir/test_listdict.vim, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim

Patch 8.2.1952
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using a NULL <A HREF="eval.html#dict">dict</A> key.
Solution:   Use a NULL <A HREF="eval.html#dict">dict</A> key like an empty <A HREF="eval.html#string">string</A>. (closes #7249)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.1953
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: extra &quot;unknown&quot; error after other error.
Solution:   Restore did_emsg <A HREF="intro.html#count">count</A> after EXEC instruction. (closes #7254)
            Improve error message from <A HREF="testing.html#assert_fails()">assert_fails()</A>
Files:      src/vim9execute.c, src/testing.c,
            src/testdir/test_vim9_script.vim, src/testdir/test_assert.vim

Patch 8.2.1954
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all command modifiers are tested.
Solution:   Add tests for &quot;keep&quot; modifiers.  Fix that marks are lost even
            though &quot;<A HREF="motion.html#:lockmarks">:lockmarks</A>&quot; is used.
Files:      src/ex_cmds.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.1955
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all command modifiers are tested.
Solution:   Add tests for remaining modifiers.
Files:      src/testdir/test_vim9_cmd.vim

Patch 8.2.1956
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot specify argument types for <A HREF="eval.html#lambda">lambda</A>.
Solution:   Allow adding argument types.  Check arguments when calling a
            function reference.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/vim9compile.c,
            src/eval.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.1957
Problem:    Diff and cursorcolumn highlighting don't mix.
Solution:   Fix condition for what attribute to use. (Christian Brabandt,
            closes #7258, closes #7260)
Files:      src/drawline.c, src/testdir/dumps/Test_diff_cuc_01.dump,
            src/testdir/dumps/Test_diff_cuc_02.dump,
            src/testdir/dumps/Test_diff_cuc_03.dump,
            src/testdir/dumps/Test_diff_cuc_04.dump,
            src/testdir/test_diffmode.vim

Patch 8.2.1958 (after 8.2.1956)
Problem:    Build failure with <A HREF="builtin.html#timers">timers</A>.
Solution:   Add missing change.
Files:      src/popupwin.c

Patch 8.2.1959
Problem:    Crash when <A HREF="terminal.html#terminal">terminal</A> buffer name is made empty. (Dhiraj Mishra)
Solution:   Fall back to &quot;[No Name]&quot;. (closes #7262)
Files:      src/buffer.c, src/proto/buffer.pro, src/terminal.c,
            src/testdir/test_terminal.vim

Patch 8.2.1960
Problem:    Warning for uninitialized variable.
Solution:   Initialize the variable.
Files:      src/evalfunc.c

Patch 8.2.1961
Problem:    Various comments can be improved.
Solution:   Various comment adjustments.
Files:      src/dict.c, src/structs.h, src/time.c, src/testdir/shared.vim,
            src/testdir/test_netbeans.vim, src/gui_motif.c

Patch 8.2.1962
Problem:    Netbeans may access freed memory.
Solution:   Check the buffer pointer is still valid.  Add a test. (Yegappan
            Lakshmanan, closes #7248)
Files:      src/netbeans.c, src/testdir/test_netbeans.vim

Patch 8.2.1963
Problem:    Crash when using a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with &quot;latin1&quot; encoding.
Solution:   Don't use ScreenLinesUC when enc_utf8 is <A HREF="vim9.html#false">false</A>. (closes #7241)
Files:      src/screen.c, src/terminal.c, src/testdir/test_popupwin.vim

Patch 8.2.1964
Problem:    Not all ConTeXt files are recognized.
Solution:   Add two patterns. (closes #7263)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.1965
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: tests fail without the <A HREF="channel.html#channel">channel</A> feature.
Solution:   Check if the <A HREF="channel.html#channel">channel</A> feature is present. (Dominique Pellé,
            closes #7270)
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.1966
Problem:    Popup becomes current <A HREF="windows.html#window">window</A> after closing a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   When restoring the <A HREF="windows.html#window">window</A> after executing <A HREF="autocmd.html#autocommands">autocommands</A>, check that
            the <A HREF="windows.html#window">window</A> ID is still the same.  (Naruhiko Nishino,
            closes #7272)
Files:      src/autocmd.c, src/window.c, src/proto/window.pro, src/structs.h,
            src/testdir/test_popupwin.vim

Patch 8.2.1967
Problem:    The session file does not restore the alternate file.
Solution:   Add &quot;<A HREF="windows.html#:balt">:balt</A>&quot;.  Works like &quot;<A HREF="windows.html#:badd">:badd</A>&quot; and also sets the buffer <A HREF="motion.html#as">as</A> the
            alternate file.  Use <A HREF="motion.html#it">it</A> in the session file. (closes #7269,
            closes #6714)
Files:      runtime/doc/windows.txt, src/ex_cmds.h, src/ex_cmdidxs.h,
            src/ex_docmd.c, src/vim.h, src/ex_cmds.c, src/session.c,
            src/testdir/test_buffer.vim

Patch 8.2.1968
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#has()">has()</A> assumes a feature does not change dynamically.
Solution:   Check whether a feature may change dynamically. (closes #7265)
Files:      src/vim9compile.c, src/evalfunc.c, src/proto/evalfunc.pro,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.1969
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#map()">map()</A> may change the <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> item type.
Solution:   Add <A HREF="builtin.html#mapnew()">mapnew()</A>.
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/list.c, src/proto/list.pro, src/testdir/test_filter_map.vim

Patch 8.2.1970
Problem:    It is <A HREF="starting.html#easy">easy</A> to make mistakes when cleaning up swap files after the
            system crashed.
Solution:   Warn for the process still running after <A HREF="recover.html#recovery">recovery</A>.  Do not
            automatically delete a swap file created on another system.
            (David Fries, closes #7273)
Files:      src/memline.c, src/testdir/test_swap.vim

Patch 8.2.1971
Problem:    Memory leak when <A HREF="builtin.html#map()">map()</A> fails.
Solution:   Clear the typval.
Files:      src/list.c

Patch 8.2.1972
Problem:    Crash when recreating nested fold.
Solution:   Check for empty growarray. (closes #7278)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.1973
Problem:    Finding a patch number can be a bit slow.
Solution:   Use binary search. (closes #7279)
Files:      src/version.c

Patch 8.2.1974
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for has('gui_running') fails with VIMDLL.
Solution:   Adjust the #ifdef. (Ken Takata, closes #7276)
Files:      src/evalfunc.c

Patch 8.2.1975
Problem:    <A HREF="os_win32.html#Win32">Win32</A>: memory leak when encoding conversion fails.
Solution:   Free the allocated memory. (Ken Takata, closes #7277)
Files:      src/os_win32.c

Patch 8.2.1976
Problem:    Cannot backspace in prompt buffer after using <A HREF="intro.html#cursor-left">cursor-left</A>. (Maxim
            Kim)
Solution:   Ignore &quot;arrow_used&quot; in a prompt buffer. (closes #7281)
Files:      src/edit.c, src/testdir/test_prompt_buffer.vim

Patch 8.2.1977
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for using a <A HREF="eval.html#string">string</A> in a condition is confusing.
Solution:   Give a more specific error.  Also adjust the compile time type
            checking for &#124;&#124; and &amp;&amp;.
Files:      src/vim9compile.c, src/vim9execute.c, src/proto/vim9execute.pro,
            src/typval.c, src/errors.h, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1978
Problem:    Making a <A HREF="map.html#mapping">mapping</A> work in all modes is complicated.
Solution:   Add the <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> special key. (Yegappan Lakshmanan, closes #7282,
            closes 4784, based on patch by Bjorn Linse)
Files:      runtime/doc/autocmd.txt, runtime/doc/eval.txt,
            runtime/doc/map.txt, src/edit.c, src/errors.h, src/ex_docmd.c,
            src/ex_getln.c, src/getchar.c, src/insexpand.c, src/keymap.h,
            src/map.c, src/misc2.c, src/normal.c, src/ops.c,
            src/proto/getchar.pro, src/screen.c, src/terminal.c,
            src/testdir/test_mapping.vim

Patch 8.2.1979
Problem:    &quot;term_opencmd&quot; option of <A HREF="terminal.html#term_start()">term_start()</A> is truncated. (Sergey
            Vlasov)
Solution:   Allocate the buffer to hold the command. (closes #7284)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.1980
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some tests are not done at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Use CheckDefAndScriptSuccess() in more places.  Fix uncovered
            problems.
Files:      src/eval.c, src/list.c, src/scriptfile.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.1981
Problem:    MinGW: parallel compilation might fail.
Solution:   Add dependencies on $(OUTDIR). (Masamichi Abe, closes #7287)
Files:      src/Make_cyg_ming.mak

Patch 8.2.1982
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> <A HREF="windows.html#window">window</A> not updated when adding invalid entries.
Solution:   Update the <A HREF="quickfix.html#quickfix">quickfix</A> buffer properly. (Yegappan Lakshmanan, closes
            #7291, closes #7271)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.1983
Problem:    ml_get error when using <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> to open a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   If the <A HREF="windows.html#window">window</A> changed reset the incsearch state. (closes #7289)
Files:      src/ex_getln.c, src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_from_cmd.dump

Patch 8.2.1984
Problem:    Cannot use <A HREF="quickfix.html#:vimgrep">:vimgrep</A> in omni completion, causing C completion to
            fail.
Solution:   Add the EX_LOCK_OK flag to <A HREF="quickfix.html#:vimgrep">:vimgrep</A>. (closes #7292)
Files:      src/ex_cmds.h, src/testdir/test_quickfix.vim

Patch 8.2.1985
Problem:    Crash when closing <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> with <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> <A HREF="map.html#mapping">mapping</A>.
Solution:   Check b_term is not NULL. (closes #7294)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.1986
Problem:    Expression test is flaky on Appveyor.
Solution:   Temporarily disable the test in <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.1987
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Win32.mak is no longer needed.
Solution:   Do not include Win32.mak. (Jason McHugh, closes #7290)
Files:      src/Make_mvc.mak, src/INSTALLpc.txt

Patch 8.2.1988
Problem:    Still in <A HREF="insert.html#Insert">Insert</A> mode when opening <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> with a <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A>
            <A HREF="map.html#mapping">mapping</A> in <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Exit <A HREF="insert.html#Insert">Insert</A> mode. (closes #7295)
Files:      src/edit.c, src/testdir/test_terminal.vim

Patch 8.2.1989
Problem:    Info <A HREF="popup.html#popup">popup</A> triggers <A HREF="autocmd.html#WinEnter">WinEnter</A> and <A HREF="autocmd.html#WinLeave">WinLeave</A> <A HREF="autocmd.html#autocommands">autocommands</A>.
Solution:   Suppress <A HREF="autocmd.html#autocommands">autocommands</A> for the info <A HREF="popup.html#popup">popup</A>. (closes #7296)
Files:      src/popupmenu.c, src/testdir/test_popupwin.vim

Patch 8.2.1990
Problem:    Cursor position wrong in <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> with finished <A HREF="channel.html#job">job</A>.
Solution:   Only add the top and left offset when not done already.
            (closes #7298)
Files:      src/popupwin.c, src/structs.h, src/drawline.c, src/move.c,
            src/terminal.c, src/testdir/dumps/Test_terminal_popup_m1.dump

Patch 8.2.1991
Problem:    Coverity warns for not using the ga_grow() return value.
Solution:   Bail out if ga_grow() fails. (Yegappan Lakshmanan, closes #7303)
Files:      src/getchar.c

Patch 8.2.1992
Problem:    Build fails with small features.
Solution:   Add #ifdef.
Files:      src/move.c

Patch 8.2.1993
Problem:    Occasional failure of the <A HREF="netbeans.html#netbeans">netbeans</A> test.
Solution:   Add &quot;silent!&quot;. (Yegappan Lakshmanan, closes #7304)
Files:      src/testdir/test_netbeans.vim

Patch 8.2.1994 (after 8.2.1981)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: MinGW always does a full build.
Solution:   Only check if $OUTDIR exists. (Masamichi Abe, closes #7311)
Files:      src/Make_cyg_ming.mak

Patch 8.2.1995
Problem:    The <A HREF="popup.html#popup">popup</A> menu can cause too much redrawing.
Solution:   Reduce the length of the displayed text. (Yasuhiro Matsumoto,
            closes #7306)
Files:      src/popupmenu.c

Patch 8.2.1996
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid error for argument of <A HREF="builtin.html#extend()">extend()</A>.
Solution:   Check if the type could match. (closes #7299)
Files:      src/evalfunc.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/vim9type.c, src/proto/vim9type.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.1997
Problem:    Window changes when using <A HREF="builtin.html#bufload()">bufload()</A> while in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A>.
Solution:   When searching for a <A HREF="windows.html#window">window</A> by ID also find a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
            (closes #7307)
Files:      src/window.c, src/testdir/test_terminal.vim

Patch 8.2.1998
Problem:    Terminal Cmd test sometimes fails to close <A HREF="popup.html#popup">popup</A>.
Solution:   Add &quot;term_finish&quot; option.
Files:      src/testdir/test_terminal.vim

Patch 8.2.1999
Problem:    Terminal <A HREF="popup.html#popup">popup</A> test sometimes fails.
Solution:   Wait for the <A HREF="popup.html#popup">popup</A> to close.
Files:      src/testdir/test_terminal.vim

Patch 8.2.2000
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: dict.key assignment not implemented yet.
Solution:   Implement dict.key assignment. (closes #7312)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2001
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#:def">:def</A> function does not apply <A HREF="options.html#'maxfuncdepth'">'maxfuncdepth'</A>.
Solution:   Use <A HREF="options.html#'maxfuncdepth'">'maxfuncdepth'</A>. (issue #7313)
Files:      src/vim9execute.c, src/userfunc.c, src/proto/userfunc.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.2002
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> argument shadowed by function name.
Solution:   Let function name be shadowed by <A HREF="eval.html#lambda">lambda</A> argument. (closes #7313)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2003
Problem:    Build error with <A HREF="various.html#+conceal">+conceal</A> but without <A HREF="various.html#+popupwin">+popupwin</A>.
Solution:   Add #ifdef. (Tom Ryder, closes #7316)
Files:      src/drawline.c

Patch 8.2.2004 (after 8.2.2002)
Problem:    Compiler warning for uninitialized variable.
Solution:   Initialize &quot;ufunc&quot;. (John Marriott)
Files:      src/vim9compile.c

Patch 8.2.2005
Problem:    Redoing a <A HREF="map.html#mapping">mapping</A> with <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> doesn't work properly.
Solution:   Fill the <A HREF="undo.html#redo">redo</A> buffer.  Use &quot;<A HREF="map.html#&lt;SNR&gt;">&lt;SNR&gt;</A>&quot; instead of a key code.
            (closes #7282)
Files:      src/ops.c, src/getchar.c, src/testdir/test_mapping.vim

Patch 8.2.2006
Problem:    .pbtxt files are not recognized.
Solution:   Recognize .pbtxt <A HREF="motion.html#as">as</A> protobuf text <A HREF="windows.html#buffers">buffers</A>. (closes #7326)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2007
Problem:    Test for insert mode in <A HREF="popup.html#popup">popup</A> is not reliable.
Solution:   Wait for the <A HREF="popup.html#popup">popup</A> to disappear. (Ozaki Kiichi, closes #7321)
Files:      src/testdir/test_terminal.vim

Patch 8.2.2008
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: handling <A HREF="channel.html#channel">channel</A> <A HREF="message.html#messages">messages</A> lags.
Solution:   Reduce the wait time from 100 to 10 msec. (closes #7097)
Files:      src/gui_w32.c

Patch 8.2.2009
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: setting $LANG in gvimext only causes problems.
Solution:   Do not set $LANG. (Ken Takata, closes #7325)
Files:      src/GvimExt/gvimext.cpp

Patch 8.2.2010
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling fails for unreachable return statement.
Solution:   Fix <A HREF="motion.html#it">it</A>. (closes #7319)
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.2011
Problem:    &quot;syn sync&quot; reports a very large number.
Solution:   Use &quot;<A HREF="motion.html#at">at</A> the first line&quot;.
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.2.2012
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing error message when using bool wrongly.
Solution:   Mention &quot;Bool&quot; instead of &quot;<A HREF="eval.html#Special">Special</A>&quot;. (closes #7323)
Files:      src/typval.c, src/errors.h, src/testdir/test_vim9_expr.vim

Patch 8.2.2013
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not skipping white space after unary minus.
Solution:   Skip <A HREF="pattern.html#whitespace">whitespace</A>. (closes #7324)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2014
Problem:    Using <A HREF="motion.html#CTRL-O">CTRL-O</A> in a prompt buffer moves cursor to start of the line.
Solution:   Do not move the cursor when restarting edit. (closes #7330)
Files:      src/job.c, src/testdir/test_prompt_buffer.vim

Patch 8.2.2015
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: literal <A HREF="eval.html#dict">dict</A> <A HREF="eval.html##{}">#{}</A> is not like any other language.
Solution:   Support the JavaScript <A HREF="syntax.html#syntax">syntax</A>.
Files:      runtime/doc/vim9.txt, src/vim9compile.c,
            src/proto/vim9compile.pro, src/errors.h,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.2016
Problem:    Swap file test is a little flaky.
Solution:   Don't set a byte to a fixed value, increment <A HREF="motion.html#it">it</A>.
Files:      src/testdir/test_swap.vim

Patch 8.2.2017 (after 8.2.2015)
Problem:    Missing part of the <A HREF="eval.html#dict">dict</A> change.
Solution:   Also change the <A HREF="usr_41.html#script">script</A> level <A HREF="eval.html#dict">dict</A>.
Files:      src/dict.c

Patch 8.2.2018
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> variable not found from <A HREF="eval.html#lambda">lambda</A>.
Solution:   In a <A HREF="eval.html#lambda">lambda</A> also check the <A HREF="usr_41.html#script">script</A> hashtab for a variable without a
            scope. (closes #7329)
Files:      src/evalvars.c, src/testdir/test_vim9_func.vim

Patch 8.2.2019 (after 8.2.2016)
Problem:    Swap file test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add four to the process ID. (Ken Takata, closes #7333)
Files:      src/testdir/test_swap.vim

Patch 8.2.2020
Problem:    Some compilers <A HREF="diff.html#do">do</A> not like the &quot;namespace&quot; argument.
Solution:   Rename to &quot;use_namespace&quot;. (closes #7332)
Files:      src/vim9compile.c, src/proto/vim9compile.pro

Patch 8.2.2021
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: get <A HREF="vim9.html#E1099">E1099</A> when <A HREF="autocmd.html#autocommand">autocommand</A> resets did_emsg.
Solution:   Add did_emsg_cumul. (closes #7336)
Files:      src/globals.h, src/ex_docmd.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2022
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="pattern.html#star">star</A> command recognized erroneously.
Solution:   Give an error for missing colon. (issue #7335)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2023
Problem:    Vim: memory leak when <A HREF="eval.html#:execute">:execute</A> fails.
Solution:   Clear the growarray.
Files:      src/vim9execute.c

Patch 8.2.2024
Problem:    Flicker when redrawing a <A HREF="popup.html#popup">popup</A> with a title and border.
Solution:   Do not redraw the border where the title is displayed. (Naruhiko
            Nishino, closes #7334)
Files:      src/popupwin.c

Patch 8.2.2025
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: Not all colors are used on OS4.
Solution:   Adjust the #ifdef to include __amigaos4__. (Ola Söder,
            closes #7328)
Files:      src/term.c

Patch 8.2.2026
Problem:    Coverity warns for possibly using not NUL terminated <A HREF="eval.html#string">string</A>.
Solution:   Put a NUL in b0_hname just in <A HREF="change.html#case">case</A>.
Files:      src/memline.c

Patch 8.2.2027
Problem:    Coverity warns for uninitialized field.
Solution:   Set &quot;v_lock&quot;.
Files:      src/list.c

Patch 8.2.2028
Problem:    Coverity warns for using an uninitialized variable.
Solution:   Initialize to NULL.
Files:      src/eval.c

Patch 8.2.2029
Problem:    Coverity warns for not checking return value.
Solution:   Check that u_save_cursor() returns OK.
Files:      src/ops.c

Patch 8.2.2030
Problem:    Some tests fail on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Avoid <A HREF="os_mac.html#Mac">Mac</A> test failures.  Add additional test for wildmenu.
            (Yegappan Lakshmanan, closes #7341)
Files:      src/testdir/runtest.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_options.vim, src/testdir/test_popupwin.vim

Patch 8.2.2031
Problem:    Some tests fail when run under <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Avoid timing problems.
Files:      src/testdir/test_vim9_func.vim, src/testdir/test_channel.vim,
            src/testdir/test_clientserver.vim, src/testdir/test_debugger.vim,
            src/testdir/test_quotestar.vim

Patch 8.2.2032
Problem:    Cabalconfig and cabalproject <A HREF="filetype.html#filetypes">filetypes</A> not recognized.
Solution:   Detect more cabal files. (Marcin Szamotulski, closes #7339)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2033
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#:def">:def</A> without argument gives compilation error.
Solution:   Add the DEF instruction. (closes #7344)
Files:      src/ex_docmd.c, src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/userfunc.c, src/proto/userfunc.pro,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2034
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> unpack in for statement not compiled yet.
Solution:   Compile <A HREF="eval.html#list">list</A> unpack. (closes #7345)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/errors.h,
            src/eval.c, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2035
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: some tests may fail.
Solution:   Avoid test failures. (Yegappan Lakshmanan, closes #7346)
Files:      src/testdir/test_channel.vim, src/testdir/test_ex_mode.vim,
            src/testdir/test_functions.vim

Patch 8.2.2036
Problem:    Current buffer is messed up if creating a new buffer for the
            <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> fails.
Solution:   Check that creating the buffer succeeds. (closes #7352)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim,
            src/testdir/dumps/Test_quickfix_window_fails.dump

Patch 8.2.2037
Problem:    Compiler test depends on <A HREF="eval.html#list">list</A> of compiler plugins.
Solution:   Compare with the actual <A HREF="eval.html#list">list</A> of compiler plugins.
Files:      src/testdir/test_compiler.vim

Patch 8.2.2038
Problem:    Compiler test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Sort the found compiler <A HREF="usr_05.html#plugin">plugin</A> names.
Files:      src/testdir/test_compiler.vim

Patch 8.2.2039
Problem:    Viminfo is not written when creating a new file.
Solution:   Set &quot;b_marks_read&quot; in the new buffer. (Christian Brabandt,
            closes #7350)
Files:      src/bufwrite.c, src/testdir/test_viminfo.vim

Patch 8.2.2040
Problem:    Terminal buffer disappears even when <A HREF="options.html#'bufhidden'">'bufhidden'</A> is &quot;hide&quot;.
            (Sergey Vlasov)
Solution:   Check <A HREF="options.html#'bufhidden'">'bufhidden'</A> when a <A HREF="terminal.html#terminal">terminal</A> buffer becomes hidden.
            (closes #7358)
Files:      src/buffer.c, src/testdir/test_terminal.vim

Patch 8.2.2041
Problem:    Haskell <A HREF="filetype.html#filetype">filetype</A> not optimally recognized.
Solution:   Recognize all *.hsc files <A HREF="motion.html#as">as</A> Haskell. (Marcin Szamotulski,
            closes #7354)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2042
Problem:    Build failure with <A HREF="various.html#+profile">+profile</A> but without <A HREF="various.html#+reltime">+reltime</A>.
Solution:   Adjust #ifdef. (Christian Brabandt, closes #7361)
Files:      src/syntax.c

Patch 8.2.2043
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: white border around text stands out.
Solution:   Use current theme color. (closes #7357, issue #349)
Files:      src/gui_gtk_x11.c

Patch 8.2.2044
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: swap file test sometimes fails.
Solution:   Use a more reliable way to change the process ID. When &quot;timeout&quot;
            fails use &quot;ping&quot; to wait up to ten minutes. (Ken Takata,
            closes #7365)
Files:      .github/workflows/ci-windows.yaml, src/testdir/test_swap.vim

Patch 8.2.2045
Problem:    Highlighting a character too much with incsearch.
Solution:   Check &quot;search_match_endcol&quot;. (Christian Brabandt, closes #7360)
Files:      src/drawline.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_incsearch_newline1.dump,
            src/testdir/dumps/Test_incsearch_newline2.dump,
            src/testdir/dumps/Test_incsearch_newline3.dump,
            src/testdir/dumps/Test_incsearch_newline4.dump,
            src/testdir/dumps/Test_incsearch_newline5.dump

Patch 8.2.2046
Problem:    Some test failures don't give a clear error.
Solution:   Use <A HREF="testing.html#assert_match()">assert_match()</A> and <A HREF="testing.html#assert_fails()">assert_fails()</A> instead of <A HREF="testing.html#assert_true()">assert_true()</A>.
            (Ken Takata, closes #7368)
Files:      src/testdir/test_autocmd.vim, src/testdir/test_backspace_opt.vim

Patch 8.2.2047
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: FEAT_ARP defined when <A HREF="motion.html#it">it</A> should not.
Solution:   Adjust #ifdef. (Ola Söder, closes #7370)
Files:      src/feature.h

Patch 8.2.2048
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: obsolete code.
Solution:   Remove the unused lines. (Ola Söder, closes #7373)
Files:      src/gui.c

Patch 8.2.2049
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: obsolete function.
Solution:   Remove the function. (Ola Söder, closes #7374)
Files:      src/memfile.c

Patch 8.2.2050
Problem:    Search test contains unneeded sleeps.
Solution:   Rename the function, remove sleeps. (Christian Brabandt,
            closes #7369)
Files:      src/testdir/test_search.vim

Patch 8.2.2051
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when aborting a user function call.
Solution:   Do not use the return value when aborting. (closes #7372)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.2052
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;edit +4 fname&quot; gives an error. (Naruhiko Nishino)
Solution:   Allow using a range in the <A HREF="editing.html#+cmd">+cmd</A> argument. (closes #7364)
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/vim.h, src/ex_cmds.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2053
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> doesn't accept argument types.
Solution:   Optionally accept argument types at the <A HREF="usr_41.html#script">script</A> level.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2054
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: FEAT_ARP defined when <A HREF="motion.html#it">it</A> should not.
Solution:   Adjust &quot;&#124;&#124;&quot; to &quot;&amp;&amp;&quot; in #ifdef. (Ola Söder, closes #7375)
Files:      src/feature.h

Patch 8.2.2055
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: two Vim instances may use the same temp file.
Solution:   Use the process ID for the temp name. (Ken Takata, closes #7378)
Files:      src/fileio.c

Patch 8.2.2056
Problem:    Configure fails when building with the
            &quot;implicit-function-declaration&quot; error enabled, specifically on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Declear the <A HREF="eval.html#functions">functions</A> like in the source code. (suggestion by
            Clemens Lang, closes #7380)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2057
Problem:    Getting the selection may trigger <A HREF="autocmd.html#TextYankPost">TextYankPost</A> autocmd.
Solution:   Only trigger the <A HREF="autocmd.html#autocommand">autocommand</A> when yanking in Vim, not for getting
            the selection. (closes #7367)
Files:      src/clipboard.c, src/normal.c, src/register.c,
            src/testdir/test_autocmd.vim

Patch 8.2.2058
Problem:    Using mkview/loadview changes the <A HREF="motion.html#jumplist">jumplist</A>.
Solution:   Use &quot;<A HREF="motion.html#:keepjumps">:keepjumps</A>&quot;.  Don't let &quot;<A HREF="windows.html#:badd">:badd</A>&quot; or &quot;<A HREF="windows.html#:balt">:balt</A>&quot; change the
            <A HREF="motion.html#jumplist">jumplist</A>. (closes #7371)
Files:      src/session.c, src/ex_docmd.c, src/testdir/test_mksession.vim

Patch 8.2.2059
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: can't find plugins.
Solution:   Do not use &quot;**&quot; in the <A HREF="pattern.html#pattern">pattern</A>. (Ola Söder, closes #7384)
Files:      src/main.c

Patch 8.2.2060
Problem:    Check for features implemented with &quot;if&quot;.
Solution:   Use the Check commands. (Ken Takata, closes #7383)
Files:      src/testdir/test_autocmd.vim, src/testdir/test_compiler.vim,
            src/testdir/test_delete.vim, src/testdir/test_diffmode.vim,
            src/testdir/test_expr.vim, src/testdir/test_fold.vim

Patch 8.2.2061
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#E1030">E1030</A> error when using empty <A HREF="eval.html#string">string</A> for <A HREF="terminal.html#term_sendkeys()">term_sendkeys()</A>.
Solution:   Don't check for an invalid type unless the <A HREF="terminal.html#terminal">terminal</A> can't be
            found. (closes #7382)
Files:      src/terminal.c, src/testdir/test_termcodes.vim

Patch 8.2.2062
Problem:    <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> does not handle <A HREF="visual.html#CTRL-V">CTRL-V</A>.
Solution:   Call get_literal() after encountering <A HREF="visual.html#CTRL-V">CTRL-V</A>. (closes #7387)
Files:      src/getchar.c, src/testdir/test_mapping.vim

Patch 8.2.2063
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: only one level of indexing supported.
Solution:   Handle more than one index in an assignment.
Files:      src/vim9compile.c, src/errors.h, src/testdir/test_vim9_assign.vim

Patch 8.2.2064
Problem:    <A HREF="terminal.html#terminal">terminal</A>: cursor is on while redrawing, causing flicker.
Solution:   Switch the cursor off while redrawing.  Always add the top and
            left offset to the cursor position when not done already.
            (closes #5943)
Files:      src/terminal.c, src/popupwin.c

Patch 8.2.2065
Problem:    Using <A HREF="builtin.html#map()">map()</A> and <A HREF="builtin.html#filter()">filter()</A> on a <A HREF="builtin.html#range()">range()</A> is inefficient.
Solution:   Do not materialize the range. (closes #7388)
Files:      src/list.c, src/testdir/test_functions.vim

Patch 8.2.2066
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment with += doesn't work.
Solution:   Do not see the &quot;<A HREF="motion.html#+">+</A>&quot; <A HREF="motion.html#as">as</A> an addition <A HREF="motion.html#operator">operator</A>.
Files:      src/eval.c, src/ex_docmd.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2067 (after 8.2.2064)
Problem:    Cursor position in <A HREF="popup.html#popup">popup</A> <A HREF="terminal.html#terminal">terminal</A> is wrong.
Solution:   Don't check the flags.
Files:      src/terminal.c, src/testdir/test_popupwin.vim

Patch 8.2.2068
Problem:    Transparent <A HREF="syntax.html#syntax">syntax</A> item uses start/end of containing region.
Solution:   Do not change the startpos and endpos of a transparent region to
            that of its containing region. (Adrian Ghizaru, closes #7349,
            closes #7391)
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.2.2069
Problem:    The <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> is not updated after <A HREF="builtin.html#setqflist()">setqflist()</A>.
Solution:   Update the <A HREF="quickfix.html#quickfix">quickfix</A> buffer. (Yegappan Lakshmanan, closes #7390,
            closes #7385)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.2070
Problem:    Can't get the exit value in <A HREF="autocmd.html#VimLeave">VimLeave</A> or <A HREF="autocmd.html#VimLeavePre">VimLeavePre</A> <A HREF="autocmd.html#autocommands">autocommands</A>.
Solution:   Add <A HREF="eval.html#v:exiting">v:exiting</A> like in <A HREF="intro.html#Neovim">Neovim</A>. (Yegappan Lakshmanan, closes #7395)
Files:      runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/evalvars.c,
            src/main.c, src/testdir/test_exit.vim, src/vim.h

Patch 8.2.2071
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> assign doesn't accept an empty remainder <A HREF="eval.html#list">list</A>.
Solution:   Recognize <A HREF="eval.html#list">list</A> assignment with &quot;<A HREF="motion.html#;">;</A>&quot;.
Files:      src/ex_docmd.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2072
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> assign not well tested.
Solution:   Test with different destinations.  Fix white space error.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2073
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for with unpack only works for local <A HREF="eval.html#variables">variables</A>.
Solution:   Recognize different destinations.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2074
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="various.html#:normal">:normal</A> from <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> can't handle range.
Solution:   Execute a <A HREF="various.html#:normal">:normal</A> command in legacy <A HREF="usr_41.html#script">script</A> context. (closes #7401)
Files:      src/structs.h, src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.2075
Problem:    Error for const argument to <A HREF="builtin.html#mapnew()">mapnew()</A>.
Solution:   Don't give an error. (closes #7400)
Files:      src/list.c, src/testdir/test_filter_map.vim

Patch 8.2.2076
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> console: sometimes drops typed characters.
Solution:   Do not wait longer than 10 msec for input. (issue #7164)
Files:      src/os_win32.c

Patch 8.2.2077
Problem:    Build failure with small features.
Solution:   Add #ifdef.
Files:      src/structs.h, src/ex_docmd.c

Patch 8.2.2078
Problem:    Illegal memory access when using <A HREF="various.html#:print">:print</A> on invalid text. (Dhiraj
            Mishra)
Solution:   Check for more composing characters than supported. (closes #7399)
Files:      src/message.c, src/testdir/test_utf8.vim

Patch 8.2.2079
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot put a linebreak before or after &quot;in&quot; of &quot;<A HREF="eval.html#:for">:for</A>&quot;.
Solution:   Skip over linebreak.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2080
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no proper error message for using <A HREF="eval.html#s:var">s:var</A> in for loop.
Solution:   Give a specific error.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2081
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot handle a linebreak after &quot;<A HREF="change.html#=">=</A>&quot; in assignment.
Solution:   Skip over linebreak. (closes #7407)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2082
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can still use the deprecated <A HREF="eval.html##{}">#{}</A> <A HREF="eval.html#dict">dict</A> <A HREF="syntax.html#syntax">syntax</A>.
Solution:   Remove support for <A HREF="eval.html##{}">#{}</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #7406, closes #7405)
Files:      src/dict.c, src/proto/dict.pro, src/eval.c, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_popupwin.vim,
            src/testdir/test_textprop.vim

Patch 8.2.2083
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using &quot;<A HREF="various.html#:silent!">:silent!</A>&quot; and getting member fails.
Solution:   Jump to on_fatal_error. (closes #7412)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.2084
Problem:    <A HREF="visual.html#CTRL-V">CTRL-V</A> <A HREF="undo.html#U">U</A> doesn't work to enter a <A HREF="mbyte.html#Unicode">Unicode</A> character when
            <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> is effective. (Ken Takata)
Solution:   Add a flag to get_literal() for the <A HREF="intro.html#shift">shift</A> key. (closes #7413)
Files:      src/edit.c, src/proto/edit.pro, src/ex_getln.c, src/getchar.c,
            src/normal.c, src/testdir/test_termcodes.vim

Patch 8.2.2085
Problem:    Qt translation file is recognized <A HREF="motion.html#as">as</A> typescript.
Solution:   Check the first line for &quot;&lt;?xml&quot;. (closes #7418)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2086
Problem:    Libvterm tests are only run on Linux.
Solution:   Use static libraries. (Ozaki Kiichi, closes #7419)
Files:      .travis.yml, src/Makefile, src/libvterm/Makefile,
            src/libvterm/t/run-test.pl

Patch 8.2.2087
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when statement is truncated.
Solution:   Increment the number of local <A HREF="eval.html#variables">variables</A>.
Files:      src/vim9compile.c

Patch 8.2.2088
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test sometimes fails.
Solution:   Unlet <A HREF="eval.html#variables">variables</A>.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2089
Problem:    Libvterm test fails to build on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Adjust configure to remove a space between <A HREF="starting.html#-L">-L</A> and the path that
            follows.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2090
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#dict">dict</A> does not accept a key in <A HREF="quotes.html#quotes">quotes</A>.
Solution:   Recognize a key in single or double <A HREF="quotes.html#quotes">quotes</A>.
Files:      runtime/doc/vim9.txt, src/dict.c, src/proto/dict.pro,
            src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2091
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: build warnings.
Solution:   Add a #pragma to suppress the deprecation warning. (Ken Takata)
            Avoid using a non-ASCII character. (closes #7421)
Files:      src/message.c, src/os_win32.c

Patch 8.2.2092
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unpredictable <A HREF="message.html#errors">errors</A> for <A HREF="usr_41.html#script">script</A> tests.
Solution:   Use a different <A HREF="usr_41.html#script">script</A> file name for each run.
Files:      src/testdir/vim9.vim, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2093
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test sometimes fails.
Solution:   Do not find a <A HREF="usr_41.html#script">script</A> variable by its typval if the name was
            cleared.
Files:      src/vim9script.c

Patch 8.2.2094
Problem:    When an <A HREF="eval.html#expression">expression</A> fails getting the next command may be wrong.
Solution:   Do not check for a next command after <A HREF="eval.html#:eval">:eval</A> fails. (closes #7415)
Files:      src/eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2095
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when failed <A HREF="eval.html#dict">dict</A> member is followed by concatenation.
Solution:   Remove the <A HREF="eval.html#dict">dict</A> from the stack. (closes #7416)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.2096
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command modifiers not restored after assignment.
Solution:   Jump to nextline instead of using continue.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2097
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="various.html#:silent!">:silent!</A> when calling a function prevents aborting
            that function.
Solution:   Add emsg_silent_def and did_emsg_def.
Files:      src/globals.h, src/message.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2098
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function argument of <A HREF="builtin.html#sort()">sort()</A> and <A HREF="builtin.html#map()">map()</A> not tested.
Solution:   Add a couple of tests.
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.2099
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some checks are not tested.
Solution:   Add a few more tests.  Give better error <A HREF="message.html#messages">messages</A>.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2100
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for function range and <A HREF="eval.html#dict">dict</A>.
Solution:   Add a few tests. (Dominique Pellé, closes #7428)
Files:      src/testdir/test_functions.vim, src/testdir/test_lambda.vim,
            src/testdir/test_signals.vim, src/testdir/test_user_func.vim

Patch 8.2.2101
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when literal <A HREF="eval.html#dict">dict</A> has an error and when an
            <A HREF="eval.html#expression">expression</A> is not complete.
Solution:   Clear the typval and the growarray.
Files:      src/dict.c, src/vim9compile.c

Patch 8.2.2102
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all error <A HREF="message.html#messages">messages</A> tested.
Solution:   Add a few test cases.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.2103
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unreachable code.
Solution:   Remove the code to prepend <A HREF="change.html#s">s</A>: to the variable name
Files:      src/vim9compile.c

Patch 8.2.2104
Problem:    Build problem with <A HREF="if_ruby.html#Ruby">Ruby</A> 2.7.
Solution:   Adjust function declarations. (Ozaki Kiichi, closes #7430)
Files:      src/configure.ac, src/auto/configure, src/if_ruby.c

Patch 8.2.2105
Problem:    Sound test is a bit flaky.
Solution:   Use WaitForAssert(). (Dominique Pellé, closes #7429)
Files:      src/testdir/test_sound.vim

Patch 8.2.2106
Problem:    TOML files are not recognized.
Solution:   Match *.toml. (issue #7432)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2107
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some <A HREF="message.html#errors">errors</A> not tested.
Solution:   Add tests.  Fix getting the right error.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2108
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test to check for <A HREF="eval.html#:let">:let</A> error.
Solution:   Add a test.  Rename tests from _let_ to _var_.
Files:      src/testdir/test_vim9_assign.vim

Patch 8.2.2109
Problem:    &quot;vim -&quot; does not work well when <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> is enabled and a
            shell command is executed on <A HREF="starting.html#startup">startup</A>.
Solution:   Only change <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> when executing a shell command in raw
            mode.
Files:      src/os_unix.c

Patch 8.2.2110
Problem:    Cannot use &quot;<A HREF="various.html#:shell">:shell</A>&quot; when reading from stdin. (Gary Johnson)
Solution:   Revert patch 8.2.1833.
Files:      src/main.c

Patch 8.2.2111
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: Menu background is the same color <A HREF="motion.html#as">as</A> the main <A HREF="windows.html#window">window</A>.
Solution:   Fix white space around the text in another way. (closes #7437,
            closes #7427)
Files:      src/gui_gtk_x11.c

Patch 8.2.2112
Problem:    Running tests may leave some files behind.
Solution:   Delete the right files.  Fix a few typos. (Dominique Pellé,
            closes #7436)
Files:      src/testdir/test_filetype.vim, src/testdir/test_messages.vim,
            src/testdir/test_mksession.vim

Patch 8.2.2113
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: crash after using &quot;<A HREF="options.html#:set">:set</A> <A HREF="options.html#'guifont'">guifont</A>=&quot; four times.
Solution:   Check for NULL pointer. (Ken Takata, closes #7434)
Files:      src/gui_dwrite.cpp, src/testdir/test_gui.vim

Patch 8.2.2114
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unreachable code in assignment.
Solution:   Remove impossible condition and code.
Files:      src/vim9compile.c

Patch 8.2.2115
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some <A HREF="message.html#errors">errors</A> not tested for; dead code.
Solution:   Add a test.  Remove dead code.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2116
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: test for <A HREF="options.html#'guifont'">'guifont'</A> is incomplete.
Solution:   Set <A HREF="options.html#'renderoptions'">'renderoptions'</A>. (Christian Brabandt)
Files:      src/testdir/test_gui.vim

Patch 8.2.2117
Problem:    Some <A HREF="eval.html#functions">functions</A> use any value <A HREF="motion.html#as">as</A> a <A HREF="eval.html#string">string</A>.
Solution:   Check that the value is a non-empty <A HREF="eval.html#string">string</A>.
Files:      src/typval.c, src/proto/typval.pro, src/mbyte.c, src/filepath.c,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.2118
Problem:    Dead code in the <A HREF="channel.html#job">job</A> support. (Dominique Pellé)
Solution:   Define USE_ARGV before checking for <A HREF="motion.html#it">it</A>.
Files:      src/job.c

Patch 8.2.2119
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: status line background color is wrong.
Solution:   Don't change the code for earlier <A HREF="gui_x11.html#GTK3">GTK3</A> versions. (closes #7444)
Files:      src/gui_gtk_x11.c

Patch 8.2.2120
Problem:    Not all <A HREF="if_perl.html#Perl">Perl</A> functionality is tested.
Solution:   Add a few more test cases. (Dominique Pellé, closes #7440)
Files:      src/testdir/test_perl.vim

Patch 8.2.2121
Problem:    Internal error when using \ze before \zs in a <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Check the end is never before the start. (closes #7442)
Files:      src/regexp_bt.c, src/regexp_nfa.c,
            src/testdir/test_regexp_latin.vim

Patch 8.2.2122
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when sourcing <A HREF="vim9.html#vim9script">vim9script</A> early.
Solution:   Use set_option_value() instead of setting p_cpo directly.
            (closes #7441)
Files:      src/scriptfile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2123
Problem:    After using a complete <A HREF="popup.html#popup">popup</A> the buffer is listed. (Boris
            Staletic)
Solution:   Make the buffer unlisted.
Files:      src/popupmenu.c, src/testdir/test_popupwin.vim

Patch 8.2.2124
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a range cannot be computed at runtime.
Solution:   Add the ISN_RANGE instruction.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2125 (after 8.2.2122)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory.
Solution:   Free the saved <A HREF="options.html#'cpo'">'cpo'</A> value.
Files:      src/scriptfile.c

Patch 8.2.2126
Problem:    <A HREF="if_ruby.html#Ruby">Ruby</A>: missing function prototype.
Solution:   Add the prototype.
Files:      src/if_ruby.c

Patch 8.2.2127
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: executing user command defined in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> not tested.
Solution:   Add a test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2128
Problem:    There is no way to <A HREF="diff.html#do">do</A> something on <A HREF="starting.html#CTRL-Z">CTRL-Z</A>.
Solution:   Add <A HREF="autocmd.html#VimSuspend">VimSuspend</A> and <A HREF="autocmd.html#VimResume">VimResume</A> <A HREF="autocmd.html#autocommand">autocommand</A> events. (closes #7450)
Files:      runtime/doc/autocmd.txt, src/autocmd.c, src/ex_docmd.c,
            src/normal.c, src/testdir/test_suspend.vim, src/vim.h

Patch 8.2.2129
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Checking if a file name is absolute is slow.
Solution:   Do not use mch_FullName(). (closes #7033)
Files:      src/os_mswin.c

Patch 8.2.2130
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion <A HREF="message.html#messages">messages</A> end up in message <A HREF="cmdline.html#history">history</A>.
Solution:   Set msg_hist_off. (closes #7452)
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.2131
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when <A HREF="eval.html#lambda">lambda</A> uses same var <A HREF="motion.html#as">as</A> assignment.
Solution:   Do not let lookup_local change lv_from_outer, make a copy.
            (closes #7461)
Files:      src/vim9compile.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/evalvars.c, src/proto/evalvars.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.2132
Problem:    Padding not drawn properly for <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with title.
Solution:   Draw the padding below the title. (closes #7460)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_longtitle_3.dump,
            src/testdir/dumps/Test_popupwin_longtitle_4.dump

Patch 8.2.2133
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: checking for a non-empty <A HREF="eval.html#string">string</A> is too strict.
Solution:   Check for any <A HREF="eval.html#string">string</A>. (closes #7447)
Files:      src/typval.c, src/proto/typval.pro, src/errors.h, src/filepath.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2134
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: get <A HREF="vim9.html#E1099">E1099</A> when autocmd triggered in builtin function.
Solution:   Check that did_emsg increased instead of checking that <A HREF="motion.html#it">it</A> changed.
            (closes #7448)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.2135
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: #{ still seen <A HREF="motion.html#as">as</A> start of <A HREF="eval.html#dict">dict</A> in some places.
Solution:   Remove check for { after #. (closes #7456)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.2136
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Using uninitialized variable.
Solution:   Initialize &quot;len&quot; to zero.  Clean up <A HREF="builtin.html#fnamemodify()">fnamemodify()</A>.
Files:      src/filepath.c

Patch 8.2.2137
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:echo">:echo</A> and <A HREF="eval.html#:execute">:execute</A> give error for empty argument.
Solution:   Ignore an empty argument. (closes #7468)
Files:      src/vim9compile.c, src/errors.h, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2138
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;exit_cb&quot; causes Vim to exit.
Solution:   Require white space after a command in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #7467)
            Also fix that <A HREF="vim9.html#Vim9">Vim9</A> style heredoc was not always recognized.
Files:      src/ex_cmds.h, src/ex_docmd.c, src/errors.h, src/userfunc.c,
            src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_let.vim

Patch 8.2.2139
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unreachable code in assignment.
Solution:   Don't check &quot;new_local&quot; when &quot;has_index&quot; is set.  Add test for
            wrong type of <A HREF="eval.html#list">list</A> index.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2140
Problem:    Build failure with tiny features.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.2141
Problem:    A user command with try/catch may not catch an <A HREF="eval.html#expression">expression</A> error.
Solution:   When an <A HREF="eval.html#expression">expression</A> fails check for following &quot;|&quot;. (closes #7469)
Files:      src/eval.c, src/testdir/test_trycatch.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.2142
Problem:    Memory leak when heredoc is not terminated.
Solution:   Free heredoc_trimmed.
Files:      src/userfunc.c

Patch 8.2.2143
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: dead code in compiling <A HREF="eval.html#:unlet">:unlet</A>.
Solution:   Don't check for &quot;<A HREF="change.html#!">!</A>&quot; a second time.
Files:      src/vim9compile.c

Patch 8.2.2144
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some corner cases not tested.
Solution:   Add a few tests.
Files:      src/testdir/test_vim9_script.vim, src/testdir/test_vim9_cmd.vim

Patch 8.2.2145
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: concatenating lists does not adjust type of result.
Solution:   When <A HREF="eval.html#list">list</A> member types differ use &quot;any&quot; member type.
            (closes #7473)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2146
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: automatic conversion of number to <A HREF="eval.html#string">string</A> for <A HREF="eval.html#dict">dict</A> key.
Solution:   Do not convert number to <A HREF="eval.html#string">string</A>. (closes #7474)
Files:      src/dict.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2147
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> <A HREF="windows.html#window">window</A> title not updated in all <A HREF="intro.html#tab">tab</A> pages.
Solution:   Update the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> title in all <A HREF="intro.html#tab">tab</A> pages. (Yegappan
            Lakshmanan, closes #7481, closes #7466)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.2148
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when user command doesn't match.
Solution:   Adjust command index. (closes #7479)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2149
Problem:    Popupwin test for latin1 sometimes fails.
Solution:   Wait for the <A HREF="usr_41.html#script">script</A> to finish.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.2150
Problem:    Github actions CI isn't used for all available platforms.
Solution:   Update the github workflows. (Ozaki Kiichi, closes #7433)
Files:      .coveralls.yml, .github/workflows/ci-windows.yaml,
            .github/workflows/ci.yml, .travis.yml, README.md,
            ci/build-snd-dummy.sh, ci/setup-xvfb.sh

Patch 8.2.2151
Problem:    $dir not expanded when configure checks for moonjit.
Solution:   Use double <A HREF="quotes.html#quotes">quotes</A> instead of single <A HREF="quotes.html#quotes">quotes</A>. (closes #7478)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2152
Problem:    <A HREF="builtin.html#screenpos()">screenpos()</A> does not include the <A HREF="gui.html#WinBar">WinBar</A> offset.
Solution:   Use W_WINROW() instead of directly using w_window. (closes #7487)
Files:      src/move.c, src/testdir/test_cursor_func.vim

Patch 8.2.2153
Problem:    Popupwin test for latin1 still fails sometimes.
Solution:   Wait for the &quot;cat&quot; command to finish.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.2154
Problem:    Popupwin test for <A HREF="terminal.html#terminal">terminal</A> buffer fails sometimes.
Solution:   Wait for the prompt to appear.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.2155
Problem:    Warning from Github actions for code analysis.
Solution:   Remove the &quot;git checkout HEAD^2&quot; block.
Files:      .github/workflows/codeql-analysis.yml

Patch 8.2.2156
Problem:    Github actions run on pushing a <A HREF="tagsrch.html#tag">tag</A>.
Solution:   Don't run CI on <A HREF="tagsrch.html#tag">tag</A> push. Omit coveralls on pull-request.
            (Ozaki Kiichi, closes #7489)
Files:      .github/workflows/ci.yml, .github/workflows/codeql-analysis.yml

Patch 8.2.2157
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can delete a <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> variable from a function.
Solution:   Check the variable is defined in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #7483)
Files:      src/evalvars.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2158
Problem:    CI on cirrus times out, coveralls doesn't always run.
Solution:   Set timeout to 20 minutes. Adjust condition. (closes #7493)
Files:      .cirrus.yml, .github/workflows/ci.yml

Patch 8.2.2159
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: when declaring a <A HREF="eval.html#list">list</A> <A HREF="motion.html#it">it</A> is not allocated yet, causing a
            following <A HREF="builtin.html#extend()">extend()</A> to fail.
Solution:   When fetching a variable value for a <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> that is <A HREF="vim9.html#null">null</A>
            allocate the <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A>, so <A HREF="motion.html#it">it</A> can be used. (closes #7491)
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2160
Problem:    Various typos.
Solution:   Fix spelling mistakes. (closes #7494)
Files:      src/bufwrite.c, src/cindent.c, src/cmdexpand.c, src/eval.c,
            src/ex_cmds.c, src/feature.h, src/getchar.c, src/gui_haiku.cc,
            src/gui_xmdlg.c, src/help.c, src/if_ole.cpp, src/insexpand.c,
            src/list.c, src/map.c, src/memline.c, src/normal.c,
            src/os_win32.c, src/search.c, src/term.c,
            src/testdir/test_arglist.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_debugger.vim, src/testdir/test_increment.vim,
            src/testdir/test_menu.vim, src/testdir/test_netbeans.vim,
            src/testdir/test_popupwin.vim, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim, src/testdir/test_sort.vim,
            src/testdir/test_terminal2.vim, src/testdir/test_terminal3.vim,
            src/testdir/test_vartabs.vim, src/testdir/test_vimscript.vim,
            src/textprop.c, src/userfunc.c, src/vim9.h, src/vim9compile.c,
            src/vim9execute.c

Patch 8.2.2161
Problem:    Arguments <A HREF="starting.html#-T">-T</A> and <A HREF="starting.html#-x">-x</A> not tested yet.
Solution:   Add a test. (Dominique Pellé, closes #7490)
Files:      src/testdir/test_startup.vim

Patch 8.2.2162
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Cannot load or store <A HREF="eval.html#autoload">autoload</A> <A HREF="eval.html#variables">variables</A>.
Solution:   Add ISN_LOADAUTO and ISN_STOREAUTO. (closes #7485)
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/dict.c,
            src/eval.c, src/evalvars.c, src/proto/evalvars.pro,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2163
Problem:    Crash when discarded exception is the current exception.
Solution:   Compare the exception with current_exception. (closes #7499)
Files:      src/ex_eval.c

Patch 8.2.2164
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#autoload">autoload</A> function doesn't work in <A HREF="usr_41.html#script">script</A> that starts with
            an upper <A HREF="change.html#case">case</A> <A HREF="print.html#letter">letter</A>.
Solution:   Check for the <A HREF="eval.html#autoload">autoload</A> character. (closes #7502)
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.2165
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment to <A HREF="eval.html#dict">dict</A> member does not work.
Solution:   Fix recognizing <A HREF="eval.html#dict">dict</A> member. (closes #7484)
Files:      src/ex_docmd.c, src/eval.c, src/evalvars.c, src/vim.h

Patch 8.2.2166
Problem:    Auto format doesn't work when <A HREF="change.html#deleting">deleting</A> text.
Solution:   Make &quot;<A HREF="change.html#x">x</A>&quot; trigger auto format. (closes #7504)
Files:      src/ops.c, src/testdir/test_textformat.vim

Patch 8.2.2167
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assign test fails. (Elimar Riesebieter)
Solution:   Adjust the test for <A HREF="eval.html#dict">dict</A> assignment.
Files:      src/testdir/test_vim9_assign.vim

Patch 8.2.2168
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for assigning to <A HREF="eval.html#dict">dict</A> of <A HREF="eval.html#dict">dict</A>.
Solution:   Remember the destination type. (closes #7506)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2169
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test leaves file behind.
Solution:   Rename <A HREF="usr_41.html#script">script</A> files. (Dominique Pellé, closes #7511)
            Use try/finally.
Files:      src/testdir/test_vim9_script.vim, src/testdir/vim9.vim

Patch 8.2.2170
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a global function defined in a <A HREF="vim9.html#:def">:def</A> function fails if <A HREF="motion.html#it">it</A>
            uses the context.
Solution:   Create a <A HREF="builtin.html#partial">partial</A> to store the <A HREF="eval.html#closure">closure</A> context. (see #7410)
Files:      src/userfunc.c, src/proto/userfunc.pro, src/vim9execute.c,
            src/structs.h, src/testdir/test_vim9_func.vim

Patch 8.2.2171
Problem:    Valgrind warning for using uninitialized value.
Solution:   Do not use &quot;startp&quot; or &quot;endp&quot; unless there is a match.
Files:      src/regexp_nfa.c

Patch 8.2.2172
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: number of arguments is not always checked. (Yegappan
            Lakshmanan)
Solution:   Check number of arguments when calling function by name.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/vim9execute.c,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.2173
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: get internal error when assigning to undefined variable.
Solution:   Add error message. (closes #7475)
Files:      src/vim9compile.c, src/vim9execute.c, src/errors.h,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2174
Problem:    <A HREF="os_mac.html#Mac">Mac</A> version doesn't specify the CPU architecture.
Solution:   Add &quot;arm64&quot; or &quot;x86_64&quot;. (Yee Cheng Chin, closes #7519)
Files:      src/version.c

Patch 8.2.2175
Problem:    Github actions: clang-11 handling suboptimal.
Solution:   Separate step of installing clang-11. Get ubuntu release name
            dynamically. (Ozaki Kiichi, closes #7514)
Files:      .github/workflows/ci.yml

Patch 8.2.2176
Problem:    Crash with a sequence of fold commands.
Solution:   Bail out when there are no <A HREF="fold.html#folds">folds</A> at all.  Add a test (Dominique
            Pellé) (closes #7515)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.2177
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> &quot;<A HREF="motion.html#^">^</A>&quot; does not match if the first character in the line is
            combining. (Rene Kita)
Solution:   Do accept a match at the start of the line. (closes #6963)
Files:      src/regexp_nfa.c, src/testdir/test_regexp_utf8.vim

Patch 8.2.2178
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3: non-utf8 character cannot be handled.
Solution:   Change the <A HREF="eval.html#string">string</A> decode. (Björn Linse, closes #1053)
Files:      src/if_py_both.h, src/if_python.c, src/if_python3.c,
            src/testdir/test_python3.vim, src/testdir/test_python2.vim

Patch 8.2.2179
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when indexing a <A HREF="eval.html#dict">dict</A> with a number.
Solution:   Add ISN_STOREINDEX. (closes #7513)
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h,
            src/errors.h, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2180
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for error after error is flaky.
Solution:   Wait for <A HREF="channel.html#job">job</A> to finish instead of a fixed delay.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2181
Problem:    Valgrind warnings for using uninitialized value.
Solution:   Do not use &quot;start&quot; or &quot;end&quot; unless there is a match.
Files:      src/regexp_nfa.c, src/regexp_bt.c

Patch 8.2.2182
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: value of <A HREF="options.html#'magic'">'magic'</A> is still relevant.
Solution:   Always behave like <A HREF="options.html#'magic'">'magic'</A> is on in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> (closes #7509)
Files:      src/option.c, src/proto/option.pro, src/arglist.c, src/buffer.c,
            src/cmdexpand.c, src/ex_cmds.c, src/ex_docmd.c, src/ex_getln.c,
            src/insexpand.c, src/normal.c, src/search.c, src/tag.c,
            src/structs.h, src/globals.h, src/ex_cmds.h,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2183
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: value of <A HREF="options.html#'edcompatible'">'edcompatible'</A> and <A HREF="options.html#'gdefault'">'gdefault'</A> are used.
Solution:   Ignore these deprecated <A HREF="options.html#options">options</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #7508)
Files:      src/ex_cmds.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2184
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when using &quot;2&quot; for a line number.
Solution:   Give an error message if the line number is invalid. (closes #7492)
Files:      src/typval.c, src/evalfunc.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_cursor_func.vim

Patch 8.2.2185
Problem:    <A HREF="autocmd.html#BufUnload">BufUnload</A> is not triggered for the <A HREF="quickfix.html#quickfix">quickfix</A> dummy buffer.
Solution:   Do trigger <A HREF="autocmd.html#BufUnload">BufUnload</A>. (Pontus Leitzler, closes #7518, closes #7517)
            Fix white space around &quot;<A HREF="change.html#=">=</A>&quot;.
Files:      src/quickfix.c, src/testdir/test_autocmd.vim

Patch 8.2.2186
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using <A HREF="options.html#'opfunc'">'opfunc'</A>.
Solution:   Do not expect a return value from <A HREF="options.html#'opfunc'">'opfunc'</A>. (closes #7510)
Files:      src/eval.c, src/proto/eval.pro, src/ops.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2187
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 test fails sometimes. (Christian Brabandt)
Solution:   Accept two SystemError <A HREF="message.html#messages">messages</A>.
Files:      src/testdir/test_python3.vim

Patch 8.2.2188
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when calling global function from <A HREF="vim9.html#:def">:def</A> function.
Solution:   Set the outer context.  Define the <A HREF="builtin.html#partial">partial</A> for the context on the
            original function. Use a refcount to keep track of which ufunc is
            using a dfunc. (closes #7525)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/vim9execute.c,
            src/proto/vim9execute.pro, src/userfunc.c, src/proto/userfunc.pro,
            src/structs.h, src/vim9.h, src/testdir/test_vim9_func.vim

Patch 8.2.2189
Problem:    Cannot repeat a command that uses the small delete <A HREF="sponsor.html#register">register</A>.
Solution:   Store the <A HREF="sponsor.html#register">register</A> name instead of the contents. (Christian
            Brabandt, closes #7527)
Files:      src/ops.c, src/register.c, src/testdir/test_registers.vim

Patch 8.2.2190
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when compiled with EXITFREE.
Solution:   Check that df_ufunc is not NULL.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2191
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using wrong name with <A HREF="eval.html#lambda">lambda</A> in nested function.
Solution:   Copy the <A HREF="eval.html#lambda">lambda</A> name earlier. (closes #7525)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2192
Problem:    Codecov on github actions fails.
Solution:   Revert to codecov <A HREF="usr_41.html#script">script</A>. (Ozaki Kiichi, closes #7529)
Files:      Filelist, .github/workflows/ci.yml

Patch 8.2.2193
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can change constant in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Check if a variable is locked. (issue #7526)
Files:      src/evalvars.c, src/proto/evalvars.pro, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2194
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="eval.html#:const">:const</A> or <A HREF="vim9.html#:final">:final</A> at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Support using <A HREF="eval.html#:const">:const</A> and <A HREF="vim9.html#:final">:final</A>. (closes #7526)
Files:      src/vim.h, src/evalvars.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2195
Problem:    Failing tests for <A HREF="eval.html#:const">:const</A>.
Solution:   Add missing check for ASSIGN_FINAL.
Files:      src/eval.c, src/evalvars.c, src/testdir/test_vim9_func.vim

Patch 8.2.2196
Problem:    <A HREF="various.html#:version">:version</A> output has extra spaces in compile and link command.
Solution:   Adjust QUOTESED. (closes #7505)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2197
Problem:    Assert arguments order reversed.
Solution:   Swap the arguments. (Christian Brabandt, closes #7531)
Files:      src/testdir/test_registers.vim

Patch 8.2.2198
Problem:    ml_get error when resizing <A HREF="windows.html#window">window</A> and using text property.
Solution:   Validate botline of the right <A HREF="windows.html#window">window</A>. (closes #7528)
Files:      src/move.c, src/proto/move.pro, src/textprop.c,
            src/testdir/test_textprop.vim

Patch 8.2.2199
Problem:    First write after setting <A HREF="options.html#'eol'">'eol'</A> does not have NL added. (Tomáš
            Janoušek)
Solution:   Only use b_no_eol_lnum when doing a binary write. (closes #7535)
Files:      src/bufwrite.c, src/testdir/test_writefile.vim

Patch 8.2.2200
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> without white space around <A HREF="eval.html#-&gt;">-&gt;</A> is confusing.
Solution:   Require white space in a <A HREF="vim9.html#:def">:def</A> function. (issue #7503)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2201
Problem:    Write file test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Force edit after setting <A HREF="options.html#'fileformat'">'fileformat'</A>.
Files:      src/testdir/test_writefile.vim

Patch 8.2.2202
Problem:    Write file test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set fileformat with the <A HREF="editing.html#:edit">:edit</A> command
Files:      src/testdir/test_writefile.vim

Patch 8.2.2203
Problem:    Moodle gift files are not recognized.
Solution:   Add a <A HREF="filetype.html#filetype">filetype</A> <A HREF="pattern.html#pattern">pattern</A>. (Delim Temizer)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2204
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="eval.html#-&gt;">-&gt;</A> both for <A HREF="eval.html#method">method</A> and <A HREF="eval.html#lambda">lambda</A> is confusing.
Solution:   Use =&gt; for <A HREF="eval.html#lambda">lambda</A> in <A HREF="vim9.html#:def">:def</A> function.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/userfunc.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2205
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when parsing <A HREF="eval.html#lambda">lambda</A> fails.
Solution:   Clear growarrays.
Files:      src/userfunc.c

Patch 8.2.2206
Problem:    <A HREF="eval.html#:exe">:exe</A> command line completion only works for first argument.
Solution:   Skip over text if more is following. (closes #7546)
Files:      src/eval.c, src/testdir/test_cmdline.vim

Patch 8.2.2207
Problem:    Illegal memory access if <A HREF="popup.html#popup">popup</A> menu items are changed while the
            menu is visible. (Tomáš Janoušek)
Solution:   Make a copy of the text. (closes #7537)
Files:      src/popupmenu.c, src/testdir/test_popup.vim,
            src/testdir/dumps/Test_popup_command_04.dump,
            src/testdir/dumps/Test_popup_command_05.dump

Patch 8.2.2208
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: after reloading a <A HREF="usr_41.html#script">script</A> variable index may be invalid.
Solution:   When the sequence number doesn't match give an error for using a
            <A HREF="map.html#script-local">script-local</A> variable from a compiled function. (closes #7547)
Files:      src/vim9.h, src/structs.h, src/errors.h, src/vim9compile.c,
            src/vim9execute.c, src/scriptfile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2209
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of =&gt; <A HREF="eval.html#lambda">lambda</A> not parsed.
Solution:   Parse and use the return type.
Files:      src/vim9compile.c, src/userfunc.c, src/vim9type.c,
            src/proto/vim9type.pro, src/vim9script.c, src/eval.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2210
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: allocating a type to set TTFLAG_BOOL_OK.
Solution:   Add t_number_bool.
Files:      src/globals.h, src/vim9type.c, src/vim9compile.c

Patch 8.2.2211
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: can't load <A HREF="if_pyth.html#Python">Python</A> dll if not in the path.
Solution:   Use the InstallPath registry entry. (Kelvin Lee, closes #7540)
Files:      src/if_python3.c

Patch 8.2.2212
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> with =&gt; does not work at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Make <A HREF="motion.html#it">it</A> work.
Files:      src/eval.c, src/vim9type.c, src/userfunc.c,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.2213
Problem:    Checking white space around <A HREF="eval.html#-&gt;">-&gt;</A> is not backwards compatible.
Solution:   Only check white space around =&gt;.
Files:      src/userfunc.c

Patch 8.2.2214
Problem:    &quot;<A HREF="editing.html#:e#">:e#</A>&quot; does not give a warning for missing white space.
Solution:   Adjust the check for white space. (closes #7545)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.2215
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: `=expr` not recognized in global command.
Solution:   Skip over <A HREF="pattern.html#pattern">pattern</A>. (issue #7541)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2216
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: range with missing colon can be hard to spot.
Solution:   Include the start of the range in the error. (closes #7543)
Files:      src/errors.h, src/ex_docmd.c, src/vim9compile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2217
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command modifiers not restored in catch block.
Solution:   Restore command modifiers. (closes #7542)
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2218
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: failure if passing more arguments to a <A HREF="eval.html#lambda">lambda</A> than expected.
Solution:   Only put expected arguments on the stack. (closes #7548)
Files:      src/vim9execute.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2219
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#method">method</A> call with <A HREF="eval.html#expression">expression</A> not supported.
Solution:   Implement expr-&gt;(expr)().
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2220
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when parsing nested parenthesis.
Solution:   Clear newargs.
Files:      src/userfunc.c

Patch 8.2.2221
Problem:    If <A HREF="motion.html#&lt;Down&gt;">&lt;Down&gt;</A> is mapped on the command line <A HREF="options.html#'wildchar'">'wildchar'</A> is inserted.
Solution:   Set KeyTyped when using <A HREF="options.html#'wildchar'">'wildchar'</A>. (closes #7552)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.2222
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot keep <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A> when reloading.
Solution:   Add the &quot;noclear&quot; argument to <A HREF="repeat.html#:vim9script">:vim9script</A>.
Files:      runtime/doc/vim9.txt, src/structs.h, src/scriptfile.c,
            src/vim9script.c, src/ex_cmds.h, src/ex_docmd.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2223
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Reloading marks a <A HREF="vim9.html#:def">:def</A> function <A HREF="motion.html#as">as</A> deleted.
Solution:   Clear the function contents but keep the index.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2224
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash if <A HREF="usr_41.html#script">script</A> reloaded with different variable type.
Solution:   Check the type when accessing the variable.
Files:      src/vim9execute.c, src/vim9compile.c, src/vim9.h, src/vim9type.c,
            src/proto/vim9type.pro, src/errors.h, src/evalvars.c,
            src/vim9script.c, src/proto/vim9script.pro,
            src/testdir/test_vim9_script.vim

Patch 8.2.2225
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using <A HREF="vim9.html#:import">:import</A> in legacy <A HREF="usr_41.html#script">script</A> <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Make <A HREF="motion.html#it">it</A> possible to redefine an import when reloading.
Files:      src/vim9script.c, src/proto/vim9script.pro, src/structs.h,
            src/evalvars.c, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2226
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test fails.
Solution:   Add missing change.
Files:      src/scriptfile.c

Patch 8.2.2227
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: recognizing <A HREF="eval.html#lambda">lambda</A> is too complicated.
Solution:   Call compile_lambda() and check for NOTDONE.
Files:      src/vim9compile.c, src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2228
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="editing.html#:e">:e</A> #&quot; because # starts a comment.
Solution:   Support using &#37;&#37; instead of #.
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2229
Problem:    build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.2230
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: insert completion runs into error.
Solution:   <A HREF="insert.html#Insert">Insert</A> colon before range. (closes #7556)
Files:      src/insexpand.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2231
Problem:    When &quot;<A HREF="remote.html#--remote">--remote</A> file&quot; is used &quot;file&quot; is not reloaded.
Solution:   When a <A HREF="windows.html#:drop">:drop</A> command is used for a file that is already displayed
            in a <A HREF="windows.html#window">window</A> and <A HREF="motion.html#it">it</A> has not been changed, check if <A HREF="motion.html#it">it</A> needs to be
            reloaded. (closes #7560)
Files:      src/ex_cmds.c, src/testdir/test_clientserver.vim

Patch 8.2.2232
Problem:    Compiler error for falling through into next <A HREF="change.html#case">case</A>.
Solution:   Move FALLTHROUGH below the #endif
Files:      src/ex_docmd.c

Patch 8.2.2233
Problem:    Cannot convert a byte index into a character index.
Solution:   Add <A HREF="builtin.html#charidx()">charidx()</A>. (Yegappan Lakshmanan, closes #7561)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/testdir/test_functions.vim

Patch 8.2.2234
Problem:    Command line wildmenu test often fails with <A HREF="os_unix.html#Unix">Unix</A> <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test where <A HREF="motion.html#it">it</A> is expected to fail.
Files:      src/testdir/test_cmdline.vim

Patch 8.2.2235
Problem:    Build failure with some <A HREF="if_ruby.html#Ruby">Ruby</A> versions.
Solution:   Adjust the code for <A HREF="if_ruby.html#Ruby">Ruby</A> 3.0. (Ozaki Kiichi, closes #7564)
Files:      ci/config.mk.clang.sed, src/if_ruby.c

Patch 8.2.2236
Problem:    <A HREF="options.html#'scroll'">'scroll'</A> option can change when setting the statusline or tabline
            but the option context is not updated.
Solution:   Update the <A HREF="usr_41.html#script">script</A> context when the scroll option is changed <A HREF="motion.html#as">as</A> a
            side effect. (Christian Brabandt, closes #7533)
Files:      runtime/doc/options.txt, src/scriptfile.c,
            src/testdir/test_options.vim, src/vim.h, src/window.c

Patch 8.2.2237
Problem:    CI on <A HREF="os_mac.html#Mac">Mac</A> fails in sed command.
Solution:   Set LC_ALL to &quot;<A HREF="change.html#C">C</A>&quot;. (Ozaki Kiichi, closes #7565)
Files:      .github/workflows/ci.yml

Patch 8.2.2238
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot load a <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Support <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A> without the <A HREF="various.html#+eval">+eval</A> feature.
Files:      src/ex_docmd.c, src/vim9script.c, src/globals.h, src/main.c,
            src/autocmd.c, src/buffer.c, src/structs.h, src/menu.c,
            src/scriptfile.c, src/usercmd.c, src/proto.h, src/errors.h

Patch 8.2.2239
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: concatenating lines with <A HREF="intro.html#backslash">backslash</A> is inconvenient.
Solution:   Support concatenating lines starting with '&#124;', useful for
            <A HREF="autocmd.html#:autocmd">:autocmd</A>, <A HREF="map.html#:command">:command</A>, etc. (closes #6702)
Files:      runtime/doc/vim9.txt, src/scriptfile.c, src/vim9script.c,
            src/proto/vim9script.pro, src/vim9compile.c,
            src/proto/vim9compile.pro, src/userfunc.c, src/structs.h,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2240
Problem:    Clientserver test fails if full path is used.
Solution:   Ignore the path preceding the file name.
Files:      src/testdir/test_clientserver.vim

Patch 8.2.2241
Problem:    Build with <A HREF="if_ruby.html#Ruby">Ruby</A> and clang may fail.
Solution:   Adjust configure and sed <A HREF="usr_41.html#script">script</A>. (Ozaki Kiichi, closes #7566)
Files:      ci/config.mk.clang.sed, src/auto/configure, src/configure.ac

Patch 8.2.2242
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line continuation with <A HREF="motion.html#bar">bar</A> does not work at <A HREF="usr_41.html#script">script</A> level.
Solution:   Check for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/structs.h, src/ex_docmd.c, src/userfunc.c, src/scriptfile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2243
Problem:    Crash when <A HREF="popup.html#popup">popup</A> mask contains zeroes.
Solution:   Check boundaries properly. (closes #7569)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.2244
Problem:    Crash when making the <A HREF="windows.html#window">window</A> width of the not-current <A HREF="windows.html#window">window</A>
            negative.
Solution:   Make sure the <A HREF="windows.html#window">window</A> width is not negative. (closes #7568)
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 8.2.2245
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return value of <A HREF="builtin.html#winrestcmd()">winrestcmd()</A> cannot be executed.
Solution:   Put colons before each range. (closes #7571)
Files:      src/evalwindow.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2246
Problem:    Cursor keys not recognized at the hit-Enter prompt after executing
            an external command.
Solution:   Change the codes for the extra cursor keys. (closes #7562)
            Tune the delays to avoid test flakiness.
Files:      runtime/doc/term.txt, src/term.c, src/testdir/test_terminal3.vim

Patch 8.2.2247
Problem:    <A HREF="os_vms.html#VMS">VMS</A>: various smaller problems.
Solution:   Fix <A HREF="os_vms.html#VMS">VMS</A> building and other problems. (Zoltan Arpadffy)
Files:      src/term.c, src/gui_gtk_vms.h, src/os_vms_conf.h, src/gui_x11.c,
            src/Make_vms.mms, src/macros.h, src/gui.h, src/os_unix.h

Patch 8.2.2248
Problem:    ASAN error on exit with <A HREF="gui.html#GUI">GUI</A>.
Solution:   Check the <A HREF="windows.html#window">window</A> still has lines. (Christian Brabandt,
            closes #7573)
Files:      src/term.c

Patch 8.2.2249
Problem:    Termcodes test is flaky when used over ssh with X forwarding.
Solution:   Set <A HREF="options.html#'mousetime'">'mousetime'</A> to a larger value. (Dominique Pellé, closes #7576,
            closes #7563)
Files:      src/testdir/test_termcodes.vim

Patch 8.2.2250
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#sublist">sublist</A> is ambiguous.
Solution:   Require white space around the colon. (closes #7409)
Files:      src/vim9compile.c, src/eval.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2251
Problem:    Test failures in legacy <A HREF="usr_41.html#script">script</A>.
Solution:   Check for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/eval.c

Patch 8.2.2252
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using <A HREF="eval.html#lambda">lambda</A> without return type in <A HREF="eval.html#dict">dict</A>.
Solution:   Without a return type use t_unknown. (closes #7587)
Files:      src/vim9type.c, src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2253
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expr">expr</A> test fails.
Solution:   Add missing assignment.
Files:      src/userfunc.c

Patch 8.2.2254
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: bool option type is number.
Solution:   Have get_option_value() return a different value for bool and
            number <A HREF="options.html#options">options</A>. (closes #7583)
Files:      src/option.h, src/option.c, src/proto/option.pro, src/evalvars.c,
            src/if_mzsch.c, src/if_ruby.c, src/spell.c, src/typval.c,
            src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2255 (after 8.2.2254)
Problem:    <A HREF="if_tcl.html#Tcl">Tcl</A> test fails.
Solution:   Change option handling.
Files:      src/if_tcl.c

Patch 8.2.2256
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use function( after line break in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Check for &quot;<A HREF="motion.html#(">(</A>&quot; after &quot;function&quot;. (closes #7581)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2257
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="eval.html#-&gt;">-&gt;</A> for <A HREF="eval.html#lambda">lambda</A> is ambiguous.
Solution:   Stop supporting <A HREF="eval.html#-&gt;">-&gt;</A>, must use =&gt;.
Files:      src/eval.c, src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2258
Problem:    Not all OCaml related files are detected.
Solution:   Update OCaml file type detection.  (Markus Mottl, closes #7590)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2259
Problem:    Test_Executable() fails when using chroot.
Solution:   Ignore the difference between &quot;sbin&quot; and &quot;bin&quot;.
Files:      src/testdir/test_functions.vim

Patch 8.2.2260
Problem:    Window resize test fails in very wide <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Resize using the <A HREF="options.html#'columns'">'columns'</A> option.  (Vladimir Lomov, closes #7592)
Files:      src/testdir/test_window_cmd.vim

Patch 8.2.2261
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="options.html#boolean">boolean</A> option gets <A HREF="eval.html#string">string</A> type.
Solution:   Check for VAR_BOOL. (closes #7588)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2262
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: converting bool to <A HREF="eval.html#string">string</A> prefixes <A HREF="eval.html#v:">v:</A>.
Solution:   Do not use the <A HREF="eval.html#v:">v:</A> prefix.
Files:      src/evalvars.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2263
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compilation error with try-catch in skipped block.
Solution:   Do not bail out when generate_instr() returns NULL. (closes #7584)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2264
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for mismatched :endfunc or <A HREF="vim9.html#:enddef">:enddef</A>.
Solution:   Check for the mismatch. (issue #7582)
Files:      src/errors.h, src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2265
Problem:    Error message for missing endfunc/enddef is last line.
Solution:   Report the line where the function starts. (closes #7582)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2266
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="motion.html#it">it</A> can be hard to see where white space is missing.
Solution:   Mention the text where the error was seen. (closes #7580)
Files:      src/errors.h, src/eval.c, src/evalvars.c, src/userfunc.c,
            src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2267
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use unlet for a <A HREF="eval.html#dict">dict</A> member.
Solution:   Pass GLV_NO_DECL to get_lval(). (closes #7585)
Files:      src/evalvars.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2268
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> unpack seen <A HREF="motion.html#as">as</A> declaration.
Solution:   Check for &quot;var&quot;. (closes #7594)
Files:      src/vim9compile.c, src/evalvars.c, src/eval.c, src/vim.h,
            src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2269
Problem:    Not all <A HREF="print.html#:hardcopy">:hardcopy</A> code covered by tests.
Solution:   Test more combinations. (Dominique Pellé, closes #7595)
Files:      src/testdir/test_hardcopy.vim

Patch 8.2.2270
Problem:    Warning for size_t to int conversion. (Randall <A HREF="motion.html#W">W</A>. Morris)
Solution:   Add a type cast.
Files:      src/vim9execute.c

Patch 8.2.2271
Problem:    ml_get error when <A HREF="change.html#changing">changing</A> hidden buffer in <A HREF="if_pyth.html#Python">Python</A>.
Solution:   Block updating <A HREF="fold.html#folds">folds</A>. (closes #7598)
Files:      src/evalbuffer.c, src/testdir/test_python3.vim

Patch 8.2.2272
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#extend()">extend()</A> can violate the type of a variable.
Solution:   Add the type to the dictionary or <A HREF="eval.html#list">list</A> and check items against <A HREF="motion.html#it">it</A>.
            (closes #7593)
Files:      src/structs.h, src/evalvars.c, src/dict.c, src/list.c,
            src/vim9script.c, src/proto/vim9script.pro, src/vim9compile.c,
            src/vim9execute.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2273
Problem:    Build failure.
Solution:   Add missing changes to header file.
Files:      src/vim9.h

Patch 8.2.2274
Problem:    badge for Travis is outdated.
Solution:   Update badge for move from travis-ci.org to travis-ci.com.
Files:      README.md

Patch 8.2.2275
Problem:    <A HREF="pattern.html#CTRL-C">CTRL-C</A> not recognized in Mintty.
Solution:   Recognize the <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> code ending in &quot;<A HREF="undo.html#u">u</A>&quot;. (Christian
            Brabandt, closes #7575)
Files:      src/ui.c

Patch 8.2.2276
Problem:    <A HREF="eval.html#List">List</A> of distributed files is outdated.
Solution:   Update the file <A HREF="eval.html#list">list</A>.  Minor comment updates.
Files:      Filelist, src/clipboard.c, src/fileio.c, src/option.c,
            src/screen.c, src/testdir/test_signals.vim,
            src/testdir/Make_vms.mms

Patch 8.2.2277
Problem:    Missing <A HREF="intro.html#backslash">backslash</A>.
Solution:   Add <A HREF="intro.html#backslash">backslash</A>.
Files:      Filelist

Patch 8.2.2278
Problem:    Falling back to old <A HREF="pattern.html#regexp">regexp</A> engine can some patterns.
Solution:   Do not fall back once [[:lower:]] or [[:upper:]] is used.
            (Christian Brabandt, closes #7572)
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test_regexp_utf8.vim

Patch 8.2.2279
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak with catch in skipped block.
Solution:   Free the <A HREF="pattern.html#pattern">pattern</A> if not used.
Files:      src/vim9compile.c

Patch 8.2.2280
Problem:    Fuzzy matching doesn't give access to the scores.
Solution:   Return the scores with a third <A HREF="eval.html#list">list</A>. (Yegappan Lakshmanan,
            closes #7596)
Files:      runtime/doc/eval.txt, src/search.c,
            src/testdir/test_matchfuzzy.vim

Patch 8.2.2281
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiled &quot;wincmd&quot; cannot be followed by <A HREF="motion.html#bar">bar</A>.
Solution:   Check for <A HREF="motion.html#bar">bar</A> after &quot;wincmd&quot;. (closes #7599)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2282
Problem:    Length check mismatch with argument of strncmp(). (Christian
            Brabandt)
Solution:   Adjust length check.
Files:      src/ui.c

Patch 8.2.2283
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when <A HREF="eval.html#lambda">lambda</A> has fewer arguments than expected.
Solution:   Don't check arguments when already failed. (closes #7606)
Files:      src/vim9type.c, src/testdir/test_vim9_func.vim

Patch 8.2.2284
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot set an option to a <A HREF="options.html#boolean">boolean</A> value.
Solution:   Check for VAR_BOOL. (closes #7603)
Files:      src/evalvars.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2285
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot set an option to a <A HREF="vim9.html#false">false</A>.
Solution:   For VAR_BOOL use <A HREF="eval.html#string">string</A> &quot;<A HREF="motion.html#0">0</A>&quot;. (closes #7603)
Files:      src/evalvars.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2286
Problem:    Sort test fails when <A HREF="mbyte.html#locale">locale</A> is Canadian English. (Neil <A HREF="motion.html#H">H</A> Watson)
Solution:   Expect a different sort order. (closes #7609)
Files:      src/testdir/test_sort.vim

Patch 8.2.2287
Problem:    Sort test fails when <A HREF="mbyte.html#locale">locale</A> is French Canadian.
Solution:   Expect a different sort order. (Dominique Pellé, closes #7609)
Files:      src/testdir/test_sort.vim

Patch 8.2.2288
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line break and comment not always skipped.
Solution:   Skip over white space and then line break more consistently.
            (closes #7610)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2289
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="options.html#'cpo'">'cpo'</A> can become empty.
Solution:   Use empty_option instead of an empty <A HREF="eval.html#string">string</A>.  Update <A HREF="quickfix.html#quickfix">quickfix</A>
            buffer after restoring <A HREF="options.html#'cpo'">'cpo'</A>.  (closes #7608)
Files:      src/evalfunc.c, src/syntax.c, src/eval.c, src/quickfix.c,
            src/evalbuffer.c, src/ex_eval.c, src/gui_motif.c, src/map.c,
            src/testdir/test_quickfix.vim

Patch 8.2.2290
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unlet of global variable cannot be compiled.
Solution:   Skip over <A HREF="eval.html#variables">variables</A> that might be defined later. Give an error if
            a <A HREF="eval.html#subscript">subscript</A> is found. (closes #7585)
Files:      src/eval.c, src/vim9compile.c, src/vim.h,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2291
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;<A HREF="vim9.html#null">null</A>&quot; for <A HREF="eval.html#v:null">v:null</A>.
Solution:   Support &quot;<A HREF="vim9.html#null">null</A>&quot; like &quot;<A HREF="vim9.html#true">true</A>&quot; and &quot;<A HREF="vim9.html#false">false</A>&quot;. (closes #7495)
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/evalvars.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2292
Problem:    Vim: <A HREF="eval.html#expr">expr</A> test fails.
Solution:   Add missing part of &quot;<A HREF="vim9.html#null">null</A>&quot; support.
Files:      src/eval.c

Patch 8.2.2293
Problem:    Build failure with <A HREF="gui_x11.html#Motif">Motif</A>. (Tony Mechelynck)
Solution:   Use empty_option instead of empty_options.
Files:      src/gui_motif.c

Patch 8.2.2294
Problem:    <A HREF="os_vms.html#VMS">VMS</A>: a few remaining problems.
Solution:   Add <A HREF="os_vms.html#VMS">VMS</A> specific changes. Add <A HREF="if_lua.html#Lua">Lua</A> support. (Zoltan Arpadffy)
Files:      src/fileio.c, src/os_vms_conf.h, src/Make_vms.mms, src/macros.h,
            src/os_vms.c, src/vim9execute.c, src/gui_xmebw.c, src/os_unix.h

Patch 8.2.2295
Problem:    Incsearch does not detect empty <A HREF="pattern.html#pattern">pattern</A> properly.
Solution:   Return magic state when skipping over a <A HREF="pattern.html#pattern">pattern</A>. (Christian
            Brabandt, closes #7612, closes #6420)
Files:      src/ex_cmds.c, src/ex_docmd.c, src/ex_getln.c, src/globals.h,
            src/option.c, src/tag.c, src/proto/regexp.pro, src/regexp.c,
            src/search.c, src/structs.h, src/vim9compile.c,
            src/testdir/dumps/Test_incsearch_sub_01.dump,
            src/testdir/dumps/Test_incsearch_sub_02.dump,
            src/testdir/test_search.vim

Patch 8.2.2296
Problem:    Cannot use <A HREF="motion.html#CTRL-N">CTRL-N</A> and <A HREF="motion.html#CTRL-P">CTRL-P</A> in a <A HREF="popup.html#popup">popup</A> menu.
Solution:   Use <A HREF="motion.html#CTRL-N">CTRL-N</A> like <A HREF="motion.html#&lt;Down&gt;">&lt;Down&gt;</A> and <A HREF="motion.html#CTRL-P">CTRL-P</A> like <A HREF="motion.html#&lt;Up&gt;">&lt;Up&gt;</A>. (closes #7614)
Files:      runtime/doc/popup.txt, src/popupwin.c,
            src/testdir/test_popupwin.vim

Patch 8.2.2297
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot set <A HREF="options.html#'number'">'number'</A> to a <A HREF="options.html#boolean">boolean</A> value.
Solution:   Use tv_get_bool(). (closes #7615)
Files:      src/evalvars.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2298
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: comment right after &quot;<A HREF="motion.html#(">(</A>&quot; of function not recognized.
Solution:   Do not skip over white space before calling get_function_args().
            (closes #7613)
Files:      src/userfunc.c, src/proto/userfunc.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.2299
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid memory access making error message flaky.
Solution:   Do not check cmd_argt for CMD_USER. (issue #7467)
Files:      src/ex_docmd.c, src/vim9execute.c, src/errors.h,
            src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2300
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong order on type stack when using <A HREF="eval.html#dict">dict</A>.
Solution:   Generate constants before a <A HREF="eval.html#dict">dict</A>. (closes #7619)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2301
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot unlet a <A HREF="eval.html#dict">dict</A> or <A HREF="eval.html#list">list</A> item.
Solution:   Add ISN_UNLETINDEX.  Refactor assignment code to use for unlet.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2302
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using an option value may use uninitialized memory.
Solution:   Clear v_lock. (closes #7620)
Files:      src/typval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2303
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: backtick expansion doesn't work for <A HREF="fold.html#:foldopen">:foldopen</A>.
Solution:   Do recognize backtick expansion. (closes #7621)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2304
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for unletting an imported variable.
Solution:   Add a test.  Fix line number in error.
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2305
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;++var&quot; and &quot;--var&quot; are silently accepted.
Solution:   Give an error message.
Files:      src/vim9compile.c, src/eval.c, src/proto/eval.pro,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2306
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: when using function reference type is not checked.
Solution:   When using a function reference lookup the type and check the
            argument types. (issue #7629)
Files:      src/userfunc.c, src/proto/userfunc.pro, src/eval.c, src/structs.h,
            src/vim9type.c, src/proto/vim9type.pro, src/vim9compile.c,
            src/vim9execute.c, src/evalvars.c, src/evalfunc.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2307
Problem:    A shell command in the <A HREF="starting.html#vimrc">vimrc</A> causes <A HREF="terminal.html#terminal">terminal</A> output.
Solution:   Do not call starttermcap() after a shell command if the <A HREF="term.html#termcap">termcap</A>
            wasn't active before.
Files:      src/ex_cmds.c

Patch 8.2.2308
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when assigning <A HREF="eval.html#lambda">lambda</A> to funcref without return
            value.
Solution:   Default return value to &quot;any&quot;. (closes #7629)
Files:      src/userfunc.c, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_func.vim

Patch 8.2.2309
Problem:    0o777 not recognized <A HREF="motion.html#as">as</A> <A HREF="eval.html#octal">octal</A>.
Solution:   Use vim_isodigit(). (Ken Takata, closes #7633, closes #7631)
Files:      src/charset.c, src/testdir/test_eval_stuff.vim

Patch 8.2.2310
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#winsaveview()">winsaveview()</A> return type is too generic.
Solution:   use dict&lt;number&gt; instead of dict&lt;any&gt;. (closes #7626)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2311
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to a variable that shadows a command modifier.
Solution:   Check for assignment after possible command modifier.
            (closes #7632)
Files:      src/vim9compile.c, src/ex_docmd.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2312
Problem:    Build failure with <A HREF="if_ruby.html#Ruby">Ruby</A> 3.0 and 32 bits.
Solution:   Add #ifdef. (closes #7638)
Files:      src/if_ruby.c

Patch 8.2.2313
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using uninitialized field when parsing range. &quot;<A HREF="various.html#:silent!">:silent!</A>&quot; not
            respected when parsing range fails.
Solution:   Initialize ea.skip.  On <A HREF="pattern.html#pattern">pattern</A> failure handle <A HREF="motion.html#it">it</A> like an error.
            (closes #7636)
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2314
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: returning zero takes two instructions.
Solution:   Add ISN_RETURN_ZERO.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2315
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;enddef&quot; <A HREF="motion.html#as">as</A> <A HREF="eval.html#dict">dict</A> key misinterpreted <A HREF="motion.html#as">as</A> function end.
Solution:   Check for following colon. (closes #7640)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2316
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot <A HREF="eval.html#list">list</A> a <A HREF="eval.html#lambda">lambda</A> function.
Solution:   Support the &lt;lambda&gt;9 <A HREF="intro.html#notation">notation</A>, like <A HREF="vim9.html#:disassemble">:disassemble</A>. (closes #7634)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2317
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command modifier before <A HREF="eval.html#list">list</A> unpack doesn't work.
Solution:   Only recognize &quot;<A HREF="index.html#[">[</A>&quot; directly after the name. (closes #7641)
Files:      src/ex_docmd.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2318
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#string">string</A> and <A HREF="eval.html#list">list</A> index work differently.
Solution:   Make <A HREF="eval.html#string">string</A> index work like <A HREF="eval.html#list">list</A> index. (closes #7643)
Files:      src/eval.c, src/proto/eval.pro, src/vim9execute.c, src/list.c,
            src/proto/vim9execute.pro, src/testdir/test_vim9_expr.vim

Patch 8.2.2319
Problem:    &quot;exptype_T&quot; can be read <A HREF="motion.html#as">as</A> &quot;expected type&quot;.
Solution:   Rename to &quot;exprtype_T&quot;, <A HREF="eval.html#expression">expression</A> type.
Files:      src/eval.c, src/typval.c, src/proto/typval.pro, src/vim9compile.c,
            src/proto/vim9compile.pro, src/vim9execute.c, src/structs.h,
            src/vim9.h

Patch 8.2.2320
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for comparing bool with <A HREF="eval.html#string">string</A>.
Solution:   Check for wrong types when comparing. (closes #7639)
Files:      src/typval.c, src/errors.h, src/testdir/test_vim9_expr.vim

Patch 8.2.2321
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot nest closures.
Solution:   Add the nesting level to ISN_LOADOUTER and ISN_STOREOUTER.
            (closes #7150, closes #7635)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/structs.h,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2322
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#closure">closure</A> nested limiting to one level.
Solution:   Add outer_T.  Also make STOREOUTER work.
Files:      src/vim9execute.c, src/vim9.h, src/structs.h,
            src/testdir/test_vim9_func.vim

Patch 8.2.2323
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when inferring type from empty dict/list.
Solution:   When the member is t_unknown use t_any. (closes #7009)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2324
Problem:    Not <A HREF="starting.html#easy">easy</A> to get <A HREF="motion.html#mark">mark</A> en cursor position by character <A HREF="intro.html#count">count</A>.
Solution:   Add <A HREF="eval.html#functions">functions</A> that use character index. (Yegappan Lakshmanan,
            closes #7648)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,
            src/evalfunc.c, src/proto/eval.pro, src/tag.c,
            src/testdir/test_cursor_func.vim, src/typval.c

Patch 8.2.2325
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash if <A HREF="builtin.html#map()">map()</A> changes the item type.
Solution:   Check that the item type is still OK. (closes #7652)
            Fix problem with <A HREF="builtin.html#mapnew()">mapnew()</A> on range <A HREF="eval.html#list">list</A>.
Files:      src/evalfunc.c, src/proto/evalfunc.pro, src/vim9compile.c,
            src/list.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim

Patch 8.2.2326
Problem:    Build error with <A HREF="various.html#+eval">+eval</A> feature but without <A HREF="various.html#+spell">+spell</A>.
Solution:   Adjust #ifdef. (John Marriott)
Files:      src/mbyte.c

Patch 8.2.2327
Problem:    Debugging code included.
Solution:   Remove the debugging code.
Files:      src/vim9execute.c

Patch 8.2.2328
Problem:    Some test files may not be deleted.
Solution:   Add a <A HREF="builtin.html#delete()">delete()</A> call, correct name. (Dominique Pellé, closes #7654)
Files:      src/testdir/test_clientserver.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2329
Problem:    Not all ways Vim can be started are tested.
Solution:   Add a test for different program names. (Dominique Pellé,
            closes #7651)
Files:      src/testdir/test_startup.vim

Patch 8.2.2330
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using :trow in a not executed block.
Solution:   Don't generate the instruction when skipping. (closes #7659)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2331
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong error when modifying <A HREF="eval.html#dict">dict</A> declared with <A HREF="vim9.html#:final">:final</A>.
Solution:   Do not check for writable variable when an index follows.
            (closes #7657)
Files:      src/vim9compile.c, src/structs.h, src/vim9script.c,
            src/proto/vim9script.pro, src/evalvars.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2332
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing <A HREF="eval.html#:endif">:endif</A> not reported when using <A HREF="windows.html#:windo">:windo</A>.
Solution:   Pass a getline function to do_cmdline(). (closes #7650)
Files:      src/vim9execute.c, src/structs.h, src/scriptfile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2333
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: warning for uninitialized variable. (Tony Mechelynck)
Solution:   Initialize &quot;res&quot;.
Files:      src/vim9execute.c

Patch 8.2.2334
Problem:    Pascal-like <A HREF="filetype.html#filetypes">filetypes</A> not always detected.
Solution:   Improved Puppet, InstantFPC and Pascal detection. (Doug Kearns,
            closes #7662)
Files:      runtime/autoload/dist/ft.vim, runtime/filetype.vim,
            runtime/scripts.vim, src/testdir/test_filetype.vim

Patch 8.2.2335
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;silent return&quot; does not restore command modifiers.
Solution:   Restore command modifiers before returning. (closes #7649)
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.2336
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="motion.html#it">it</A> is not possible to extend a dictionary with different
            item types.
Solution:   Add <A HREF="builtin.html#extendnew()">extendnew()</A>. (closes #7666)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/list.c, src/proto/list.pro, src/testdir/test_listdict.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2337
Problem:    Configure test for <A HREF="gui_x11.html#GTK">GTK</A> only says &quot;no&quot;. (Harm te Hennepe)
Solution:   Hint that a -def package is needed. (closes #5229)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2338
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if using <A HREF="channel.html#job_info()">job_info()</A> result wrongly.
Solution:   Adjust return type on number of arguments. (closes #7667)
Files:      src/evalfunc.c, src/globals.h, src/testdir/test_vim9_builtin.vim

Patch 8.2.2339
Problem:    Cannot get the type of a value <A HREF="motion.html#as">as</A> a <A HREF="eval.html#string">string</A>.
Solution:   Add <A HREF="builtin.html#typename()">typename()</A>.
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/vim9type.c, src/proto/vim9type.pro,
            src/testdir/test_vimscript.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.2340
Problem:    <A HREF="builtin.html#win_execute()">win_execute()</A> unexpectedly returns number zero when failing.
Solution:   Return an empty <A HREF="eval.html#string">string</A>. (closes #7665)
Files:      src/evalwindow.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_execute_func.vim

Patch 8.2.2341
Problem:    Expression command line completion shows <A HREF="eval.html#variables">variables</A> but not
            <A HREF="eval.html#functions">functions</A> after &quot;<A HREF="eval.html#g:">g:</A>&quot;. (Gary Johnson)
Solution:   Prefix &quot;<A HREF="eval.html#g:">g:</A>&quot; when needed to a global function.
Files:      src/evalfunc.c, src/evalvars.c, src/proto/evalvars.pro,
            src/testdir/test_cmdline.vim

Patch 8.2.2342
Problem:    &quot;char&quot; <A HREF="eval.html#functions">functions</A> return the wrong column in <A HREF="insert.html#Insert">Insert</A> mode when the
            cursor is beyond the end of the line.
Solution:   Compute the column correctly. (Yegappan Lakshmanan, closes #7669)
Files:      src/eval.c, src/evalfunc.c, src/testdir/test_cursor_func.vim

Patch 8.2.2343
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#readfile()">readfile()</A> is any.
Solution:   Add <A HREF="builtin.html#readblob()">readblob()</A> so that <A HREF="builtin.html#readfile()">readfile()</A> can be expected to always
            return a <A HREF="eval.html#list">list</A> of strings. (closes #7671)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/filepath.c, src/proto/filepath.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2344
Problem:    Using <A HREF="motion.html#inclusive">inclusive</A> index for <A HREF="eval.html#slice">slice</A> is not always desired.
Solution:   Add the <A HREF="builtin.html#slice()">slice()</A> <A HREF="eval.html#method">method</A>, which has an <A HREF="motion.html#exclusive">exclusive</A> index. (closes
            #7408)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/eval.c, src/proto/eval.pro, src/vim9execute.c,
            src/proto/vim9execute.pro, src/list.c, src/proto/list.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2345
Problem:    No focus events in a <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Add the <A HREF="term.html#t_fd">t_fd</A> and <A HREF="term.html#t_fe">t_fe</A> <A HREF="term.html#termcap">termcap</A> entries and implement detecting
            focus events. (Hayaki Saito, Magnus Groß, closes #7673,
            closes #609, closes #5526)
Files:      runtime/doc/term.txt, src/optiondefs.h, src/term.c, src/term.h

Patch 8.2.2346
Problem:    Codecov reports every little coverage drop.
Solution:   Tolerate a 0.05&#37; drop. Hide the appveyor config file. (Ozaki
            Kiichi, closes #7678)
Files:      .appveyor.yml, appveyor.yml, .codecov.yml

Patch 8.2.2347
Problem:    Build failure without <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add #ifdef.
Files:      src/term.c

Patch 8.2.2348 (after 8.2.2345)
Problem:    No check for modified files after focus gained. (Mathias Stearn)
Solution:   Call ui_focus_change().
Files:      src/term.c, src/ui.c

Patch 8.2.2349
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot handle line break after parenthesis at line end.
Solution:   Skip over line break. (closes #7677)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2350
Problem:    Using &quot;void&quot; for no reason.
Solution:   Use &quot;char *&quot;.
Files:      src/ex_docmd.c

Patch 8.2.2351
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message for &quot;throw&quot; in function that was called with
            &quot;silent!&quot;.
Solution:   Do not throw the exception when not caught or displayed.
            (closes #7672)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.2352
Problem:    If the focus lost/gained <A HREF="intro.html#escape">escape</A> sequence is received <A HREF="if_cscop.html#twice">twice</A> <A HREF="motion.html#it">it</A> is
            not ignored. (Christ van Willegen)
Solution:   Adjust the logic to ignore the <A HREF="intro.html#escape">escape</A> code.
Files:      src/term.c

Patch 8.2.2353
Problem:    Sparql files are not detected.
Solution:   Add the sparql <A HREF="filetype.html#filetype">filetype</A>.  (closes #7679)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2354
Problem:    Crash with a weird combination of <A HREF="autocmd.html#autocommands">autocommands</A>.
Solution:   Increment b_nwindows when needed. (closes #7674)
Files:      src/ex_cmds.c, src/buffer.c, src/proto/buffer.pro,
            src/testdir/test_autocmd.vim

Patch 8.2.2355
Problem:    Stray test failure on Appveyor.
Solution:   Finish insert command.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.2356
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;<A HREF="change.html#:put">:put</A> =expr&quot; does not handle a <A HREF="eval.html#list">list</A> properly.
Solution:   Use the same logic <A HREF="motion.html#as">as</A> eval_to_string_eap(). (closes #7684)
Files:      src/vim9execute.c, src/eval.c, src/proto/eval.pro,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2357
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when parsing function return type fails.
Solution:   Bail out and set return type to &quot;unknown&quot;. (closes #7685)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2358
Problem:    Wrong #ifdef for use_xterm_like_mouse().
Solution:   Use FEAT_MOUSE_XTERM.
Files:      src/term.c

Patch 8.2.2359
Problem:    Strange test failure with <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the <A HREF="builtin.html#system()">system()</A> call for now.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.2360
Problem:    Test leaves file behind.
Solution:   Delete the right file. (Dominique Pellé, closes #7689)
Files:      src/testdir/test_filetype.vim

Patch 8.2.2361
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no highlight for &quot;s///gc&quot; when using <A HREF="options.html#'opfunc'">'opfunc'</A>.
Solution:   Reset <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> temporarily. (closes #7687)
Files:      src/ex_cmds.c

Patch 8.2.2362
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: check of builtin function argument type is incomplete.
Solution:   Use need_type() instead of check_arg_type().
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/evalfunc.c,
            src/proto/evalfunc.pro, src/vim9type.c, src/proto/vim9type.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2363
Problem:    curpos() does not accept a <A HREF="eval.html#string">string</A> argument <A HREF="motion.html#as">as</A> before.
solution:   Make a <A HREF="eval.html#string">string</A> argument work again. (Yegappan Lakshmanan,
            closes #7690)
Files:      src/evalfunc.c, src/testdir/test_cursor_func.vim

Patch 8.2.2364
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line break in <A HREF="eval.html#lambda">lambda</A> accesses freed memory.
Solution:   Make a copy of the return type. (closes #7664)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2365
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for <A HREF="builtin.html#map()">map()</A> <A HREF="change.html#changing">changing</A> item type at <A HREF="usr_41.html#script">script</A> level.
Solution:   Check the new value type.
Files:      src/list.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2366
Problem:    When using &quot;<A HREF="various.html#:sleep">:sleep</A>&quot; the cursor is always displayed.
Solution:   Do not display the cursor when using &quot;<A HREF="various.html#:sleep!">:sleep!</A>&quot;. (Jeremy Lerner,
            closes #7688)
Files:      runtime/doc/index.txt, runtime/doc/various.txt, src/ex_cmds.h,
            src/ex_docmd.c, src/normal.c, src/proto/ex_docmd.pro, src/term.c,
            src/testdir/Make_all.mak, src/testdir/test_sleep.vim

Patch 8.2.2367
Problem:    Test failures on some <A HREF="various.html#less">less</A> often used systems.
Solution:   Adjust printf formats and types. (James McCoy, closes #7691)
Files:      src/errors.h, src/evalfunc.c, src/list.c, src/vim9execute.c

Patch 8.2.2368
Problem:    Insufficient tests for setting <A HREF="options.html#options">options</A>.
Solution:   Add a few tests. (Dominique Pellé, closes #7695)
Files:      src/testdir/test_options.vim

Patch 8.2.2369
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#functions">functions</A> return true/false but can't be used <A HREF="motion.html#as">as</A> bool.
Solution:   Add ret_number_bool(). (closes #7693)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2370
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command fails in catch block.
Solution:   Reset force_abort and need_rethrow. (closes #7692)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.2371
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using types in <A HREF="eval.html#:for">:for</A> with unpack.
Solution:   Check for skip_var_list() failing. Pass include_type to
            skip_var_one(). Skip type when compiling. (closes #7694)
Files:      src/vim9compile.c, src/evalvars.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2372 (after 8.2.2371)
Problem:    Confusing error message for wrong <A HREF="eval.html#:let">:let</A> command.
Solution:   Only check for type in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/evalvars.c

Patch 8.2.2373
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> assignment only accepts a number index.
Solution:   Accept &quot;any&quot; and <A HREF="diff.html#do">do</A> a runtime type check. (closes #7694)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2374
Problem:    Accessing uninitialized memory in test_undo.
Solution:   Do not look in typebuf.tb_buf if <A HREF="motion.html#it">it</A> is empty. (Dominique Pellé,
            closes #7697)
Files:      src/edit.c

Patch 8.2.2375
Problem:    Test for RGB color skipped in the <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Run the <A HREF="gui.html#GUI">GUI</A> if possible.
Files:      src/testdir/test_highlight.vim

Patch 8.2.2376
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when dividing by zero in compiled code using
            constants.
Solution:   Call num_divide() and num_modulus(). (closes #7704)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2377
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using a range after another <A HREF="eval.html#expression">expression</A>.
Solution:   Set the variable type to number. Fix using <A HREF="change.html#:put">:put</A> with a range and
            the &quot;<A HREF="change.html#=">=</A>&quot; <A HREF="sponsor.html#register">register</A>. (closes #7706)
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2378
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error message for dividing by zero.
Solution:   Give an error message. (issue #7704)
Files:      src/errors.h, src/eval.c, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2379
Problem:    Finding <A HREF="spell.html#spell">spell</A> suggestions <A HREF="if_cscop.html#twice">twice</A> if <A HREF="options.html#'spellsuggest'">'spellsuggest'</A> contains number.
Solution:   Only <A HREF="diff.html#do">do</A> internal suggestions once.  (closes #7713)
Files:      src/spellsuggest.c

Patch 8.2.2380
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: occasional crash when using try/catch and a <A HREF="builtin.html#timer">timer</A>.
Solution:   Save and restore &quot;need_rethrow&quot; when invoking a <A HREF="builtin.html#timer">timer</A> callback.
            (closes #7708)
Files:      src/time.c

Patch 8.2.2381
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: divide by zero does not abort <A HREF="eval.html#expression">expression</A> execution.
Solution:   Use a &quot;failed&quot; flag. (issue #7704)
Files:      src/eval.c, src/proto/eval.pro, src/evalvars.c, src/vim9compile.c,
            src/testdir/vim9.vim, src/testdir/test_vim9_assign.vim

Patch 8.2.2382 (after 8.2.2381)
Problem:    Build failure.
Solution:   Add missing changes.
Files:      src/vim9execute.c

Patch 8.2.2383
Problem:    Focus <A HREF="intro.html#escape">escape</A> sequences are not named in &quot;<A HREF="options.html#:set">:set</A> <A HREF="term.html#termcap">termcap</A>&quot; output.
Solution:   Add the names to the <A HREF="eval.html#list">list</A>. (closes #7718)
Files:      src/misc2.c

Patch 8.2.2384
Problem:    Turtle <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Add a rule to detect turtle files. (closes #7722)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2385
Problem:    &quot;<A HREF="motion.html#gj">gj</A>&quot; and &quot;<A HREF="motion.html#gk">gk</A>&quot; <A HREF="diff.html#do">do</A> not work correctly when inside a fold.
Solution:   Move check for <A HREF="fold.html#folding">folding</A>. (closes #7724, closes #4095)
Files:      src/normal.c, src/testdir/test_fold.vim

Patch 8.2.2386
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using &quot;<A HREF="various.html#:silent!">:silent!</A> put&quot;.
Solution:   When ignoring an error for &quot;<A HREF="various.html#:silent!">:silent!</A>&quot; rewind the stack and skip
            ahead to restoring the cmdmod. (closes #7717)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.2387
Problem:    Runtime type check does not mention argument index.
Solution:   Add ct_arg_idx. (closes #7720)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2388
Problem:    No <A HREF="starting.html#easy">easy</A> way to get the maximum or minimum number value.
Solution:   Add <A HREF="eval.html#v:numbermax">v:numbermax</A> and <A HREF="eval.html#v:numbermin">v:numbermin</A>.
Files:      src/evalvars.c, src/vim.h, src/testdir/test_eval_stuff.vim,
            runtime/doc/eval.txt

Patch 8.2.2389
Problem:    Test failure on a few systems.
Solution:   Avoid that &quot;char&quot; value is negative.
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h

Patch 8.2.2390
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using positive offset is unexpected.
Solution:   Use int8_T instead of char. (James McCoy)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c

Patch 8.2.2391
Problem:    Memory leak when creating a global function with <A HREF="eval.html#closure">closure</A>.
Solution:   Create a separate <A HREF="builtin.html#partial">partial</A> for every instantiated function.
Files:      src/userfunc.c, src/vim9execute.c

Patch 8.2.2392
Problem:    Fennel <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Detect with <A HREF="pattern.html#pattern">pattern</A> and hashbang. (Chinmay Dalal, closes #7729)
Files:      runtime/filetype.vim, runtime/scripts.vim,
            src/testdir/test_filetype.vim

Patch 8.2.2393
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message when <A HREF="usr_41.html#script">script</A> line starts with &quot;<A HREF="motion.html#[{">[{</A>&quot;.
Solution:   Do not give an error for checking for end of <A HREF="eval.html#list">list</A>.
Files:      src/dict.c, src/testdir/test_vim9_script.vim

Patch 8.2.2394
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#min()">min()</A> and <A HREF="builtin.html#max()">max()</A> return type is &quot;any&quot;.
Solution:   Use return type &quot;number&quot;. (closes #7728)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2395
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for wrong type may report wrong line number.
Solution:   Save and restore the line number when evaluating the <A HREF="eval.html#expression">expression</A>.
            (closes #7727)
Files:      src/evalvars.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2396
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no white space allowed before &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot;.
Solution:   Allow for white space. (closes #7725)
Files:      src/ex_docmd.c, src/eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2397
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;&#37;&#37;&quot; not seen <A HREF="motion.html#as">as</A> alternate file name for commands with a
            buffer name argument.
Solution:   Recognize &quot;&#37;&#37;&quot; like &quot;<A HREF="pattern.html##">#</A>&quot;. (closes #7732)
Files:      src/buffer.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2398 (after 8.2.2396)
Problem:    Method test fails.
Solution:   Adjust test for allowed white space.
Files:      src/testdir/test_method.vim

Patch 8.2.2399 (after 8.2.2385)
Problem:    Fold test fails in wide <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Adjust the test. (Dominique Pelle, closes #7731, closes #7739)
Files:      src/testdir/test_fold.vim

Patch 8.2.2400
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiled <A HREF="eval.html#functions">functions</A> are not profiled.
Solution:   Add initial changes to <A HREF="repeat.html#profile">profile</A> compiled <A HREF="eval.html#functions">functions</A>.  Fix that a
            <A HREF="map.html#script-local">script-local</A> function was hard to debug.
Files:      runtime/doc/repeat.txt, src/vim9.h, src/vim9compile.c,
            src/vim9execute.c, src/userfunc.c, src/proto/vim9compile.pro,
            src/structs.h, src/vim9type.c, src/debugger.c, src/ex_cmds.h,
            src/ex_docmd.c, src/profiler.c, src/proto/profiler.pro,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_profile.vim

Patch 8.2.2401
Problem:    Build fails without +profiling feature.
Solution:   Add #ifdefs.
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h, src/structs.h,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2402
Problem:    Some <A HREF="filetype.html#filetypes">filetypes</A> not detected.
Solution:   Detect <A HREF="if_ruby.html#Ruby">Ruby</A> Signature and Puppet related files. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2403
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="repeat.html#profiling">profiling</A> if/elseif/endif not correct.
Solution:   Add <A HREF="repeat.html#profile">profile</A> instructions.  Fix that &quot;elseif&quot; was wrong.
Files:      src/vim9compile.c, src/testdir/test_profile.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2404
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="repeat.html#profiling">profiling</A> try/catch not correct.
Solution:   Add <A HREF="repeat.html#profile">profile</A> instructions.  Fix that &quot;entry&quot; did not <A HREF="eval.html#rethrow">rethrow</A> an
            exception.
Files:      src/vim9compile.c, src/vim9execute.c, src/testdir/test_profile.vim

Patch 8.2.2405
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no need to allow white space before &quot;<A HREF="motion.html#(">(</A>&quot; for <A HREF="vim9.html#:def">:def</A>.
Solution:   Give an error for stray white space. (issue #7734)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2406
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: profiled <A HREF="vim9.html#:def">:def</A> function leaks memory.
Solution:   Delete the profiled instructions.
Files:      src/vim9compile.c

Patch 8.2.2407
Problem:    Old <A HREF="motion.html#jumplist">jumplist</A> code is never used.
Solution:   Delete the dead code. (Yegappan Lakshmanan, closes #7740)
Files:      src/mark.c

Patch 8.2.2408
Problem:    MinGW: &quot;--preprocessor&quot; flag no longer supported.
Solution:   Remove the flag, use the defaults. (Christopher Wellons,
            closes #7741)
Files:      src/GvimExt/Make_ming.mak, src/Make_cyg_ming.mak

Patch 8.2.2409
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="repeat.html#profiling">profiling</A> only works for one function.
Solution:   <A HREF="visual.html#Select">Select</A> the right instructions when calling and returning.
            (closes #7743)
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h,
            src/testdir/test_profile.vim

Patch 8.2.2410
Problem:    Build failure without the +profiling feature.
Solution:   Add dummy argument to <A HREF="map.html#macro">macro</A>.
Files:      src/vim9.h

Patch 8.2.2411
Problem:    Profile test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do the <A HREF="repeat.html#profiling">profiling</A> in a separate Vim command.
Files:      src/testdir/test_profile.vim

Patch 8.2.2412
Problem:    Not all fields in &quot;cstack&quot; are initialized which might cause a
            crash.
Solution:   Use CLEAR_FIELD().
Files:      src/ex_docmd.c

Patch 8.2.2413
Problem:    Crash when using <A HREF="windows.html#:all">:all</A> while using a cmdline <A HREF="windows.html#window">window</A>. (Zdenek Dohnal)
Solution:   Disallow <A HREF="windows.html#:all">:all</A> from the cmdline <A HREF="windows.html#window">window</A>.
Files:      src/arglist.c, src/ex_getln.c, src/testdir/test_arglist.vim

Patch 8.2.2414
Problem:    Using freed memory when closing the cmdline <A HREF="windows.html#window">window</A>.
Solution:   Check the <A HREF="windows.html#window">window</A> is still valid.
Files:      src/ex_getln.c

Patch 8.2.2415
Problem:    No way to check for the <A HREF="cmdline.html#cmdwin">cmdwin</A> feature, cmdline_hist is now always
            enabled.
Solution:   Add has('cmdwin') support. Skip <A HREF="editing.html#arglist">arglist</A> test on Windows
            temporarily.
Files:      runtime/doc/cmdline.txt, src/evalfunc.c,
            src/testdir/test_autocmd.vim, src/testdir/test_arglist.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_normal.vim, src/testdir/test_tabpage.vim,
            src/testdir/test_termcodes.vim, src/testdir/test_window_cmd.vim

Patch 8.2.2416
Problem:    May get stuck in command line <A HREF="windows.html#window">window</A> state.
Solution:   Reset &quot;cmdwin_type&quot; when editing buffer fails.  Make <A HREF="editing.html#arglist">arglist</A> test
            pass on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/ex_getln.c, src/testdir/test_arglist.vim

Patch 8.2.2417
Problem:    Condition stack values may be used when not set.
Solution:   Clear cs_script_var_len and cs_block_id just in <A HREF="change.html#case">case</A> they get used
            later. (issue #7733)
Files:      src/ex_eval.c

Patch 8.2.2418
Problem:    Color not changed if ModeMsg highlight is set in <A HREF="autocmd.html#InsertEnter">InsertEnter</A>
            autocmd event. (Paul Swanson)
Solution:   Call highlight_changed() after triggering <A HREF="autocmd.html#InsertEnter">InsertEnter</A>.
            (closes #7751)
Files:      src/edit.c

Patch 8.2.2419
Problem:    Autocmd test was failing on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with <A HREF="gui.html#GUI">GUI</A>.
Solution:   Remove stray <A HREF="builtin.html#feedkeys()">feedkeys()</A>.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.2420
Problem:    Too many problems with using all <A HREF="autocmd.html#autocommand">autocommand</A> events.
Solution:   Disallow defining an <A HREF="autocmd.html#autocommand">autocommand</A> for all events.
Files:      src/autocmd.c, src/errors.h, src/testdir/test_autocmd.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_window_cmd.vim

Patch 8.2.2421
Problem:    Double free when using <A HREF="autocmd.html#autocommand">autocommand</A> with &quot;argdel&quot;. (Houyunsong)
Solution:   Add the arglist_locked flag.
Files:      src/arglist.c, src/testdir/test_autocmd.vim

Patch 8.2.2422
Problem:    Crash when <A HREF="change.html#deleting">deleting</A> with line number out of range. (Houyunsong)
Solution:   Avoid using a negative line number.
Files:      src/normal.c, src/testdir/test_ex_mode.vim

Patch 8.2.2423 (after 8.2.2422)
Problem:    Missing error message.
Solution:   Add the error message.
Files:      src/errors.h

Patch 8.2.2424
Problem:    Some tests are known to cause an error with ASAN.
Solution:   Add CheckNotAsan.
Files:      src/testdir/check.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_memory_usage.vim, src/testdir/test_ex_mode.vim

Patch 8.2.2425
Problem:    Cursor on invalid line with range and <A HREF="change.html#:substitute">:substitute</A>.
Solution:   Do not move the cursor when skipping commands. (closes #3434)
Files:      src/ex_cmds.c, src/testdir/test_eval_stuff.vim

Patch 8.2.2426
Problem:    Allowing <A HREF="options.html#'completefunc'">'completefunc'</A> to switch <A HREF="windows.html#windows">windows</A> causes trouble.
Solution:   use &quot;textwinlock&quot; instead of &quot;<A HREF="eval.html#textlock">textlock</A>&quot;.
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim,
            src/testdir/test_popup.vim

Patch 8.2.2427
Problem:    Can still switch <A HREF="windows.html#windows">windows</A> for <A HREF="options.html#'completefunc'">'completefunc'</A>.
Solution:   Also disallow switching <A HREF="windows.html#windows">windows</A> for other completions.
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim,
            src/testdir/test_popup.vim

Patch 8.2.2428
Problem:    <A HREF="autocmd.html#FocusGained">FocusGained</A> does not work when <A HREF="options.html#'ttymouse'">'ttymouse'</A> is empty.
Solution:   Don't use the short mouse code if there is a longer matching code.
            (closes #7755)  Add a test.
Files:      src/term.c, src/testdir/test_termcodes.vim

Patch 8.2.2429
Problem:    <A HREF="motion.html#:goto">:goto</A> does not work correctly with text properties. (Sam McCall)
Solution:   Add a test. (Andrew Radev)  Also use the text property size when
            computing the remaining offset. (closes #5930)
Files:      src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.2430
Problem:    <A HREF="quickfix.html#:vimgrep">:vimgrep</A> expands <A HREF="editing.html#wildcards">wildcards</A> <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Do not expand <A HREF="editing.html#wildcards">wildcards</A> a second time.
Files:      src/quickfix.c, src/arglist.c, src/testdir/test_quickfix.vim

Patch 8.2.2431
Problem:    Warning for -fno-strength-reduce with Clang 11.
Solution:   Adjust check for clang version number.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2432
Problem:    Libvterm tests are executed even when libtool doesn't work.
Solution:   Only run libvterm tests if /usr/bin/gcc exists.
Files:      src/Makefile

Patch 8.2.2433
Problem:    Opening cmdline <A HREF="windows.html#window">window</A> gives error in <A HREF="autocmd.html#BufLeave">BufLeave</A> <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Reset cmdwin_type when triggering the <A HREF="autocmd.html#autocommand">autocommand</A>.
Files:      src/ex_cmds.c, src/testdir/test_cmdline.vim

Patch 8.2.2434
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when compiling <A HREF="builtin.html#str2nr()">str2nr()</A> with a number.
Solution:   Add argument type checks. (closes #7759)
Files:      src/evalfunc.c, src/typval.c, src/proto/typval.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2435
Problem:    <A HREF="builtin.html#setline()">setline()</A> gives an error for some types.
Solution:   Allow any type, convert each item to a <A HREF="eval.html#string">string</A>.
Files:      runtime/doc/eval.txt, src/evalbuffer.c, src/typval.c,
            src/proto/typval.pro, src/debugger.c, src/vim9execute.c,
            src/testdir/test_bufline.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.2436
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> test is a bit flaky.
Solution:   Wait longer for exit callback.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2437
Problem:    Deprecation warnings with default configuration.
Solution:   Add -Wno-deprecated-declarations.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2438
Problem:    Out of bounds compiler warning.
Solution:   Increase the size of uf_name.
Files:      src/structs.h

Patch 8.2.2439
Problem:    Not <A HREF="starting.html#easy">easy</A> to figure out what <A HREF="repeat.html#packages">packages</A> to get when installing Vim on
            a new Ubuntu system.
Solution:   Mention explicit commands that are <A HREF="starting.html#easy">easy</A> to follow.
Files:      src/INSTALL

Patch 8.2.2440
Problem:    Documentation based on patches is outdated.
Solution:   Add changes to documentation in a patch.
Files:      runtime/doc/arabic.txt, runtime/doc/autocmd.txt,
            runtime/doc/change.txt, runtime/doc/channel.txt,
            runtime/doc/cmdline.txt, runtime/doc/debugger.txt,
            runtime/doc/develop.txt, runtime/doc/digraph.txt,
            runtime/doc/editing.txt, runtime/doc/eval.txt,
            runtime/doc/filetype.txt, runtime/doc/ft_sql.txt,
            runtime/doc/gui.txt, runtime/doc/gui_w32.txt,
            runtime/doc/gui_x11.txt, runtime/doc/hangulin.txt,
            runtime/doc/helphelp.txt, runtime/doc/help.txt,
            runtime/doc/if_lua.txt, runtime/doc/if_mzsch.txt,
            runtime/doc/if_tcl.txt, runtime/doc/indent.txt,
            runtime/doc/index.txt, runtime/doc/insert.txt,
            runtime/doc/intro.txt, runtime/doc/map.txt, runtime/doc/mbyte.txt,
            runtime/doc/message.txt, runtime/doc/mlang.txt,
            runtime/doc/motion.txt, runtime/doc/netbeans.txt,
            runtime/doc/options.txt, runtime/doc/os_dos.txt,
            runtime/doc/os_haiku.txt, runtime/doc/os_unix.txt,
            runtime/doc/os_vms.txt, runtime/doc/os_win32.txt,
            runtime/doc/pattern.txt, runtime/doc/pi_getscript.txt,
            runtime/doc/pi_logipat.txt, runtime/doc/pi_netrw.txt,
            runtime/doc/pi_tar.txt, runtime/doc/pi_vimball.txt,
            runtime/doc/pi_zip.txt, runtime/doc/popup.txt,
            runtime/doc/print.txt, runtime/doc/quickfix.txt,
            runtime/doc/quickref.txt, runtime/doc/recover.txt,
            runtime/doc/remote.txt, runtime/doc/repeat.txt,
            runtime/doc/rileft.txt, runtime/doc/sign.txt,
            runtime/doc/spell.txt, runtime/doc/starting.txt,
            runtime/doc/syntax.txt, runtime/doc/tabpage.txt,
            runtime/doc/tagsrch.txt, runtime/doc/terminal.txt,
            runtime/doc/term.txt, runtime/doc/testing.txt,
            runtime/doc/textprop.txt, runtime/doc/tips.txt,
            runtime/doc/todo.txt, runtime/doc/uganda.txt,
            runtime/doc/undo.txt, runtime/doc/usr_02.txt,
            runtime/doc/usr_03.txt, runtime/doc/usr_04.txt,
            runtime/doc/usr_05.txt, runtime/doc/usr_07.txt,
            runtime/doc/usr_08.txt, runtime/doc/usr_10.txt,
            runtime/doc/usr_11.txt, runtime/doc/usr_20.txt,
            runtime/doc/usr_22.txt, runtime/doc/usr_23.txt,
            runtime/doc/usr_24.txt, runtime/doc/usr_27.txt,
            runtime/doc/usr_30.txt, runtime/doc/usr_31.txt,
            runtime/doc/usr_40.txt, runtime/doc/usr_41.txt,
            runtime/doc/usr_42.txt, runtime/doc/usr_44.txt,
            runtime/doc/usr_45.txt, runtime/doc/usr_46.txt,
            runtime/doc/usr_90.txt, runtime/doc/usr_toc.txt,
            runtime/doc/various.txt, runtime/doc/version5.txt,
            runtime/doc/version6.txt, runtime/doc/version7.txt,
            runtime/doc/version8.txt, runtime/doc/vi_diff.txt,
            runtime/doc/vim9.txt, runtime/doc/visual.txt,
            runtime/doc/windows.txt

Patch 8.2.2441
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#extend()">extend()</A> does not give an error for a type mismatch.
Solution:   Check the type of the second argument. (closes #7760)
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2442
Problem:    Automatic <A HREF="gui.html#GUI">GUI</A> selection does not check for <A HREF="gui_x11.html#GTK">GTK</A> 3.
Solution:   Make SKIP_GTK3 empty for automatic <A HREF="gui.html#GUI">GUI</A> support.  Set SKIP_GTK3 to
            YES when checking for GTK2.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2443
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no compile time error for wrong str2float argument.
Solution:   Check argument type. (closes #7759)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2444
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compile error with combination of <A HREF="motion.html#operator">operator</A> and <A HREF="eval.html#list">list</A>.
Solution:   Generate constants before parsing a <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A>. (closes #7757)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2445
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no proper error for <A HREF="eval.html#lambda">lambda</A> missing return type.
Solution:   Check for this error. (closes #7758)
Files:      src/errors.h, src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2446
Problem:    Setting <A HREF="options.html#'term'">'term'</A> empty has different error if compiled with <A HREF="gui.html#GUI">GUI</A>.
Solution:   <A HREF="insert.html#Insert">Insert</A> &quot;else&quot;. (closes #7766)
Files:      src/optionstr.c, src/testdir/test_options.vim

Patch 8.2.2447
Problem:    <A HREF="options.html#'foldlevel'">'foldlevel'</A> not applied to <A HREF="fold.html#folds">folds</A> restored from session.
Solution:   Set <A HREF="options.html#'foldlevel'">'foldlevel'</A> after creating the <A HREF="fold.html#folds">folds</A>. (closes #7767)
Files:      src/fold.c, src/testdir/test_mksession.vim

Patch 8.2.2448
Problem:    Compilation error with <A HREF="if_ruby.html#Ruby">Ruby</A> 3.0.
Solution:   Adjust #ifdefs and declaration. (Ken Takata, closes #7761)
Files:      src/if_ruby.c

Patch 8.2.2449
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#flatten()">flatten()</A> always changes the <A HREF="eval.html#list">list</A> type.
Solution:   Disallow using <A HREF="builtin.html#flatten()">flatten()</A> and add <A HREF="builtin.html#flattennew()">flattennew()</A>.
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/list.c, src/proto/list.pro, src/errors.h, src/vim9compile.c,
            src/testdir/test_flatten.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.2450
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: ADS was not preserved if <A HREF="options.html#'backupcopy'">'backupcopy'</A> is &quot;yes&quot;.
Solution:   Copy ADS before truncating the file. (Ken Takata, closes #7762)
Files:      src/bufwrite.c

Patch 8.2.2451
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Extended Attributes not preserved.
Solution:   Preserve Extended Attributes when <A HREF="editing.html#writing">writing</A> a file. (Ken Takata,
            closes #7765)
Files:      src/os_win32.c

Patch 8.2.2452
Problem:    No completion for the <A HREF="options.html#'filetype'">'filetype'</A> option.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> completion. (Martin Tournoij, closes #7747)
Files:      src/option.c, src/optiondefs.h, src/testdir/test_options.vim

Patch 8.2.2453
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a variable name with &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot; in the next line doesn't work.
Solution:   Recognize a variable name by itself. (closes #7770)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2454
Problem:    Leading space can not be made visible.
Solution:   Add &quot;lead:&quot; to <A HREF="options.html#'listchars'">'listchars'</A>. (closes #7772)
Files:      runtime/doc/options.txt, src/drawline.c, src/globals.h,
            src/message.c, src/screen.c, src/testdir/test_listchars.vim

Patch 8.2.2455
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: key type that can be used for literal <A HREF="eval.html#dict">dict</A> and indexing is
            inconsistent.
Solution:   Allow using number and bool <A HREF="motion.html#as">as</A> key for a literal <A HREF="eval.html#dict">dict</A>. (#7771)
Files:      runtime/doc/vim9.txt, src/dict.c, src/eval.c, src/vim9compile.c,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2456
Problem:    Coverity warning for strcpy() into fixed size array.
Solution:   Add a type cast to hopefully silence the bogus warning.
Files:      src/userfunc.c

Patch 8.2.2457
Problem:    Coverity warns for memory leak.
Solution:   Free memory when out of memory.
Files:      src/if_cscope.c

Patch 8.2.2458
Problem:    Coverity warns for <A HREF="change.html#:retab">:retab</A> using freed memory.
Solution:   Use the updated line pointer when moving text properties.
Files:      src/indent.c

Patch 8.2.2459
Problem:    Coverity reports dead code.
Solution:   Remove the dead code.
Files:      src/eval.c

Patch 8.2.2460
Problem:    Coverity warns for unused value.
Solution:   Do not reset the return value to OK.
Files:      src/vim9compile.c

Patch 8.2.2461
Problem:    Coverity warns for unchecked return value.
Solution:   Add &quot;(void)&quot; to avoid the warning.
Files:      src/vim9execute.c

Patch 8.2.2462
Problem:    Coverity warns for not checking for fseek() error.
Solution:   Give an error message if fseek() fails.
Files:      src/spellfile.c

Patch 8.2.2463
Problem:    Using <A HREF="editing.html#:arglocal">:arglocal</A> in an <A HREF="autocmd.html#autocommand">autocommand</A> may use freed memory.
            (houyunsong)
Solution:   Check if the <A HREF="editing.html#arglist">arglist</A> is locked.
Files:      src/arglist.c, src/testdir/test_autocmd.vim

Patch 8.2.2464
Problem:    Using freed memory if <A HREF="windows.html#window">window</A> closed in <A HREF="autocmd.html#autocommand">autocommand</A>. (houyunsong)
Solution:   Check the <A HREF="windows.html#window">window</A> still exists.
Files:      src/ex_cmds.c, src/testdir/test_autocmd.vim

Patch 8.2.2465
Problem:    Using freed memory in <A HREF="windows.html#:psearch">:psearch</A>. (houyunsong)
Solution:   Check the current <A HREF="windows.html#window">window</A> is still valid.  Fix flaky test.
Files:      src/search.c, src/testdir/test_autocmd.vim

Patch 8.2.2466
Problem:    Max() and <A HREF="builtin.html#min()">min()</A> can give many error <A HREF="message.html#messages">messages</A>.
Solution:   Bail out at the first error. (closes #1039, closes #7778)
Files:      src/evalfunc.c, src/testdir/test_functions.vim

Patch 8.2.2467
Problem:    Script generated by <A HREF="starting.html#:mkview">:mkview</A> changes alternate file.
Solution:   Only write <A HREF="windows.html#:balt">:balt</A> in the session file. (Harish Rajagopal,
            closes #7779)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.2468
Problem:    Not <A HREF="starting.html#easy">easy</A> to get the full command name from a shortened one.
Solution:   Add <A HREF="builtin.html#fullcommand()">fullcommand()</A>. (Martin Tournoij, closes #7777)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/ex_docmd.c, src/proto/evalfunc.pro,
            src/testdir/test_cmdline.vim

Patch 8.2.2469
Problem:    Confusing error if <A HREF="gui.html#:winsize">:winsize</A> has a wrong argument.
Solution:   Quote the argument in the error. (closes #2523)
Files:      src/ex_docmd.c, src/testdir/test_excmd.vim

Patch 8.2.2470
Problem:    Popup_getoptions() does not get <A HREF="textprop.html#textprop">textprop</A> from other <A HREF="intro.html#tab">tab</A>.
Solution:   use win_valid_any_tab(). (closes #7786)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.2471
Problem:    Popup_setoptions() does not set <A HREF="textprop.html#textprop">textprop</A> in other <A HREF="intro.html#tab">tab</A>.
Solution:   use win_valid_any_tab(). (closes #7788)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.2472
Problem:    Crash when using command line <A HREF="windows.html#window">window</A> in an <A HREF="autocmd.html#autocommand">autocommand</A>.
            (houyunsong)
Solution:   Save and restore au_new_curbuf.
Files:      src/ex_cmds.c, src/testdir/test_autocmd.vim

Patch 8.2.2473
Problem:    Crash when leaving command line <A HREF="windows.html#window">window</A> triggers <A HREF="autocmd.html#autocommand">autocommand</A>.
            (houyunsong)
Solution:   Make sure not to close the current <A HREF="windows.html#window">window</A> or buffer.
Files:      src/ex_getln.c, src/testdir/test_autocmd.vim

Patch 8.2.2474
Problem:    Using freed memory when <A HREF="windows.html#window">window</A> is closed by <A HREF="autocmd.html#autocommand">autocommand</A>.
            (houyunsong)
Solution:   Check the <A HREF="windows.html#window">window</A> pointer is still valid.
Files:      src/quickfix.c, src/testdir/test_autocmd.vim

Patch 8.2.2475
Problem:    Autocommand tests hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip one test.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.2476
Problem:    Using freed memory when using an <A HREF="autocmd.html#autocommand">autocommand</A> to split a <A HREF="windows.html#window">window</A>
            while a buffer is being closed.
Solution:   Disallow splitting when the buffer has b_locked_split set.
Files:      src/buffer.c, src/window.c, src/errors.h, src/structs.h,
            src/popupwin.c, src/testdir/test_autocmd.vim

Patch 8.2.2477
Problem:    Autocommand tests hang on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip a couple of tests.  Fix file name.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.2478
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="editing.html#backup">backup</A> files for plugins are loaded.
Solution:   Do not use the alternate file name for files ending in &quot;<A HREF="change.html#~">~</A>&quot;.
Files:      src/filepath.c

Patch 8.2.2479
Problem:    set/getbufline test fails without the <A HREF="channel.html#job">job</A> feature.
Solution:   Check whether the <A HREF="channel.html#job">job</A> feature is supported. (Dominique Pellé,
            closes #7790)
Files:      src/testdir/test_bufline.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.2480
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some <A HREF="message.html#errors">errors</A> for white space <A HREF="diff.html#do">do</A> not show context.
Solution:   Include the text at the error.
Files:      src/errors.h, src/dict.c, src/list.c, src/userfunc.c,
            src/vim9compile.c, src/vim9script.c, src/vim9type.c

Patch 8.2.2481
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing error when variable arguments have a default
            value.
Solution:   Give a specific error message. (closes #7793)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2482
Problem:    Build error.
Solution:   Add new error message.
Files:      src/errors.h

Patch 8.2.2483
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error for malformed <A HREF="eval.html#expression">expression</A>.
Solution:   Check for end of command before checking type. (closes #7795)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2484
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Cannot use a comment starting with #{ after an <A HREF="eval.html#expression">expression</A>.
Solution:   Remove the check for &quot;<A HREF="motion.html#{">{</A>&quot; since #{ dictionaries are not supported.
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.2485
Problem:    When sourcing a <A HREF="usr_41.html#script">script</A> again the <A HREF="usr_41.html#script">script</A> version isn't reset.
Solution:   Set sn_version to one when sourcing a <A HREF="usr_41.html#script">script</A> again. Clear
            sn_save_cpo properly. (closes #7608)
Files:      src/scriptfile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2486
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some <A HREF="message.html#errors">errors</A> for white space <A HREF="diff.html#do">do</A> not show context.
Solution:   Include the text at the error.
Files:      src/errors.h, src/dict.c, src/list.c, src/userfunc.c,
            src/vim9compile.c, src/vim9type.c

Patch 8.2.2487
Problem:    Terminal shows garbage after double-wide character with a
            combining character. (Kyoichiro Yamada)
Solution:   Libvterm: <A HREF="diff.html#do">do</A> not add the width of the combining character to the
            glyph width. (closes #7801)
Files:      src/libvterm/src/state.c, src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_combining.dump

Patch 8.2.2488
Problem:    <A HREF="builtin.html#json_encode()">json_encode()</A> gives generic argument error.
Solution:   Mention the type that can't be encoded. (issue #7802)
Files:      src/json.c, src/errors.h, src/testdir/test_json.vim

Patch 8.2.2489
Problem:    current buffer is wrong after <A HREF="builtin.html#deletebufline()">deletebufline()</A> fails to delete a
            line in another buffer.
Solution:   Restore the current buffer.
Files:      src/evalbuffer.c, src/testdir/test_bufline.vim

Patch 8.2.2490
Problem:    <A HREF="options.html#'wrap'">'wrap'</A> option is always reset when starting <A HREF="diff.html#diff">diff</A> mode.
Solution:   Add the &quot;followwrap&quot; item in <A HREF="options.html#'diffopt'">'diffopt'</A>. (Rick Howe, closes #7797)
Files:      runtime/doc/diff.txt, runtime/doc/options.txt, src/diff.c,
            src/testdir/test_diffmode.vim

Patch 8.2.2491
Problem:    Popup <A HREF="windows.html#window">window</A> for text property may show in first screen line.
Solution:   If the text position is invisible <A HREF="diff.html#do">do</A> not show the <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A>.
            (closes #7807)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popup_prop_not_visible_01.dump,
            src/testdir/dumps/Test_popup_prop_not_visible_02.dump,
            src/testdir/dumps/Test_popup_prop_not_visible_03.dump

Patch 8.2.2492
Problem:    Command line buffer name cannot be translated.
Solution:   Add _(). (Gabriel Dupras, closes #7812)
Files:      src/ex_getln.c

Patch 8.2.2493
Problem:    Text property for text left of <A HREF="windows.html#window">window</A> shows up.
Solution:   Check if the text property ends before the current column.
            (closes #7806)
Files:      src/drawline.c, src/testdir/test_textprop.vim,
            src/testdir/dumps/Test_textprop_nowrap_01.dump,
            src/testdir/dumps/Test_textprop_nowrap_02.dump

Patch 8.2.2494
Problem:    &quot;:rviminfo!&quot; clears most of oldfiles.
Solution:   Add VIF_ONLY_CURBUF to read_viminfo(). (closes #1781)
Files:      src/viminfo.c, src/vim.h

Patch 8.2.2495
Problem:    Text jumps up and down when moving the cursor in a small <A HREF="windows.html#window">window</A>
            with wrapping text and <A HREF="options.html#'scrolloff'">'scrolloff'</A> set.
Solution:   Adjust the computation of w_skipcol. (partly by Ghjuvan Lacambre,
            closes #7813)
Files:      src/move.c, src/testdir/test_breakindent.vim

Patch 8.2.2496 (after 8.2.2495)
Problem:    Insufficient <A HREF="testing.html#testing">testing</A> for text jumping fix.
Solution:   Add another test <A HREF="change.html#case">case</A>.
Files:      src/testdir/test_breakindent.vim

Patch 8.2.2497
Problem:    No error when using more than one character for a <A HREF="sponsor.html#register">register</A> name.
Solution:   In <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> check for a single character <A HREF="eval.html#string">string</A>. (closes #7814)
            Fix that VAR_BOOL and VAR_SPECIAL are not considered equal.
Files:      src/errors.h, src/evalfunc.c, src/typval.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2498
Problem:    No test for what 8.2.2494 fixes.
Solution:   Add a simple change to test the fix. (closes #7818)
Files:      src/testdir/test_viminfo.vim

Patch 8.2.2499
Problem:    &quot;vim <A HREF="starting.html#-g">-g</A> --version&quot; does not redirect output.
Solution:   Reset gui.starting when showing version info. (closes #7815)
Files:      src/main.c, src/testdir/test_version.vim

Patch 8.2.2500 (after 8.2.2499)
Problem:    Build fails without the <A HREF="gui.html#GUI">GUI</A> feature.
Solution:   Add #ifdef.
Files:      src/main.c

Patch 8.2.2501
Problem:    Not always clear where an error is reported.
Solution:   Add the where_T structure and pass <A HREF="motion.html#it">it</A> around. (closes #7796)
Files:      src/structs.h, src/vim9type.c, src/proto/vim9type.pro,
            src/errors.h, src/evalvars.c, src/proto/evalvars.pro, src/eval.c,
            src/proto/eval.pro, src/vim9execute.c, src/vim9script.c,
            src/proto/vim9script.pro, src/dict.c, src/list.c,
            src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2502
Problem:    A few github actions are failing.
Solution:   Install setuptools-rust. (closes #7823)
Files:      .github/workflows/ci.yml

Patch 8.2.2503
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a caught error may leave something on the stack.
Solution:   Drop items from the stack if needed. (closes #7826)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.2504
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using an argument from a <A HREF="eval.html#closure">closure</A>.
Solution:   Check if gen_load_outer is NULL. (closes #7821)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2505
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash after defining function with invalid return type.
Solution:   Clear function growarrays.  Fix memory leak.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2506
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:continue">:continue</A> does not work correctly in a <A HREF="eval.html#:try">:try</A> block
Solution:   Add the TRYCLEANUP instruction. (closes #7827)
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2507
Problem:    Github build may fail if Ubuntu 20.04 is used.  Installing <A HREF="ft_rust.html#rust">rust</A> is
            not needed.
Solution:   Specify ubuntu-18.04 instead of latest. Update &quot;pip&quot; instead of
            installing <A HREF="ft_rust.html#rust">rust</A>. (Ozaki Kiichi, closes #7820)
Files:      .github/workflows/ci.yml

Patch 8.2.2508
Problem:    Cannot change the character displayed in non existing lines.
Solution:   Add the &quot;eob&quot; item to <A HREF="options.html#'fillchars'">'fillchars'</A>. (closes #7832, closes #3820)
Files:      runtime/doc/options.txt, runtime/doc/todo.txt,
            runtime/doc/windows.txt, src/drawscreen.c, src/globals.h,
            src/optiondefs.h, src/screen.c, src/testdir/test_display.vim

Patch 8.2.2509
Problem:    Tests fail on s390 build.
Solution:   Initialize trycmd_T.
Files:      src/vim9execute.c

Patch 8.2.2510
Problem:    Internal error when <A HREF="popup.html#popup">popup</A> with mask is zero height or width.
Solution:   Bail out if width or height is zero. (closes #7831)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.2511
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A> in some places.
Solution:   Add the <A HREF="vim9.html#:vim9cmd">:vim9cmd</A> command modifier. Incompatible: Makes &quot;<A HREF="vim9.html#:vim9">:vim9</A>&quot;
            mean &quot;<A HREF="vim9.html#:vim9cmd">:vim9cmd</A>&quot; instead of &quot;<A HREF="repeat.html#:vim9script">:vim9script</A>&quot;.
Files:      runtime/doc/vim9.txt, runtime/doc/repeat.txt, src/ex_docmd.c,
            src/ex_cmds.h, src/structs.h, src/ex_cmdidxs.h, src/errors.h,
            src/testdir/test_vim9_cmd.vim, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_1.dump,
            src/testdir/dumps/Test_wildmenu_2.dump,
            src/testdir/dumps/Test_wildmenu_3.dump,
            src/testdir/dumps/Test_wildmenu_4.dump,
            src/testdir/test_quickfix.vim

Patch 8.2.2512
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling error test sometimes fails.
Solution:   use WaitForAssert() instead of sleeping for a bit. (Dominique
            Pellé, closes #7837)
Files:      src/testdir/term_util.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2513 (after 8.2.2511)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing part of <A HREF="vim9.html#:vim9cmd">:vim9cmd</A> change.
Solution:   Use command modifier in in_vim9script().
Files:      src/vim9script.c

Patch 8.2.2514 (after 8.2.2511)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: build error in tiny version.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.2515
Problem:    Memory access error when truncating an empty message.
Solution:   Check for an empty <A HREF="eval.html#string">string</A>. (Dominique Pellé, closes #7841)
Files:      src/message.c, src/message_test.c

Patch 8.2.2516
Problem:    Test failure on s390. (analyses by James McCoy)
Solution:   Only set the try_finally label when not skipping.
Files:      src/vim9compile.c

Patch 8.2.2517
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: fix for s390 not tested on other systems.
Solution:   Add a test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2518
Problem:    <A HREF="options.html#'listchars'">'listchars'</A> should be window-local.
Solution:   Make <A HREF="options.html#'listchars'">'listchars'</A> <A HREF="options.html#global-local">global-local</A>. (Yegappan Lakshmanan, Marco Hinz,
            closes #5206, closes #7850)
Files:      runtime/doc/options.txt, src/buffer.c, src/charset.c,
            src/drawline.c, src/drawscreen.c, src/evalfunc.c, src/globals.h,
            src/indent.c, src/message.c, src/misc1.c, src/option.c,
            src/option.h, src/optiondefs.h, src/optionstr.c,
            src/proto/screen.pro, src/screen.c, src/structs.h,
            src/testdir/test_listchars.vim, src/testdir/test_listlbr.vim

Patch 8.2.2519
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no reason to keep strange <A HREF="intro.html#Vi">Vi</A> behavior.
Solution:   &quot;:3&quot; and &quot;:3|&quot; both go to line 3. &quot;:|&quot; does not print the line.
            (closes #7840)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.2520
Problem:    Missing tests for <A HREF="options.html#'listchars'">'listchars'</A>.
Solution:   Add a few more checks. (Yegappan Lakshmanan, closes #7854)
Files:      src/testdir/test_listchars.vim

Patch 8.2.2521
Problem:    Some compilers can't handle pointer <A HREF="starting.html#initialization">initialization</A>. (John
            Marriott)
Solution:   Use a local struct and assign <A HREF="motion.html#it">it</A> afterwards.
Files:      src/screen.c

Patch 8.2.2522
Problem:    Beancount <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Add a detection rule. (Brian Ryall, closes #7859)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2523
Problem:    Svelte <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Add a detection rule. (Brian Ryall, closes #7858)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2524
Problem:    Cannot change the characters displayed in the foldcolumn.
Solution:   Add fields to <A HREF="options.html#'fillchars'">'fillchars'</A>. (Yegappan Lakshmanan, Matthieu Coudron,
            closes #7860)
Files:      runtime/doc/options.txt, src/globals.h, src/mouse.c, src/screen.c,
            src/testdir/test_display.vim

Patch 8.2.2525
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: only local <A HREF="eval.html#variables">variables</A> checked for a name.
Solution:   Also check arguments and <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A>. (closes #7838)
Files:      src/vim9compile.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2526 (after 8.2.2525)
Problem:    Build failure.
Solution:   Change lookup_scriptvar() arguments.
Files:      src/evalvars.c, src/proto/evalvars.pro

Patch 8.2.2527
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> return type is not determined at <A HREF="usr_41.html#script">script</A> level.
Solution:   Compile the <A HREF="eval.html#lambda">lambda</A> to get the return type. (closes #7843)
Files:      src/eval.c, src/vim.h, src/vim9.h,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2528
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when compiling <A HREF="eval.html#lambda">lambda</A> fails.
Solution:   Bail out after compilation fails. (closes #7862)
Files:      src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2529
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Not possible to use legacy and <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> in one file.
Solution:   <A HREF="vim9.html#Vim9">Vim9</A>: allow for &quot;if false&quot; before <A HREF="repeat.html#:vim9script">:vim9script</A>. (closes #7851)
Files:      runtime/doc/vim9.txt, src/ex_docmd.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2530
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough <A HREF="testing.html#testing">testing</A> for <A HREF="repeat.html#profiling">profiling</A>.
Solution:   Add a test with nested <A HREF="eval.html#functions">functions</A> and a <A HREF="eval.html#lambda">lambda</A>.  Fix <A HREF="repeat.html#profiling">profiling</A>
            for calling a compiled function.
Files:      src/profiler.c, src/proto/profiler.pro, src/userfunc.c,
            src/vim9execute.c, src/testdir/test_profile.vim

Patch 8.2.2531
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: the <A HREF="motion.html#:k">:k</A> command is obscure.
Solution:   Disallow using <A HREF="motion.html#:k">:k</A>, can use <A HREF="motion.html#:mark">:mark</A> instead. (closes #7874)
Files:      runtime/doc/vim9.txt, src/ex_docmd.c, src/vim9script.c,
            src/vim9compile.c, src/ex_cmds.h, src/testdir/test_vim9_script.vim

Patch 8.2.2532
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing error if <A HREF="motion.html#:k">:k</A> is used with a range.
Solution:   Give an error about the range. (issue #7874)
Files:      src/vim9script.c, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2533
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a range with <A HREF="eval.html#:unlet">:unlet</A>.
Solution:   Implement ISN_UNLETRANGE.
Files:      src/errors.h, src/eval.c, src/evalvars.c, src/list.c,
            src/proto/evalvars.pro, src/proto/list.pro, src/vim9.h,
            src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2534
Problem:    Missing test coverage.
Solution:   Improve test coverage for completion with different encodings,
            <A HREF="builtin.html#mapset()">mapset()</A>, and term function failures. (Dominique Pellé,
            closes #7877)
Files:      src/testdir/test_edit.vim, src/testdir/test_maparg.vim,
            src/testdir/test_terminal3.vim

Patch 8.2.2535
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot run all <A HREF="vim9.html#vim9">vim9</A> tests.
Solution:   Make test_vim9 target work.
Files:      src/Make_mvc.mak

Patch 8.2.2536
Problem:    Coverity complains about unchecked return value.
Solution:   Add (void).
Files:      src/userfunc.c

Patch 8.2.2537
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when <A HREF="builtin.html#map()">map()</A> fails.
Solution:   Clear typval before using <A HREF="motion.html#it">it</A>. (closes #7884)
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2538
Problem:    Crash when using <A HREF="if_pyth.html#Python">Python</A> <A HREF="eval.html#list">list</A> iterator.
Solution:   Increment the <A HREF="eval.html#list">list</A> reference <A HREF="intro.html#count">count</A>. (closes #7886)
Files:      src/if_py_both.h, src/testdir/test_python3.vim

Patch 8.2.2539
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return from finally block causes a hang.
Solution:   Store both the finally and endtry indexes. (closes #7885)
Files:      src/vim9execute.c, src/vim9compile.c, src/vim9.h,
            src/testdir/test_vim9_script.vim,

Patch 8.2.2540
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for using <A HREF="usr_41.html#script">script</A> var name for argument.
Solution:   Check for this error. (closes #7868)
Files:      src/userfunc.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.2541
Problem:    Popup_create() does not allow <A HREF="options.html#boolean">boolean</A> for &quot;cursorline&quot;.
Solution:   Use dict_get_bool(). (issue #7869)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.2542
Problem:    Highlight of char beyond line end is not correct. (Chuan Wei Foo)
Solution:   Fix counting NUL <A HREF="motion.html#as">as</A> one cell.  Draw one more character if the EOL
            is part of the match. (closes #7883)
Files:      src/match.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_1.dump,
            src/testdir/dumps/Test_hlsearch_2.dump

Patch 8.2.2543
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a return inside try/catch does not restore exception state
            properly.
Solution:   When there is no &quot;<A HREF="eval.html#:finally">:finally</A>&quot; jump to &quot;<A HREF="eval.html#:endtry">:endtry</A>&quot;. (closes #7882)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.2544
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for argument when checking for <A HREF="eval.html#lambda">lambda</A>.
Solution:   Respect the skip flag. (closes #7887)
Files:      src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2545
Problem:    Errors and crash when <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> is zero height. (Leonid <A HREF="visual.html#V">V</A>.
            Fedorenchik)
Solution:   Do not resize when width or height is zero. (closes #7890)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.2546
Problem:    Typo in mouse key name.
Solution:   Fix the typo. (issue #4725)
Files:      src/misc2.c

Patch 8.2.2547
Problem:    &quot;<A HREF="motion.html#&#37;">&#37;</A>&quot; command not accurate for big files.
Solution:   Make <A HREF="motion.html#it">it</A> more accurate for files up to 21M lines. (Dominique Pellé,
            closes #7889)
Files:      src/normal.c

Patch 8.2.2548
Problem:    May get stuck in the cmdline <A HREF="windows.html#window">window</A> using <A HREF="various.html#:normal">:normal</A>.
Solution:   Have nv_esc() return K_IGNORE.
Files:      src/normal.c

Patch 8.2.2549
Problem:    Crash after using &quot;<A HREF="eval.html#g:">g:</A>&quot; in a for loop.
Solution:   Increment the reference <A HREF="intro.html#count">count</A>. (closes #7892)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2550
Problem:    Signal stack size is wrong with latest glibc 2.34.
Solution:   Use sysconf(_SC_SIGSTKSZ) if available. (Zdenek Dohnal, closes
            #7895)
Files:      src/config.h.in, src/configure.ac, src/os_unix.c,
            src/auto/configure

Patch 8.2.2551
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: colors test file is not installed.
Solution:   Also copy runtime/colors/tools. (Ken Takata, closes #7902)
Files:      nsis/gvim.nsi

Patch 8.2.2552
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no reason to consider &quot;{{{{{{{{&quot; a command.
Solution:   Just use &quot;<A HREF="motion.html#{">{</A>&quot;. (issue #7904)
Files:      src/ex_cmds.h

Patch 8.2.2553
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Cannot put &quot;|&quot; after &quot;<A HREF="motion.html#{">{</A>&quot;.
Solution:   Add the EX_TRLBAR flag. (issue #7904)
Files:      src/ex_cmds.h, src/ex_eval.c

Patch 8.2.2554
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: exporting a final is not tested.
Solution:   Add a test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2555
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing test for 8.2.2553.
Solution:   Add a simple test.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2556
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#:import">:import</A> with &quot;<A HREF="motion.html#as">as</A>&quot; not fully supported.
Solution:   Implement &quot;<A HREF="motion.html#as">as</A>&quot; for more cases.
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.2557
Problem:    Compiler warning for shadowed variable.
Solution:   Declare &quot;<A HREF="change.html#p">p</A>&quot; only once.
Files:      src/vim9script.c

Patch 8.2.2558
Problem:    No error if a <A HREF="eval.html#lambda">lambda</A> argument shadows a variable.
Solution:   Check that the argument name shadows a local, argument or <A HREF="usr_41.html#script">script</A>
            variable. (closes #7898)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/userfunc.c,
            src/vim9script.c, src/errors.h, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_script.vim

Patch 8.2.2559
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: guifont test fails on Windows XP.
Solution:   Check <A HREF="builtin.html#windowsversion()">windowsversion()</A>.
Files:      src/testdir/test_gui.vim

Patch 8.2.2560
Problem:    Setting 'winminheigt' does not take tabline into account.
Solution:   Subtract the tabline from the available height. (closes #7899)
Files:      src/window.c, src/testdir/test_options.vim

Patch 8.2.2561
Problem:    Not all <A HREF="textprop.html#textprop">textprop</A> code is covered by tests.
Solution:   Add a few more test cases. (Dominique Pellé, closes #7908)
Files:      src/testdir/test_textprop.vim

Patch 8.2.2562
Problem:    <A HREF="gui.html#GUI">GUI</A>: <A HREF="pattern.html#star">star</A> <A HREF="sponsor.html#register">register</A> changed when <A HREF="options.html#'clipboard'">'clipboard'</A> is &quot;unnamedplus&quot;. (Ingo
            Karkat)
Solution:   Do not change the <A HREF="pattern.html#star">star</A> <A HREF="sponsor.html#register">register</A> when <A HREF="options.html#'clipboard'">'clipboard'</A> contains
            &quot;unnamedplus&quot; and not &quot;unnamed&quot;. (closes #1516)
Files:      src/register.c

Patch 8.2.2563
Problem:    Cannot use <A HREF="mbyte.html#multibyte">multibyte</A> characters for <A HREF="fold.html#folding">folding</A> in <A HREF="options.html#'fillchars'">'fillchars'</A>.
Solution:   Port pull request 11568 to Vim. (Yegappan Lakshmanan,
            closes #7924)
Files:      src/drawline.c, src/drawscreen.c, src/macros.h,
            src/proto/screen.pro, src/screen.c, src/testdir/test_fold.vim,
            src/testdir/test_profile.vim

Patch 8.2.2564
Problem:    Focus events end <A HREF="insert.html#Insert">Insert</A> mode if <A HREF="options.html#'esckeys'">'esckeys'</A> is not set.
Solution:   Do not enable focus events when <A HREF="options.html#'esckeys'">'esckeys'</A> is off. (closes #7926)
Files:      src/term.c

Patch 8.2.2565
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;..=&quot; not always recognized.
Solution:   Do not consider &quot;..=&quot; to be <A HREF="eval.html#string">string</A> concatenation. (closes #7905)
Files:      src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2566
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Function name is not recognized.
Solution:   Change lookup_scriptvar() to also find function names.
            (closes #7770)
Files:      src/vim9script.c, src/evalvars.c, src/proto/evalvars.pro,
            src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2567
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if variable is defined for existing function.
Solution:   Check if name isn't already in use. (closes #7897)
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.2568
Problem:    Second time a preview <A HREF="popup.html#popup">popup</A> is opened highlight is not set.
            (Gabriel Dupras)
Solution:   Apply <A HREF="options.html#'previewpopup'">'previewpopup'</A> after getting the file. (closes #7928)
Files:      src/tag.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_previewpopup_2.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_3.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_4.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_5.dump

Patch 8.2.2569
Problem:    <A HREF="options.html#'fillchars'">'fillchars'</A> &quot;stl&quot; and &quot;stlnc&quot; items must be single byte.
Solution:   Accept <A HREF="mbyte.html#multi-byte">multi-byte</A> characters. (Christian Wellenbrock, Yegappan
            Lakshmanan, closes #7927)
Files:      runtime/doc/options.txt, src/buffer.c, src/macros.h, src/screen.c,
            src/testdir/test_fold.vim, src/testdir/test_statusline.vim

Patch 8.2.2570
Problem:    Tests fail when run <A HREF="motion.html#as">as</A> root.
Solution:   Add a comment mentioning the expected failure. (issue #7919)
Files:      src/testdir/test_edit.vim, src/testdir/test_excmd.vim,
            src/testdir/test_help.vim, src/testdir/test_writefile.vim

Patch 8.2.2571
Problem:    Test may leave file behind.
Solution:   Delete the temporary file.  Don't <A HREF="repeat.html#profile">profile</A> in the running Vim
            instance.
Files:      src/testdir/test_quickfix.vim, src/testdir/test_profile.vim

Patch 8.2.2572
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when getting the types for a legacy function.
Solution:   Initialize the type <A HREF="eval.html#list">list</A> growarray. (closes #7929)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2573
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using invalid pointer for error message.
Solution:   Use the right pointer. (closes #7921)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2574
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when calling <A HREF="builtin.html#partial">partial</A> with wrong function.
Solution:   Check argument types of called function. (closes #7912)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.2575
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a function name with &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot; in the next line doesn't work.
Solution:   Recognize a function name by itself. (closes #7770)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2576
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: defining a :func function checks for white space after a
            comma in the arguments.
Solution:   Only check for white space in a <A HREF="vim9.html#:def">:def</A> function. (closes #7930)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2577
Problem:    Compiler warning for type conversion.
Solution:   Add a typecast. (Mike Williams)
Files:      src/drawline.c

Patch 8.2.2578
Problem:    <A HREF="if_lua.html#Lua">Lua</A> cannot handle a passed in <A HREF="eval.html#lambda">lambda</A>.
Solution:   Handle VAR_PARTIAL. (Prabir Shrestha, closes #7937, closes #7936)
Files:      src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.2579
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash in garbagecollect after for loop.
Solution:   Do not set a reference in <A HREF="usr_41.html#script">script</A> item when the name was cleared.
            (closes #7935)
Files:      src/evalvars.c

Patch 8.2.2580
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: checking vararg type is wrong when function is auto-loaded.
Solution:   Use the member type. (closes #7933)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.2581
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: sourcing <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> triggers a redraw.
Solution:   Do not let setting/restoring <A HREF="options.html#'cpoptions'">'cpoptions'</A> cause a redraw.
            (closes #7920)
Files:      src/vim.h, src/option.c, src/optionstr.c, src/scriptfile.c,
            src/vim9script.c, src/testdir/test_vim9_script.vim,
            src/testdir/dumps/Test_vim9_no_redraw.dump

Patch 8.2.2582 (after 8.2.2581)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: screendump test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use <A HREF="eval.html#:function">:function</A> instead of <A HREF="vim9.html#:def">:def</A>.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2583
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot compare result of <A HREF="builtin.html#getenv()">getenv()</A> with <A HREF="vim9.html#null">null</A>.
Solution:   Make the return type of <A HREF="builtin.html#getenv()">getenv()</A> &quot;any&quot;. (closes #7943)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2584
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error for assigning the result of <A HREF="eval.html#list">list</A> concatenation to
            a <A HREF="eval.html#list">list</A>.
Solution:   Do not consider concatenation result in a constant. (closes #7942)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2585
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: illegal memory access.
Solution:   Check byte right after &quot;<A HREF="vim9.html#null">null</A>&quot;, not one more.
Files:      src/vim9compile.c

Patch 8.2.2586
Problem:    Process id may be invalid.
Solution:   Use sysinfo.uptime to check for recent reboot. (suggested by Hugo
            van der Sanden, closes #7947)
Files:      src/configure.ac, src/auto/configure, src/config.h.in,
            src/memline.c, src/testing.c, src/globals.h,
            src/testdir/test_recover.vim

Patch 8.2.2587 (after 8.2.2586)
Problem:    Recover test fails on FreeBSD.
Solution:   Check for Linux.
Files:      src/testdir/check.vim, src/testdir/test_recover.vim

Patch 8.2.2588 (after 8.2.2586)
Problem:    Build failure with tiny features.
Solution:   Add #ifdef.  Run recover test separately.
Files:      src/memline.c, src/testdir/Make_all.mak, src/testdir/test_alot.vim

Patch 8.2.2589 (after 8.2.2586)
Problem:    Recover test hangs in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add g:skipped_reason to skip a _nocatch_ test.
Files:      src/testdir/runtest.vim, src/testdir/test_recover.vim

Patch 8.2.2590
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: default argument value may cause internal error.
Solution:   Hide later function arguments when compiling the <A HREF="eval.html#expression">expression</A>.
            (closes #7948)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2591
Problem:    Poke files are not recognized.
Solution:   Add a <A HREF="filetype.html#filetype">filetype</A> entry. (Matt Ihlenfield)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2592
Problem:    Code coverage could be improved.
Solution:   Add a few more tests. (Dominique Pellé, closes #7957)
Files:      src/testdir/test_fileformat.vim, src/testdir/test_normal.vim,
            src/testdir/test_sleep.vim, src/testdir/test_textformat.vim,
            src/testdir/test_viminfo.vim

Patch 8.2.2593
Problem:    <A HREF="eval.html#List">List</A> of distributed files is incomplete.
Solution:   Add a file and rename another.
Files:      Filelist

Patch 8.2.2594
Problem:    Alternate buffer added to session file even when it's hidden.
Solution:   Check the <A HREF="options.html#'buflisted'">'buflisted'</A> option. (closes #7951)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.2595
Problem:    Setting <A HREF="options.html#'winminheight'">'winminheight'</A> may cause <A HREF="options.html#'lines'">'lines'</A> to change.
Solution:   Also take minimal height of other tabpages into account. (#7899)
Files:      src/window.c, src/testdir/test_options.vim

Patch 8.2.2596
Problem:    <A HREF="autocmd.html#:doautocmd">:doautocmd</A> may confuse scripts listening to <A HREF="autocmd.html#WinEnter">WinEnter</A>.
Solution:   Do the current buffer last. (closes #7958)
Files:      src/autocmd.c, src/testdir/test_autocmd.vim

Patch 8.2.2597
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;import &#42; as&quot; does not work at <A HREF="usr_41.html#script">script</A> level.
Solution:   Implement using an imported namespace.
Files:      src/vim.h, src/eval.c, src/evalvars.c, src/proto/evalvars.pro,
            src/vim9execute.c, src/errors.h, src/vim9script.c,
            src/proto/vim9script.pro, src/testdir/test_vim9_script.vim

Patch 8.2.2598
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vi_diff.html#:open">:open</A> does not need to be supported.
Solution:   Do not support <A HREF="vi_diff.html#:open">:open</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/ex_docmd.c, src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.2599 (after 8.2.2597)
Problem:    Build failure.
Solution:   Add missing change.
Files:      src/vim9compile.c

Patch 8.2.2600
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when putting an unknown type in a dictionary.
            (Yegappan Lakshmanan)
Solution:   Handle a NULL type pointer.
Files:      src/vim9type.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2601
Problem:    Memory usage test often fails on FreeBSD.
Solution:   Increase multiplier for upper limit.
Files:      src/testdir/test_memory_usage.vim

Patch 8.2.2602
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: continue doesn't work if <A HREF="eval.html#:while">:while</A> is very first command.
            (Yegappan Lakshmanan)
Solution:   Add one to the continue instruction index.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.2603
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no effect if user command is also a function.
Solution:   Check for paren following. (closes #7960)
Files:      src/evalvars.c, src/proto/evalvars.pro, src/ex_docmd.c,
            src/proto/ex_docmd.pro, src/vim9compile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2604
Problem:    GUI-specific command line arguments not tested.
Solution:   Add tests for several arguments. (Dominique Pellé, closes #7962)
Files:      src/testdir/test_startup.vim

Patch 8.2.2605
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#string">string</A> index and <A HREF="eval.html#slice">slice</A> does not include composing chars.
Solution:   Include composing characters. (issue #6563)
Files:      runtime/doc/vim9.txt, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2606
Problem:    <A HREF="builtin.html#strchars()">strchars()</A> defaults to counting composing characters.
Solution:   Add <A HREF="builtin.html#strcharlen()">strcharlen()</A> which ignores composing characters.
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/testdir/test_utf8.vim

Patch 8.2.2607
Problem:    <A HREF="builtin.html#strcharpart()">strcharpart()</A> cannot include composing characters.
Solution:   Add the {skipcc} argument.
Files:      runtime/doc/eval.txt, src/evalfunc.c,
            src/testdir/test_expr_utf8.vim

Patch 8.2.2608
Problem:    Character input not fully tested.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #7963)
Files:      src/testdir/test_functions.vim, src/testdir/test_messages.vim,
            src/testdir/test_paste.vim, src/testdir/test_registers.vim,
            src/testdir/test_undo.vim

Patch 8.2.2609
Problem:    Test disabled on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> even though <A HREF="motion.html#it">it</A> should work.
Solution:   Restore the condition for skipping the test. (Ken Takata,
            closes #7970)
Files:      src/testdir/test_startup.vim

Patch 8.2.2610
Problem:    Mouse click test fails when using remote connection.
Solution:   Use a larger <A HREF="options.html#'mousetime'">'mousetime'</A>. (Dominique Pellé, closes #7968)
Files:      src/testdir/test_selectmode.vim

Patch 8.2.2611
Problem:    Conditions for <A HREF="starting.html#startup">startup</A> tests are not exactly right.
Solution:   Check for type of <A HREF="gui.html#GUI">GUI</A> instead of <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ozaki Kiichi,
            closes #7976)
Files:      src/main.c, src/testdir/check.vim, src/testdir/test_startup.vim

Patch 8.2.2612
Problem:    col('.') may get outdated column value.
Solution:   Add a note to the help how to make this work and add a test for
            <A HREF="motion.html#it">it</A>. (closes #7971)
Files:      runtime/doc/map.txt, src/testdir/test_mapping.vim

Patch 8.2.2613 (after 8.2.2612)
Problem:    New test throws exception.
Solution:   Adjust the function cleanup.
Files:      src/testdir/test_mapping.vim

Patch 8.2.2614
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function is deleted while executing.
Solution:   increment the call <A HREF="intro.html#count">count</A>, when more than zero <A HREF="diff.html#do">do</A> not delete the
            function but <A HREF="motion.html#mark">mark</A> <A HREF="motion.html#it">it</A> <A HREF="motion.html#as">as</A> dead. (closes #7977)
Files:      src/vim9execute.c, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2615 (after 8.2.2614)
Problem:    Test is sourcing the wrong file.
Solution:   Correct the file name.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2616
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: if <A HREF="options.html#'cpo'">'cpo'</A> is changed in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="motion.html#it">it</A> may be restored.
Solution:   Apply the changes to <A HREF="options.html#'cpo'">'cpo'</A> to the restored value.
Files:      runtime/doc/vim9.txt, src/scriptfile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2617
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> variable in a block scope not found by a nested
            function.
Solution:   Copy the block scope IDs before compiling the function.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2618
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a normal <A HREF="eval.html#list">list</A> name to store function refs.
Solution:   Allow a lower <A HREF="change.html#case">case</A> name if <A HREF="motion.html#it">it</A> is indexed.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2619
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for return type of <A HREF="eval.html#lambda">lambda</A>.
Solution:   Add a test.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.2620
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Using #{ for a dictionary gives strange <A HREF="message.html#errors">errors</A>.
Solution:   Give an error when using #{ for a comment after a command.
Files:      src/vim9compile.c, src/vim9script.c, src/proto/vim9script.pro,
            src/errors.h, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2621
Problem:    typval2type() cannot handle recursive structures.
Solution:   Use copyID. (closes #7979)
Files:      src/list.c, src/vim9script.c, src/vim9type.c,
            src/proto/vim9type.pro, src/testdir/test_vimscript.vim

Patch 8.2.2622
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: error when starting up and <A HREF="gui_x11.html#-geometry">-geometry</A> is given. (Dominique
            Pellé)
Solution:   Use another function to get the monitor if the <A HREF="windows.html#window">window</A> has not been
            created yet. (closes #7978)
Files:      src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro, src/gui_beval.c,
            src/gui_xim.c

Patch 8.2.2623
Problem:    Some tests fail when run <A HREF="motion.html#as">as</A> root.
Solution:   Use CheckNotRoot.
Files:      src/testdir/test_edit.vim, src/testdir/test_excmd.vim,
            src/testdir/test_help.vim, src/testdir/test_writefile.vim

Patch 8.2.2624
Problem:    Atom files not recognized.
Solution:   Recognize .atom <A HREF="motion.html#as">as</A> XML. (Kivin Locke, closes #7986)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2625
Problem:    Rss files not recognized.
Solution:   Recognize .rss <A HREF="motion.html#as">as</A> XML. (Kivin Locke, closes #7987)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2626
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: error when starting up and <A HREF="gui_x11.html#-geometry">-geometry</A> is given. (Dominique
            Pellé)
Solution:   Use another function to get the monitor if the <A HREF="windows.html#window">window</A> has not been
            created yet. (closes #7978)
Files:      src/gui_gtk_x11.c

Patch 8.2.2627
Problem:    No need to check for BSD after checking for not root.
Solution:   Remove CheckNotBSD. (Ozaki Kiichi, closes #7989)
Files:      src/testdir/test_excmd.vim, src/testdir/test_help.vim,
            src/testdir/check.vim

Patch 8.2.2628
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: #{ can still be used at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Give an error for #{ like in a <A HREF="vim9.html#:def">:def</A> function.
Files:      src/eval.c, src/ex_docmd.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2629
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for #{{ is not desired.
Solution:   Adjust the checks. (closes #7990)
Files:      src/errors.h, src/vim9script.c, src/ex_docmd.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2630
Problem:    Hard to see where a test gets stuck.
Solution:   Print the executed test function. (Dominique Pellé, closes #7975)
Files:      src/testdir/Makefile

Patch 8.2.2631
Problem:    Commands from <A HREF="builtin.html#winrestcmd()">winrestcmd()</A> <A HREF="diff.html#do">do</A> not always work properly. (Leonid <A HREF="visual.html#V">V</A>.
            Fedorenchik)
Solution:   Repeat the size commands <A HREF="if_cscop.html#twice">twice</A>. (closes #7988)
Files:      src/evalwindow.c, src/testdir/test_window_cmd.vim

Patch 8.2.2632
Problem:    Not all command line arguments are tested.
Solution:   Add tests for <A HREF="starting.html#-D">-D</A> and -serverlist. (Dominique Pellé, closes #7992)
Files:      src/testdir/test_clientserver.vim, src/testdir/test_startup.vim

Patch 8.2.2633
Problem:    Multi-byte <A HREF="options.html#'fillchars'">'fillchars'</A> for <A HREF="fold.html#folding">folding</A> <A HREF="diff.html#do">do</A> not show properly.
Solution:   Handle <A HREF="mbyte.html#multi-byte">multi-byte</A> characters correctly. (Yegappan Lakshmanan,
            closes #7983, closes #7955)
Files:      src/screen.c, src/testdir/test_fold.vim

Patch 8.2.2634
Problem:    <A HREF="options.html#'tagfunc'">'tagfunc'</A> does not indicate using a <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Add the &quot;<A HREF="change.html#r">r</A>&quot; flag. (Andy Massimino, closes #7982)
Files:      runtime/doc/tagsrch.txt, src/tag.c, src/testdir/test_tagfunc.vim

Patch 8.2.2635
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot define an inline function.
Solution:   Make an inline function mostly work.
Files:      src/userfunc.c, src/errors.h, src/vim9compile.c, src/misc2.c,
            src/proto/vim9compile.pro, src/testdir/test_vim9_expr.vim

Patch 8.2.2636 (after 8.2.2635)
Problem:    Memory leak when compiling inline function.
Solution:   Free the prefetched line.
Files:      src/userfunc.c, src/vim9compile.c, src/structs.h, src/globals.h,
            src/eval.c

Patch 8.2.2637
Problem:    <A HREF="textprop.html#prop_remove()">prop_remove()</A> causes a redraw even when nothing changed.
Solution:   Only redraw if a property was removed. (Dominique Pellé)
Files:      src/textprop.c

Patch 8.2.2638
Problem:    Cannot write a message to the <A HREF="terminal.html#terminal">terminal</A> from the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add <A HREF="eval.html#:echoconsole">:echoconsole</A> and use <A HREF="motion.html#it">it</A> in the test runner. (issue #7975)
Files:      runtime/doc/eval.txt, runtime/doc/index.txt, src/ex_cmds.h,
            src/ex_cmdidxs.h, src/eval.c, src/ui.c, src/proto/ui.pro,
            src/term.c, src/testdir/runtest.vim

Patch 8.2.2639 (after 8.2.2638)
Problem:    Build failure when fsync() is not available.
Solution:   Add #ifdef.
Files:      src/ui.c

Patch 8.2.2640
Problem:    <A HREF="builtin.html#screenstring()">screenstring()</A> returns non-existing composing characters.
Solution:   Only use composing characters if there is a base character.
Files:      src/evalfunc.c, src/testdir/test_listchars.vim

Patch 8.2.2641
Problem:    Display test fails because of lacking redraw.
Solution:   Add a redraw command.
Files:      src/testdir/test_display.vim

Patch 8.2.2642
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no clear error for wrong inline function.
Solution:   Check for something following the &quot;<A HREF="motion.html#{">{</A>&quot;.
Files:      src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2643
Problem:    Various code not covered by tests.
Solution:   Add a few more test. (Yegappan Lakshmanan, closes #7995)
Files:      src/testdir/test_edit.vim, src/testdir/test_functions.vim,
            src/testdir/test_mapping.vim, src/testdir/test_termcodes.vim,
            src/testdir/test_undo.vim

Patch 8.2.2644
Problem:    <A HREF="textprop.html#prop_clear()">prop_clear()</A> causes a screen update even when nothing changed.
Solution:   Only redraw when a property was cleared. (Dominique Pellé)
Files:      src/textprop.c

Patch 8.2.2645
Problem:    Using inline function is not properly tested.
Solution:   Add test cases, esp. for <A HREF="message.html#errors">errors</A>.  Minor code improvements.
Files:      src/userfunc.c, src/errors.h, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2646
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for not using <A HREF="eval.html#string">string</A> doesn't mention argument.
Solution:   Add argument number.
Files:      src/filepath.c, src/typval.c, src/proto/typval.pro, src/errors.h,
            src/mbyte.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2647
Problem:    Terminal test sometimes hangs.
Solution:   Wait for the shell to display a prompt.
Files:      src/testdir/test_terminal.vim

Patch 8.2.2648
Problem:    Terminal resize test sometimes hangs.
Solution:   Wait for the shell to display a prompt and other output.
Files:      src/testdir/test_terminal2.vim

Patch 8.2.2649
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some wincmd arguments cause a white space error.
Solution:   <A HREF="insert.html#Insert">Insert</A> a space before the <A HREF="intro.html#count">count</A>. (closes #8001)
Files:      src/window.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2650
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: command modifiers not handled in nested function.
Solution:   Keep function-local info in a structure and save <A HREF="motion.html#it">it</A> on the stack.
Files:      src/vim9execute.c, src/vim9.h, src/testdir/test_vim9_func.vim

Patch 8.2.2651
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: restoring command modifiers happens after jump.
Solution:   Move the restore instruction to before the jump. (closes #8006)
            Also handle for and while.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2652
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can use command modifier without an effect.
Solution:   Give an error for a misplaced command modifier.  Fix error message
            number.
Files:      src/vim9compile.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/ex_eval.c, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2653
Problem:    Build failure.
Solution:   Add missing changes.
Files:      src/errors.h

Patch 8.2.2654
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: getting a character from a <A HREF="eval.html#string">string</A> can be slow.
Solution:   Avoid a function call to get the character byte size. (#8000)
Files:      src/vim9execute.vim

Patch 8.2.2655
Problem:    The <A HREF="starting.html#-w">-w</A> command line argument doesn't work.
Solution:   Don't set <A HREF="options.html#'window'">'window'</A> when set with the <A HREF="starting.html#-w">-w</A> argument. (closes #8011)
Files:      src/term.c, src/testdir/test_startup.vim

Patch 8.2.2656
Problem:    Some command line arguments and <A HREF="pattern.html#regexp">regexp</A> <A HREF="message.html#errors">errors</A> not tested.
Solution:   Add a few test cases. (Dominique Pellé, closes #8013)
Files:      src/testdir/test_regexp_latin.vim, src/testdir/test_startup.vim

Patch 8.2.2657
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message for declaring variable in for loop.
Solution:   Clear <A HREF="eval.html#variables">variables</A> when entering block again. (closes #8012)
Files:      src/ex_eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.2658
Problem:    <A HREF="eval.html#:for">:for</A> cannot loop over a <A HREF="eval.html#string">string</A>.
Solution:   Accept a <A HREF="eval.html#string">string</A> argument and iterate over its characters.
Files:      runtime/doc/eval.txt, src/eval.c, src/vim9compile.c,
            src/vim9execute.c, src/errors.h, src/testdir/test_vimscript.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2659 (after 8.2.2658)
Problem:    Eval test fails because for loop on <A HREF="eval.html#string">string</A> works.
Solution:   Check looping over function reference fails.
Files:      src/testdir/test_eval_stuff.vim

Patch 8.2.2660
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for declaration with trailing text.
Solution:   Give an error. (closes #8014)
Files:      src/evalvars.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2661
Problem:    Leaking memory when looping over a <A HREF="eval.html#string">string</A>.
Solution:   Free the memory.
Files:      src/eval.c

Patch 8.2.2662
Problem:    There is no way to avoid some <A HREF="intro.html#escape">escape</A> sequences.
Solution:   Suppress <A HREF="intro.html#escape">escape</A> sequences when the <A HREF="starting.html#--not-a-term">--not-a-term</A> argument is used.
            (Gary Johnson)
Files:      src/main.c, src/os_unix.c, src/testdir/test_startup.vim

Patch 8.2.2663
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when inline function has an error.
Solution:   Free the partially allocated function.
Files:      src/userfunc.c

Patch 8.2.2664
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough function arguments checked for <A HREF="eval.html#string">string</A>.
Solution:   Check in balloon <A HREF="eval.html#functions">functions</A>.  Refactor function arguments.
Files:      src/typval.c, src/proto/typval.pro, src/filepath.c,
            src/evalfunc.c, src/mbyte.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2665 (after 8.2.2664)
Problem:    Test failures.
Solution:   Check more specific feature.  Add missing change.
Files:      src/testdir/test_vim9_builtin.vim, src/evalbuffer.c

Patch 8.2.2666
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough function arguments checked for <A HREF="eval.html#string">string</A>.
Solution:   Check in <A HREF="channel.html#ch_logfile()">ch_logfile()</A>, <A HREF="builtin.html#char2nr()">char2nr()</A> and others.
Files:      src/channel.c, src/evalfunc.c, src/filepath.c, src/eval.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2667
Problem:    <A HREF="textprop.html#prop_find()">prop_find()</A> cannot find item matching both id and type.
Solution:   Add the &quot;both&quot; argument. (Naohiro Ono, closes #8019)
Files:      runtime/doc/textprop.txt, src/testdir/test_textprop.vim,
            src/textprop.c

Patch 8.2.2668
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: omitting &quot;call&quot; for &quot;<A HREF="builtin.html#confirm()">confirm()</A>&quot; does not give an error.
Solution:   Do not recognize a modifier followed by &quot;<A HREF="motion.html#(">(</A>&quot;.
Files:      src/ex_docmd.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2669
Problem:    Command line completion does not work after &quot;<A HREF="vim9.html#vim9">vim9</A>&quot;.
Solution:   Include the &quot;9&quot;. (Naohiro Ono, closes #8025)
Files:      src/cmdexpand.c, src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.2.2670
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for append(0, text).
Solution:   Check for negative number. (closes #8022)
Files:      src/typval.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2671 (after 8.2.2670)
Problem:    Error for line number in legacy <A HREF="usr_41.html#script">script</A>.
Solution:   Check for number type.
Files:      src/typval.c

Patch 8.2.2672
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="eval.html#:lockvar">:lockvar</A> and <A HREF="eval.html#:unlockvar">:unlockvar</A> in compiled <A HREF="usr_41.html#script">script</A>.
Solution:   Implement locking support.
Files:      src/vim9compile.c, src/errors.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.2673
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="map.html#script-local">script-local</A> funcref can have lower <A HREF="change.html#case">case</A> name.
Solution:   Require an upper <A HREF="change.html#case">case</A> name.
Files:      src/evalvars.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2674
Problem:    <A HREF="gui_x11.html#Motif">Motif</A>: cancelling the font <A HREF="gui_w32.html#dialog">dialog</A> resets the font.
Solution:   When no font is selected to not change the font. (closes #7825,
            closes #8035)  Fix compiler warnings.
Files:      src/gui_x11.c, src/gui_motif.c

Patch 8.2.2675
Problem:    Directory change in a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> shell is not followed.
Solution:   Add the <A HREF="options.html#'autoshelldir'">'autoshelldir'</A> option. (closes #6290)
Files:      runtime/doc/options.txt, runtime/doc/quickref.txt,
            runtime/optwin.vim, src/charset.c, src/feature.h, src/option.h,
            src/optiondefs.h, src/terminal.c, src/testdir/check.vim,
            src/testdir/test_terminal3.vim

Patch 8.2.2676
Problem:    Missing error message.
Solution:   Add new error message.
Files:      src/errors.h

Patch 8.2.2677
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use only some of the default arguments.
Solution:   Use <A HREF="eval.html#v:none">v:none</A> to use default argument value.  Remove
            uf_def_arg_idx[], use JUMP_IF_ARG_SET. (closes #6504)
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/vim9execute.c,
            src/userfunc.c, src/structs.h, src/vim9.h,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2678
Problem:    Test for <A HREF="options.html#'autoshelldir'">'autoshelldir'</A> does not reset the option.
Solution:   Reset the option after <A HREF="testing.html#testing">testing</A>.
Files:      src/testdir/test_terminal3.vim

Patch 8.2.2679
Problem:    Winbar drawn over status line for non-current <A HREF="windows.html#window">window</A> with winbar
            if frame is zero height. (Leonid <A HREF="visual.html#V">V</A>. Fedorenchik)
Solution:   Do not draw the <A HREF="windows.html#window">window</A> if the frame height is zero. (closes #8037)
Files:      src/drawscreen.c, src/testdir/test_winbar.vim,
            src/testdir/dumps/Test_winbar_not_visible.dump

Patch 8.2.2680
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: problem defining a <A HREF="usr_41.html#script">script</A> variable from legacy function.
Solution:   Check if the <A HREF="usr_41.html#script">script</A> is <A HREF="vim9.html#Vim9">Vim9</A>, not the current <A HREF="syntax.html#syntax">syntax</A>.
            (closes #8032)
Files:      src/vim9script.c, src/proto/vim9script.pro, src/evalvars.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2681
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails for redeclaring <A HREF="usr_41.html#script">script</A> variable.
Solution:   It's OK to assign to an existing <A HREF="usr_41.html#script">script</A> variable in legacy.
Files:      src/evalvars.c

Patch 8.2.2682
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot find Name.Func from &quot;import &#42; <A HREF="motion.html#as">as</A> Name&quot;. (Alexander
            Goussas)
Solution:   When no variable found try finding a function. (closes #8045)
            Check that the function was exported.
Files:      src/vim9compile.c, src/vim9script.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.2683
Problem:    Build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add #ifdef.
Files:      src/vim9script.c

Patch 8.2.2684
Problem:    Not enough <A HREF="fold.html#folding">folding</A> code is tested.
Solution:   Add more test cases. (Yegappan Lakshmanan, closes #8046)
Files:      src/testdir/test_fold.vim, src/testdir/test_mksession.vim,
            src/testdir/test_source.vim

Patch 8.2.2685 (after 8.2.2152)
Problem:    Custom statusline not drawn correctly with <A HREF="gui.html#WinBar">WinBar</A>.
Solution:   Also adjust the column for the custom status line. (Yee Cheng
            Chin, closes #8047)
Files:      src/drawscreen.c, src/proto/drawscreen.pro, src/screen.c,
            src/testdir/dumps/Test_winbar_not_visible_custom_statusline.dump,
            src/testdir/test_winbar.vim

Patch 8.2.2686
Problem:    Status line is not updated when going to cmdline mode.
Solution:   Redraw status lines if <A HREF="options.html#'statusline'">'statusline'</A> is set and going to status
            line mode. (based on patch from Justin <A HREF="motion.html#M">M</A>. Keyes et al.,
            closes #8044)
Files:      src/ex_getln.c, src/testdir/test_statusline.vim,
            src/testdir/dumps/Test_statusline_mode_1.dump,
            src/testdir/dumps/Test_statusline_mode_2.dump

Patch 8.2.2687
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use &quot;const&quot; for global variable in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Do allow using <A HREF="eval.html#:const">:const</A> for a global variable. (closes #8030)
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2688
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using <A HREF="change.html#s">s</A>: for <A HREF="usr_41.html#script">script</A> variable.
Solution:   Pass the end pointer. (closes #8045)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2689
Problem:    Tiny build fails.
Solution:   Add #ifdef around use of p_stl.
Files:      src/ex_getln.c

Patch 8.2.2690
Problem:    PowerShell files are not recognized.
Solution:   Recognize several PowerShell extension. (Heath Stewart,
            closes #8051)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2691
Problem:    Autoconf may mess up compiler flags.
Solution:   Handle removing FORTIFY_SOURCE a bit better. (Vladimir Lomov,
            closes #8049)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2692
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: locked <A HREF="usr_41.html#script">script</A> variable can be changed.
Solution:   Check for locked value. (closes #8031)
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2693
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: locked <A HREF="usr_41.html#script">script</A> variable can be changed.
Solution:   Check legacy <A HREF="usr_41.html#script">script</A> variable for being locked. (issue #8031)
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2694
Problem:    When <A HREF="options.html#'matchpairs'">'matchpairs'</A> is empty every character beeps. (Marco Hinz)
Solution:   Bail out when no character in <A HREF="options.html#'matchpairs'">'matchpairs'</A> was found.
            (closes #8053)  Add <A HREF="testing.html#assert_nobeep()">assert_nobeep()</A>.
Files:      runtime/doc/testing.txt, runtime/doc/eval.txt, src/search.c,
            src/testing.c, src/proto/testing.pro, src/evalfunc.c,
            src/testdir/test_textformat.vim

Patch 8.2.2695
Problem:    Cursor position reset with nested <A HREF="autocmd.html#autocommands">autocommands</A>.
Solution:   Only check and reset line numbers for not nested <A HREF="autocmd.html#autocommands">autocommands</A>.
            (closes #5820)
Files:      src/autocmd.c, src/testdir/test_terminal.vim

Patch 8.2.2696
Problem:    <A HREF="if_lua.html#Lua">Lua</A> test fails with <A HREF="if_lua.html#Lua">Lua</A> 5.4.3 and later.
Solution:   Check for different error <A HREF="message.html#messages">messages</A>. (Yegappan Lakshmanan,
            closes #8050)
Files:      src/testdir/test_lua.vim

Patch 8.2.2697
Problem:    Function <A HREF="eval.html#list">list</A> test fails.
Solution:   Add missing function. (Yegappan Lakshmanan)
Files:      runtime/doc/usr_41.txt

Patch 8.2.2698 (after 8.2.2696)
Problem:    <A HREF="if_lua.html#Lua">Lua</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Fall back to old <A HREF="eval.html#method">method</A> if &quot;<A HREF="if_lua.html#lua">lua</A> -v&quot; doesn't work.
Files:      src/testdir/test_lua.vim

Patch 8.2.2699
Problem:    <A HREF="if_lua.html#Lua">Lua</A> test fails.
Solution:   Fix condition. (Yegappan Lakshmanan, closes #8060)
Files:      src/testdir/test_lua.vim

Patch 8.2.2700
Problem:    Nested autocmd test fails sometimes.
Solution:   Wait for the <A HREF="channel.html#job">job</A> to finish.
Files:      src/testdir/test_terminal.vim

Patch 8.2.2701
Problem:    Order of removing FORTIFY_SOURCE is wrong.
Solution:   Use the more specific <A HREF="pattern.html#pattern">pattern</A> first.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2702
Problem:    Compiler completion test fails when more scripts are added.
Solution:   Add a more generic <A HREF="pattern.html#pattern">pattern</A>.
Files:      src/testdir/test_compiler.vim

Patch 8.2.2703
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when failing on locked variable.
Solution:   Free the memory.
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2704
Problem:    Adding a lot of completions can be a bit slow.
Solution:   Use fast_breakcheck() instead of ui_breakcheck() when adding a
            <A HREF="eval.html#list">list</A> of completions. (Ben Jackson, closes #8061)
Files:      src/insexpand.c

Patch 8.2.2705
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: misleading reported line number for wrong type.
Solution:   Remember and use the line number at the start. (closes #8059)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2706
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong line number reported for <A HREF="options.html#boolean">boolean</A> <A HREF="motion.html#operator">operator</A>.
Solution:   Use the line number before skipping over line break.
            (closes #8058)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2707 (after 8.2.2704)
Problem:    Adding a lot of completions can still be a bit slow.
Solution:   Add the check for CP_FAST. (Ben Jackson)
Files:      src/insexpand.c

Patch 8.2.2708
Problem:    Test sometimes fails waiting for shell in <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Use WaitForAssert() so we can see the actual <A HREF="channel.html#job">job</A> status.  Use
            Run_shell_in_terminal().
Files:      src/testdir/term_util.vim, src/testdir/test_mksession.vim

Patch 8.2.2709
Problem:    The <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A> has a gap next to the scrollbar.
Solution:   Calculate the scrollbar padding for <A HREF="gui_x11.html#GTK">GTK</A>. (closes #8027)
Files:      src/gui_gtk.c

Patch 8.2.2710
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all tests cover <A HREF="usr_41.html#script">script</A> and <A HREF="vim9.html#:def">:def</A> function.
Solution:   Run tests in both if possible. Fix differences.
Files:      src/eval.c, src/vim9compile.c, src/vim9execute.c,
            src/testdir/vim9.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.2711
Problem:    &quot;<A HREF="motion.html#gj">gj</A>&quot; in a closed fold does not move out of the fold. (Marco Hinz)
Solution:   Add a check for being in a closed fold. (closes #8062)
Files:      src/normal.c, src/testdir/test_fold.vim

Patch 8.2.2712
Problem:    Memory leak when adding to a <A HREF="eval.html#blob">blob</A> fails.
Solution:   Clear the second typval before returning.
Files:      src/eval.c

Patch 8.2.2713
Problem:    <A HREF="fold.html#Folding">Folding</A> code not sufficiently tested.
Solution:   Add a few more test cases. (Yegappan Lakshmanan, closes #8064)
Files:      src/testdir/test_fold.vim

Patch 8.2.2714
Problem:    Filetype <A HREF="pattern.html#pattern">pattern</A> ending in <A HREF="pattern.html#star">star</A> is too far up.
Solution:   Move down to where patterns ending in <A HREF="pattern.html#star">star</A> belong. (closes #8065)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2715
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: tests fail without the <A HREF="channel.html#channel">channel</A> feature. (Dominique Pellé)
Solution:   Check for the <A HREF="channel.html#channel">channel</A> feature. (closes #8063)
Files:      src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.2716
Problem:    The equivalent class <A HREF="pattern.html#regexp">regexp</A> is missing some characters.
Solution:   Update the <A HREF="eval.html#list">list</A> of equivalent characters. (Dominique Pellé,
            closes #8029)
Files:      src/regexp_bt.c, src/regexp_nfa.c,
            src/testdir/test_regexp_utf8.vim

Patch 8.2.2717
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> menu items don't show a tooltip.
Solution:   Add a callback to show the tooltip. (Leonid <A HREF="visual.html#V">V</A>. Fedorenchik,
            closes #8067, closes #7810)
Files:      src/gui_gtk.c

Patch 8.2.2718
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no explicit test for using a global function without the <A HREF="eval.html#g:">g:</A>
            prefix.
Solution:   Add a test <A HREF="change.html#case">case</A>.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.2719
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: appending to <A HREF="eval.html#dict">dict</A> item doesn't work in a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Implement assignment with <A HREF="motion.html#operator">operator</A> on indexed item.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2720
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> menu tooltip moves the cursor.
Solution:   Position the cursor after displaying the tooltip.  Do not show the
            tooltip when editing the command line.
Files:      src/gui_gtk.c

Patch 8.2.2721
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot have a linebreak inside a <A HREF="eval.html#lambda">lambda</A>.
Solution:   Compile the <A HREF="eval.html#expression">expression</A> before the arguments.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2722
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using LHS with double index.
Solution:   Handle lhs_dest which is &quot;dest_expr&quot;. (closes #8068)
            Fix confusing error message for missing <A HREF="eval.html#dict">dict</A> item.
Files:      src/vim9compile.c, src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2723 (after 8.2.2722)
Problem:    Assignment test fails.
Solution:   Adjust error number.
Files:      src/testdir/test_let.vim

Patch 8.2.2724 (after 8.2.2722)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: concatenating to <A HREF="eval.html#list">list</A> in <A HREF="eval.html#dict">dict</A> not tested.
Solution:   Add a test. (issue #8068)
Files:      src/testdir/test_vim9_assign.vim

Patch 8.2.2725
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: message about compiling is wrong when using try/catch.
Solution:   Store the compiling flag with the message. (closes #8071)
Files:      src/ex_docmd.c, src/ex_eval.c, src/structs.h,
            src/testdir/test_vim9_func.vim

Patch 8.2.2726
Problem:    Confusing error message with white space before comma in the
            arguments of a function declaration.
Solution:   Give a specific error message. (closes #2235)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2727 (after 8.2.2726)
Problem:    Function test fails.
Solution:   Adjust expected error number.
Files:      src/testdir/test_user_func.vim

Patch 8.2.2728
Problem:    <A HREF="eval.html#Special">Special</A> key names don't work if <A HREF="options.html#'isident'">'isident'</A> is cleared.
Solution:   Add vim_isNormalIDc() and use <A HREF="motion.html#it">it</A> for special key names.
            (closes #2389)
Files:      src/charset.c, src/proto/charset.pro, src/misc2.c,
            src/testdir/test_mapping.vim

Patch 8.2.2729
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong error message for referring to legacy <A HREF="usr_41.html#script">script</A> variable.
Solution:   Do allow referring to a variable in legacy <A HREF="usr_41.html#script">script</A> without &quot;s:&quot; if
            <A HREF="motion.html#it">it</A> exists at compile time. (closes #8076)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2730
Problem:    Coverity complains about not restoring character.
Solution:   Also restore the character in <A HREF="change.html#case">case</A> of an error.
Files:      src/vim9compile.c

Patch 8.2.2731
Problem:    <A HREF="os_mac.html#Mac">Mac</A>: SF symbols are not displayed properly.
Solution:   Add custom range to <A HREF="eval.html#list">list</A> of double-width characters. (Yee Cheng
            Chin, closes #8077)
Files:      src/mbyte.c

Patch 8.2.2732
Problem:    Prompt for s///c in <A HREF="intro.html#Ex">Ex</A> mode can be wrong.
Solution:   Position the cursor before showing the prompt. (closes #8073)
Files:      src/ex_cmds.c, src/testdir/test_ex_mode.vim

Patch 8.2.2733
Problem:    Detecting <A HREF="if_lua.html#Lua">Lua</A> version is not reliable.
Solution:   Add &quot;vim.lua_version&quot;. (Ozaki Kiichi, closes #8080)
Files:      runtime/doc/if_lua.txt, ci/if_ver-1.vim, src/if_lua.c,
            src/testdir/test_lua.vim

Patch 8.2.2734
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use legacy <A HREF="map.html#script-local">script-local</A> var from <A HREF="vim9.html#:def">:def</A> function.
Solution:   Do not insist on using &quot;s:&quot; prefix. (closes #8076)
Files:      src/vim9compile.c, src/proto/vim9compile.pro,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2735
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function reference found with prefix, not without.
Solution:   Also find function reference without prefix.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2736
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for loop over <A HREF="eval.html#string">string</A> is a bit slow.
Solution:   Avoid using <A HREF="builtin.html#strlen()">strlen()</A>.
Files:      src/vim9execute.c

Patch 8.2.2737
Problem:    Status line not updated when local <A HREF="options.html#'statusline'">'statusline'</A> option set.
Solution:   Check the <A HREF="options.html#'statusline'">'statusline'</A> option of each <A HREF="windows.html#window">window</A>.
Files:      src/ex_getln.c, src/testdir/test_statusline.vim,
            src/testdir/dumps/Test_statusline_mode_1.dump,
            src/testdir/dumps/Test_statusline_mode_2.dump

Patch 8.2.2738
Problem:    Extending a <A HREF="eval.html#list">list</A> with itself can give wrong result.
Solution:   Remember the item before where the insertion happens and skip to
            after the already inserted items. (closes #1112)
Files:      src/list.c, src/testdir/test_listdict.vim

Patch 8.2.2739
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a <A HREF="eval.html#lambda">lambda</A> accepts too many arguments at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Do not set uf_varargs in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2740
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> with varargs doesn't work.
Solution:   Make &quot;...name&quot; work.  Require type to be a <A HREF="eval.html#list">list</A>.
Files:      src/userfunc.c, src/vim9compile.c, src/vim9execute.c,
            src/errors.h, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2741
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#Partial">Partial</A> call does not check right arguments.
Solution:   Adjust the offset for whether the <A HREF="builtin.html#partial">partial</A> is before or after the
            arguments. (closes #8091)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2742
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: when compiling a function fails <A HREF="motion.html#it">it</A> is cleared.
Solution:   Keep the function lines, prevent execution with a different
            status. (closes #8093)
Files:      src/vim9compile.c, src/structs.h, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2743
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function state stuck when compiling with &quot;<A HREF="various.html#:silent!">:silent!</A>&quot;.
Solution:   Check for uf_def_status to be UF_COMPILING.
Files:      src/vim9compile.c, src/message.c, src/globals.h,
            src/testdir/test_vim9_func.vim

Patch 8.2.2744
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no way to explicitly ignore an argument.
Solution:   Use the underscore <A HREF="motion.html#as">as</A> the name for an ignored argument.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/eval.c,
            src/evalvars.c, src/errors.h, src/testdir/test_vim9_func.vim

Patch 8.2.2745 (after 8.2.2744)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing part of the argument change.
Solution:   Add missing changes.
Files:      src/userfunc.c

Patch 8.2.2746 (after 8.2.2745)
Problem:    Check for duplicate arguments does not work.
Solution:   Correct condition.
Files:      src/userfunc.c

Patch 8.2.2747
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not always an error for too many function arguments.
Solution:   Check for getting too many arguments.
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2748
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when calling <A HREF="vim9.html#:def">:def</A> function fails.
Solution:   Jump to failed_early instead of returning.
Files:      src/vim9execute.c

Patch 8.2.2749
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for error can be a bit flaky.
Solution:   Increase the wait time a bit.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.2750
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for using underscore in nested function.
Solution:   Do not consider &quot;<A HREF="motion.html#_">_</A>&quot; already defined. (closes #8096)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2751
Problem:    Coverity warns for using NULL pointer.
Solution:   Check for NULL in calling function.
Files:      src/userfunc.c

Patch 8.2.2752
problem:    coverity reports unreachable code.
Solution:   Remove check for positive index.
Files:      src/typval.c

Patch 8.2.2753
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot ignore an item in assignment unpack.
Solution:   Allow using an underscore.
Files:      runtime/doc/vim9.txt, src/vim.h, src/evalvars.c, src/eval.c,
            src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2754
Problem:    <A HREF="various.html#:sleep!">:sleep!</A> does not always hide the cursor.
Solution:   Add the cursor_is_asleep flag. (Jeremy Lerner, closes #8097,
            closes #7998)
Files:      src/drawscreen.c, src/ex_docmd.c, src/gui.c, src/proto/term.pro,
            src/term.c

Patch 8.2.2755
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for using a number in a condition.
Solution:   Also use ISN_COND2BOOL if the type is t_number_bool.
            (closes #7644)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2756
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#blob">blob</A> index and <A HREF="eval.html#slice">slice</A> not implemented yet.
Solution:   Implement <A HREF="eval.html#blob">blob</A> index and <A HREF="eval.html#slice">slice</A>.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/eval.c,
            src/blob.c, src/proto/blob.pro, src/testdir/test_vim9_expr.vim

Patch 8.2.2757
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#blob">blob</A> tests for legacy and <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> are separate.
Solution:   Add CheckLegacyAndVim9Success().  Make <A HREF="eval.html#blob">blob</A> index assign work.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/errors.h,
            src/blob.c, src/proto/blob.pro, src/eval.c, src/ex_docmd.c,
            src/testdir/vim9.vim, src/testdir/test_blob.vim

Patch 8.2.2758
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong line number for <A HREF="eval.html#autoload">autoload</A> function with wrong name.
Solution:   Set and restore SOURCING_LNUM. (closes #8100)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2759
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for loop infers type of loop variable.
Solution:   Do not get the member type. (closes #8102)
Files:      src/vim9type.c, src/proto/vim9type.pro, src/list.c,
            src/vim9script.c, src/proto/vim9script.pro, src/vim.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.2760
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for <A HREF="change.html#changing">changing</A> a for loop variable.
Solution:   Make the loop variable read-only. (issue #8102)
Files:      src/eval.c, src/evalvars.c, src/vim9compile.c, src/vim.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.2761
Problem:    Using &quot;syn include&quot; does not work properly.
Solution:   Don't add current_syn_inc_tag to topgrp. (Jaehwang Jerry Jung,
            closes #8104)
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.2.2762
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function line truncated when compiling.
Solution:   Copy the line before processing <A HREF="motion.html#it">it</A>. (closes #8101)
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.2763
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use type in for loop unpack at <A HREF="usr_41.html#script">script</A> level.
Solution:   Advance over the type name.
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.2764
Problem:    Memory leak when default function argument is allocated.
Solution:   Free the <A HREF="eval.html#expression">expression</A> result.
Files:      src/userfunc.c, src/testdir/test_functions.vim

Patch 8.2.2765
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all <A HREF="eval.html#blob">blob</A> operations work.
Solution:   Run more tests also with <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> and <A HREF="vim9.html#:def">:def</A> <A HREF="eval.html#functions">functions</A>.  Fix what
            doesn't work.
Files:      src/eval.c, src/blob.c, src/proto/blob.pro, src/vim9execute.c,
            src/errors.h, src/testdir/vim9.vim, src/testdir/test_blob.vim

Patch 8.2.2766 (after 8.2.2765)
Problem:    Test failure.
Solution:   Add change to <A HREF="vim9.html#Vim9">Vim9</A> compilation error message.
Files:      src/vim9compile.c

Patch 8.2.2767 (after 8.2.2765)
Problem:    Compiler warning for unused argument.
Solution:   Remove the argument.
Files:      src/blob.c, src/proto/blob.pro, src/vim9execute.c, src/eval.c

Patch 8.2.2768
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak with <A HREF="eval.html#blob">blob</A> range error.
Solution:   Jump to end instead of returning.
Files:      src/vim9compile.c

Patch 8.2.2769
Problem:    Modula-3 config files are not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> patterns. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2770
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type of loop variable is not used.
Solution:   Parse and check the variable type. (closes #8107)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2771
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment not recognized if declaration was skipped.
Solution:   Also recognized an assignment if the variable does not exist.
            (closes #8108)
Files:      src/ex_docmd.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2772
Problem:    Problems when restoring <A HREF="options.html#'runtimepath'">'runtimepath'</A> from a session file.
Solution:   Add the &quot;skiprtp&quot; item in <A HREF="options.html#'sessionoptions'">'sessionoptions'</A>.
Files:      runtime/doc/options.txt, src/session.c, src/optionstr.c,
            src/option.h, src/vim.h, src/option.c,
            src/testdir/test_mksession.vim

Patch 8.2.2773
Problem:    PSL <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Add a <A HREF="filetype.html#filetype">filetype</A> <A HREF="pattern.html#pattern">pattern</A>. (Daniel Kho, closes #8117)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2774
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot import an existing name even when using &quot;<A HREF="motion.html#as">as</A>&quot;.
Solution:   Do not check for an existing name when using &quot;<A HREF="motion.html#as">as</A>&quot;. (closes #8113)
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.2775
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong line number used for some commands.
Solution:   For <A HREF="eval.html#:exe">:exe</A>, <A HREF="eval.html#:echo">:echo</A> and the like use the line number of the start of
            the command.  When calling a function set the line number in the
            <A HREF="usr_41.html#script">script</A> context.
Files:      src/vim9compile.c, src/vim9execute.c, src/structs.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.2776
Problem:    <A HREF="starting.html#:mksession">:mksession</A> uses current value of <A HREF="options.html#'splitbelow'">'splitbelow'</A> and <A HREF="options.html#'splitright'">'splitright'</A>
            even though &quot;<A HREF="options.html#options">options</A>&quot; is not in <A HREF="options.html#'sessionoptions'">'sessionoptions'</A>. (Maxim Kim)
Solution:   Save and restore the values, instead of setting to the current
            value. (closes #8119)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.2777
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#blob">blob</A> operations not tested in all ways.
Solution:   Run tests with CheckLegacyAndVim9Success().  Make <A HREF="eval.html#blob">blob</A> assign with
            index work.
Files:      src/vim9compile.c, src/vim9execute.c, src/errors.h, src/blob.c,
            src/proto/blob.pro, src/testdir/test_blob.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2778
Problem:    Problem restoring <A HREF="options.html#'packpath'">'packpath'</A> in session.
Solution:   Let &quot;skiprtp&quot; also apply to <A HREF="options.html#'packpath'">'packpath'</A>.
Files:      runtime/doc/options.txt, src/option.c,
            src/testdir/test_mksession.vim

Patch 8.2.2779
Problem:    Memory access error in <A HREF="builtin.html#remove()">remove()</A> for <A HREF="eval.html#blob">blob</A>.
Solution:   Adjust length for memmove().
Files:      src/blob.c

Patch 8.2.2780
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for loop over <A HREF="eval.html#blob">blob</A> doesn't work.
Solution:   Make <A HREF="motion.html#it">it</A> work.
Files:      src/vim9compile.c, src/vim9execute.c, src/testdir/test_blob.vim

Patch 8.2.2781
Problem:    Add() silently skips when adding to <A HREF="vim9.html#null">null</A> <A HREF="eval.html#list">list</A> or <A HREF="eval.html#blob">blob</A>.
Solution:   Give an error in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.  Allocate <A HREF="eval.html#blob">blob</A> when <A HREF="motion.html#it">it</A> is NULL like
            with <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A>.
Files:      src/list.c, src/evalvars.c, src/vim9execute.c,
            src/testdir/test_blob.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.2782
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#blob">blob</A> operations not fully tested.
Solution:   Make more <A HREF="eval.html#blob">blob</A> tests run in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.  Fix <A HREF="builtin.html#filter()">filter()</A>.  Make
            <A HREF="builtin.html#insert()">insert()</A> give an error for a <A HREF="vim9.html#null">null</A> <A HREF="eval.html#blob">blob</A>, like <A HREF="builtin.html#add()">add()</A>.
Files:      src/list.c, src/testdir/test_blob.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2783
Problem:    Duplicate code for setting byte in <A HREF="eval.html#blob">blob</A>, <A HREF="eval.html#blob">blob</A> test may fail.
Solution:   Call blob_set_append().  Test sort failure with &quot;<A HREF="pattern.html#N">N</A>&quot;.
Files:      src/eval.c, src/testdir/test_blob.vim

Patch 8.2.2784
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use \=expr in <A HREF="change.html#:substitute">:substitute</A>.
Solution:   Compile the <A HREF="eval.html#expression">expression</A> into instructions and execute them when
            invoked.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/proto/vim9execute.pro, src/regexp.c, src/ex_cmds.c,
            src/proto/ex_cmds.pro, src/globals.h,
            src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2785
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot redirect to local variable.
Solution:   Compile <A HREF="various.html#:redir">:redir</A> when redirecting to a variable.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/errors.h,
            src/evalvars.c, src/proto/evalvars.pro,
            src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2786
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using <A HREF="change.html#:s">:s</A> with <A HREF="eval.html#expression">expression</A>.
Solution:   Clean up the instruction <A HREF="eval.html#list">list</A>.
Files:      src/vim9compile.c

Patch 8.2.2787
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: crash when using <A HREF="eval.html#:echoconsole">:echoconsole</A>.
Solution:   Do not write a NUL when it's already there.
Files:      src/os_win32.c

Patch 8.2.2788
Problem:    Raku is now the only name what once was called perl6.
Solution:   Adjust the <A HREF="filetype.html#filetype">filetype</A> detection. (closes #8120)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2789
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using \=expr in <A HREF="change.html#:substitute">:substitute</A> does not handle jumps.
Solution:   Start with instruction <A HREF="intro.html#count">count</A> zero. (closes #8128)
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2790 (after 8.2.2788)
Problem:    <A HREF="filetype.html#filetype">filetype</A> test fails
Solution:   Also update the scripts detection
Files:      runtime/scripts.vim

Patch 8.2.2791
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using \=expr in <A HREF="change.html#:substitute">:substitute</A>.
Solution:   Do not allocate a new instruction <A HREF="eval.html#list">list</A>.
Files:      src/vim9compile.c

Patch 8.2.2792
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: :disas shows instructions for default args but no text.
Solution:   Show the <A HREF="eval.html#expression">expression</A> test above the default argument instructions.
            (closes #8129)
Files:      src/vim9execute.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.2793
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="eval.html#string">string</A> literals are writable with MSVC.
Solution:   Add the /GF compiler flag.  Make mch_write() safer. (Ken Takata,
            closes #8133)
Files:      src/Make_mvc.mak, src/os_win32.c

Patch 8.2.2794
Problem:    Linux users don't know how to get ncurses.
Solution:   Add the name of the package. (closes #8132)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2795
Problem:    Coverity warns for not using return value.
Solution:   Check the return value of compiling the substitute <A HREF="eval.html#expression">expression</A>.
Files:      src/vim9compile.c

Patch 8.2.2796
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: redir to variable does not accept an index.
Solution:   Make the index work.
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2797
Problem:    Search highlight disappears in the <A HREF="visual.html#Visual">Visual</A> area.
Solution:   Combine the search attributes. (closes #8134)
Files:      src/drawline.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_visual_1.dump

Patch 8.2.2798
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: redir to variable with append does not accept an index.
Solution:   Make the appending work.
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2799
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type casts don't fully work at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Implement the missing piece.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2800
Problem:    After a <A HREF="builtin.html#timer">timer</A> displays text a <A HREF="message.html#hit-enter">hit-enter</A> prompt is given.
Solution:   Reset msg_didany and need_wait_return. (closes #8136)
Files:      src/drawscreen.c, src/testdir/test_timers.vim

Patch 8.2.2801
Problem:    Free Pascal makefile not recognized.
Solution:   Add the fpcmake <A HREF="filetype.html#filetype">filetype</A>. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2802
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: illegal memory access.
Solution:   Check for comment before checking for white space. (closes #8142)
Files:      src/eval.c, src/testdir/test_vim9_func.vim

Patch 8.2.2803
Problem:    Flicker when the <A HREF="popup.html#popup">popup</A> menu has an info <A HREF="popup.html#popup">popup</A>.
Solution:   Avoid drawing over the <A HREF="popup.html#popup">popup</A> when it's going to be redrawn in the
            same position. (closes #8131)  Also avoid redrawing the scrollbar.
Files:      src/popupmenu.c, src/proto/popupmenu.pro, src/drawscreen.c,
            src/globals.h

Patch 8.2.2804
Problem:    Setting buffer local <A HREF="map.html#mapping">mapping</A> with <A HREF="builtin.html#mapset()">mapset()</A> changes global <A HREF="map.html#mapping">mapping</A>.
Solution:   Only set the local <A HREF="map.html#mapping">mapping</A>. (closes #8143)
Files:      src/map.c, src/testdir/test_maparg.vim

Patch 8.2.2805
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use legacy <A HREF="syntax.html#syntax">syntax</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Add the <A HREF="vim9.html#:legacy">:legacy</A> command.
Files:      src/ex_cmds.h, runtime/doc/vim9.txt, runtime/doc/index.txt
            src/ex_cmdidxs.h, src/ex_docmd.c, src/structs.h, src/vim9script.c,
            src/vim9compile.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_assign.vim

Patch 8.2.2806
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using &quot;++nr&quot; <A HREF="motion.html#as">as</A> a command might not work.
Solution:   Do not recognize &quot;++&quot; and &quot;<A HREF="starting.html#--">--</A>&quot; in a following line <A HREF="motion.html#as">as</A> addition or
            subtraction.
Files:      src/vim9compile.c, src/ex_docmd.c, src/ex_cmds.h, src/ex_cmdidxs.h,
            src/vim9script.c, src/proto/vim9script.pro, src/eval.c,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.2807
Problem:    Build fails with tiny features.
Solution:   Use a dummy function for ex_incdec().
Files:      src/ex_docmd.c

Patch 8.2.2808
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: increment and decrement not sufficiently tested.
Solution:   Add assertions.
Files:      src/testdir/test_vim9_assign.vim

Patch 8.2.2809
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="vim9.html#:def">:def</A> function compilation fails when using <A HREF="vim9.html#:legacy">:legacy</A>.
Solution:   Reset CMOD_LEGACY when compiling a function. (closes #8137)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2810
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when calling a function in a substitute <A HREF="eval.html#expression">expression</A>.
Solution:   Set the instructions back to the substitute <A HREF="eval.html#expression">expression</A>
            instructions. (closes #8148)
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2811
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for missing white space doesn't say where <A HREF="motion.html#it">it</A> is
            missing
Solution:   Mention the command. (closes #8149)
Files:      src/ex_docmd.c, src/errors.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.2812
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: still crash when using substitute <A HREF="eval.html#expression">expression</A>.
Solution:   Put the instruction <A HREF="eval.html#list">list</A> in the stack frame. (closes #8154)
Files:      src/vim9execute.c, src/vim9.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.2813
Problem:    Cannot <A HREF="quickfix.html#grep">grep</A> using fuzzy matching.
Solution:   Add the &quot;<A HREF="motion.html#f">f</A>&quot; flag to <A HREF="quickfix.html#:vimgrep">:vimgrep</A>. (Yegappan Lakshmanan, closes #8152)
Files:      runtime/doc/quickfix.txt, src/ex_cmds.c, src/proto/search.pro,
            src/quickfix.c, src/search.c, src/vim.h,
            src/testdir/test_quickfix.vim

Patch 8.2.2814 (after 8.2.2812)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unused variable. (John Marriott)
Solution:   Adjust #ifdef.
Files:      src/vim9execute.c

Patch 8.2.2815
Problem:    Status line flickers when redrawing <A HREF="popup.html#popup">popup</A> menu info.
Solution:   Do not redraw the status line when the focus is in the <A HREF="popup.html#popup">popup</A>
            <A HREF="windows.html#window">window</A>. (issue #8144)
Files:      src/popupmenu.c

Patch 8.2.2816
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: comment below <A HREF="eval.html#expression">expression</A> in <A HREF="eval.html#lambda">lambda</A> causes problems.
Solution:   Use a single space for empty and comment lines. (closes #8156)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2817
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> sourcing continues after an error.
Solution:   Make an error in any command in &quot;<A HREF="vim9.html#vim9script">vim9script</A>&quot; abort sourcing.
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2818
Problem:    No jump added to <A HREF="motion.html#jumplist">jumplist</A> when opening <A HREF="terminal.html#terminal">terminal</A> in current <A HREF="windows.html#window">window</A>.
Solution:   Call setpcmark(). (closes #8158)
Files:      src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.2819
Problem:    Finishing an abbreviation with a <A HREF="mbyte.html#multi-byte">multi-byte</A> char may not work.
Solution:   Escape K_SPECIAL in the typed character. (closes #8160)
Files:      src/map.c, src/testdir/test_mapping.vim

Patch 8.2.2820
Problem:    <A HREF="starting.html#Session">Session</A> file may divide by zero.
Solution:   Avoid <A HREF="editing.html#writing">writing</A> divide by zero. (closes #8162)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.2821
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: unnecessarily loading libraries when registering OLE.
Solution:   Skip loading libraries when invoked with &quot;<A HREF="if_ole.html#-register">-register</A>&quot;.
Files:      src/main.c, src/globals.h, src/os_win32.c

Patch 8.2.2822 (after 8.2.2821)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: unnecessarily loading libraries when unregistering OLE.
Solution:   Also skip loading libraries when invoked with &quot;<A HREF="if_ole.html#-unregister">-unregister</A>&quot;.  Run
            Vim for README.txt with user privileges.
Files:      src/main.c, nsis/gvim.nsi, nsis/README.txt

Patch 8.2.2823
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: launching Vim from installer doesn't open README.
Solution:   Adjust the <A HREF="quotes.html#quotes">quotes</A>.
Files:      nsis/gvim.nsi

Patch 8.2.2824
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: build failure with MSVC.
Solution:   Adjust the <A HREF="eval.html#list">list</A> of distributed files.  Add hint about <A HREF="if_pyth.html#python">python</A>.
            Adjust path for reading runtime files.
Files:      Filelist, src/testdir/shared.vim,
            src/testdir/test_function_lists.vim

Patch 8.2.2825
Problem:    Code in checkreadonly() not fully tested.
Solution:   Add more tests. (Dominique Pellé, closes #8169)
Files:      src/testdir/test_excmd.vim

Patch 8.2.2826
Problem:    Compiler warnings for int to size_t conversion. (Randall <A HREF="motion.html#W">W</A>.
            Morris)
Solution:   Add type casts.
Files:      src/map.c, src/quickfix.c

Patch 8.2.2827
Problem:    Test file was not deleted.
Solution:   Uncomment the <A HREF="builtin.html#delete()">delete()</A> call. (Dominique Pellé, closes #8172)
Files:      src/testdir/test_mksession.vim

Patch 8.2.2828
Problem:    Coverity complains about not checking the <A HREF="builtin.html#rename()">rename()</A> return value.
Solution:   Add &quot;(void)&quot;, can't <A HREF="diff.html#do">do</A> anything in <A HREF="change.html#case">case</A> of a failure.
Files:      src/fileio.c

Patch 8.2.2829
Problem:    Some comments are not correct or clear.
Solution:   Adjust the comments.  Add test for cursor position.
Files:      src/regexp_bt.c, src/regexp_nfa.c,
            src/testdir/test_exec_while_if.vim,
            src/testdir/test_substitute.vim

Patch 8.2.2830
Problem:    Terminal colors are not updated when <A HREF="options.html#'background'">'background'</A> is set.
Solution:   Call term_update_colors() for all terminals. (Marcin Szamotulski,
            closes #8171, closes #8150)
Files:      src/terminal.c, src/proto/terminal.pro, src/optionstr.c

Patch 8.2.2831
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#expandcmd()">expandcmd()</A> not tested.
Solution:   Add a test.
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.2832
Problem:    Operator cancelled by moving mouse when using <A HREF="popup.html#popup">popup</A>. (Sergey
            Vlasov)
Solution:   Do not trigger an <A HREF="motion.html#operator">operator</A> for a mouse move events. (closes #8176)
Files:      src/normal.c

Patch 8.2.2833
Problem:    Two key command cancelled by moving mouse when using <A HREF="popup.html#popup">popup</A>.
            (Sergey Vlasov)
Solution:   Ignore K_MOUSEMOVE in plain_vgetc().
Files:      src/getchar.c

Patch 8.2.2834
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="quickfix.html#:cexpr">:cexpr</A> does not work with local <A HREF="eval.html#variables">variables</A>.
Solution:   Compile <A HREF="quickfix.html#:cexpr">:cexpr</A>.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/quickfix.c,
            src/proto/quickfix.pro, src/testdir/test_quickfix.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2835 (after 8.2.2834)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory in <A HREF="quickfix.html#:cexpr">:cexpr</A>.
Solution:   Also free the command line copy.
Files:      src/vim9compile.c

Patch 8.2.2836 (after 8.2.2834)
Problem:    Build failure without the <A HREF="various.html#+quickfix">+quickfix</A> feature. (John Marriott)
Solution:   Add #ifdef.
Files:      src/vim9compile.c, src/vim9execute.c, src/tag.c

Patch 8.2.2837
Problem:    Various code lines not covered by tests.
Solution:   Add test cases. (Dominique Pellé, closes #8178)
Files:      src/testdir/test_excmd.vim, src/testdir/test_functions.vim,
            src/testdir/test_options.vim, src/testdir/test_startup.vim,
            src/testdir/test_syntax.vim, src/testdir/test_vim9_cmd.vim

Patch 8.2.2838
Problem:    File extension .wrap not recognized.
Solution:   Use dosini <A HREF="filetype.html#filetype">filetype</A> for .wrap files. (Liam Beguin, closes #8177)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2839
Problem:    Default redirection missing &quot;ash&quot; and &quot;dash&quot;.
Solution:   Recognize &quot;ash&quot; and &quot;dash&quot;. (Natanael Copa, closes #8180)
Files:      runtime/doc/options.txt, src/option.c

Patch 8.2.2840
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: member operation not fully tested.
Solution:   Add a few tests.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2841
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cursor in wrong position when <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> and
            <A HREF="options.html#'statusline'">'statusline'</A> are set.
Solution:   Call compute_cmdrow(). (closes #8170, closes #8184)
Files:      src/os_win32.c

Patch 8.2.2842
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: skip argument to <A HREF="builtin.html#searchpair()">searchpair()</A> is not compiled.
Solution:   Add VAR_INSTR.
Files:      src/structs.h, src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/proto/vim9execute.pro, src/eval.c, src/evalfunc.c, src/vim.h,
            src/evalvars.c, src/typval.c, src/vim9type.c, src/testing.c,
            src/viminfo.c, src/if_py_both.h, src/json.c,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2843 (after 8.2.2842)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: skip argument to <A HREF="builtin.html#searchpairpos()">searchpairpos()</A> is not compiled.
Solution:   Handle like <A HREF="builtin.html#searchpair()">searchpair()</A>.  Also for <A HREF="builtin.html#search()">search()</A> and <A HREF="builtin.html#searchpos()">searchpos()</A>.
Files:      src/vim9compile.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2844
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using <A HREF="builtin.html#searchpair()">searchpair()</A>.
Solution:   Free the v_instr field.
Files:      src/typval.c

Patch 8.2.2845
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: warning for signed/unsigned comparison.
Solution:   Add type cast.
Files:      src/terminal.c

Patch 8.2.2846
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;echo Func()&quot; does not give an error for a function without
            a return value.
Solution:   Give an error.  Be more specific about why a value is invalid.
Files:      src/globals.h, src/errors.h, src/eval.c, src/evalfunc.c,
            src/typval.c, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.2847
Problem:    <A HREF="if_perl.html#Perl">Perl</A> not tested sufficiently.
Solution:   Add test.  Also test <A HREF="arabic.html#W17">W17</A>. (Dominique Pellé, closes #8193)
Files:      src/testdir/test_arabic.vim, src/testdir/test_perl.vim

Patch 8.2.2848
Problem:    Crash when calling <A HREF="builtin.html#partial">partial</A>.
Solution:   Check for NULL pointer. (Dominique Pellé, closes #8202)
Files:      src/eval.c, src/evalfunc.c, src/testdir/test_functions.vim,
            src/testdir/test_listdict.vim

Patch 8.2.2849
Problem:    Bufwrite not sufficiently tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8192)
Files:      src/testdir/test_startup.vim, src/testdir/test_writefile.vim

Patch 8.2.2850
Problem:    Recalling commands from <A HREF="cmdline.html#history">history</A> is not tested.
Solution:   Add tests. (closes #8194)
Files:      src/testdir/test_cmdline.vim

Patch 8.2.2851
Problem:    Using <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> <A HREF="map.html#mapping">mapping</A> on the command line triggers <A HREF="autocmd.html#CmdlineChanged">CmdlineChanged</A>.
            (Naohiro Ono)
Solution:   Jump to cmdline_not_changed if the command line didn't change.
            (closes #8208)
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.2852
Problem:    Configure can add --as-needed a second time.
Solution:   Only add --as-needed if not already there.  (Natanael Copa,
            closes #8189, closes #8181)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2853 (after 8.2.2851)
Problem:    Window is not updated after using <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> <A HREF="map.html#mapping">mapping</A>.
Solution:   So jump to cmdline_changed but skip <A HREF="autocmd.html#autocommand">autocommand</A>.
Files:      src/ex_getln.c

Patch 8.2.2854
Problem:    Custom statusline cannot contain <A HREF="motion.html#&#37;">&#37;</A> items.
Solution:   Add &quot;&#37;{&#37; <A HREF="eval.html#expr">expr</A> &#37;}&quot;. (closes #8190)
Files:      runtime/doc/options.txt, src/buffer.c, src/optionstr.c,
            src/testdir/test_statusline.vim

Patch 8.2.2855
Problem:    White space after &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot; does not give <A HREF="eval.html#E274">E274</A>.
Solution:   Do not skip white space in legacy <A HREF="usr_41.html#script">script</A>. (closes #8212)
Files:      src/eval.c, src/testdir/test_method.vim

Patch 8.2.2856
Problem:    Get readonly error for device that can't be written to.
Solution:   Check for being able to write first. (closes #8205)
Files:      src/ex_cmds.c, src/testdir/test_writefile.vim

Patch 8.2.2857
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: exception in ISN_INSTR caught at wrong level.
Solution:   Set the starting trylevel in exec_instructions(). (closes #8214)
Files:      src/vim9compile.c, src/vim9execute.c, src/globals.h,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2858 (after 8.2.2857)
Problem:    Test fails because of changed error message.
Solution:   Adjust the expected error message.
Files:      src/testdir/test_ex_mode.vim

Patch 8.2.2859 (after 8.2.2857)
Problem:    <A HREF="if_tcl.html#Tcl">Tcl</A> test fails because of changed error message.
Solution:   Adjust the expected error message.
Files:      src/testdir/test_tcl.vim

Patch 8.2.2860
Problem:    Adding a text property causes the whole <A HREF="windows.html#window">window</A> to be redrawn.
Solution:   Use changed_lines_buf() to only redraw the affected lines.
Files:      src/change.c, src/proto/change.pro, src/textprop.c

Patch 8.2.2861
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;legacy return&quot; is not recognized <A HREF="motion.html#as">as</A> a return statement.
Solution:   Specifically check for a return command. (closes #8213)
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h,
            src/testdir/test_vim9_expr.vim

Patch 8.2.2862
Problem:    Removing a text property causes the whole <A HREF="windows.html#window">window</A> to be redrawn.
Solution:   Use changed_lines_buf() to only redraw the affected lines.
Files:      src/textprop.c

Patch 8.2.2863 (after 8.2.2862)
Problem:    Removing a text property does not redraw optimally.
Solution:   Only redraw the lines that mithg actually have been changed.
Files:      src/textprop.c

Patch 8.2.2864
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using inline function.
Solution:   Check for NULL pointer. Make using inline function work inside
            <A HREF="eval.html#lambda">lambda</A>. (closes #8217)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.2865 (after 8.2.2864)
Problem:    Skipping over function body fails.
Solution:   Do not define the function when skipping.
Files:      src/userfunc.c

Patch 8.2.2866
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using inline function.
Solution:   Remember what strings to free.
Files:      src/userfunc.c, src/structs.h, src/eval.c

Patch 8.2.2867 (after 8.2.2866)
Problem:    Build failure.
Solution:   Add missing part of the change.
Files:      src/globals.h

Patch 8.2.2868
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: When executing a compiled <A HREF="eval.html#expression">expression</A> the trylevel at start
            is changed but not restored. (closes #8214)
Solution:   Restore the trylevel at start.
Files:      src/vim9execute.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2869
Problem:    Using unified <A HREF="diff.html#diff">diff</A> is not tested.
Solution:   Test all cases also with unified <A HREF="diff.html#diff">diff</A>. (issue #8197)
Files:      src/testdir/test_diffmode.vim

Patch 8.2.2870
Problem:    CmdlineChange event triggered <A HREF="if_cscop.html#twice">twice</A> for <A HREF="undo.html#CTRL-R">CTRL-R</A>.
Solution:   Return CMDLINE_NOT_CHANGED from cmdline_insert_reg().
            (closes #8219)
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.2871
Problem:    Unnecessary VIM_ISDIGIT() calls, badly indented code.
Solution:   Call skipdigits() on the next character.  Improve indenting.
            (Dominique Pellé, closes #8227)
Files:      src/charset.c, src/evalfunc.c, src/ex_docmd.c, src/json.c,
            src/ops.c, src/tag.c, src/vim9compile.c

Patch 8.2.2872
Problem:    <A HREF="if_pyth.html#Python">Python</A> tests fail without the <A HREF="channel.html#channel">channel</A> feature.
Solution:   Add a feature check. (Dominique Pellé, closes #8226)
Files:      src/testdir/test_python2.vim, src/testdir/test_python3.vim

Patch 8.2.2873
Problem:    Not enough tests for <A HREF="editing.html#writing">writing</A> <A HREF="windows.html#buffers">buffers</A>.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8229)
Files:      src/testdir/test_buffer.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_functions.vim, src/testdir/test_writefile.vim

Patch 8.2.2874
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: screen redraws too often.
Solution:   Do not redraw when peeking for a character. (closes #8230,
            closes #8211)
Files:      src/os_win32.c

Patch 8.2.2875
Problem:    Cancelling <A HREF="builtin.html#inputlist()">inputlist()</A> after a digit does not return zero.
Solution:   Always return zero when cancelling. (closes #8231)
Files:      src/misc1.c, src/testdir/test_functions.vim

Patch 8.2.2876
Problem:    Configure cannot detect <A HREF="if_pyth.html#Python">Python</A> 3.10.
Solution:   Use sys.version_info. (closes #8233)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2877
Problem:    Insufficient tests for <A HREF="popup.html#popup">popup</A> menu rightleft.
Solution:   Add tests. (Yegappan Lakshmanan, closes #8235)
Files:      src/testdir/test_popup.vim,
            src/testdir/dumps/Test_pum_rightleft_01.dump,
            src/testdir/dumps/Test_pum_rightleft_02.dump,
            src/testdir/dumps/Test_pum_scrollbar_01.dump,
            src/testdir/dumps/Test_pum_scrollbar_02.dump

Patch 8.2.2878
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for loop <A HREF="eval.html#list">list</A> unpack only allows for one &quot;<A HREF="motion.html#_">_</A>&quot;.
Solution:   Drop the value when the variable is &quot;<A HREF="motion.html#_">_</A>&quot;. (closes #8232)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2879
Problem:    File extension .hsig not recognized.
Solution:   Use Haskell <A HREF="filetype.html#filetype">filetype</A> for .hsig files. (Marcin Szamotulski,
            closes #8236)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2880
Problem:    Unified <A HREF="diff.html#diff">diff</A> fails if actually used.
Solution:   Invoke <A HREF="diff.html#:diffupdate">:diffupdate</A> in the test.  Fix the check for working external
            <A HREF="diff.html#diff">diff</A>. (Ghjuvan Lacambre, Christian Brabandt, closes #8197)
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.2.2881
Problem:    Various pieces of code not covered by tests.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8245)
Files:      src/testdir/test_const.vim, src/testdir/test_functions.vim,
            src/testdir/test_python2.vim, src/testdir/test_python3.vim,
            src/testdir/test_user_func.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.2882
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when <A HREF="eval.html#lambda">lambda</A> has an error.
Solution:   Free the <A HREF="eval.html#list">list</A> of argument types on failure.
Files:      src/userfunc.c

Patch 8.2.2883
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> manifest file name is misleading.
Solution:   Rename the file. (closes #8241)
Files:      .gitignore, .hgignore, Filelist, Makefile, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/gvim.exe.mnf, src/vim.manifest, src/vim.rc

Patch 8.2.2884
Problem:    Not enough <A HREF="if_cscop.html#cscope">cscope</A> code is covered by tests.
Solution:   Add a few test cases. (Dominique Pellé, closes #8246)
Files:      src/testdir/test_cscope.vim

Patch 8.2.2885
Problem:    searching for \&#37;'&gt; does not match <A HREF="motion.html#linewise">linewise</A> end of line. (Tim Chase)
Solution:   Match end of line if column is MAXCOL. (closes #8238)
Files:      src/regexp_nfa.c, src/regexp_bt.c, src/testdir/test_search.vim

Patch 8.2.2886
Problem:    Various pieces of code not covered by tests.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8255)
Files:      src/testdir/test_expr.vim, src/testdir/test_functions.vim,
            src/testdir/test_listdict.vim, src/testdir/test_registers.vim,
            src/testdir/test_user_func.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim

Patch 8.2.2887
Problem:    Crash when passing <A HREF="vim9.html#null">null</A> <A HREF="eval.html#string">string</A> to <A HREF="builtin.html#fullcommand()">fullcommand()</A>.
Solution:   Check for NULL pointer. (closes #8256)
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.2.2888
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;<A HREF="motion.html#k">k</A>&quot; command recognized in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Do not recognize &quot;<A HREF="motion.html#k">k</A>&quot; or &quot;<A HREF="change.html#s">s</A>&quot; and &quot;<A HREF="change.html#d">d</A>&quot; with flags.
Files:      src/ex_docmd.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.2889
Problem:    Typo and <A HREF="starting.html#verbose">verbose</A> comment in Makefiles.
Solution:   Fix typo. Use @#. (Ken Takata, closes #8252)
Files:      Makefile, src/testdir/Makefile

Patch 8.2.2890
Problem:    Text property duplicated when data block splits.
Solution:   Do not continue text prop from previous line. (closes #8261)
Files:      src/memline.c, src/structs.h, src/testdir/test_textprop.vim

Patch 8.2.2891
Problem:    Cannot build with <A HREF="if_perl.html#Perl">Perl</A> 5.34.
Solution:   Add Perl_SvTRUE_common(). (Ozaki Kiichi, closes #8266,
            closes #8250)
Files:      src/if_perl.xs

Patch 8.2.2892
Problem:    Error message contains <A HREF="builtin.html#random">random</A> characters.
Solution:   Pass the right pointer to error_white_both(). (closes #8272,
            closes #8263)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2893
Problem:    Multi-byte text in <A HREF="popup.html#popup">popup</A> title shows up wrong.
Solution:   Use the character width instead of the byte length. (Ralf Schandl,
            closes #8267, closes #8264)
Files:      src/popupwin.c, src/message_test.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_multibytetitle.dump

Patch 8.2.2894
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: using enc_locale() for <A HREF="builtin.html#strftime()">strftime()</A> might not work.
Solution:   Use wcsftime(). (Ken Takata, closes #8271)
Files:      src/time.c

Patch 8.2.2895
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#random">random</A> characters appear in some error <A HREF="message.html#messages">messages</A>.
Solution:   Pass the correct pointer. (closes #8277)
Files:      src/eval.c, src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2896
Problem:    Spellfile functionality not fully tested.
Solution:   Add tests for CHECKCOMPOUNDPATTERN and COMMON. (Dominique Pellé,
            closes #8270)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.2897
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can use reserved words at the <A HREF="usr_41.html#script">script</A> level.
Solution:   Check variable names for reserved words. (closes #8253)
Files:      src/vim9compile.c, src/vim9script.c, src/proto/vim9script.pro,
            src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2898
Problem:    <A HREF="autocmd.html#QuitPre">QuitPre</A> and <A HREF="autocmd.html#ExitPre">ExitPre</A> not triggered when <A HREF="gui.html#GUI">GUI</A> <A HREF="windows.html#window">window</A> is closed.
Solution:   Call before_quit_autocmds(). (closes #8242)
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/gui.c

Patch 8.2.2899
Problem:    Appveyor <A HREF="usr_41.html#script">script</A> does not detect nmake failure.
Solution:   Explicitly check for executable. (Ken Takata, closes #8281)
Files:      ci/appveyor.bat

Patch 8.2.2900
Problem:    <A HREF="autocmd.html#QuitPre">QuitPre</A> is triggered before <A HREF="editing.html#:wq">:wq</A> writes the file, which is
            different from other commands.
Solution:   Trigger <A HREF="autocmd.html#QuitPre">QuitPre</A> after <A HREF="editing.html#writing">writing</A> the file. (closes #8279)
Files:      src/ex_docmd.c, src/testdir/test_writefile.vim

Patch 8.2.2901
Problem:    Some operators not fully tested.
Solution:   Add a few test cases. (Yegappan Lakshmanan, closes #8282)
Files:      src/testdir/test_cpoptions.vim, src/testdir/test_increment.vim,
            src/testdir/test_normal.vim, src/testdir/test_virtualedit.vim,
            src/testdir/test_visual.vim

Patch 8.2.2902
Problem:    Spellfile functionality not fully tested.
Solution:   Add tests for CIRCUMFIX, NOBREAK and others. (Dominique Pellé,
            closes #8283)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.2903
Problem:    Cursor position wrong on wrapped line with <A HREF="options.html#'signcolumn'">'signcolumn'</A>.
Solution:   Don't add space for showbreak <A HREF="if_cscop.html#twice">twice</A>. (Christian Brabandt,
            closes #8262)
Files:      src/drawline.c, src/testdir/test_display.vim

Patch 8.2.2904
Problem:    &quot;<A HREF="motion.html#g$">g$</A>&quot; causes scroll if half a double width char is visible.
Solution:   Advance to the last fully visible character. (closes #8254)
Files:      src/normal.c, src/testdir/test_normal.vim

Patch 8.2.2905
Problem:    No error when <A HREF="starting.html#defaults.vim">defaults.vim</A> cannot be loaded.
Solution:   Add an error message. (Christian Brabandt, closes #8248)
Files:      runtime/doc/starting.txt, src/errors.h, src/main.c,
            src/testdir/test_startup.vim

Patch 8.2.2906 (after 8.2.2905)
Problem:    ASAN reports <A HREF="message.html#errors">errors</A> for test_startup for unknown reasons.
Solution:   Temporarily disable the new test.
Files:      src/testdir/test_startup.vim

Patch 8.2.2907
Problem:    Memory leak when running out of memory.
Solution:   Free the allocated memory. (Dominique Pellé, closes #8284)
Files:      src/term.c

Patch 8.2.2908
Problem:    Crash when using a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> from the cmdline <A HREF="windows.html#window">window</A>.
Solution:   Instead of checking cmdwin_type call cmdwin_is_active().
            (closes #8286)
Files:      src/terminal.c, src/errors.h, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_cmdwin_no_terminal.dump

Patch 8.2.2909
Problem:    Build error with non-Unix system.
Solution:   Always include limits.h.
Files:      src/vim.h

Patch 8.2.2910
Problem:    Test for cmdline <A HREF="windows.html#window">window</A> and <A HREF="terminal.html#terminal">terminal</A> fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_cmdline.vim

Patch 8.2.2911
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> &quot;\&#37;V&quot; does not match all of block selection. (Rick Howe)
Solution:   Use the value of vi_curswant. (closes #8285)
Files:      src/regexp.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_block_visual_match.dump

Patch 8.2.2912
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: most users expect using <A HREF="mbyte.html#Unicode">Unicode</A>.
Solution:   Default <A HREF="options.html#'encoding'">'encoding'</A> to <A HREF="mbyte.html#utf-8">utf-8</A> on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ken Takata,
            closes #3907)
Files:      runtime/doc/options.txt, src/mbyte.c, src/option.c, src/option.h,
            src/testdir/test_writefile.vim

Patch 8.2.2913
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> conpty supports using mouse events.
Solution:   When enabling the mouse enable mouse input and disable quick edit
            mode. (Wez Furlong, closes #8280)
Files:      src/os_win32.c

Patch 8.2.2914
Problem:    Cannot paste a block without adding padding.
Solution:   Add &quot;<A HREF="change.html#zp">zp</A>&quot; and &quot;<A HREF="change.html#zP">zP</A>&quot; which paste without adding padding. (Christian
            Brabandt, closes #8289)
Files:      runtime/doc/change.txt, runtime/doc/index.txt, src/normal.c,
            src/register.c, src/vim.h, src/testdir/test_normal.vim,
            src/testdir/test_visual.vim

Patch 8.2.2915
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: when using &quot;default&quot; for encoding <A HREF="mbyte.html#utf-8">utf-8</A> is used.
Solution:   Use the system encoding. (Ken Takata, closes #8300)
Files:      src/mbyte.c, runtime/doc/options.txt

Patch 8.2.2916
Problem:    Operators are not fully tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8290)
Files:      src/ops.c, src/testdir/test_netbeans.vim,
            src/testdir/test_normal.vim, src/testdir/test_visual.vim

Patch 8.2.2917
Problem:    Spellfile functionality not fully tested.
Solution:   Add tests for SFX with removal of characters, spelling
            suggestions with NOBREAK and others. (Dominique Pellé,
            closes #8293)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.2918
Problem:    Builtin function can be shadowed by global variable.
Solution:   Check for builtin function before variable. (Yasuhiro Matsumoto,
            closes #8302)
Files:      src/eval.c, src/testdir/test_functions.vim

Patch 8.2.2919
Problem:    Using &quot;:!command&quot; does not work if the command uses posix_spawn().
Solution:   Do not call ioctl() with TIOCSCTTY. (Felipe Contreras)
Files:      src/os_unix.c

Patch 8.2.2920
Problem:    Still a way to shadow a builtin function. (Yasuhiro Matsumoto)
Solution:   Check the key when using <A HREF="builtin.html#extend()">extend()</A>. (issue #8302)
Files:      src/eval.c, src/dict.c, src/proto/dict.pro,
            src/testdir/test_functions.vim

Patch 8.2.2921
Problem:    <A HREF="eval.html#E704">E704</A> for <A HREF="usr_41.html#script">script</A> local variable is not backwards compatible.
            (Yasuhiro Matsumoto)
Solution:   Only give the error in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.  Also check for function-local
            variable.
Files:      src/dict.c, src/testdir/test_functions.vim

Patch 8.2.2922
Problem:    Computing array length is done in various ways.
Solution:   Use ARRAY_LENGTH everywhere. (Ken Takata, closes #8305)
Files:      src/arabic.c, src/blowfish.c, src/cindent.c, src/cmdexpand.c,
            src/cmdhist.c, src/dosinst.c, src/eval.c, src/evalfunc.c,
            src/ex_docmd.c, src/fileio.c, src/gui_athena.c, src/gui_gtk_x11.c,
            src/gui_haiku.cc, src/gui_photon.c, src/gui_w32.c,
            src/gui_xmebw.c, src/hardcopy.c, src/help.c, src/highlight.c,
            src/if_mzsch.c, src/macros.h, src/main.c, src/map.c, src/mbyte.c,
            src/memline.c, src/menu.c, src/misc2.c, src/normal.c, src/ops.c,
            src/option.c, src/optiondefs.h, src/os_win32.c, src/popupwin.c,
            src/quickfix.c, src/regexp.c, src/screen.c, src/search.c,
            src/syntax.c, src/term.c, src/terminal.c, src/time.c,
            src/usercmd.c, src/version.c

Patch 8.2.2923
Problem:    EBCDIC build is broken.
Solution:   Move sortFunctions() to evalfunc.c. (Ken Takata, closes #8306)
Files:      src/eval.c, src/evalfunc.c, src/proto/evalfunc.pro

Patch 8.2.2924
Problem:    Superfluous extern declaration.
Solution:   Delete the declaration. (Ken Takata, closes #8307)
Files:      src/main.c

Patch 8.2.2925
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line continuation comment uses legacy <A HREF="syntax.html#syntax">syntax</A>.
Solution:   Check for #\ instead of &quot;\. (closes #8295)
Files:      src/scriptfile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2926
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no good error for using <A HREF="vim9.html#:legacy">:legacy</A> in a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Give an explicit error where <A HREF="vim9.html#:legacy">:legacy</A> is not working.
            (closes #8309)
Files:      src/vim9compile.c, src/errors.h, src/testdir/test_vim9_func.vim

Patch 8.2.2927
Problem:    Test commented out because <A HREF="motion.html#it">it</A> fails with ASAN.
Solution:   Only skip the test when running with ASAN.
Files:      src/testdir/test_startup.vim

Patch 8.2.2928
Problem:    The evalfunc.c file is too big.
Solution:   Move float related functionality to a separate file. (Yegappan
            Lakshmanan, closes #8287)
Files:      Filelist, src/Make_ami.mak, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/eval.c, src/evalfunc.c, src/float.c, src/proto.h,
            src/proto/eval.pro, src/proto/float.pro

Patch 8.2.2929
Problem:    Accidentally enable <A HREF="if_tcl.html#tcl">tcl</A> by default.
Solution:   Revert change to Makefile
Files:      src/Makefile

Patch 8.2.2930
Problem:    When a <A HREF="popup.html#popup">popup</A> is visible a mouse move my restart <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Reset held_button when ending <A HREF="visual.html#Visual">Visual</A> mode. (closes #8318)
Files:      src/mouse.c, src/proto/mouse.pro, src/normal.c

Patch 8.2.2931
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line continuation comment still uses legacy <A HREF="syntax.html#syntax">syntax</A> in one
            place.
Solution:   Check for #\ instead of &quot;\ earlier. (closes #8316)
Files:      src/scriptfile.c, src/testdir/test_vim9_script.vim

Patch 8.2.2932 (after 8.2.2930)
Problem:    <A HREF="visual.html#Select">Select</A> mode test fails.
Solution:   Do not always reset the held mouse button.
Files:      src/mouse.c, src/normal.c, src/proto/normal.pro

Patch 8.2.2933
Problem:    When <A HREF="options.html#'clipboard'">'clipboard'</A> is &quot;unnamed&quot; <A HREF="change.html#zp">zp</A> and <A HREF="change.html#zP">zP</A> <A HREF="diff.html#do">do</A> not work correctly.
Solution:   Pass -1 to str_to_reg() and fix computing the character width
            instead of using the byte length. (Christian Brabandt,
            closes #8301, closes #8317)
Files:      src/clipboard.c, src/mbyte.c, src/register.c

Patch 8.2.2934 (after 8.2.2933)
Problem:    ASAN error when using text from the <A HREF="gui.html#clipboard">clipboard</A>.
Solution:   Get width of each character.
Files:      src/register.c

Patch 8.2.2935 (after 8.2.2934)
Problem:    Calculating <A HREF="sponsor.html#register">register</A> width is not always needed. (Christian
            Brabandt)
Solution:   Only calculate the width when the type is MBLOCK.
Files:      src/register.c

Patch 8.2.2936
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: converting number to bool uses wrong stack offset. (Salman
            Halim)
Solution:   Include the offset in the 2BOOL command.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2937
Problem:    Popup test fails if rightleft feature not enabled.
Solution:   Check that the rightleft feature is available. (Dominique Pellé,
            closes #8321)
Files:      src/testdir/test_popup.vim

Patch 8.2.2938
Problem:    After using motion force from <A HREF="builtin.html#feedkeys()">feedkeys()</A> <A HREF="motion.html#it">it</A> may not be reset.
Solution:   Clear motion_force in clearop(). (closes #8323)
Files:      src/normal.c, src/testdir/test_visual.vim

Patch 8.2.2939
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: righthand scrollbar does not show with split <A HREF="windows.html#window">window</A>.
Solution:   Adjust padding when two scrollbars are used. (Matt Wozniski,
            closes #8324)
Files:      src/gui_gtk.c

Patch 8.2.2940
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot see the size of the text area when resizing the
            <A HREF="starting.html#gvim">gvim</A> <A HREF="windows.html#window">window</A>.
Solution:   Show a tooltip with the text size. (Ken Takata, closes #8326)
Files:      src/gui_w32.c

Patch 8.2.2941
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using `=expr` does not handle a <A HREF="eval.html#list">list</A> of strings.
Solution:   Convert a <A HREF="eval.html#list">list</A> to a <A HREF="eval.html#string">string</A> and <A HREF="intro.html#escape">escape</A> each item. (closes #8310)
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2942
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: internal error when calling function with too few arguments
Solution:   Check for argument <A HREF="intro.html#count">count</A> to be too few. (closes #8325)
Files:      src/errors.h, src/vim9execute.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.2943
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: check for argument <A HREF="intro.html#count">count</A> ignores default values.
Solution:   Take default argument values into account.
Files:      src/vim9execute.c

Patch 8.2.2944
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when using <A HREF="channel.html#job">job</A> or <A HREF="channel.html#channel">channel</A> <A HREF="motion.html#as">as</A> a <A HREF="eval.html#string">string</A>.
Solution:   Be more strict about conversion to <A HREF="eval.html#string">string</A>. (closes #8312)
Files:      src/typval.c, src/job.c, src/proto/job.pro, src/channel.c,
            src/proto/channel.pro, src/eval.c, src/vim9execute.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.2945
Problem:    Some buffer related code is not tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8320)
Files:      src/termlib.c, src/testdir/test_excmd.vim,
            src/testdir/test_recover.vim, src/testdir/test_swap.vim,
            src/testdir/test_visual.vim

Patch 8.2.2946
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: substitute <A HREF="eval.html#expression">expression</A> cannot be a <A HREF="eval.html#List">List</A> in a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Use typval2string(). (closes #8330)
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.2947
Problem:    Build failure without the <A HREF="channel.html#channel">channel</A> feature.
Solution:   Add back #ifdef. (John Marriott)
Files:      src/eval.c

Patch 8.2.2948
Problem:    Substitute() accepts a number but not a float <A HREF="eval.html#expression">expression</A>.
Solution:   Also accept a float. (closes #8331)
Files:      src/typval.c, src/testdir/test_substitute.vim

Patch 8.2.2949 (after 8.2.2948)
Problem:    Tests failing because there is no error for float to <A HREF="eval.html#string">string</A>
            conversion.
Solution:   Change the check for failure to check for correct result.  Make
            some conversions strict in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/evalfunc.c, src/float.c, src/findfile.c, src/json.c,
            src/filepath.c, src/testdir/test_eval_stuff.vim,
            src/testdir/test_execute_func.vim,
            src/testdir/test_float_func.vim, src/testdir/test_functions.vim,
            src/testdir/test_listdict.vim, src/testdir/test_glob2regpat.vim

Patch 8.2.2950
Problem:    Sound code not fully tested.
Solution:   Add more sound tests. (Dominique Pellé, closes #8332)
Files:      src/testdir/test_sound.vim

Patch 8.2.2951
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use heredoc in <A HREF="vim9.html#:def">:def</A> function for <A HREF="if_pyth.html#:python">:python</A>, <A HREF="if_lua.html#:lua">:lua</A>, etc.
Solution:   Concatenate the heredoc lines and pass them in the ISN_EXEC_SPLIT
            instruction.
Files:      src/userfunc.c, src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2952
Problem:    Recover test fails on big endian systems.
Solution:   Disable the failing test on big endian systems. (Yegappan
            Lakshmanan, closes #8335)
Files:      src/testdir/test_recover.vim, src/testdir/test_swap.vim

Patch 8.2.2953 (after 8.2.2951)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory when using heredoc <A HREF="usr_41.html#script">script</A>.
Solution:   Free the first line.
Files:      src/vim9execute.c

Patch 8.2.2954
Problem:    Short file name extension for Scala not recognized.
Solution:   Recognize *.sc. (closes #8337)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2955
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="change.html#filter">filter</A> in compiled command does not work.
Solution:   Generate EXEC including the command modifier.
Files:      src/vim9compile.c, src/ex_docmd.c, src/ex_cmds.c,
            src/proto/ex_cmds.pro, src/testdir/test_vim9_cmd.vim

Patch 8.2.2956
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: need to plan for future additions.
Solution:   Reserve commands for future use: <A HREF="vim9.html#:type">:type</A>, <A HREF="vim9.html#:class">:class</A>, <A HREF="vim9.html#:enum">:enum</A>.
Files:      src/ex_cmds.h, src/ex_cmdidxs.h

Patch 8.2.2957
Problem:    Using <A HREF="builtin.html#getchar()">getchar()</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> is problematic.
Solution:   Add <A HREF="builtin.html#getcharstr()">getcharstr()</A>. (closes #8343)
Files:      runtime/doc/eval.txt, src/evalfunc.c, src/getchar.c,
            src/proto/getchar.pro, src/testdir/test_functions.vim

Patch 8.2.2958 (after 8.2.2957)
Problem:    Function <A HREF="eval.html#list">list</A> test fails.
Solution:   Add newly added function to the <A HREF="eval.html#list">list</A>.  Fix typo.
Files:      runtime/doc/usr_41.txt, src/testdir/test_function_lists.vim

Patch 8.2.2959
Problem:    <A HREF="builtin.html#sound_playfile()">sound_playfile()</A> is not tested on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work and enable the test. (Dominique Pellé, closes #8338)
Files:      src/sound.c, src/testdir/test_sound.vim

Patch 8.2.2960
Problem:    Swap file <A HREF="recover.html#recovery">recovery</A> not sufficiently tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8339)
Files:      src/testdir/test_recover.vim

Patch 8.2.2961
Problem:    Keys typed during a <A HREF="various.html#:normal">:normal</A> command are discarded.
Solution:   Concatenate saved typeahead and typed keys. (closes #8340)
Files:      src/getchar.c, src/proto/getchar.pro, src/ex_docmd.c,
            src/evalfunc.c, src/debugger.c, src/ui.c, src/proto/ui.pro

Patch 8.2.2962
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> command line arguments have wrong encoding.
Solution:   Always use <A HREF="mbyte.html#utf-8">utf-8</A> in get_cmd_argsW(). (Ken Takata, closes #8347)
Files:      src/os_win32.c

Patch 8.2.2963
Problem:    <A HREF="gui.html#GUI">GUI</A>: mouse move may start <A HREF="visual.html#Visual">Visual</A> mode with a <A HREF="popup.html#popup">popup</A> visible.
Solution:   Add special code for mouse move. (closes #8318)
Files:      src/vim.h, src/gui.c, src/keymap.h, src/term.c

Patch 8.2.2964
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: hang when using space after <A HREF="eval.html#-&gt;">-&gt;</A>. (Naohiro Ono)
Solution:   Skip over white space to find the function name. (closes #8341)
Files:      src/eval.c, src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.2965
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when calling function that failed to compile.
Solution:   Fail when trying to call the function. (closes #8344)
Files:      src/errors.h, src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.2966
Problem:    ml_get <A HREF="message.html#errors">errors</A> after recovering a file. (Yegappan Lakshmanan)
Solution:   Fix the cursor position after <A HREF="change.html#deleting">deleting</A> lines.
Files:      src/memline.c

Patch 8.2.2967
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using two levels of partials.
Solution:   Add outer_ref_T and use <A HREF="motion.html#it">it</A> in the execution context.
Files:      src/structs.h, src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.2968 (after 8.2.2967)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak
Solution:   Unreference pt_outer of <A HREF="builtin.html#partial">partial</A>.
Files:      src/eval.c

Patch 8.2.2969
Problem:    Subtracting from number option fails when result is zero. (Ingo
            Karkat)
Solution:   Reset the <A HREF="eval.html#string">string</A> value when using the numeric value.
            (closes #8351)
Files:      src/evalvars.c, src/testdir/test_vimscript.vim

Patch 8.2.2970
Problem:    <A HREF="if_pyth.html#Python">Python</A> configure check uses deprecated command.
Solution:   Use sysconfig instead of distutils if possible. (Zdenek Dohnal,
            closes #8354)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.2971
Problem:    Cannot <A HREF="change.html#yank">yank</A> a block without trailing spaces.
Solution:   Add the &quot;<A HREF="change.html#zy">zy</A>&quot; command. (Christian Brabandt, closes #8292)
Files:      runtime/doc/change.txt, runtime/doc/index.txt, src/normal.c,
            src/ops.c, src/register.c, src/structs.h,
            src/testdir/test_visual.vim

Patch 8.2.2972
Problem:    &quot;&#37;bd&quot; tries to delete <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> <A HREF="windows.html#buffers">buffers</A>, which fails. (Ralf
            Schandl)
Solution:   Do not try to delete a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> buffer. (closes #8349)
Files:      src/buffer.c, src/vim.h, src/testdir/test_popupwin.vim

Patch 8.2.2973
Problem:    Fix for <A HREF="recover.html#recovery">recovery</A> and <A HREF="diff.html#diff">diff</A> mode not tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8352)
Files:      src/testdir/test_diffmode.vim, src/testdir/test_prompt_buffer.vim,
            src/testdir/test_recover.vim

Patch 8.2.2974
Problem:    Greek <A HREF="spell.html#spell">spell</A> checking uses wrong <A HREF="change.html#case">case</A> <A HREF="fold.html#folding">folding</A>.
Solution:   Fold capital sigma depending on whether <A HREF="motion.html#it">it</A> is at the end of a
            <A HREF="motion.html#word">word</A> or not. (closes #299)
Files:      src/spell.c, src/proto/spell.pro, src/spellfile.c,
            src/spellsuggest.c

Patch 8.2.2975
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can only use an <A HREF="eval.html#autoload">autoload</A> function name <A HREF="motion.html#as">as</A> a <A HREF="eval.html#string">string</A>.
Solution:   Load the <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> when encountered. (closes #8124)
Files:      src/vim9compile.c, src/evalvars.c, src/scriptfile.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2976 (after 8.2.2975)
Problem:    Build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add #ifdefs.
Files:      src/scriptfile.c

Patch 8.2.2977
Problem:    Crash when using a <A HREF="vim9.html#null">null</A> function reference. (Naohiro Ono)
Solution:   Check for an invalid function name. (closes #8367)
Files:      src/eval.c, src/errors.h, src/testdir/test_functions.vim

Patch 8.2.2978 (after 8.2.2977)
Problem:    Warning for uninitialized variable.
Solution:   Set return value to FAIL.
Files:      src/eval.c

Patch 8.2.2979
Problem:    Not all <A HREF="options.html#options">options</A> code is covered by tests.
Solution:   Add more tests for <A HREF="options.html#options">options</A>. (Yegappan Lakshmanan, closes #8369)
Files:      src/testdir/test_edit.vim, src/testdir/test_excmd.vim,
            src/testdir/test_help.vim, src/testdir/test_mksession.vim,
            src/testdir/test_options.vim, src/testdir/test_vartabs.vim,
            src/testdir/test_window_cmd.vim

Patch 8.2.2980
Problem:    Popup <A HREF="windows.html#window">window</A> test is a bit flaky.
Solution:   Add a redraw command.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.2981
Problem:    Recovery test is not run on big-endian systems.
Solution:   Make <A HREF="motion.html#it">it</A> work on big-endian systems. (James McCoy, closes #8368)
Files:      src/testdir/test_recover.vim

Patch 8.2.2982
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: future commands are not reserved yet.
Solution:   Add commands to be implemented later.  Make &quot;this&quot; a reserved
            name.
Files:      runtime/doc/vim9.txt, src/ex_cmds.h, src/ex_cmdidxs.h,
            src/vim9script.c, src/testdir/test_vim9_assign.vim

Patch 8.2.2983
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: an inline function requires specifying the return type.
Solution:   Make the return type optional.
Files:      src/eval.c, src/vim9compile.c, src/userfunc.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.2984 (after 8.2.2983)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Test fails because of missing return statement.
Solution:   When type is unknown set type to void.
Files:      src/vim9compile.c

Patch 8.2.2985
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a compiled function cannot be debugged.
Solution:   Add initial debugging support.
Files:      src/vim9.h, src/vim9compile.c, src/proto/vim9compile.pro,
            src/vim.h, src/eval.c, src/vim9execute.c, src/userfunc.c,
            src/vim9type.c, src/testdir/test_debugger.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.2986
Problem:    Build failure without the <A HREF="repeat.html#profile">profile</A> feature.
Solution:   Add #ifdef.
Files:      src/vim9compile.c

Patch 8.2.2987
Problem:    Build failure with normal features.
Solution:   Remove #define.
Files:      src/vim9execute.c

Patch 8.2.2988
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugger test fails.
Solution:   Get the debugger instructions when needed.
Files:      src/vim.h, src/vim9.h

Patch 8.2.2989
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when debugging a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Free the debug instructions.
Files:      src/vim9compile.c

Patch 8.2.2990
Problem:    Jupyter Notebook files are not recognized.
Solution:   Recognize *.ipynb. (closes #8375)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.2991
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no completion for <A HREF="vim9.html#:vim9">:vim9</A> and <A HREF="vim9.html#:legacy">:legacy</A>.
Solution:   Expand argument <A HREF="motion.html#as">as</A> a command. (closes #8377)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.2992
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: completion for <A HREF="vim9.html#:disassemble">:disassemble</A> is incomplete.
Solution:   Recognize the &quot;debug&quot; and &quot;<A HREF="repeat.html#profile">profile</A>&quot; arguments.
Files:      src/cmdexpand.c, src/vim9execute.c, src/proto/vim9execute.pro,
            src/vim.h, src/testdir/test_cmdline.vim

Patch 8.2.2993
Problem:    <A HREF="options.html#'fileencodings'">'fileencodings'</A> default value should depend on <A HREF="options.html#'encoding'">'encoding'</A>. (Gary
            Johnson)
Solution:   When <A HREF="options.html#'encoding'">'encoding'</A> is &quot;<A HREF="mbyte.html#utf-8">utf-8</A>&quot; use a different default value for
            <A HREF="options.html#'fileencodings'">'fileencodings'</A>.
Files:      src/mbyte.c, src/option.c, src/proto/option.pro,
            src/testdir/test_options.vim

Patch 8.2.2994
Problem:    Various code is not fully tested.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8378)
Files:      src/testdir/test_excmd.vim, src/testdir/test_mapping.vim,
            src/testdir/test_modeline.vim, src/testdir/test_options.vim,
            src/testdir/test_paste.vim, src/vim9compile.c

Patch 8.2.2995
Problem:    Linker <A HREF="message.html#errors">errors</A> with dynamic <A HREF="if_pyth.html#Python">Python</A> 3.10.
Solution:   Add a couple of library entries. (Zdenek Dohnal, closes #8381,
            closes #8356)
Files:      src/if_python3.c

Patch 8.2.2996
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: when debugging cannot inspect local <A HREF="eval.html#variables">variables</A>.
Solution:   Make local <A HREF="eval.html#variables">variables</A> available when debugging.
Files:      src/vim9execute.c, src/proto/vim9execute.pro, src/vim9compile.c,
            src/vim9.h, src/debugger.c, src/testdir/test_debugger.vim

Patch 8.2.2997 (after 8.2 2996)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: disassemble test fails.
Solution:   Adjust expected output.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.2998 (after 8.2 2996)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: disassemble test fails.
Solution:   Add missing call to lookup_debug_var().
Files:      src/evalvars.c

Patch 8.2.2999
Problem:    Balloon sometimes does not hide with <A HREF="gui_x11.html#GTK">GTK</A> 3.
Solution:   Also listen to GDK_LEAVE_NOTIFY. (Johannes Stezenbach)
Files:      src/gui_beval.c

Patch 8.2.3000
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: warning for uninitialized variable.
Solution:   Add <A HREF="starting.html#initialization">initialization</A>. (John Marriott)
Files:      src/vim9compile.c

Patch 8.2.3001
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when compilation fails.
Solution:   Free the <A HREF="eval.html#list">list</A> of variable names.
Files:      src/vim9compile.c

Patch 8.2.3002
Problem:    Vim doesn't abort on a fatal <A HREF="if_tcl.html#Tcl">Tcl</A> error.
Solution:   Change emsg() to iemsg(). (Dominique Pellé, closes #8383)
Files:      src/if_tcl.c

Patch 8.2.3003
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#closure">closure</A> compiled with wrong compile type.
Solution:   Use COMPILE_TYPE() when calling a function. (closes #8384)
Files:      src/vim9execute.c, src/testdir/test_debugger.vim

Patch 8.2.3004
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for missing colon given while skipping.
Solution:   Do not give the error when skipping. (closes #8385)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.3005
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using a void value does not give a proper error message.
Solution:   Give a clear error message. (closes #8387)
Files:      src/typval.c, src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3006
Problem:    Crash when echoing a value very early. (Naruhiko Nishino)
Solution:   Do not use a NUL to truncate the message, make a copy.
            (closes #8388)
Files:      src/message.c, src/testdir/test_startup.vim

Patch 8.2.3007 (after 8.2.3005)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for void value fails.
Solution:   Adjust expected error.  Do not make a copy of void.
Files:      src/typval.c, src/testdir/test_functions.vim

Patch 8.2.3008 (after 8.2.3006)
Problem:    Startup test may hang.
Solution:   Add quit command in the <A HREF="usr_41.html#script">script</A>.
Files:      src/testdir/test_startup.vim

Patch 8.2.3009 (after 8.2.3006)
Problem:    Startup test may hang.
Solution:   Do not run the test in the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/testdir/test_startup.vim

Patch 8.2.3010
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for <A HREF="starting.html#viminfo">viminfo</A> code.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #8390)
Files:      src/register.c, src/testdir/test_fileformat.vim,
            src/testdir/test_smartindent.vim, src/testdir/test_viminfo.vim

Patch 8.2.3011
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot get argument values during debugging.
Solution:   Lookup names in the <A HREF="eval.html#list">list</A> of arguments.  Put debug instruction
            halfway for command.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_debugger.vim

Patch 8.2.3012
Problem:    When <A HREF="options.html#'rightleft'">'rightleft'</A> is set the line number is sometimes drawn
            reversed.
Solution:   Adjust how space is handled. (Christian Brabandt, closes #8389,
            closes #8391)
Files:      src/drawline.c, src/testdir/test_number.vim

Patch 8.2.3013
Problem:    Vim: when debugging only the first line of a command using line
            continuation is displayed.
Solution:   Find the next command and concatenate lines until that one.
            (closes #8392)
Files:      src/vim9execute.c, src/testdir/test_debugger.vim

Patch 8.2.3014
Problem:    Coverity warns for freeing static <A HREF="eval.html#string">string</A>.
Solution:   Do not assign static <A HREF="eval.html#string">string</A> to pointer. (Dominique Pellé,
            closes #8397)
Files:      src/vim9execute.c

Patch 8.2.3015
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Assigning to @# requires a <A HREF="eval.html#string">string</A>. (Naohiro Ono)
Solution:   Accent a number or a <A HREF="eval.html#string">string</A>. (closes #8396)
Files:      src/vim9compile.c, src/vim9execute.c, src/globals.h,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3016
Problem:    Confusing error when <A HREF="eval.html#expression">expression</A> is followed by comma.
Solution:   Give a different error for trailing text. (closes #8395)
Files:      src/eval.c, src/testdir/test_let.vim,
            src/testdir/test_eval_stuff.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_viminfo.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.3017
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugger shows too many lines.
Solution:   Truncate at a comment, &quot;enddef&quot;, etc. (closes #8392)
Files:      src/vim9execute.c, src/testdir/test_debugger.vim

Patch 8.2.3018
Problem:    Formatting using quickfixtextfunc is lost when updating location
            lists for different <A HREF="windows.html#buffers">buffers</A>.  (Yorick Peterse)
Solution:   Use the right <A HREF="windows.html#window">window</A> for the location <A HREF="eval.html#list">list</A>. (Yegappan Lakshmanan,
            closes #8400, closes #8403)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.3019
Problem:    Location <A HREF="eval.html#list">list</A> only has the start position.
Solution:   Make <A HREF="motion.html#it">it</A> possible to add an end position. (thinca, closes #8393)
Files:      runtime/doc/eval.txt, src/quickfix.c,
            src/testdir/dumps/Test_quickfix_cwindow_1.dump,
            src/testdir/dumps/Test_quickfix_cwindow_2.dump,
            src/testdir/test_quickfix.vim, src/testdir/test_tagjump.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.3020
Problem:    Unreachable code.
Solution:   Remove the code. (closes #8406)
Files:      src/ex_docmd.c

Patch 8.2.3021
Problem:    Spaces allowed between option name and &quot;<A HREF="change.html#!">!</A>&quot;, &quot;<A HREF="pattern.html#?">?</A>&quot;, etc.
Solution:   Disallow spaces in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>, <A HREF="motion.html#it">it</A> was not documented.
            (closes #8408)
Files:      src/option.c, src/testdir/test_vim9_script.vim

Patch 8.2.3022
Problem:    Available <A HREF="editing.html#encryption">encryption</A> methods are not strong enough.
Solution:   Add initial support for xchacha20. (Christian Brabandt,
            closes #8394)
Files:      .github/workflows/ci.yml, runtime/doc/eval.txt,
            runtime/doc/options.txt, runtime/doc/various.txt,
            src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/auto/configure, src/blowfish.c, src/bufwrite.c,
            src/config.h.in, src/configure.ac, src/crypt.c, src/crypt_zip.c,
            src/errors.h, src/evalfunc.c, src/feature.h, src/fileio.c,
            src/memline.c, src/option.c, src/optionstr.c,
            src/proto/blowfish.pro, src/proto/crypt.pro,
            src/proto/crypt_zip.pro, src/structs.h,
            src/testdir/samples/crypt_sodium_invalid.txt,
            src/testdir/test_crypt.vim, src/undo.c, src/version.c

Patch 8.2.3023
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: arguments for <A HREF="builtin.html#execute()">execute()</A> not checked at compile time.
Solution:   Add a function to check the argument types.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3024 (after 8.2.3023)
Problem:    <A HREF="builtin.html#execute()">execute()</A> function test fails.
Solution:   Adjust test for different error.
Files:      src/testdir/test_execute_func.vim

Patch 8.2.3025
Problem:    Not enough tests for <A HREF="quickfix.html#quickfix">quickfix</A> end_col and end_lnum.
Solution:   Add a few more test cases. (Shane-XB-Qian, closes #8409)
Files:      src/testdir/test_quickfix.vim

Patch 8.2.3026
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot set breakpoint in compiled function.
Solution:   Check for breakpoint when calling a function.
Files:      src/vim9execute.c, src/structs.h, src/vim.h, src/vim9.h,
            src/debugger.c, src/testdir/test_debugger.vim

Patch 8.2.3027
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: breakpoint in compiled function not always checked.
Solution:   Check for breakpoint when calling compiled function from compiled
            function.
Files:      src/vim9execute.c, src/testdir/test_debugger.vim

Patch 8.2.3028
Problem:    <A HREF="gui.html#GUI">GUI</A> mouse events not tested.
Solution:   Add test_gui_mouse_event().  Add mouse tests. Also add a few
            <A HREF="starting.html#viminfo">viminfo</A> tests. (Yegappan Lakshmanan, closes #8407)
Files:      runtime/doc/eval.txt, runtime/doc/testing.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/proto/testing.pro,
            src/testdir/test_gui.vim, src/testdir/test_viminfo.vim,
            src/testing.c

Patch 8.2.3029
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using <A HREF="motion.html#operator">operator</A> and <A HREF="eval.html#list">list</A> unpack assignment.
            (Naohiro Ono)
Solution:   Get variable value before operation. (closes #8416)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c, src/ex_docmd.c,
            src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3030
Problem:    Coverity reports a memory leak.
Solution:   Fix the leak and a few typos. (Dominique Pellé, closes #8418)
Files:      src/crypt.c, src/errors.h

Patch 8.2.3031
Problem:    No error if a function name starts with an underscore. (Naohiro
            Ono)
Solution:   In <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> disallow a function name starting with an
            underscore, <A HREF="motion.html#as">as</A> is mentioned in the help. (closes #8414)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3032
Problem:    Build problems with MSVC, other crypt issues with libsodium.
Solution:   Adjust MSVC makefile. Disable swap file only when <A HREF="options.html#'key'">'key'</A> is set.
            Adjust error message used when key is wrong.  Fix Coverity issues.
            (Christian Brabandt, closes #8420, closes #8411)
Files:      src/Make_mvc.mak, src/crypt.c, src/errors.h, src/fileio.c,
            src/memline.c, src/proto/crypt.pro

Patch 8.2.3033
Problem:    No error when using alpha delimiter with <A HREF="repeat.html#:global">:global</A>.
Solution:   Check the delimiter like with <A HREF="change.html#:substitute">:substitute</A>. (closes #8415)
Files:      src/ex_cmds.c, src/testdir/test_global.vim

Patch 8.2.3034
Problem:    Installing <A HREF="repeat.html#packages">packages</A> on github CI sometimes fails.
Solution:   Update package information first. (Christian Brabandt,
            closes #8432)
Files:      .github/workflows/ci.yml

Patch 8.2.3035
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when calling <A HREF="vim9.html#:def">:def</A> function with <A HREF="builtin.html#partial">partial</A> and return
            type is not set.
Solution:   When the return type is not set handle like the return type is
            unknown. (closes #8422)
Files:      src/vim9type.c, src/testdir/test_vim9_func.vim

Patch 8.2.3036
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: builtin function arguments not checked at compile time.
Solution:   Add more argument type specs. Check arguments to <A HREF="testing.html#test_setmouse()">test_setmouse()</A>
            and test_gui_mouse_event(). (Yegappan Lakshmanan, closes #8425)
Files:      src/evalfunc.c, src/testdir/test_assert.vim,
            src/testdir/test_gui.vim, src/testdir/test_popupwin.vim,
            src/testdir/test_vim9_builtin.vim, src/testing.c

Patch 8.2.3037
Problem:    Configure reports libcanberra when checking for libsodium.
Solution:   Adjust the message. (Ozaki Kiichi, closes #8435)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.3038
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A> built-in version <A HREF="eval.html#string">string</A> doesn't include build date.
Solution:   Add the build date if available. (Ola Söder, closes #8437)
Files:      src/os_amiga.c

Patch 8.2.3039
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: breakpoint at a comment line does not work.
Solution:   Add the comment line number to the debug instruction.
            (closes #8429)
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_debugger.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3040
Problem:    <A HREF="gui.html#GUI">GUI</A>: dropping files not tested.
Solution:   Add test_gui_drop_files() and tests. (Yegappan Lakshmanan,
            closes #8434)
Files:      runtime/doc/eval.txt, runtime/doc/testing.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/gui.c,
            src/proto/testing.pro, src/testdir/test_gui.vim, src/testing.c

Patch 8.2.3041
Problem:    Detecting if the process of a swap file is running fails if the
            process is owned by another user.
Solution:   Check for the ESRCH error. (closes #8436)
Files:      src/os_unix.c

Patch 8.2.3042 (after 8.2.3041)
Problem:    Swap file test fails.
Solution:   Check for a very high process ID instead of one, which should be
            running.
Files:      src/testdir/test_swap.vim

Patch 8.2.3043
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: cannot get the shell size on <A HREF="os_amiga.html#MorphOS">MorphOS</A> and AROS.
Solution:   Use <A HREF="intro.html#control">control</A> sequences. (Ola Söder, closes #8438)
Files:      src/os_amiga.c

Patch 8.2.3044
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A> <A HREF="os_amiga.html#MorphOS">MorphOS</A> and AROS: process ID is not valid.
Solution:   Use FindTask to return something which is unique to all processes.
            (Ola Söder, closes #8444)
Files:      src/os_amiga.c

Patch 8.2.3045
Problem:    Minor typos.
Solution:   Fix the typos. (Christian Brabandt, closes #8441)
Files:      src/VisVim/README_VisVim.txt, src/evalfunc.c, src/testdir/vim9.vim

Patch 8.2.3046
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A> <A HREF="os_amiga.html#MorphOS">MorphOS</A>: Term mode is set using <A HREF="os_dos.html#DOS">DOS</A> packets.
Solution:   Use the same way of setting term mode on all next gen Amiga-like
            systems.  (Ola Söder, closes #8445)
Files:      src/os_amiga.c

Patch 8.2.3047
Problem:    Increment and decrement don't allow for next command.
Solution:   Allow for comment and next command. (closes #8442)
Files:      src/ex_cmds.h, src/vim9script.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3048
Problem:    Strange error for white space after ++ command.
Solution:   Check for white space explicitly. (closes #8440)
Files:      src/vim9script.c, src/errors.h, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3049
Problem:    JSON patch file not recognized.
Solution:   Recognize json-patch <A HREF="motion.html#as">as</A> json. (Kevin Locke, closes #8450)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3050
Problem:    Cannot recognize elixir files.
Solution:   Recognize Elixir-specific files.  Check if an .ex file is Euphoria
            or Elixir. (Austin Gatlin, closes #8401, closes #8446)
Files:      runtime/autoload/dist/ft.vim, runtime/filetype.vim,
            src/testdir/test_filetype.vim

Patch 8.2.3051
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for loop with one <A HREF="eval.html#list">list</A> variable does not work.
Solution:   Use a separate flag for unpacking a <A HREF="eval.html#list">list</A>. (closes #8452)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3052
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;legacy call&quot; does not work.
Solution:   Do not skip &quot;call&quot; after &quot;legacy&quot;. (closes #8454)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.3053
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to <A HREF="repeat.html#@@">@@</A> in <A HREF="vim9.html#:def">:def</A> function
Solution:   Handle '<A HREF="repeat.html#@">@</A>' like &#39;&#34;''. (closes #8456)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3054
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unpack assignment using &quot;<A HREF="motion.html#_">_</A>&quot; after semicolon fails.
Solution:   Drop the <A HREF="eval.html#expression">expression</A> result. (closes #8453)
Files:      src/vim9compile.c, src/errors.h, src/testdir/test_vim9_assign.vim

Patch 8.2.3055
Problem:    Strange error for assigning to &quot;x.key&quot; on non-dictionary.
Solution:   Add a specific error message. (closes #8451)
Files:      src/eval.c, src/errors.h, src/testdir/test_vim9_assign.vim,
            src/testdir/test_listdict.vim, src/testdir/test_let.vim

Patch 8.2.3056
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using default value in <A HREF="eval.html#lambda">lambda</A> gives confusing error.
Solution:   Pass &quot;default_args&quot; on the first pass to get the arguments.
            (closes #8455)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3057
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugger test fails with normal features and <A HREF="various.html#+terminal">+terminal</A>.
            (Dominique Pellé)
Solution:   Adjust the INSTRUCTIONS <A HREF="map.html#macro">macro</A>. (closes #8460)
Files:      src/vim9.h

Patch 8.2.3058 (after 8.2.3056)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="eval.html#ternary">ternary</A> <A HREF="motion.html#operator">operator</A> in parentheses.
Solution:   Do not use &quot;<A HREF="change.html#==">==</A>&quot; for a default argument value.  (closes #8462)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3059 (after 8.2.3056)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when using <A HREF="eval.html#lambda">lambda</A>.
Solution:   Do not store the default value strings when skipping.
Files:      src/userfunc.c

Patch 8.2.3060 (after 8.2.3056)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="eval.html#ternary">ternary</A> <A HREF="motion.html#operator">operator</A> in parentheses.
Solution:   Do not use &quot;=~&quot; for a default argument value.  (closes #8462)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3061
Problem:    Testing the shell option is incomplete and spread out.
Solution:   Move shell tests to one file and increase coverage. (Yegappan
            Lakshmanan, closes #8464)
Files:      src/testdir/Make_all.mak, src/testdir/test_functions.vim,
            src/testdir/test_options.vim, src/testdir/test_shell.vim,
            src/testdir/test_system.vim

Patch 8.2.3062
Problem:    Internal error when adding several text properties.
Solution:   Do not handle text properties when <A HREF="change.html#deleting">deleting</A> a line for splitting a
            data block. (closes #8466)
Files:      src/structs.h, src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.3063
Problem:    Crash when switching <A HREF="options.html#'cryptmethod'">'cryptmethod'</A> to xchaha20 with an existing
            <A HREF="undo.html#undo">undo</A> file. (Martin Tournoij)
Solution:   Disable reading <A HREF="undo.html#undo">undo</A> file when decoding can't be done inplace.
            (issue #8467)
Files:      src/fileio.c, src/bufwrite.c

Patch 8.2.3064
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: in <A HREF="usr_41.html#script">script</A> cannot set item in uninitialized <A HREF="eval.html#list">list</A>.
Solution:   When a <A HREF="eval.html#list">list</A> is NULL allocate an empty one. (closes #8461)
Files:      src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3065
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when sourcing <A HREF="usr_41.html#script">script</A> <A HREF="if_cscop.html#twice">twice</A> and reusing a function
            name.
Solution:   Check if the function is dead. (closes #8463)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3066
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugging <A HREF="eval.html#lambda">lambda</A> does not work.
Solution:   Use the compile type of the function when compiling a <A HREF="eval.html#lambda">lambda</A>.
            (closes #8412)
Files:      src/vim9compile.c, src/testdir/test_debugger.vim

Patch 8.2.3067
Problem:    Building fails with Athena. (Elimar Riesebieter)
Solution:   Adjust #ifdefs and add the '<A HREF="gui.html#drop_file">drop_file</A>' feature.
Files:      src/evalfunc.c, src/testing.c, src/testdir/test_gui.vim

Patch 8.2.3068
Problem:    <A HREF="mbyte.html#Unicode">Unicode</A> tables are slightly outdated.
Solution:   Update the tables for <A HREF="mbyte.html#Unicode">Unicode</A> release 13. (Christian Brabandt
            closes #8430)
Files:      runtime/tools/unicode.vim, src/mbyte.c

Patch 8.2.3069
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move some error <A HREF="message.html#messages">messages</A> to errors.h.  Use clearer names.
Files:      src/errors.h, src/globals.h, src/arglist.c, src/buffer.c,
            src/channel.c, src/eval.c, src/evalfunc.c, src/evalvars.c,
            src/evalwindow.c, src/ex_cmds.c, src/ex_docmd.c, src/ex_getln.c,
            src/filepath.c, src/fold.c, src/getchar.c, src/indent.c,
            src/list.c, src/map.c, src/mark.c, src/normal.c, src/ops.c,
            src/optionstr.c, src/popupwin.c, src/quickfix.c, src/spellfile.c,
            src/textprop.c, src/typval.c, src/undo.c, src/userfunc.c,
            src/vim9compile.c, src/window.c

Patch 8.2.3070
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for shell use.
Solution:   Add a bit more <A HREF="testing.html#testing">testing</A>. (Yegappan Lakshmanan, closes #8469)
Files:      src/testdir/test_shell.vim, src/testdir/test_startup.vim

Patch 8.2.3071
Problem:    Shell <A HREF="options.html#options">options</A> are not set properly for PowerShell.
Solution:   Use better option defaults. (Mike Williams, closes #8459)
Files:      runtime/doc/eval.txt, runtime/doc/options.txt,
            runtime/doc/os_dos.txt, src/fileio.c, src/misc2.c, src/option.c,
            src/os_win32.c, src/testdir/test_shell.vim

Patch 8.2.3072
Problem:    The &quot;<A HREF="change.html#zy">zy</A>&quot; command does not work well when <A HREF="options.html#'virtualedit'">'virtualedit'</A> is set to
            &quot;block&quot;. (Johann Höchtl)
Solution:   Make endspaces zero. (Christian Brabandt, closes #8468,
            closes #8448)
Files:      src/register.c, src/testdir/test_visual.vim

Patch 8.2.3073
Problem:    When cursor is moved for block append wrong text is inserted.
Solution:   Calculate an offset. (Christian Brabandt, closes #8433,
            closes #8288)
Files:      src/ops.c, src/testdir/test_blockedit.vim,
            src/testdir/test_visual.vim

Patch 8.2.3074
Problem:    <A HREF="popup.html#popup_atcursor()">popup_atcursor()</A> uses wrong position with concealing.
Solution:   Keep w_wcol in conceal_check_cursor_line(). (closes #8476)
Files:      src/screen.c, src/proto/screen.pro, src/normal.c, src/edit.c,
            src/ui.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_atcursor_pos.dump

Patch 8.2.3075
Problem:    Xxd always reports an old version <A HREF="eval.html#string">string</A>. (Åsmund Ervik)
Solution:   Update the version <A HREF="eval.html#string">string</A> with the last known change date.
            (Jürgen Weigert, closes #8475)
Files:      src/xxd/xxd.c, src/testdir/test_xxd.vim

Patch 8.2.3076
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using try in catch block causes a hang.
Solution:   Save and restore the ec_in_catch flag. (closes #8478)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.3077
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: an error in a catch block is not reported.
Solution:   Put the &quot;in catch&quot; flag in the try stack. (closes #8478)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.3078
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="repeat.html#profile">profile</A> test fails.
Solution:   Make throw in <A HREF="eval.html#:catch">:catch</A> jump to <A HREF="eval.html#:finally">:finally</A>.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3079
Problem:    Powershell core not supported by default.
Solution:   Set option defaults for &quot;pwsh&quot;. (Mike Williams, closes #8481)
Files:      runtime/doc/eval.txt, runtime/doc/options.txt,
            runtime/doc/os_dos.txt, runtime/doc/os_win32.txt, src/fileio.c,
            src/misc2.c, src/option.c, src/os_win32.c,
            src/testdir/test_shell.vim

Patch 8.2.3080
Problem:    Recover test fails on 32bit systems. (Ondřej Súkup)
Solution:   Detect 32/64 bit systems. (Yegappan Lakshmanan, closes #8485,
            closes #8479)
Files:      src/testdir/test_recover.vim

Patch 8.2.3081
Problem:    Cannot catch <A HREF="message.html#errors">errors</A> in a <A HREF="channel.html#channel">channel</A> command.
Solution:   Instead of skipping the error make <A HREF="motion.html#it">it</A> silent. (closes #8477)
Files:      src/channel.c

Patch 8.2.3082
Problem:    A <A HREF="channel.html#channel">channel</A> command &quot;echoerr&quot; does not show anything.
Solution:   Do not use silent <A HREF="message.html#errors">errors</A> when using an &quot;echoerr&quot; command.
            (closes #8494)
Files:      src/channel.c, src/testdir/test_channel.py,
            src/testdir/test_channel.vim

Patch 8.2.3083
Problem:    Crash when passing <A HREF="vim9.html#null">null</A> <A HREF="eval.html#string">string</A> to <A HREF="builtin.html#charclass()">charclass()</A>.
Solution:   Bail out when <A HREF="eval.html#string">string</A> pointer is NULL. (Christian Brabandt,
            closes #8498, closes #8260)
Files:      src/mbyte.c, src/testdir/test_functions.vim

Patch 8.2.3084
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: builtin function argument types are not checked at compile
            time.
Solution:   Add argument types. (Yegappan Lakshmanan, closes #8503)
Files:      src/evalfunc.c, src/testdir/test_functions.vim,
            src/testdir/test_glob2regpat.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.3085
Problem:    JSONC files are not recognized.
Solution:   Recognize .jsonc files. (Izhak Jakov, closes #8500)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3086
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: breakpoint on &quot;for&quot; does not work.
Solution:   Use the right line number in ISN_DEBUG. (closes #8486)
Files:      src/vim9compile.c, src/testdir/test_debugger.vim

Patch 8.2.3087
Problem:    Gemtext files are not recognized.
Solution:   Recognize .gmi and .gemini files. (closes #8427)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3088
Problem:    With <A HREF="options.html#'virtualedit'">'virtualedit'</A> set to &quot;block&quot; <A HREF="visual.html#Visual">Visual</A> highlight is wrong after
            using &quot;<A HREF="motion.html#$">$</A>&quot;.  (Marco Trosi)
Solution:   Do not set w_old_cursor_lcol to MAXCOL. (closes #8495)
Files:      src/drawscreen.c, src/testdir/test_visual.vim,
            src/testdir/dumps/Test_visual_block_with_virtualedit.dump

Patch 8.2.3089
Problem:    Garbage collection has useless code.
Solution:   Bail out when aborting. (closes #8504)
Files:      src/userfunc.c

Patch 8.2.3090
Problem:    With concealing enabled and indirectly closing a fold the cursor
            may be somewhere in a folded line.
Solution:   Recompute the cursor position when the cursor line can be
            concealed. (closes #8480)
Files:      src/drawscreen.c

Patch 8.2.3091
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: default argument <A HREF="eval.html#expression">expression</A> cannot use previous argument
Solution:   Correct argument index. (closes #8496)
Files:      src/vim9compile.c, src/structs.h, src/testdir/test_vim9_func.vim

Patch 8.2.3092
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: builtin function test fails without the <A HREF="various.html#+channel">+channel</A> feature.
Solution:   Check the <A HREF="various.html#+channel">+channel</A> feature is supported. (Dominique Pellé,
            closes #8507)
Files:      runtime/doc/eval.txt, src/testdir/test_vim9_builtin.vim

Patch 8.2.3093
Problem:    tablabel_tooltip test fails with Athena. (Dominique Pellé)
Solution:   Skip the test when using Athena. (closes #8508)
Files:      src/testdir/test_gui.vim, src/testdir/check.vim

Patch 8.2.3094
Problem:    Test_popup_atcursor_pos() fails without the <A HREF="syntax.html#conceal">conceal</A> feature.
Solution:   Add a check for the <A HREF="syntax.html#conceal">conceal</A> feature. (Dominique Pellé,
            closes #8505)
Files:      src/testdir/test_popupwin.vim

Patch 8.2.3095 (after 8.2.3088)
Problem:    With <A HREF="options.html#'virtualedit'">'virtualedit'</A> set to &quot;block&quot; block selection is wrong after
            using &quot;<A HREF="motion.html#$">$</A>&quot;.  (Marco Trosi)
Solution:   Compute the longest selected line. (closes #8495)
Files:      src/drawscreen.c, src/testdir/test_visual.vim,
            src/testdir/dumps/Test_visual_block_with_virtualedit2.dump

Patch 8.2.3096
Problem:    Temp files remain after running tests.
Solution:   Delete the right files. (Dominique Pellé, closes #8509)
Files:      src/testdir/test_debugger.vim, src/testdir/test_lambda.vim,
            src/testdir/test_visual.vim


Patch 8.2.3097
Problem:    Crash when using &quot;quit&quot; at <A HREF="recover.html#recovery">recovery</A> prompt and <A HREF="autocmd.html#autocommands">autocommands</A> are
            triggered.
Solution:   Block <A HREF="autocmd.html#autocommands">autocommands</A> when creating an empty buffer to use <A HREF="motion.html#as">as</A> the
            current buffer. (closes #8506)
Files:      src/buffer.c, src/testdir/test_swap.vim

Patch 8.2.3098
Problem:    Popup <A HREF="windows.html#window">window</A> test is flaky on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the check in this situation.
Files:      src/testdir/test_popupwin.vim

Patch 8.2.3099
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: missing catch/finally not reported at <A HREF="usr_41.html#script">script</A> level.
Solution:   Give an error. (closes #8487)
Files:      src/structs.h, src/ex_eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.3100
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when using type with unknown number of arguments.
Solution:   Do not ignore argument <A HREF="intro.html#count">count</A> of -1. (closes #8492)
Files:      src/vim9type.c, src/evalfunc.c, src/proto/evalfunc.pro,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.3101
Problem:    Missing function prototype for vim_round().
Solution:   Add the prototype.
Files:      src/proto/float.pro

Patch 8.2.3102 (after 8.2.3097)
Problem:    Test for crash fix does not fail without the fix.
Solution:   Adjust the test sequence. (closes #8506)
Files:      src/testdir/test_swap.vim

Patch 8.2.3103 (after 8.2.3102)
Problem:    Swap test may fail on some systems when jobs take longer to exit.
Solution:   Use different file names.
Files:      src/testdir/test_swap.vim

Patch 8.2.3104
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unspecified function type causes type error.
Solution:   Don't check type when min_argcount is negative. (issue #8492)
Files:      src/globals.h, src/vim9type.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3105
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type of <A HREF="builtin.html#partial">partial</A> is wrong when <A HREF="motion.html#it">it</A> has arguments.
Solution:   Subtract arguments from the <A HREF="intro.html#count">count</A>. (issue #8492)
Files:      src/vim9type.c, src/userfunc.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3106
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing line number reported for error.
Solution:   Use the start line number for the store instruction.
            (closes #8488)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3107
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for arguments while type didn't specify arguments.
Solution:   Do not update that type to check when no argument <A HREF="intro.html#count">count</A> is
            specified. (closes #8492)
Files:      src/userfunc.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3108
Problem:    Test for <A HREF="builtin.html#remote_foreground()">remote_foreground()</A> fails. (Elimar Riesebieter)
Solution:   Check that $DISPLAY is set. (Christian Brabandt)
Files:      src/testdir/check.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3109
Problem:    Check for $DISPLAY never fails.
Solution:   Use <A HREF="builtin.html#eval()">eval()</A>.
Files:      src/testdir/check.vim

Patch 8.2.3110
Problem:    A <A HREF="pattern.html#pattern">pattern</A> that matches the cursor position is a bit complicated.
Solution:   Use a dot to indicate the cursor line and column. (Christian
            Brabandt, closes #8497, closes #8179)
Files:      runtime/doc/pattern.txt, src/errors.h, src/regexp_bt.c,
            src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 8.2.3111
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing error with extra <A HREF="pattern.html#whitespace">whitespace</A> before colon.
Solution:   Check for colon after white space. (closes #8513)
Files:      src/eval.c, src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3112 (after 8.2.3090)
Problem:    With concealing enabled and indirectly closing a fold the cursor
            may be somewhere in a folded line when <A HREF="motion.html#it">it</A> is not on the first line
            of the fold.
Solution:   Check if the cursor is somewhere in the folded text.
Files:      src/drawscreen.c

Patch 8.2.3113
Problem:    No error when for loop variable shadows <A HREF="usr_41.html#script">script</A> variable.
Solution:   Check for the error. (closes #8512)
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.3114
Problem:    Amiga-like systems: build error checking for running process
Solution:   Only build swapfile_process_running() on systems where <A HREF="motion.html#it">it</A> is
            actually used. (Ola Söder, closes #8519)
Files:      src/memline.c

Patch 8.2.3115
Problem:    Coverity complains about free_wininfo() use.
Solution:   Add a condition that &quot;wip2&quot; is not equal to &quot;wip&quot;. (Neovim #14996)
Files:      src/window.c

Patch 8.2.3116
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when debugging a function with line continuation.
Solution:   Check for a NULL pointer. (closes #8521)
Files:      src/vim9execute.c, src/testdir/test_debugger.vim

Patch 8.2.3117
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type not properly checked in for loop.
Solution:   Have <A HREF="builtin.html#items()">items()</A> return a <A HREF="eval.html#list">list</A> of lists.  Add runtime type checks.
            (closes #8515)
Files:      src/evalfunc.c, src/globals.h, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3118
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;any&quot; type not handled correctly in for loop.
Solution:   Change compile time check into runtime check. (closes #8516)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3119
Problem:    Compiler warning for unused argument.
Solution:   Add UNUSED.
Files:      src/evalfunc.c

Patch 8.2.3120
Problem:    Crypt with sodium test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Make the tests pass. (closes #8428)
Files:      src/testdir/test_crypt.vim

Patch 8.2.3121
Problem:    <A HREF="options.html#'listchars'">'listchars'</A> &quot;exceeds&quot; character appears in foldcolumn. Window
            separator is missing. (Leonid <A HREF="visual.html#V">V</A>.  Fedorenchik)
Solution:   Only draw the &quot;exceeds&quot; character in the text area.  Break the
            loop when not drawing the text. (closes #8524)
Files:      src/drawline.c, src/testdir/test_listchars.vim,
            src/testdir/dumps/Test_listchars_01.dump,
            src/testdir/dumps/Test_listchars_02.dump,
            src/testdir/dumps/Test_listchars_03.dump,
            src/testdir/dumps/Test_listchars_04.dump,
            src/testdir/dumps/Test_listchars_05.dump

Patch 8.2.3122
Problem:    With <A HREF="options.html#'nowrap'">'nowrap'</A> cursor position is unexpected in narrow <A HREF="windows.html#window">window</A>.
            (Leonid <A HREF="visual.html#V">V</A>.  Fedorenchik)
Solution:   Put cursor on the last non-empty line. (closes #8525)
Files:      src/move.c, src/testdir/test_listchars.vim,
            src/testdir/dumps/Test_listchars_06.dump,
            src/testdir/dumps/Test_listchars_07.dump

Patch 8.2.3123
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing error when using white space after option, before
            one of &quot;!&amp;&lt;&quot;.
Solution:   Give a specific error. (issue #8408)
Files:      src/errors.h, src/option.c, src/testdir/test_vim9_script.vim

Patch 8.2.3124
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for white space between option and &quot;=9&quot;.
Solution:   Check for extraneous white space. (issue #8408)
Files:      src/option.c, src/testdir/test_vim9_script.vim

Patch 8.2.3125
Problem:    Variables are set but not used.
Solution:   Move the declarations to the block where they are used.
            (closes #8527)
Files:      src/regexp_nfa.c

Patch 8.2.3126
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for loop error reports wrong line number.
Solution:   Save and restore the line number when evaluating the <A HREF="eval.html#expression">expression</A>.
            (closes #8514)
Files:      src/ex_eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.3127
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when adding number to <A HREF="eval.html#list">list</A> of <A HREF="eval.html#string">string</A>.
Solution:   Check the value type. (closes #8529)
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3128
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: uninitialized <A HREF="eval.html#list">list</A> does not get type checked.
Solution:   Set the type when initializing the variable. (closes #8529)
Files:      src/eval.c, src/evalvars.c, src/vim9script.c,
            src/userfunc.c, src/proto/vim9script.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3129
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: imported uninitialized <A HREF="eval.html#list">list</A> does not get type checked.
Solution:   Get type from imported variable.
Files:      src/eval.c, src/evalvars.c, src/vim9script.c,
            src/proto/vim9script.pro, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3130
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: import test fails.
Solution:   Rename directory back to &quot;import&quot;, use &quot;<A HREF="change.html#p">p</A>&quot; to avoid an error when
            the directory already exists.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.3131
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: ipv6 <A HREF="channel.html#channel">channel</A> test is very flaky in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test.
Files:      src/testdir/test_channel.vim

Patch 8.2.3132
Problem:    Compiler warns for size_t to colnr_T conversion. (Randall <A HREF="motion.html#W">W</A>.
            Morris)
Solution:   Add a type cast.
Files:      src/drawscreen.c

Patch 8.2.3133
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when <A HREF="builtin.html#add()">add()</A> fails.
Solution:   Allocate listitem_T after type check.
Files:      src/list.c

Patch 8.2.3134
Problem:    Crash when using <A HREF="builtin.html#typename()">typename()</A> on a function reference. (Naohiro Ono)
Solution:   Initialize pointer to NULL. (closes #8531)
Files:      src/vim9type.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3135
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: builtin function arguments not checked at compile time.
Solution:   Add more type checks. (Yegappan Lakshmanan, closes #8539)
Files:      src/channel.c, src/errors.h, src/evalfunc.c, src/proto/typval.pro,
            src/terminal.c, src/testdir/test_search.vim,
            src/testdir/test_textprop.vim, src/testdir/test_vim9_builtin.vim,
            src/testing.c, src/textprop.c, src/typval.c

Patch 8.2.3136
Problem:    No test for <A HREF="editing.html#E187">E187</A> and &quot;No swap file&quot;.
Solution:   Add a test. (Dominique Pellé, closes #8540)
Files:      src/testdir/test_cd.vim, src/testdir/test_swap.vim

Patch 8.2.3137
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when a line only has a variable name.
Solution:   Give an error when an <A HREF="eval.html#expression">expression</A> is evaluated without an effect.
            (closes #8538)
Files:      src/ex_eval.c, src/errors.h, src/vim9compile.c,
            src/testdir/test_vim9_script.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.3138 (after 8.2.3137)
Problem:    Debugger test fails.
Solution:   Adjust <A HREF="eval.html#eval">eval</A> command.
Files:      src/testdir/test_debugger.vim

Patch 8.2.3139
Problem:    Functions for <A HREF="eval.html#string">string</A> manipulation are spread out.
Solution:   Move <A HREF="eval.html#string">string</A> related <A HREF="eval.html#functions">functions</A> to a new source file. (Yegappan
            Lakshmanan, closes #8470)
Files:      Filelist, src/Make_ami.mak, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/eval.c, src/evalfunc.c, src/mbyte.c, src/misc1.c, src/misc2.c,
            src/proto.h, src/proto/eval.pro, src/proto/evalfunc.pro,
            src/proto/mbyte.pro, src/proto/misc1.pro, src/proto/misc2.pro,
            src/proto/strings.pro, src/strings.c

Patch 8.2.3140 (after 8.2.3131)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: ipv6 <A HREF="channel.html#channel">channel</A> test is very flaky also without the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Skip the test also without the <A HREF="gui.html#GUI">GUI</A>.
Files:      src/testdir/test_channel.vim

Patch 8.2.3141
Problem:    No error when using :complete for <A HREF="map.html#:command">:command</A> without -nargs.
Solution:   Give an error. (Martin Tournoij, closes #8544, closes #8541)
Files:      src/usercmd.c, src/errors.h, src/testdir/test_usercommands.vim

Patch 8.2.3142
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type check for <A HREF="builtin.html#has_key()">has_key()</A> argument is too strict.
Solution:   Also allow for a number key argument. (closes #8542)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3143
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: A <A HREF="eval.html#lambda">lambda</A> may be compiled with the wrong context if <A HREF="motion.html#it">it</A> is
            called from a profiled function.
Solution:   Compile the <A HREF="eval.html#lambda">lambda</A> with and without <A HREF="repeat.html#profiling">profiling</A>. (closes #8543)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3144
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when using an invalid value for a line number.
Solution:   Give an error if the <A HREF="eval.html#string">string</A> value is not recognized.
            (closes #8536)
Files:      src/errors.h, src/eval.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3145
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="repeat.html#profile">profile</A> test fails without <A HREF="repeat.html#profile">profile</A> feature.
Solution:   Check the <A HREF="repeat.html#profile">profile</A> feature is present.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.3146
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line number wrong for <A HREF="eval.html#:execute">:execute</A> argument.
Solution:   Use the line number of the <A HREF="eval.html#:execute">:execute</A> command itself. (closes #8537)
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.3147
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="repeat.html#profiling">profiling</A> does not work with a nested function.
Solution:   Also compile a nested function without <A HREF="repeat.html#profiling">profiling</A>. (closes #8543)
            Handle that compiling may cause the table of compiled <A HREF="eval.html#functions">functions</A> to
            change.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3148
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function arg type check does not handle base offset.
Solution:   Take the base offset into account when checking builtin function
            argument types.
Files:      src/evalfunc.c, src/vim9compile.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3149 (after 8.2.3141)
Problem:    Some plugins have a problem with the error check for using
            <A HREF="map.html#:command">:command</A> with -complete but without -nargs.
Solution:   In legacy <A HREF="usr_41.html#script">script</A> only give a warning message.
Files:      src/usercmd.c, src/message.c, src/proto/message.pro,
            src/testdir/test_usercommands.vim

Patch 8.2.3150
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add more type checks. (Yegappan Lakshmanan, closes #8545)
Files:      src/evalfunc.c, src/testing.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3151
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="repeat.html#profiling">profiling</A> fails if nested function is also profiled.
Solution:   Use the compile type from the outer function. (closes #8543)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3152
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: accessing &quot;s:&quot; results in an error.
Solution:   Do not try to lookup a <A HREF="usr_41.html#script">script</A> variable for &quot;s:&quot;. (closes #8549)
Files:      src/evalvars.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3153
Problem:    URLs with a dash in the scheme are not recognized.
Solution:   Allow for a scheme with a dash, but not at the start or end.
            (Tsuyoshi CHO, closes #8299)
Files:      src/misc1.c, src/testdir/test_buffer.vim

Patch 8.2.3154
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some type checks for builtin <A HREF="eval.html#functions">functions</A> fail.
Solution:   Correct the type checks. (Yegappan Lakshmanan, closes #8551,
            closes #8550)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3155
Problem:    Some option related code not covered by tests.
Solution:   Add a few test cases. (Dominique Pellé, closes #8552)
Files:      src/testdir/test_options.vim, src/testdir/test_set.vim

Patch 8.2.3156
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="terminal.html#term_getansicolors()">term_getansicolors()</A> test fails without <A HREF="various.html#+termguicolors">+termguicolors</A>.
Solution:   Add a check for the feature. (Dominique Pellé, closes #8555)
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.3157
Problem:    Crypt test may fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Ignore &quot;[unix]&quot; in the file message. (Christian Brabandt,
            closes #8561)
Files:      src/testdir/test_crypt.vim

Patch 8.2.3158
Problem:    Strange error message when using <A HREF="builtin.html#islocked()">islocked()</A> with a number.
            (Yegappan Lakshmanan)
Solution:   Check that the name is empty.
Files:      src/evalfunc.c, src/testdir/test_functions.vim

Patch 8.2.3159
Problem:    Cursor displayed in wrong position after <A HREF="change.html#deleting">deleting</A> line.
Solution:   When <A HREF="change.html#deleting">deleting</A> lines <A HREF="diff.html#do">do</A> not approximate botline. (fixes #8559)
Files:      src/change.c

Patch 8.2.3160
Problem:    <A HREF="options.html#'breakindent'">'breakindent'</A> does not work well for bulleted and numbered lists.
Solution:   Add the &quot;<A HREF="eval.html#list">list</A>&quot; entry to <A HREF="options.html#'breakindentopt'">'breakindentopt'</A>. (Christian Brabandt,
            closes #8564, closes #1661)
Files:      runtime/doc/options.txt, src/indent.c, src/structs.h,
            src/testdir/test_breakindent.vim

Patch 8.2.3161
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when <A HREF="builtin.html#reltime()">reltime()</A> has invalid arguments.
Solution:   Add an error. (closes #8562)
Files:      src/time.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3162
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add more type checks. (Yegappan Lakshmanan, closes #8560)
Files:      runtime/doc/channel.txt, src/clientserver.c, src/cmdhist.c,
            src/errors.h, src/evalfunc.c, src/evalwindow.c, src/filepath.c,
            src/globals.h, src/popupwin.c, src/proto/typval.pro, src/sign.c,
            src/strings.c, src/terminal.c, src/testdir/test_normal.vim,
            src/testdir/test_reltime.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_expr.vim, src/testing.c, src/textprop.c,
            src/time.c, src/typval.c

Patch 8.2.3163
Problem:    Location <A HREF="eval.html#list">list</A> <A HREF="windows.html#window">window</A> may open a wrong file.
Solution:   Also update the qf_ptr field. (Wei-Chung Wen, closes #8565,
            closes #8566)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.3164
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: reported version lacks patchlevel, causing some update
            tools to update too often. (Klaus Frank)
Solution:   Add the patchlevel to the version. (Christian Brabandt)
Files:      src/dosinst.c

Patch 8.2.3165
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: in a &#124;&#124; <A HREF="eval.html#expression">expression</A> the error line number may be wrong.
Solution:   Save and restore the line number when checking the type.
            (closes #8569)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3166
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: nested <A HREF="eval.html#autoload">autoload</A> call error overruled by &quot;Unknown error&quot;.
Solution:   Check need_rethrow before giving an &quot;Unknown error&quot;.
            (closes #8568)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.3167
Problem:    Get <A HREF="message.html#E12">E12</A> in a <A HREF="channel.html#job">job</A> callback when searching for <A HREF="tagsrch.html#tags">tags</A>. (Andy Stewart)
Solution:   Use the <A HREF="eval.html#sandbox">sandbox</A> only for executing a command, not for searching.
            (closes #8511)
Files:      src/tag.c

Patch 8.2.3168
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error for constant of type any.
Solution:   Do add a runtime type check if a constant has type any.
            (closes #8570)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3169
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot handle nested inline function.
Solution:   Check for nested inline function. (closes #8575)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.3170
Problem:    Illegal memory access in test.
Solution:   Check pointer is not before the start of the line.
Files:      src/userfunc.c

Patch 8.2.3171
Problem:    Another illegal memory access in test.
Solution:   Check pointer is after the start of the line.
Files:      src/userfunc.c

Patch 8.2.3172
Problem:    <A HREF="if_mzsch.html#MzScheme">MzScheme</A> test fails. (Christian Brabandt)
Solution:   Correct function name.
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.3173
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add more type checks. (Yegappan Lakshmanan, closes #8581)
Files:      src/diff.c, src/errors.h, src/evalfunc.c, src/globals.h,
            src/job.c, src/proto/typval.pro, src/strings.c, src/terminal.c,
            src/testdir/test_vim9_builtin.vim, src/typval.c

Patch 8.2.3174
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;legacy undo&quot; finds &quot;<A HREF="undo.html#undo">undo</A>&quot; variable.
Solution:   Do not pass lookup function to find_ex_command(). (closes #8563)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3175
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using illegal pointer with inline function inside a <A HREF="eval.html#lambda">lambda</A>.
Solution:   Clear eval_tofree_cmdline when advancing to the next line.
            (closes #8578)
Files:      src/eval.c, src/testdir/test_vim9_func.vim

Patch 8.2.3176
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no type error for comparing number with <A HREF="eval.html#string">string</A>.
Solution:   Add a runtime type check. (closes #8571)
Files:      src/typval.c, src/errors.h, src/testdir/test_vim9_expr.vim

Patch 8.2.3177
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can not use &quot;for _ in expr&quot; at <A HREF="usr_41.html#script">script</A> level.
Solution:   Skip assignment if the loop variable is &quot;<A HREF="motion.html#_">_</A>&quot;.
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.3178
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: the file name of an <A HREF="vim9.html#:import">:import</A> cannot be an <A HREF="eval.html#expression">expression</A>.
Solution:   Accept an <A HREF="eval.html#expression">expression</A> that results in a <A HREF="eval.html#string">string</A>.  Do not support
            <A HREF="vim9.html#:import">:import</A> in a function.
Files:      runtime/doc/vim9.txt, src/vim9script.c, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3179
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to an imported variable at <A HREF="usr_41.html#script">script</A> level.
Solution:   Lookup imported items when assigning.
Files:      src/evalvars.c, src/errors.h, src/eval.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3180
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when concatenating to an imported <A HREF="eval.html#string">string</A>.
Solution:   Clear the destination.
Files:      src/evalvars.c

Patch 8.2.3181
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: builtin function test fails without <A HREF="channel.html#channel">channel</A> feature.
Solution:   Add feature checks. (Dominique Pellé, closes #8586)  Make feature
            checks more consistent.
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.3182
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using removing items from a constant <A HREF="eval.html#list">list</A>.
            (Yegappan Lakshmanan)
Solution:   When a <A HREF="eval.html#list">list</A> was allocated with items copy them.
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3183
Problem:    Duplicate error numbers.
Solution:   Adjust the error numbers.
Files:      src/errors.h, src/testdir/test_vim9_builtin.vim

Patch 8.2.3184
Problem:    Cannot add a <A HREF="digraph.html#digraph">digraph</A> with a leading space.  It is not <A HREF="starting.html#easy">easy</A> to <A HREF="eval.html#list">list</A>
            existing <A HREF="digraph.html#digraphs">digraphs</A>.
Solution:   Add setdigraph(), setdigraphlist(), getdigraph() and
            getdigraphlist(). (closes #8580)
Files:      runtime/doc/digraph.txt, runtime/doc/eval.txt,
            runtime/doc/usr_41.txt, src/digraph.c, src/evalfunc.c,
            src/ex_docmd.c, src/globals.h, src/errors.h,
            src/proto/digraph.pro, src/testdir/test_digraph.vim

Patch 8.2.3185
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: start of inline function found in comment line.
Solution:   Do not check for inline function in comment line. (closes #8589)
Files:      src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3186
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all failures for import tested
Solution:   Test more import failures
Files:      src/errors.h, src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.3187
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="popup.html#popup">popup</A> <A HREF="builtin.html#timer">timer</A> callback is not compiled.
Solution:   Compile the callback when creating the <A HREF="builtin.html#timer">timer</A>.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/popupwin.c

Patch 8.2.3188
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add several more type checks, also at runtime. (Yegappan
            Lakshmanan, closes #8587)
Files:      src/blob.c, src/channel.c, src/clientserver.c, src/cmdexpand.c,
            src/cmdhist.c, src/dict.c, src/diff.c, src/errors.h, src/eval.c,
            src/evalbuffer.c, src/evalfunc.c, src/evalvars.c,
            src/evalwindow.c, src/filepath.c, src/globals.h, src/insexpand.c,
            src/job.c, src/list.c, src/map.c, src/match.c,
            src/proto/typval.pro, src/quickfix.c, src/search.c, src/sign.c,
            src/strings.c, src/terminal.c, src/testdir/test_blob.vim,
            src/testdir/test_gui.vim, src/testdir/test_vim9_builtin.vim,
            src/testing.c, src/textprop.c, src/time.c, src/typval.c

Patch 8.2.3189
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when using &quot;try|&quot;.
Solution:   Allow for &quot;|&quot; right after a command.
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.3190
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move error <A HREF="message.html#messages">messages</A> to errors.h and give them a clear name.
Files:      src/globals.h, src/errors.h, src/buffer.c, src/debugger.c,
            src/digraph.c, src/edit.c, src/ex_cmds.c, src/ex_cmds2.c,
            src/ex_docmd.c, src/ex_eval.c, src/gui.c, src/list.c, src/main.c,
            src/map.c, src/match.c, src/quickfix.c, src/regexp.c,
            src/regexp_bt.c, src/regexp_nfa.c, src/register.c, src/search.c,
            src/session.c, src/spell.c, src/syntax.c, src/time.c,
            src/userfunc.c, src/vim9execute.c, src/window.c

Patch 8.2.3191
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough code is tested.
Solution:   Use CheckLegacyAndVim9Success() in more places.  Fix uncovered
            problems.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_listdict.vim

Patch 8.2.3192 (after 8.2.3190)
Problem:    Build failure with small version (Tony Mechelynck).
Solution:   Remove stray #ifdef.
Files:      src/errors.h

Patch 8.2.3193
Problem:    <A HREF="builtin.html#screenpos()">screenpos()</A> is wrong when the last line is partially visible and
            <A HREF="options.html#'display'">'display'</A> is &quot;lastline&quot;.
Solution:   Also compute the position for a partially visible line.
            (closes #8599)
Files:      src/move.c, src/testdir/test_cursor_func.vim

Patch 8.2.3194
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add several more type checks, simplify some. (Yegappan
            Lakshmanan, closes #8598)
Files:      src/diff.c, src/evalbuffer.c, src/evalfunc.c, src/job.c,
            src/proto/typval.pro, src/sign.c, src/terminal.c,
            src/testdir/test_vim9_builtin.vim, src/typval.c

Patch 8.2.3195
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unclear error when passing too many arguments to <A HREF="eval.html#lambda">lambda</A>.
Solution:   Pass the <A HREF="eval.html#expression">expression</A> itself instead of &quot;[expression]&quot;.
            (closes #8604)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.3196
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: bool <A HREF="eval.html#expression">expression</A> with numbers only fails at runtime.
Solution:   Check constant to be bool at compile time. (closes #8603)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3197
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move a few more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/globals.h, src/errors.h, src/edit.c, src/ex_cmds.c,
            src/ex_docmd.c, src/evalvars.c, src/option.c, src/quickfix.c,
            src/regexp_bt.c, src/regexp_nfa.c, src/regexp.c, src/undo.c,
            src/vim9compile.c, src/vim9script.c

Patch 8.2.3198
Problem:    Cannot use <A HREF="options.html#'formatlistpat'">'formatlistpat'</A> for breakindent.
Solution:   Use a negative <A HREF="eval.html#list">list</A> indent. (Maxim Kim, closes #8594)
Files:      runtime/doc/options.txt, src/indent.c,
            src/testdir/test_breakindent.vim

Patch 8.2.3199
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: execution speed can be improved.
Solution:   Make the break counter static.
Files:      src/vim9execute.c

Patch 8.2.3200
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: hard to guess where a type error is given.
Solution:   Add the function name where possible. (closes #8608)
Files:      src/dict.c, src/proto/dict.pro, src/eval.c, src/list.c,
            src/vim9compile.c, src/vim9execute.c, src/structs.h,
            src/vim9type.c, src/proto/vim9type.pro, src/if_py_both.h,
            src/errors.h, src/testdir/test_vim9_builtin.vim

Patch 8.2.3201 (after 8.2.3200)
Problem:    Crash in test.
Solution:   Initialize &quot;where&quot;.
Files:      src/eval.c, src/evalvars.c

Patch 8.2.3202
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: tests are only executed for legacy <A HREF="usr_41.html#script">script</A>.
Solution:   Run more tests also for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.  Fix uncovered problems.
Files:      src/vim9execute.c, src/ex_docmd.c, src/testdir/test_listdict.vim

Patch 8.2.3203
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiled <A HREF="eval.html#string">string</A> <A HREF="eval.html#expression">expression</A> causes type error. (Yegappan
            Lakshmanan)
Solution:   Remove the <A HREF="eval.html#string">string</A> type from the stack.
Files:      src/vim9compile.c, src/evalfunc.c

Patch 8.2.3204
Problem:    Display garbled when <A HREF="options.html#'cursorline'">'cursorline'</A> is set and lines wrap. (Gabriel
            Dupras)
Solution:   Avoid <A HREF="insert.html#inserting">inserting</A> lines <A HREF="if_cscop.html#twice">twice</A>. (closes #7255)
Files:      src/drawscreen.c, src/testdir/test_cursorline.vim,
            src/testdir/dumps/Test_cursorline_redraw_1.dump,
            src/testdir/dumps/Test_cursorline_redraw_2.dump

Patch 8.2.3205
Problem:    Coverity reports a <A HREF="vim9.html#null">null</A> pointer dereference.
Solution:   Change the logic to avoid Coverity gets confused.
Files:      src/vim9compile.c

Patch 8.2.3206
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add several more type checks. (Yegappan Lakshmanan, closes #8611)
Files:      runtime/doc/eval.txt, src/blob.c, src/cmdhist.c, src/dict.c,
            src/errors.h, src/evalfunc.c, src/filepath.c, src/globals.h,
            src/job.c, src/list.c, src/match.c, src/misc1.c, src/popupwin.c,
            src/proto/typval.pro, src/sign.c, src/terminal.c,
            src/testdir/test_blob.vim, src/testdir/test_vim9_builtin.vim,
            src/typval.c

Patch 8.2.3207
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when compiling <A HREF="eval.html#string">string</A> fails. (Yegappan Lakshmanan)
Solution:   Adjust the type stack length.
Files:      src/vim9compile.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3208
Problem:    Dynamic library load error does not mention why <A HREF="motion.html#it">it</A> failed.
Solution:   Add the error message. (Martin Tournoij, closes #8621)
Files:      src/globals.h, src/if_cscope.c, src/if_lua.c, src/if_mzsch.c,
            src/if_perl.xs, src/if_python.c, src/if_python3.c, src/if_ruby.c,
            src/if_tcl.c, src/mbyte.c, src/os_win32.c, src/proto/os_win32.pro,
            src/terminal.c

Patch 8.2.3209
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> doesn't find block-local variable.
Solution:   Adjust how a <A HREF="map.html#script-local">script-local</A> variable is found. (closes #8614)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.3210
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#searchpair()">searchpair()</A> sixth argument is compiled. (Yegappan
            Lakshmanan)
Solution:   Only compile the fifth argument.
Files:      src/vim9compile.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3211
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add several more type checks. Fix type check for <A HREF="builtin.html#matchaddpos()">matchaddpos()</A>.
            (Yegappan Lakshmanan, closes #8619)
Files:      src/channel.c, src/evalfunc.c, src/evalvars.c, src/if_cscope.c,
            src/job.c, src/proto/typval.pro,
            src/testdir/test_vim9_builtin.vim, src/time.c, src/typval.c

Patch 8.2.3212
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: execution speed can be improved.
Solution:   Use __builtin_expect() to have the compiler produce better code.
            (Dominique Pellé, closes #8613)
Files:      src/vim9execute.c

Patch 8.2.3213
Problem:    NOCOMPOUNDSUGS entry in <A HREF="spell.html#spell">spell</A> file not tested.
Solution:   Add a test. (Dominique Pellé, closes #8624)
Files:      src/testdir/test_spellfile.vim

Patch 8.2.3214
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: passing /D does not set the <A HREF="usr_90.html#install">install</A> location.
Solution:   Adjust how the installer uses <A HREF="starting.html#$VIM">$VIM</A>. Update the documentation.
            (Christian Brabandt, Ken Takata, closes #8605)
Files:      nsis/gvim.nsi, runtime/doc/os_win32.txt

Patch 8.2.3215
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add several more type checks. Sort the argument lists.
            (Yegappan Lakshmanan, closes #8626)
Files:      src/change.c, src/evalfunc.c, src/filepath.c, src/sound.c,
            src/testdir/test_gui.vim, src/testdir/test_vim9_builtin.vim,
            src/testing.c

Patch 8.2.3216
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using variable in a loop at <A HREF="usr_41.html#script">script</A> level.
Solution:   Do not clear the variable if a function was defined.
            Do not create a new entry in sn_var_vals every time.
            (closes #8628)
Files:      src/eval.c, src/ex_eval.c, src/vim9script.c, src/userfunc.c,
            src/evalvars.c, src/structs.h

Patch 8.2.3217 (after 8.2.3216)
Problem:    Build failure.
Solution:   Add missing changes.
Files:      src/globals.h

Patch 8.2.3218
Problem:    When using xchaha20 crypt <A HREF="undo.html#undo">undo</A> file is not removed.
Solution:   Reset <A HREF="options.html#'undofile'">'undofile'</A> and delete the file. (Christian Brabandt,
            closes #8630, closes #8467)
Files:      src/bufwrite.c, src/crypt.c, src/proto/undo.pro,
            src/testdir/test_crypt.vim, src/undo.c

Patch 8.2.3219
Problem:    <A HREF="editing.html#:find">:find</A> searches non-existing directories.
Solution:   Check the path is not &quot;..&quot;.  Update help. (Christian Brabandt,
            closes #8612, closes #8533)
Files:      runtime/doc/editing.txt, src/findfile.c,
            src/testdir/test_findfile.vim

Patch 8.2.3220
Problem:    Test_term_setansicolors() fails in some configurations.
Solution:   Check available features. (Dominique Pellé, closes #8636)
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.3221
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: argument types are not checked at compile time.
Solution:   Add several more type checks. (Yegappan Lakshmanan, closes #8632)
Files:      src/evalfunc.c, src/popupwin.c, src/proto/typval.pro,
            src/testdir/test_assert.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_script.vim, src/testing.c, src/typval.c

Patch 8.2.3222
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use loop variable later <A HREF="motion.html#as">as</A> <A HREF="eval.html#lambda">lambda</A> argument.
Solution:   When not in function context check the current block ID.
            (closes #8637)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.3223
Problem:    Vim: using <A HREF="intro.html#{}">{}</A> block in autoloaded omnifunc fails.
Solution:   Allow using <A HREF="intro.html#{}">{}</A> block when text is locked. (closes #8631)
Files:      src/ex_cmds.h, src/testdir/test_ins_complete.vim

Patch 8.2.3224
Problem:    Cannot call <A HREF="map.html#script-local">script-local</A> function after <A HREF="vim9.html#:vim9cmd">:vim9cmd</A>. (Christian <A HREF="change.html#J">J</A>.
            Robinson)
Solution:   Skip over &quot;&lt;SNR&gt;123&quot;.
Files:      src/vim9compile.c, src/eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3225
Problem:    Incsearch highlighting is attempted halfway a <A HREF="map.html#mapping">mapping</A>.
Solution:   Only <A HREF="diff.html#do">do</A> incsearch highlighting if keys were typed or there is no
            more typeahead.
Files:      src/ex_getln.c

Patch 8.2.3226
Problem:    New <A HREF="digraph.html#digraph">digraph</A> <A HREF="eval.html#functions">functions</A> use old naming scheme.
Solution:   Use the digraph_ prefix. (Hirohito Higashi, closes #8642)
Files:      runtime/doc/digraph.txt, runtime/doc/eval.txt,
            runtime/doc/usr_41.txt, src/digraph.c, src/edit.c, src/errors.h,
            src/evalfunc.c, src/proto/digraph.pro,
            src/testdir/test_digraph.vim

Patch 8.2.3227
Problem:    <A HREF="options.html#'virtualedit'">'virtualedit'</A> can only be set globally.
Solution:   Make <A HREF="options.html#'virtualedit'">'virtualedit'</A> <A HREF="options.html#global-local">global-local</A>. (Gary Johnson, closes #8638)
Files:      runtime/doc/options.txt, src/buffer.c, src/change.c,
            src/drawscreen.c, src/edit.c, src/misc2.c, src/normal.c,
            src/ops.c, src/option.c, src/option.h, src/optiondefs.h,
            src/optionstr.c, src/proto/option.pro, src/register.c,
            src/structs.h, src/testdir/test_virtualedit.vim

Patch 8.2.3228
Problem:    Cannot use a simple block for the <A HREF="map.html#:command">:command</A> argument. (Maarten
            Tournoij)
Solution:   Recognize a simple <A HREF="intro.html#{}">{}</A> block. (issue #8623)
Files:      runtime/doc/map.txt, src/misc2.c, src/proto/misc2.pro,
            src/usercmd.c, src/testdir/test_usercommands.vim

Patch 8.2.3229
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: runtime and compile time type checks are not the same.
Solution:   Add more runtime type checks for builtin <A HREF="eval.html#functions">functions</A>. (Yegappan
            Lakshmanan, closes #8646)
Files:      src/arglist.c, src/change.c, src/channel.c, src/cindent.c,
            src/clientserver.c, src/cmdhist.c, src/dict.c, src/diff.c,
            src/digraph.c, src/errors.h, src/eval.c, src/evalbuffer.c,
            src/evalfunc.c, src/evalwindow.c, src/ex_docmd.c, src/ex_getln.c,
            src/filepath.c, src/findfile.c, src/float.c, src/fold.c,
            src/getchar.c, src/indent.c, src/insexpand.c, src/job.c,
            src/json.c, src/list.c, src/mark.c, src/match.c, src/mbyte.c,
            src/menu.c, src/misc1.c, src/move.c, src/popupwin.c,
            src/proto/typval.pro, src/quickfix.c, src/search.c, src/sign.c,
            src/sound.c, src/strings.c, src/terminal.c,
            src/testdir/test_assert.vim, src/testdir/test_blob.vim,
            src/testdir/test_execute_func.vim,
            src/testdir/test_float_func.vim, src/testdir/test_functions.vim,
            src/testdir/test_glob2regpat.vim, src/testdir/test_listdict.vim,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_script.vim, src/testing.c, src/textprop.c,
            src/time.c, src/typval.c, src/undo.c

Patch 8.2.3230
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error when function return type is not known yet.
Solution:   When return type is unknown, use &quot;any&quot;. (closes #8644)
Files:      src/vim9compile.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3231
Problem:    Build failure with small features.
Solution:   Adjust #ifdef.
Files:      src/errors.h

Patch 8.2.3232 (after 8.2.3229)
Problem:    <A HREF="builtin.html#system()">system()</A> does not work without a second argument.
Solution:   Do not require a second argument. (Yegappan Lakshmanan,
            closes #8651, closes #8650)
Files:      src/misc1.c, src/proto/typval.pro,
            src/testdir/test_vim9_builtin.vim, src/typval.c

Patch 8.2.3233
Problem:    <A HREF="textprop.html#prop_list()">prop_list()</A> and <A HREF="textprop.html#prop_find()">prop_find()</A> <A HREF="diff.html#do">do</A> not indicate the buffer for the
            used type.
Solution:   Add &quot;type_bufnr&quot; to the results. (closes #8647)
Files:      runtime/doc/textprop.txt, src/testdir/test_textprop.vim,
            src/textprop.c

Patch 8.2.3234
Problem:    Crash when <A HREF="print.html#printing">printing</A> long <A HREF="eval.html#string">string</A> with <A HREF="if_lua.html#Lua">Lua</A>.
Solution:   Remove lua_pop(). (Martin Tournoij, closes #8648)
Files:      src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.3235
Problem:    Cannot use <A HREF="eval.html#lambda">lambda</A> in <A HREF="intro.html#{}">{}</A> block in user command. (Martin Tournoij)
Solution:   Do not go over the end of the <A HREF="eval.html#lambda">lambda</A>.
Files:      src/userfunc.c, src/testdir/test_usercommands.vim

Patch 8.2.3236
Problem:    <A HREF="builtin.html#mode()">mode()</A> does not indicate using <A HREF="motion.html#CTRL-O">CTRL-O</A> in <A HREF="visual.html#Select">Select</A> mode.
Solution:   Use &quot;vs&quot; and similar. (closes #8640)
Files:      runtime/doc/eval.txt, src/globals.h, src/misc1.c, src/normal.c,
            src/testdir/test_functions.vim

Patch 8.2.3237
Problem:    When a builtin function gives an error processing continues.
Solution:   In <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> return FAIL in get_func_tv().
Files:      src/userfunc.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3238
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message does not indicate the location.
Solution:   Add the relevant text. (issue #8634)
Files:      src/errors.h, src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3239
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error using heredoc for a number variable.
Solution:   Add a type check. (closes #8627)
Files:      src/vim9compile.c, src/evalvars.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3240
Problem:    <A HREF="if_lua.html#Lua">Lua</A> print() does not work properly.
Solution:   Put back lua_pop().
Files:      src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.3241
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when function reports an error.
Solution:   Clear the return value.
Files:      src/userfunc.c

Patch 8.2.3242
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="debug.html#valgrind">valgrind</A> reports leaks in builtin function test.
Solution:   Do not start a <A HREF="channel.html#job">job</A>.
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.3243
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: the &quot;edit with multiple Vim&quot; choice is not that
            useful.
Solution:   Change <A HREF="motion.html#it">it</A> to &quot;Edit with multiple tabs&quot;. (Michael Soyka,
            closes #8645)
Files:      src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h

Patch 8.2.3244
Problem:    <A HREF="if_lua.html#Lua">Lua</A> 5.3 print() with a long <A HREF="eval.html#string">string</A> crashes.
Solution:   Use a growarray instead of a <A HREF="if_lua.html#Lua">Lua</A> buffer. (Yegappan Lakshmanan,
            closes #8655)
Files:      src/if_lua.c, src/misc2.c, src/proto/misc2.pro

Patch 8.2.3245
Problem:    The crypt key may appear in a swap partition.
Solution:   When using xchacha20 use sodium_mlock(). (Christian Brabandt,
            closes #8657)
Files:      src/buffer.c, src/crypt.c, src/errors.h, src/fileio.c,
            src/memline.c, src/vim.h

Patch 8.2.3246
Problem:    Memory use after free.
Solution:   When clearing a <A HREF="eval.html#string">string</A> option set the pointer to &quot;empty_option&quot;.
Files:      src/option.c

Patch 8.2.3247
Problem:    Using uninitialized memory when checking for crypt <A HREF="eval.html#method">method</A>.
Solution:   Check the header length before using the salt and seed.
Files:      src/fileio.c

Patch 8.2.3248
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message for wrong input uses wrong line number.
Solution:   Use the line number of the start of the command. (issue #8653)
Files:      src/vim9script.c, src/testdir/test_vim9_script.vim

Patch 8.2.3249
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for re-imported function with default argument.
Solution:   Do not check argument type if <A HREF="motion.html#it">it</A> is still unknown. (closes #8653)
Files:      src/vim9type.c, src/proto/vim9type.pro, src/vim9script.c,
            src/vim.h, src/eval.c, src/vim9execute.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3250
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build with libsodium.
Solution:   Change FEAT_SODIUM into HAVE_SODIUM. (Christian Brabandt,
            closes #8668, closes #8663)
Files:      src/Make_mvc.mak

Patch 8.2.3251
Problem:    Listing builtin_gui <A HREF="motion.html#as">as</A> an available <A HREF="terminal.html#terminal">terminal</A> is confusing.
Solution:   Do not <A HREF="eval.html#list">list</A> builtin_gui. (Christian Brabandt, closes #8669,
            closes #8661)
Files:      src/term.c, src/testdir/test_termcodes.vim

Patch 8.2.3252
Problem:    Duplicated code for adding buffer lines.
Solution:   Move code to a common function.  Also move map <A HREF="eval.html#functions">functions</A> to map.c.
            (Yegappan Lakshmanan, closes #8665)
Files:      src/evalbuffer.c, src/evalfunc.c, src/map.c, src/proto/map.pro

Patch 8.2.3253
Problem:    <A HREF="eval.html#Channel">Channel</A> test fails randomly.
Solution:   Add a sleep after sending the &quot;echoerr&quot; command. (Michael Soyka)
Files:      src/testdir/test_channel.vim, src/testdir/test_channel.py

Patch 8.2.3254
Problem:    <A HREF="builtin.html#win_gettype()">win_gettype()</A> does not recognize a <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A>.
Solution:   Add &quot;<A HREF="quickfix.html#quickfix">quickfix</A>&quot; and &quot;loclist&quot;. (Yegappan Lakshmanan, closes #8676)
Files:      runtime/doc/eval.txt, src/evalwindow.c, src/misc2.c,
            src/testdir/test_quickfix.vim

Patch 8.2.3255
Problem:    ci&quot; finds following <A HREF="eval.html#string">string</A> but ci&lt; and others don't.
Solution:   When not inside an object find the start. (Connor Lane Smit,
            closes #8670)
Files:      src/search.c, src/testdir/test_textobjects.vim, src/textobject.c

Patch 8.2.3256
Problem:    Executable test may fail on new Ubuntu system.
Solution:   Consider /usr/bin/cat and /bin/cat the same.
Files:      src/testdir/test_functions.vim

Patch 8.2.3257
Problem:    Calling <A HREF="textprop.html#prop_find()">prop_find()</A> with -1 for ID gives erroneous error. (Naohiro
            Ono)
Solution:   When passing -1 use -2. (closes #8674)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.3258
Problem:    Error <A HREF="message.html#messages">messages</A> have the wrong text.
Solution:   Adjust the error message.
Files:      src/errors.h, src/typval.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3259
Problem:    When <A HREF="options.html#'indentexpr'">'indentexpr'</A> causes an error the did_throw flag may remain
            set.
Solution:   Reset did_throw and show the error. (closes #8677)
Files:      src/indent.c, src/ex_docmd.c, src/proto/ex_docmd.pro

Patch 8.2.3260
Problem:    Build failure with small features.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.3261
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: when compiling repeat(123, N) return type is number.
Solution:   Make return type a <A HREF="eval.html#string">string</A>. (closes #8664)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3262
Problem:    Build failure when ABORT_ON_INTERNAL_ERROR is defined.
Solution:   Adjust how estack_len_before is used.
Files:      src/ex_docmd.c

Patch 8.2.3263
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;..=&quot; does not accept same types <A HREF="motion.html#as">as</A> the &quot;..&quot; <A HREF="motion.html#operator">operator</A>.
Solution:   Convert value to <A HREF="eval.html#string">string</A> like &quot;..&quot; does. (issue #8664)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3264 (after 8.2.3263)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assign test fails.
Solution:   Add missing change.
Files:      src/eval.c

Patch 8.2.3265
Problem:    Smartcase does not work correctly in very magic <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Take the magicness into account when skipping over <A HREF="pattern.html#regexp">regexp</A> items.
            (Christian Brabandt, closes #8682, closes #7845)
Files:      src/search.c, src/testdir/test_search.vim

Patch 8.2.3266
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment with two indexes may check next line.
Solution:   Limit the number of lines to avoid checking the next line when
            assigning to a LHS <A HREF="eval.html#subscript">subscript</A>. (closes #8660)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3267
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when disassembling a function that uses a deleted
            <A HREF="usr_41.html#script">script</A> variable.
Solution:   Check the variable still exists. (closes #8683)
Files:      src/vim9execute.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.3268
Problem:    Cannot use a block with <A HREF="autocmd.html#:autocmd">:autocmd</A> like with <A HREF="map.html#:command">:command</A>.
Solution:   Add support for a <A HREF="intro.html#{}">{}</A> block after <A HREF="autocmd.html#:autocmd">:autocmd</A>. (closes #8620)
Files:      runtime/doc/autocmd.txt, runtime/doc/map.txt, src/autocmd.c,
            src/proto/autocmd.pro, src/usercmd.c, src/proto/usercmd.pro,
            src/ex_docmd.c, src/vim.h, src/testdir/test_autocmd.vim

Patch 8.2.3269
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong argument check for <A HREF="builtin.html#partial">partial</A>. (Naohiro Ono)
Solution:   Handle getting return type without arguments. Correct the minimal
            number of arguments for what is included in the <A HREF="builtin.html#partial">partial</A>.
            (closes #8667)
Files:      src/evalfunc.c, src/vim9type.c, src/testdir/test_vim9_func.vim

Patch 8.2.3270
Problem:    <A HREF="textprop.html#prop_find()">prop_find()</A> finds property with ID -2.
Solution:   Use a separate flag to indicate an ID was specified. (issue #8674)
Files:      src/textprop.c

Patch 8.2.3271
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="map.html#:command">:command</A> or <A HREF="autocmd.html#:au">:au</A> with a block in a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Recognize the start of the block.
Files:      src/userfunc.c, src/usercmd.c, src/ex_docmd.c,
            src/proto/ex_docmd.pro, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3272
Problem:    Cannot use id zero with <A HREF="textprop.html#prop_find()">prop_find()</A>. (Naohiro Ono)
Solution:   Also accept id zero.
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.3273
Problem:    Autocmd test fails.
Solution:   Require white space before the &quot;<A HREF="motion.html#{">{</A>&quot; that starts a block.
Files:      src/userfunc.c

Patch 8.2.3274
Problem:    Macro for printf format check can be simplified.
Solution:   Add ATTRIBUTE_FORMAT_PRINTF(). (Dominique Pellé, issue #8635)
Files:      src/channel.c, src/gui_xim.c, src/if_mzsch.c, src/nbdebug.c,
            src/nbdebug.h, src/netbeans.c, src/proto.h, src/term.c, src/vim.h,
            src/vim9execute.c

Patch 8.2.3275
Problem:    Optimizer can use hints about ga_grow() normally succeeding.
Solution:   Use GA_GROW_FAILS() and GA_GROW_OK() in several places. (Dominique
            Pellé, issue #8635)
Files:      src/arglist.c, src/macros.h, src/vim9execute.c, src/vim9compile.c

Patch 8.2.3276
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#exists()">exists()</A> can only be evaluated at runtime.
Solution:   Evaluate at compile time for option name literals. (closes #8437)
Files:      src/vim9compile.c, src/evalfunc.c, src/proto/evalfunc.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3277 (after 8.2.3276)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiled <A HREF="builtin.html#has()">has()</A> does not work properly.
Solution:   Fix check for <A HREF="builtin.html#has()">has()</A> vs <A HREF="builtin.html#exists()">exists()</A>.
Files:      src/vim9compile.c

Patch 8.2.3278
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when adding 1 to float.
Solution:   Accept t_number_bool. (closes #8687)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3279
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use block in cmdline <A HREF="windows.html#window">window</A>.
Solution:   Add EX_CMDWIN to the CMD_block flags. (closes #8689)
Files:      src/ex_cmds.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.3280
Problem:    <A HREF="options.html#'virtualedit'">'virtualedit'</A> local to buffer is not the best solution.
Solution:   Make <A HREF="motion.html#it">it</A> window-local. (Gary Johnson, closes #8685)
Files:      runtime/doc/options.txt, src/buffer.c, src/drawscreen.c,
            src/ops.c, src/option.c, src/option.h, src/optionstr.c,
            src/structs.h, src/testdir/test_virtualedit.vim

Patch 8.2.3281
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: TODO items in tests can be taken care of.
Solution:   Update test for now working functionality. (closes #8694)
Files:      src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.3282
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error about using -complete without -nargs is confusing.
Solution:   Change the wording.
Files:      src/usercmd.c, src/errors.h

Patch 8.2.3283
Problem:    Julia <A HREF="filetype.html#filetype">filetype</A> is not recognized
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> detection. (Christian Clason, closes #8700)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3284
Problem:    No error for <A HREF="builtin.html#insert()">insert()</A> or <A HREF="builtin.html#remove()">remove()</A> <A HREF="change.html#changing">changing</A> a locked <A HREF="eval.html#blob">blob</A>.
Solution:   Check a <A HREF="eval.html#blob">blob</A> is not locked before <A HREF="change.html#changing">changing</A> <A HREF="motion.html#it">it</A>. (Sean Dewar,
            closes #8696)
Files:      src/blob.c, src/errors.h, src/eval.c, src/list.c,
            src/proto/blob.pro, src/testdir/test_blob.vim,
            src/testdir/test_eval_stuff.vim

Patch 8.2.3285
Problem:    Scdoc <A HREF="filetype.html#filetype">filetype</A> is not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> detection. (Gregory Anders, closes #8701)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3286
Problem:    win_enter_ext() has too many <A HREF="options.html#boolean">boolean</A> arguments.
Solution:   use one flags argument with defined values.
Files:      src/window.c

Patch 8.2.3287
Problem:    <A HREF="eval.html#Channel">Channel</A> events not handled in <A HREF="autocmd.html#BufEnter">BufEnter</A> <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Decrement dont_parse_messages earlier. (Tim Pope, closes #8697)
Files:      src/window.c, src/testdir/test_channel.vim

Patch 8.2.3288
Problem:    Cannot easily access namespace dictionaries from <A HREF="if_lua.html#Lua">Lua</A>.
Solution:   Add <A HREF="if_lua.html#vim.g">vim.g</A>, <A HREF="if_lua.html#vim.b">vim.b</A>, etc. (Yegappan Lakshmanan, closes #8693,
            from NeoVim)
Files:      runtime/doc/if_lua.txt, src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.3289 (after 8.2.3287)
Problem:    Compiler warning for unused variable with small features.
Solution:   Rearrange #ifdefs.
Files:      src/window.c

Patch 8.2.3290
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling <A HREF="eval.html#dict">dict</A> may use pointer after free and leak memory on
            failure.
Solution:   Pass a pointer to generate_PUSHS().  (Zdenek Dohnal, closes #8699)
Files:      src/vim9compile.c

Patch 8.2.3291
Problem:    Coverity warns for not checking return value.
Solution:   If dict_add() fails give an error message.
Files:      src/if_lua.c, src/testdir/test_lua.vim

Patch 8.2.3292
Problem:    Underscore in very magic <A HREF="pattern.html#pattern">pattern</A> causes a hang.  <A HREF="pattern.html#Pattern">Pattern</A> with \V
            are <A HREF="change.html#case">case</A> sensitive. (Yutao Yuan)
Solution:   Adjust condition for magicness and advance pointer. (Christian
            Brabandt, closes #8707, closes #8704, closes #8705)
Files:      src/search.c, src/testdir/test_search.vim

Patch 8.2.3293
Problem:    Finding completions may cause an endless loop.
Solution:   Use a better way to check coming back where the search started.
            (Andy Gozas, closes #8672, closes #8671)
Files:      src/insexpand.c, src/testdir/Make_all.mak,
            src/testdir/test_ins_complete_no_halt.vim

Patch 8.2.3294
Problem:    <A HREF="if_lua.html#Lua">Lua</A>: memory leak when adding <A HREF="eval.html#dict">dict</A> item fails.
Solution:   Free the typval and the <A HREF="eval.html#dict">dict</A> item.
Files:      src/if_lua.c

Patch 8.2.3295
Problem:    <A HREF="options.html#'cursorline'">'cursorline'</A> should not apply to <A HREF="options.html#'breakindent'">'breakindent'</A>.
Solution:   Make <A HREF="options.html#'cursorline'">'cursorline'</A> apply to <A HREF="options.html#'breakindent'">'breakindent'</A> and <A HREF="options.html#'showbreak'">'showbreak'</A>
            consistently. (closes #8684)
Files:      src/drawline.c, src/testdir/dumps/Test_Xcursorline_19.dump,
            src/testdir/dumps/Test_Xcursorline_20.dump,
            src/testdir/dumps/Test_Xcursorline_21.dump,
            src/testdir/dumps/Test_Xcursorline_22.dump,
            src/testdir/dumps/Test_Xcursorline_23.dump,
            src/testdir/dumps/Test_Xcursorline_24.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_01.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_02.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_03.dump,
            src/testdir/dumps/Test_diff_with_cul_bri_04.dump,
            src/testdir/test_cursorline.vim, src/testdir/test_diffmode.vim

Patch 8.2.3296
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot add a number to a float.
Solution:   Accept a number if the destination is a float. (closes #8703)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3297
Problem:    Cannot use all commands inside a <A HREF="intro.html#{}">{}</A> block after <A HREF="map.html#:command">:command</A> and
            <A HREF="autocmd.html#:autocmd">:autocmd</A>.
Solution:   Do consider \n to separate commands. (closes #8620)
Files:      runtime/doc/map.txt, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/ex_eval.c, src/proto/ex_eval.pro, src/eval.c, src/evalvars.c,
            src/ex_cmds.c, src/syntax.c, src/userfunc.c, src/vim9compile.c,
            src/vim9script.c, src/errors.h, src/testdir/test_autocmd.vim,
            src/testdir/test_usercommands.vim

Patch 8.2.3298
Problem:    Build failure with small features.
Solution:   Add #ifdef.
Files:      src/ex_docmd.c

Patch 8.2.3299
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#exists()">exists()</A> does not handle much at compile time.
Solution:   Handle variable names. (closes #8688)
Files:      src/vim9compile.c, src/evalfunc.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3300
Problem:    <A HREF="if_lua.html#Lua">Lua</A>: can only execute one Vim command at a time.  Not <A HREF="starting.html#easy">easy</A> to get
            the Vim version.
Solution:   Make vim.command() accept multiple lines.  Add vim.version().
            (Yegappan Lakshmanan, closes #8716)
Files:      runtime/doc/if_lua.txt, src/evalfunc.c, src/if_lua.c,
            src/proto/evalfunc.pro, src/testdir/test_lua.vim,
            src/testdir/test_shell.vim

Patch 8.2.3301
Problem:    Memory allocation <A HREF="eval.html#functions">functions</A> don't have their own place.
Solution:   Move memory allocation <A HREF="eval.html#functions">functions</A> to alloc.c.  (Yegappan
            Lakshmanan, closes #8717)
Files:      Filelist, src/Make_ami.mak, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,
            src/alloc.c, src/misc2.c, src/proto.h, src/proto/alloc.pro,
            src/proto/misc2.pro

Patch 8.2.3302
Problem:    Coverity is not run from github.
Solution:   Add a coverity <A HREF="usr_41.html#script">script</A>. (James McCoy, closes #8714)
Files:      .github/workflows/coverity.yml, Filelist

Patch 8.2.3303
Problem:    Some structures could be smaller.
Solution:   Rearrange members to reduce size. (Dominique Pellé, closes #8725)
Files:      src/structs.h, src/vim9.h, src/vim9execute.c

Patch 8.2.3304
Problem:    Popup <A HREF="windows.html#window">window</A> title with wide characters is truncated.
Solution:   Use vim_strsize() instead of MB_CHARLEN(). (Naruhiko Nishino,
            closes #8721)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_multibytetitle.dump

Patch 8.2.3305
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:finally">:finally</A> in skipped block not handled correctly.
Solution:   Check whether <A HREF="eval.html#:finally">:finally</A> is in a skipped block. (Naruhiko Nishino,
            closes #8724)
Files:      src/ex_eval.c, src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3306
Problem:    Unexpected &quot;No matching autocommands&quot;.
Solution:   Do not give the message when aborting.  Mention the arguments in
            the message. (closes #8690)
Files:      src/autocmd.c,

Patch 8.2.3307
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#:echoconsole">:echoconsole</A> cannot access local <A HREF="eval.html#variables">variables</A>.
Solution:   Handle like other <A HREF="eval.html#:echo">:echo</A> commands. (closes #8708)
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3308
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no runtime check for argument type if a function only has
            varargs.
Solution:   Also check argument types if uf_va_type is set. (closes #8715)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.3309
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: divide by zero causes a crash.
Solution:   Give an error message. (closes #8727)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3310
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unpack assignment does not mention source of type error.
Solution:   Mention the argument number. (closes #8719)
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3311
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: check for DO_NOT_FREE_CNT is very slow.
Solution:   Move to a separate function so <A HREF="motion.html#it">it</A> can be skipped by setting
            $TEST_SKIP_PAT.
Files:      src/testdir/test_vim9_expr.vim, src/testdir/runtest.vim

Patch 8.2.3312
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: after &quot;if false&quot; line breaks in <A HREF="eval.html#expression">expression</A> not skipped.
Solution:   Do parse the <A HREF="eval.html#expression">expression</A>. (closes #8723)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3313
Problem:    Unused code in win_exchange() and frame_remove().
Solution:   Remove the code. (closes #8728)
Files:      src/window.c

Patch 8.2.3314
Problem:    Behavior of <A HREF="builtin.html#exists()">exists()</A> in a <A HREF="vim9.html#:def">:def</A> function is unpredictable.
Solution:   Add <A HREF="builtin.html#exists_compiled()">exists_compiled()</A>.
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/errors.h, src/vim9compile.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3315
Problem:    Cannot use single <A HREF="change.html#quote">quote</A> in a float number for readability.
Solution:   Support single <A HREF="quotes.html#quotes">quotes</A> like in numbers. (closes #8713)
Files:      src/typval.c, src/float.c, src/proto/float.pro, src/json.c,
            src/viminfo.c, src/testdir/test_float_func.vim

Patch 8.2.3316 (after 8.2.3315)
Problem:    <A HREF="eval.html#Float">Float</A> test fails.
Solution:   Add missing change.
Files:      src/evalfunc.c

Patch 8.2.3317
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: No error for missing white space before return type.
Solution:   Check for white space. (closes #8733)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3318
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot ignore <A HREF="quotes.html#quotes">quotes</A> in number at the command line.
Solution:   Use in_vim9script() so that after &quot;<A HREF="vim9.html#:vim9">:vim9</A>&quot; <A HREF="quotes.html#quotes">quotes</A> are ignored.
Files:      src/typval.c, src/testdir/test_float_func.vim

Patch 8.2.3319
Problem:    Coverity action on github does not work.
Solution:   Remove undefined $SRCDIR. (James McCoy, closes #8739)
Files:      .github/workflows/coverity.yml

Patch 8.2.3320
Problem:    Some local <A HREF="eval.html#functions">functions</A> are not static.
Solution:   Add &quot;static&quot;.  Move snprintf() related code to strings.c.
            (Yegappan Lakshmanan, closes #8734)
Files:      src/alloc.c, src/channel.c, src/dict.c, src/digraph.c, src/edit.c,
            src/ex_docmd.c, src/getchar.c, src/job.c, src/list.c,
            src/message.c, src/profiler.c, src/proto/channel.pro,
            src/proto/dict.pro, src/proto/digraph.pro, src/proto/edit.pro,
            src/proto/ex_docmd.pro, src/proto/getchar.pro, src/proto/job.pro,
            src/proto/list.pro, src/proto/profiler.pro, src/proto/spell.pro,
            src/proto/vim9compile.pro, src/proto/vim9script.pro,
            src/proto/vim9type.pro, src/spell.c, src/strings.c,
            src/vim9compile.c, src/vim9script.c, src/vim9type.c, src/window.c

Patch 8.2.3321
Problem:    Some code is not tested.
Solution:   Add some more tests. (Dominique Pellé, closes #8735)
Files:      src/testdir/test_excmd.vim, src/testdir/test_writefile.vim

Patch 8.2.3322
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: checking type of <A HREF="eval.html#dict">dict</A> does not check member type.
Solution:   When getting the type of a typval use dv_type and lv_type.
            (closes #8732)
Files:      src/vim9type.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3323
Problem:    Help <A HREF="tagsrch.html#tag">tag</A> for <A HREF="builtin.html#exists_compiled()">exists_compiled()</A> is wrong. (Maxim Kim)
Solution:   Adjust the help <A HREF="tagsrch.html#tag">tag</A>.
Files:      runtime/doc/eval.txt

Patch 8.2.3324
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Cannot use <A HREF="various.html#:silent">:silent</A> with <A HREF="eval.html#:endwhile">:endwhile</A>.
Solution:   Allow for using the <A HREF="various.html#:silent">:silent</A> modifier. (closes #8737)
Files:      src/ex_eval.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3325
Problem:    Digraph test fails when LC_ALL is set to &quot;<A HREF="change.html#C">C</A>&quot;.
Solution:   When restoring <A HREF="options.html#'encoding'">'encoding'</A> set <A HREF="motion.html#it">it</A> to &quot;<A HREF="mbyte.html#utf-8">utf-8</A>&quot;. (closes #8742)
Files:      src/testdir/test_digraph.vim

Patch 8.2.3326
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error passing an empty <A HREF="eval.html#list">list</A> of the wrong type.
Solution:   Use ISN_SETTYPE also for &quot;list&lt;any&gt;&quot;. (closes #8732)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3327
Problem:    No check for sysconf() failing.
Solution:   If sysconf() fails use SIGSTKSZ for the signal stack size.
            (Zdenek Dohnal, closes #8743)
Files:      src/os_unix.c

Patch 8.2.3328
Problem:    Coverity error for not checking return value.
Solution:   Check value is not negative.
Files:      src/spellfile.c

Patch 8.2.3329
Problem:    v_lock not set when getting value of environment variable.
Solution:   Set v_lock to zero.
Files:      src/typval.c

Patch 8.2.3330
Problem:    Coverity reports using uninitialized field.
Solution:   Initialize the field early.
Files:      src/tag.c

Patch 8.2.3331
Problem:    Coverity warns for using value without boundary check.
Solution:   Add a boundary check.
Files:      src/viminfo.c

Patch 8.2.3332
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to range in <A HREF="eval.html#list">list</A>.
Solution:   Implement overwriting a <A HREF="eval.html#list">list</A> range.
Files:      src/vim9compile.c, src/vim9execute.c, src/list.c,
            src/proto/list.pro, src/eval.c, src/proto/eval.pro,
            src/testdir/test_listdict.vim, src/testdir/test_vim9_assign.vim

Patch 8.2.3333
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough tests run with <A HREF="vim9.html#Vim9">Vim9</A>.
Solution:   Run a few more tests in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> and <A HREF="vim9.html#:def">:def</A> function.
Files:      src/testdir/test_listdict.vim, src/testdir/vim9.vim

Patch 8.2.3334
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough tests run with <A HREF="vim9.html#Vim9">Vim9</A>.
Solution:   Run a few more tests in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> and <A HREF="vim9.html#:def">:def</A> function. Fix
            <A HREF="builtin.html#islocked()">islocked()</A>.  Fix error for locking local variable.
Files:      src/evalfunc.c, src/vim9compile.c, src/testdir/test_listdict.vim

Patch 8.2.3335
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough tests run with <A HREF="vim9.html#Vim9">Vim9</A>.
Solution:   Run a few more tests in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> and <A HREF="vim9.html#:def">:def</A> function.  Fix that
            <A HREF="builtin.html#items()">items()</A>, <A HREF="builtin.html#keys()">keys()</A> and <A HREF="builtin.html#values()">values()</A> return zero for a NULL <A HREF="eval.html#dict">dict</A>.
            Make <A HREF="builtin.html#join()">join()</A> return an empty <A HREF="eval.html#string">string</A> for a NULL <A HREF="eval.html#list">list</A>.  Make <A HREF="builtin.html#sort()">sort()</A>
            return an empty <A HREF="eval.html#list">list</A> for a NULL <A HREF="eval.html#list">list</A>.
Files:      src/dict.c, src/list.c, src/testdir/test_listdict.vim,
            src/testdir/vim9.vim

Patch 8.2.3336
Problem:    Behavior of negative index in <A HREF="eval.html#list">list</A> change changed. (Naruhiko
            Nishino)
Solution:   Only change <A HREF="motion.html#it">it</A> for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #8749)
Files:      src/list.c, src/testdir/test_listdict.vim

Patch 8.2.3337
Problem:    Completing &quot;call g:&quot; returns entries with just &quot;<A HREF="eval.html#g:">g:</A>&quot;. (Naohiro Ono)
Solution:   Skip empty strings returned by get_user_func_name(). (closes #8753)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 8.2.3338
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no type check when assigning a <A HREF="eval.html#list">list</A> range. (Naohiro Ono)
Solution:   Check the member type. (closes #8750)
Files:      src/list.c, src/testdir/test_listdict.vim

Patch 8.2.3339
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot lock a member in a local <A HREF="eval.html#dict">dict</A>.
Solution:   Get the local <A HREF="eval.html#dict">dict</A> from the stack and pass <A HREF="motion.html#it">it</A> to get_lval().
Files:      src/eval.c, src/vim9execute.c, src/vim9compile.c, src/vim9.h,
            src/globals.h, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3340 (after 8.2.3339)
Problem:    Accessing uninitialized pointer.
Solution:   Set pointer to NULL.
Files:      src/eval.c

Patch 8.2.3341
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function call aborted despite try/catch. (Naohiro Ono)
Solution:   Ignore error caught by try/catch. (closes #8755)
Files:      src/evalvars.c, src/vim9execute.c, src/message.c, src/time.c,
            src/globals.h, src/testdir/vim9.vim, src/testdir/test_vim9_func.vim

Patch 8.2.3342 (after 8.2.3341)
Problem:    Test for <A HREF="eval.html#:let">:let</A> <A HREF="message.html#errors">errors</A> fails.
Solution:   Adjust the test and how to avoid a second error message.
Files:      src/evalvars.c, src/testdir/test_let.vim

Patch 8.2.3343 (after 8.2.3342)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#autoload">autoload</A> test fails.
Solution:   Adjust the way the second message is avoided
Files:      src/evalvars.c

Patch 8.2.3344 (after 8.2.3343)
Problem:    Vimscript test fails.
Solution:   Have test verify first error instead of second
Files:      src/testdir/test_vimscript.vim

Patch 8.2.3345
Problem:    Some code not covered by tests.
Solution:   Add a few more tests. (Dominique Pellé, closes #8757)
Files:      src/testdir/test_arglist.vim, src/testdir/test_cmdline.vim,
            src/testdir/test_spellfile.vim, src/testdir/test_substitute.vim

Patch 8.2.3346
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for using &quot;<A HREF="repeat.html#.">.</A>&quot; for concatenation after &quot;<A HREF="vim9.html#:vim9cmd">:vim9cmd</A>&quot;.
            (Naohiro Ono)
Solution:   Check for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> <A HREF="syntax.html#syntax">syntax</A>. (closes #8756)
Files:      src/eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3347
Problem:    Check for legacy <A HREF="usr_41.html#script">script</A> is incomplete. (Naohiro Ono)
Solution:   Also check the <A HREF="vim9.html#:legacy">:legacy</A> modifier.  Use for <A HREF="eval.html#string">string</A> concatenation
            with &quot;<A HREF="repeat.html#.">.</A>&quot; and others (issue #8756)
Files:      src/vim9script.c, src/proto/vim9script.pro, src/eval.c,
            src/typval.c, src/evalvars.c, src/errors.h, src/ex_docmd.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3348
Problem:    <A HREF="builtin.html#line2byte()">line2byte()</A> returns wrong value after adding <A HREF="textprop.html#textprop">textprop</A>. (Yuto
            Kimura)
Solution:   Reduce the length by the size of the text property. (closes #8759)
Files:      src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.3349 (after 8.2.3347)
Problem:    Eval test for <A HREF="eval.html#scriptversion">scriptversion</A> fails.
Solution:   Fix off-by-one error.
Files:      src/vim9script.c

Patch 8.2.3350 (after 8.2.3348)
Problem:    Text properties test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set fileformat to <A HREF="os_unix.html#unix">unix</A>.
Files:      src/testdir/test_textprop.vim

Patch 8.2.3351
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using a function by name may delete <A HREF="motion.html#it">it</A>. (Naohiro Ono)
Solution:   Increment the reference <A HREF="intro.html#count">count</A> when using a function by name.
            (closes #8760)
Files:      src/evalvars.c, src/testdir/test_vim9_func.vim

Patch 8.2.3352
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for nested <A HREF="vim9.html#:enddef">:enddef</A> has wrong line number.
Solution:   Compute the line number.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3353
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type of argument for negate not checked at compile time.
Solution:   Add a compile time check.
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3354
Problem:    Build failure with <A HREF="various.html#+byte_offset">+byte_offset</A> but without <A HREF="various.html#+textprop">+textprop</A>. (John
            Marriott)
Solution:   Adjust the #ifdef.
Files:      src/memline.c

Patch 8.2.3355
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: compiler warning for 64-32 bit conversion.
Solution:   Add type casts.
Files:      src/memline.c

Patch 8.2.3356
Problem:    Adding many text properties requires a lot of function calls.
Solution:   Add the <A HREF="textprop.html#prop_add_list()">prop_add_list()</A> function. (Yegappan Lakshmanan,
            closes #8751)
Files:      runtime/doc/eval.txt, runtime/doc/textprop.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/proto/textprop.pro,
            src/testdir/test_textprop.vim, src/testdir/test_vim9_builtin.vim,
            src/textprop.c

Patch 8.2.3357
Problem:    Crash when <A HREF="options.html#'virtualedit'">'virtualedit'</A> is set and <A HREF="windows.html#window">window</A> is narrow.
Solution:   Check that width is not zero. (closes #8767)
Files:      src/misc2.c, src/testdir/test_number.vim

Patch 8.2.3358
Problem:    Structurizr files are not recognized.
Solution:   Recognize the file by contents. (Bastian Venthur, closes #8764)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3359
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for type when variable is not set.
Solution:   Give a specific error for a NULL function. (closes #8773)
Files:      src/vim9type.c, src/errors.h, src/testdir/test_vim9_func.vim

Patch 8.2.3360
Problem:    <A HREF="autocmd.html#User">User</A> function completion fails with <A HREF="eval.html#dict">dict</A> function.
Solution:   Do not stop sequencing through the <A HREF="eval.html#list">list</A> if user <A HREF="eval.html#functions">functions</A> when
            encountering an empty name. (Naohiro Ono, closes #8765,
            closes #8774)
Files:      src/evalfunc.c, src/testdir/test_cmdline.vim

Patch 8.2.3361
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash with nested <A HREF="eval.html#:while">:while</A>.
Solution:   Handle skipping better. (Naruhiko Nishino, closes #8778)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3362
Problem:    Buffer overflow when completing long <A HREF="tagsrch.html#tag">tag</A> name.
Solution:   Allocate the buffer dynamically. (Gregory Anders, closes #8769)
Files:      src/tag.c, src/testdir/test_tagjump.vim

Patch 8.2.3363
Problem:    When <A HREF="editing.html#:edit">:edit</A> reuses the current buffer the alternate file is set to
            the same buffer.
Solution:   Only set the alternate file when not reusing the buffer.
            (closes #8783)
Files:      src/ex_cmds.c, src/testdir/test_undo.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.3364
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when <A HREF="eval.html#:for">:for</A> is skipped.
Solution:   Skip more code generation. (Naruhiko Nishino, closes #8777)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3365
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use option for all operations.
Solution:   Recognize more operations. (closes #8779)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/ex_docmd.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3366
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugging elseif does not stop before condition.
Solution:   Move debug statement to after the jump. (closes #8781)
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.3367
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: :@r executing a <A HREF="sponsor.html#register">register</A> is inconsistent.
Solution:   Use &quot;<A HREF="eval.html#@r">@r</A>&quot; <A HREF="motion.html#as">as</A> the start of an <A HREF="eval.html#expression">expression</A>. (issue #8779)
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3368
Problem:    Not all Racket files are recognized.
Solution:   Also recognize .rktl and .rktd files. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3369
Problem:    Auto <A HREF="change.html#formatting">formatting</A> after &quot;<A HREF="change.html#cw">cw</A>&quot; leaves cursor in wrong spot.
Solution:   Do not <A HREF="change.html#auto-format">auto-format</A> after the delete. (closes #8789)
Files:      src/ops.c, src/testdir/test_textformat.vim

Patch 8.2.3370
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no check for white space before type in declaration.
            (Naohiro Ono)
Solution:   Check for white space like in a compiled function. (closes #8785)
Files:      src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3371
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: :$ENV cannot be followed by -&gt;func() in next line.
Solution:   Use &quot;$ENV&quot; <A HREF="motion.html#as">as</A> the start of an <A HREF="eval.html#expression">expression</A>. (closes #8790)
Files:      src/ex_docmd.c, src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3372
Problem:    <A HREF="builtin.html#line2byte()">line2byte()</A> value wrong when adding a text property. (Yuto Kimura)
Solution:   Adjust length for text property. (closes #8772)  Also fix <A HREF="motion.html#it">it</A> for
            <A HREF="change.html#deleting">deleting</A> a line.
Files:      src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.3373 (after 8.2.3372)
Problem:    text property test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set fileformat to &quot;<A HREF="os_unix.html#unix">unix</A>&quot;
Files:      src/testdir/test_textprop.vim

Patch 8.2.3374
Problem:    Pyret files are not recognized.
Solution:   Recognize .arr files <A HREF="motion.html#as">as</A> Pyret. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3375
Problem:    Using uninitialized memory.
Solution:   Initialize textprop_save_len.
Files:      src/memline.c

Patch 8.2.3376
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no warning that &quot;<A HREF="eval.html#@r">@r</A>&quot; does not <A HREF="diff.html#do">do</A> anything.
Solution:   Give a &quot;no effect&quot; error. (closes #8779)
Files:      src/ex_eval.c, src/proto/ex_eval.pro, src/vim9compile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3377
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: :disass completion does not understand &quot;s:&quot;.
Solution:   Expand &quot;s:&quot; to a <A HREF="pattern.html#pattern">pattern</A>. (closes #8780)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3378
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: completing environment <A HREF="eval.html#variables">variables</A> with <A HREF="motion.html#&#37;">&#37;</A> is wrong.
Solution:   Only complete environment <A HREF="eval.html#variables">variables</A> with $. (Albert Liu,
            closes #8791)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3379
Problem:    Crash when using NULL <A HREF="channel.html#job">job</A>.
Solution:   Copy static <A HREF="eval.html#string">string</A> into buffer. (issue #8260)
Files:      src/job.c, src/testdir/test_channel.vim

Patch 8.2.3380
Problem:    Crash when using NULL <A HREF="eval.html#string">string</A> for <A HREF="builtin.html#funcref()">funcref()</A>.
Solution:   Check for NULL argument. (issue #8260)
Files:      src/evalfunc.c, src/testdir/test_expr.vim

Patch 8.2.3381
Problem:    Crash when using NULL <A HREF="eval.html#list">list</A> with sign <A HREF="eval.html#functions">functions</A>.
Solution:   Handle a NULL <A HREF="eval.html#list">list</A> like an empty <A HREF="eval.html#list">list</A>. (issue #8260)
Files:      src/globals.h, src/testdir/test_signs.vim

Patch 8.2.3382
Problem:    Crash when getting the type of a NULL <A HREF="builtin.html#partial">partial</A>.
Solution:   Check for NULL. (closes #8260)
Files:      src/vim9type.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3383
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: completion for <A HREF="vim9.html#:disassemble">:disassemble</A> adds parenthesis.
Solution:   Don't add parenthesis. (Naohiro Ono, closes #8802)
Files:      src/userfunc.c, src/testdir/test_cmdline.vim

Patch 8.2.3384
Problem:    Cannot disable <A HREF="options.html#modeline">modeline</A> for an individual file.
Solution:   Recognize &quot;nomodeline&quot; in a <A HREF="options.html#modeline">modeline</A>. (Hu Jialun, closes #8798)
Files:      runtime/doc/options.txt, src/buffer.c,
            src/testdir/test_modeline.vim

Patch 8.2.3385
Problem:    Escaping for fish shell does not work properly.
Solution:   <A HREF="insert.html#Insert">Insert</A> a <A HREF="intro.html#backslash">backslash</A> before a <A HREF="intro.html#backslash">backslash</A>. (Jason Cox, closes #8810)
Files:      runtime/doc/eval.txt, src/strings.c, src/testdir/test_shell.vim

Patch 8.2.3386
Problem:    Using uninitialized memory.
Solution:   Initialize the rm_ic field. (Dominique Pellé, closes #8800)
Files:      src/indent.c

Patch 8.2.3387
Problem:    Compiler warning for non-static function.
Solution:   Make the function static. (Dominique Pellé, closes #8816)
Files:      src/strings.c

Patch 8.2.3388
Problem:    fnamemodify('path/..', '<A HREF="various.html#:p">:p</A>') differs from using 'path/../'. (David
            Briscoe)
Solution:   Include the &quot;/..&quot; in the directory name. (closes #8808)
Files:      src/os_unix.c, src/testdir/test_fnamemodify.vim

Patch 8.2.3389
Problem:    Cannot stop insert mode completion without side effects.
Solution:   Add <A HREF="change.html#CTRL-X">CTRL-X</A> <A HREF="starting.html#CTRL-Z">CTRL-Z</A>. (closes #8821)
Files:      runtime/doc/index.txt, runtime/doc/insert.txt, src/insexpand.c,
            src/testdir/test_ins_complete.vim

Patch 8.2.3390
Problem:    Included xdiff code is outdated.
Solution:   Sync with xdiff in git 2.33. (Christian Brabandt, closes #8431)
Files:      src/diff.c, src/xdiff/README.txt, src/xdiff/xdiff.h,
            src/xdiff/xdiffi.c, src/xdiff/xdiffi.h, src/xdiff/xemit.c,
            src/xdiff/xemit.h, src/xdiff/xhistogram.c, src/xdiff/xinclude.h,
            src/xdiff/xmacros.h, src/xdiff/xpatience.c, src/xdiff/xprepare.h,
            src/xdiff/xtypes.h, src/xdiff/xutils.c, src/xdiff/xutils.h

Patch 8.2.3391
Problem:    Crash with combination of <A HREF="options.html#'linebreak'">'linebreak'</A> and other <A HREF="options.html#options">options</A>.
Solution:   Avoid n_extra to become negative. (Christian Brabandt,
            closes #8817)
Files:      src/drawline.c

Patch 8.2.3392
Problem:    augroup completion escapes <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A> characters.
Solution:   Do not <A HREF="intro.html#escape">escape</A> the augroup name. (closes #8826)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3393
Problem:    Escaping for fish shell is skipping some characters.
Solution:   Escape character after <A HREF="intro.html#backslash">backslash</A> if needed. (Jason Cox,
            closes #8827)
Files:      src/strings.c, src/testdir/test_shell.vim

Patch 8.2.3394
Problem:    Filler lines are wrong when <A HREF="change.html#changing">changing</A> text in <A HREF="diff.html#diff">diff</A> mode.
Solution:   Don't change the filler lines on every change.  Check
            scrollbinding when updating the filler lines. (closes #8809)
Files:      src/move.c, src/diff.c, src/testdir/test_diffmode.vim,
            src/testdir/dumps/Test_diff_scroll_change_01.dump,
            src/testdir/dumps/Test_diff_scroll_change_02.dump

Patch 8.2.3395
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expression">expression</A> breakpoint not checked in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Always compile a function for debugging if there is an <A HREF="eval.html#expression">expression</A>
            breakpoint. (closes #8803)
Files:      src/vim9execute.c, src/proto/vim9execute.pro, src/debugger.c,
            src/proto/debugger.pro, src/vim.h, src/vim9.h,
            src/testdir/test_debugger.vim

Patch 8.2.3396
Problem:    When <A HREF="builtin.html#libcall()">libcall()</A> fails invalid pointer may be used.
Solution:   Initialize the <A HREF="eval.html#string">string</A> to NULL. (Yasuhiro Matsumoto, closes #8829)
Files:      src/evalfunc.c

Patch 8.2.3397
Problem:    No test for what 8.2.3391 fixes.
Solution:   Add a test. (Yegappan Lakshmanan, closes #8828)
Files:      src/testdir/test_breakindent.vim

Patch 8.2.3398
Problem:    Html text <A HREF="index.html#objects">objects</A> are not fully tested.
Solution:   Add tests for dbcs encoding and different number of backslashes.
            (Dominique Pellé, closes #8831)
Files:      src/testdir/test_textobjects.vim

Patch 8.2.3399
Problem:    Octave files are not recognized.
Solution:   Detect Octave files. (Doug Kearns)
Files:      runtime/autoload/dist/ft.vim, runtime/doc/filetype.txt,
            runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3400
Problem:    &quot;<A HREF="various.html#:z!">:z!</A>&quot; is not supported.
Solution:   Make &quot;<A HREF="various.html#:z!">:z!</A>&quot; work and add tests. (Dominique Pellé, closes #8836)
            Use display height instead of current <A HREF="windows.html#window">window</A> height.
Files:      runtime/doc/various.txt, src/ex_cmds.h, src/ex_cmds.c,
            src/testdir/test_ex_z.vim

Patch 8.2.3401
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a negative <A HREF="intro.html#count">count</A> with <A HREF="builtin.html#finddir()">finddir()</A> and <A HREF="builtin.html#findfile()">findfile()</A>.
Solution:   Adjust the return type. (closes #8776)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3402
Problem:    Invalid memory access when using <A HREF="change.html#:retab">:retab</A> with large value.
Solution:   Check the number is positive.
Files:      src/indent.c, src/option.c, src/optionstr.c,
            src/testdir/test_retab.vim

Patch 8.2.3403 (after 8.2.3402)
Problem:    Memory leak for <A HREF="change.html#:retab">:retab</A> with invalid argument.
Solution:   Free the memory.  Make error <A HREF="message.html#messages">messages</A> consistent.
Files:      src/indent.c

Patch 8.2.3404
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for white space before &quot;<A HREF="motion.html#(">(</A>&quot;.
Solution:   Give an error, like in a compiled function.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3405
Problem:    Cannot have a comment line in a <A HREF="intro.html#{}">{}</A> block of a user command.
Solution:   Continue after the line break. (closes #8837)
Files:      src/ex_docmd.c, src/testdir/test_usercommands.vim

Patch 8.2.3406
Problem:    On some systems tests fail without _REENTRANT. (Elimar
            Riesebieter)
Solution:   Add -D_REENTRANT in configure. (closes #7402)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.3407
Problem:    Using uninitialized memory with &quot;let g:['bar'] = 2&quot;.
Solution:   Initialize v_type of a new <A HREF="eval.html#dict">dict</A> item.
Files:      src/dict.c

Patch 8.2.3408
Problem:    Can delete a numbered function. (Naohiro Ono)
Solution:   Disallow <A HREF="change.html#deleting">deleting</A> a numbered function. (closes #8760)
Files:      src/userfunc.c, src/testdir/test_user_func.vim

Patch 8.2.3409
Problem:    Reading beyond end of line with invalid <A HREF="mbyte.html#utf-8">utf-8</A> character.
Solution:   Check for NUL when advancing.
Files:      src/regexp_nfa.c, src/testdir/test_regexp_utf8.vim

Patch 8.2.3410
Problem:    Crash with linebreak, listchars and large tabstop.
Solution:   Account for different size listchars for a <A HREF="intro.html#tab">tab</A>. (closes #8841)
Files:      src/drawline.c, src/testdir/test_listlbr_utf8.vim

Patch 8.2.3411
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using base name of import. (Naohiro Ono)
Solution:   Check the import flags. (closes #8843)
Files:      src/evalvars.c, src/errors.h, src/testdir/test_vim9_script.vim

Patch 8.2.3412 (after 8.2.3411)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: importing the wrong file.
Solution:   Correct the file name.  Delete the file afterwards.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.3413
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: too many characters are allowed in import name.
Solution:   Disallow '<A HREF="cmdline.html#:">:</A>' and '<A HREF="pattern.html##">#</A>', check for white space. (closes #8845)
Files:      src/vim9script.c, src/errors.h, src/testdir/test_vim9_script.vim

Patch 8.2.3414
Problem:    <A HREF="builtin.html#fullcommand()">fullcommand()</A> gives the wrong name if there is a buffer-local user
            command. (Naohiro Ono)
Solution:   Use a separate function to get the user command name.
            (closes #8840)
Files:      src/usercmd.c, src/proto/usercmd.pro, src/ex_docmd.c,
            src/testdir/test_cmdline.vim

Patch 8.2.3415
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Not all function argument types are properly checked.
Solution:   Add and improve argument type checks. (Yegappan Lakshmanan,
            closes #8839)
Files:      src/channel.c, src/digraph.c, src/evalfunc.c, src/terminal.c,
            src/testdir/test_digraph.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.3416
Problem:    Second error is reported while exception is being thrown.
Solution:   Do not check for trailing characters when already aborting.
            (closes #8842)
Files:      src/userfunc.c, src/testdir/test_trycatch.vim

Patch 8.2.3417
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a failing debug <A HREF="eval.html#expression">expression</A> aborts <A HREF="usr_41.html#script">script</A> sourcing.
Solution:   Do not let <A HREF="eval.html#expression">expression</A> failure abort <A HREF="usr_41.html#script">script</A> sourcing. (closes #8848)
Files:      src/debugger.c, src/testdir/test_debugger.vim

Patch 8.2.3418
Problem:    Garbage collection while evaluating may cause trouble.
Solution:   Disable garbage collection while evaluating an <A HREF="eval.html#expression">expression</A>.
            (Christian Brabandt, issue #8848)
Files:      src/eval.c

Patch 8.2.3419
Problem:    A failing debug <A HREF="eval.html#expression">expression</A> may make Vim unusable.
Solution:   Suppress error <A HREF="message.html#messages">messages</A>. (closes #8848)
Files:      src/debugger.c, src/testdir/test_debugger.vim

Patch 8.2.3420
Problem:    _REENTRANT defined more than once.
Solution:   Fix configure <A HREF="usr_41.html#script">script</A>. (Christian Brabandt, closes #8852)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.3421
Problem:    A bit of code is not covered by tests.
Solution:   Add a few more test cases. (Dominique Pellé, closes #8857)
Files:      src/testdir/test_functions.vim, src/testdir/test_history.vim,
            src/testdir/test_startup.vim

Patch 8.2.3422
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no failure if return type differs from returned variable.
Solution:   Copy type when <A HREF="uganda.html#copying">copying</A> a <A HREF="eval.html#list">list</A>. (closes #8847)
Files:      src/list.c, src/testdir/test_vim9_func.vim

Patch 8.2.3423
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> += <A HREF="eval.html#list">list</A> creates a new <A HREF="eval.html#list">list</A> in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Append to the existing <A HREF="eval.html#list">list</A>.
Files:      src/structs.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3424
Problem:    A sequence of spaces is hard to see in <A HREF="eval.html#list">list</A> mode.
Solution:   Add the &quot;multispace&quot; option to <A HREF="options.html#'listchars'">'listchars'</A>. (closes #8834)
Files:      runtime/doc/options.txt, src/drawline.c, src/message.c,
            src/screen.c, src/structs.h, src/testdir/test_listchars.vim

Patch 8.2.3425
Problem:    Warning for using uninitialized variable.
Solution:   Initialize <A HREF="motion.html#it">it</A>. (John Marriott)
Files:      src/screen.c

Patch 8.2.3426
Problem:    Crash when <A HREF="change.html#deleting">deleting</A> a listener in a listener callback. (Naohiro
            Ono)
Solution:   <A HREF="motion.html#Mark">Mark</A> the listener and delete <A HREF="motion.html#it">it</A> later. (closes #8863)
Files:      src/change.c, src/testdir/test_listener.vim

Patch 8.2.3427
Problem:    Double free when <A HREF="eval.html#list">list</A> is copied.
Solution:   Allocate the type when making a copy. (closes #8862)
            Clear the type for <A HREF="builtin.html#flattennew()">flattennew()</A>.  Avoid a memory leak when
            <A HREF="builtin.html#flattennew()">flattennew()</A> fails.
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3428
Problem:    Using freed memory when <A HREF="change.html#replacing">replacing</A>. (Dhiraj Mishra)
Solution:   Get the line pointer after calling ins_copychar().
Files:      src/normal.c, src/testdir/test_edit.vim

Patch 8.2.3429
Problem:    Leaking memory when assigning to <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A>.
Solution:   Free the <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> type before overwriting <A HREF="motion.html#it">it</A>.
Files:      src/vim9type.c, src/evalvars.c

Patch 8.2.3430
Problem:    No generic way to trigger an <A HREF="autocmd.html#autocommand">autocommand</A> on mode change.
Solution:   Add the <A HREF="autocmd.html#ModeChanged">ModeChanged</A> <A HREF="autocmd.html#autocommand">autocommand</A> event. (Magnus Gross, closes #8856)
Files:      runtime/doc/autocmd.txt, src/autocmd.c, src/edit.c,
            src/ex_docmd.c, src/ex_getln.c, src/globals.h, src/misc1.c,
            src/normal.c, src/proto/autocmd.pro, src/proto/misc1.pro,
            src/testdir/test_edit.vim, src/vim.h

Patch 8.2.3431
Problem:    Completion for :disas sorts local <A HREF="eval.html#functions">functions</A> first.
Solution:   Sort local <A HREF="eval.html#functions">functions</A> last, like with :delfunc. (Naohiro Ono,
            closes #8860)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3432
Problem:    Octave/Matlab <A HREF="filetype.html#filetype">filetype</A> detection does not work properly.
Solution:   Update the patterns used for matching. (Doug Kearns)
Files:      runtime/autoload/dist/ft.vim, src/testdir/test_filetype.vim

Patch 8.2.3433
Problem:    <A HREF="map.html#:delcommand">:delcommand</A> does not take a -buffer option.
Solution:   Add the -buffer option.
Files:      runtime/doc/map.txt, src/usercmd.c, src/errors.h,
            src/testdir/test_usercommands.vim

Patch 8.2.3434 (after 8.2.3430)
Problem:    Function prototype for trigger_modechanged() is incomplete.
Solution:   Add &quot;void&quot;.
Files:      src/proto/misc1.pro

Patch 8.2.3435
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#dict">dict</A> is not passed to <A HREF="eval.html#dict">dict</A> function.
Solution:   Keep the <A HREF="eval.html#dict">dict</A> used until a function call.
Files:      src/vim9compile.c, src/vim9execute.c, src/vim9.h,
            src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3436
Problem:    Check for optional bool type has confusing return type.
Solution:   Explicitly return OK.
Files:      src/typval.c

Patch 8.2.3437
Problem:    Compiler warnings for 32/64 bit usage.
Solution:   Add type casts. (Mike Williams, closes #8870)
Files:      src/screen.c, src/xdiff/xemit.c, src/xdiff/xutils.c

Patch 8.2.3438
Problem:    Cannot manipulate blobs.
Solution:   Add <A HREF="builtin.html#blob2list()">blob2list()</A> and <A HREF="builtin.html#list2blob()">list2blob()</A>. (Yegappan Lakshmanan,
            closes #8868)
Files:      runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/blob.c,
            src/errors.h, src/evalfunc.c, src/proto/blob.pro,
            src/proto/typval.pro, src/testdir/test_blob.vim,
            src/testdir/test_vim9_builtin.vim, src/typval.c

Patch 8.2.3439
Problem:    Deleted lines go to wrong <A HREF="change.html#yank">yank</A> <A HREF="sponsor.html#register">register</A>.
Solution:   Reset y_append when not calling get_yank_register(). (Christian
            Brabandt, closes #8872)
Files:      src/ops.c, src/proto/register.pro, src/register.c,
            src/testdir/test_registers.vim

Patch 8.2.3440
Problem:    Recover test fails if there is an old swap file.
Solution:   Delete old swap files.
Files:      src/testdir/test_recover.vim

Patch 8.2.3441
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="usr_01.html#vimtutor">vimtutor</A> can't handle path with spaces.
Solution:   Add double <A HREF="quotes.html#quotes">quotes</A>. (Christian Brabandt, closes #8871)
Files:      vimtutor.bat

Patch 8.2.3442
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &#124;&#124; and &amp;&amp; are not handled at compile time when possible.
Solution:   When using constants generate fewer instructions.
Files:      src/vim9.h, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3443
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when and/or fails.
Solution:   Also clear the growarray when the length is zero.
Files:      src/vim9compile.c

Patch 8.2.3444
Problem:    concealed text not revealed when leaving insert mode. (Michael
            Soyka)
Solution:   Check if concealing changed when leaving insert mode.
            (closes #8880)
Files:      src/edit.c, src/testdir/test_conceal.vim,
            src/testdir/dumps/Test_conceal_two_windows_07in.dump

Patch 8.2.3445
Problem:    On Solaris longVersion may be declared <A HREF="if_cscop.html#twice">twice</A>. (Vladimir Marek)
Solution:   Always declare longVersion in version.c
Files:      src/globals.h, src/version.c

Patch 8.2.3446
Problem:    Not enough tests for empty <A HREF="eval.html#string">string</A> arguments.
Solution:   Add tests, fix type check. (Yegappan Lakshmanan, closes #8881)
Files:      runtime/doc/sign.txt, runtime/doc/textprop.txt, src/sign.c,
            src/testdir/test_blob.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.3447
Problem:    A couple of declarations are not ANSI C.
Solution:   Put argument type inside (). (Yegappan Lakshmanan, closes #8890)
Files:      src/os_unix.h

Patch 8.2.3448
Problem:    <A HREF="eval.html#:endtry">:endtry</A> after function call that throws not found.
Solution:   Do check for following <A HREF="eval.html#:endtry">:endtry</A> if an exception is being thrown.
            (closes #8889)
Files:      src/userfunc.c, src/testdir/test_trycatch.vim

Patch 8.2.3449
Problem:    Sort fails if the sort compare function returns 999.
Solution:   Adjust value to -1 / 0 / 1. (Yasuhiro Matsumoto, closes #8884)
Files:      src/list.c, src/testdir/test_sort.vim

Patch 8.2.3450
Problem:    Coveralls action fails.
Solution:   Disable <A HREF="motion.html#it">it</A> for now.
Files:      .github/workflows/ci.yml

Patch 8.2.3451
Problem:    Not all apache files are recognized.
Solution:   Adjust the <A HREF="filetype.html#filetype">filetype</A> <A HREF="pattern.html#pattern">pattern</A>. (Zdenek Dohnal, closes #8882)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3452
Problem:    MPD files are not recognized.
Solution:   Recognize MPD files <A HREF="motion.html#as">as</A> XML. (Steven Penny, closes #8893)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3453
Problem:    Autocmd not executed when editing a directory ending in a path
            separator inside try block.
Solution:   Return NOTDONE instead of FAIL. (closes #8885)
Files:      src/fileio.c, src/testdir/test_autocmd.vim

Patch 8.2.3454
Problem:    Using a <A HREF="intro.html#count">count</A> with &quot;<A HREF="change.html#gp">gp</A>&quot; leaves cursor in wrong position. (Naohiro
            Ono)
Solution:   Count the inserted lines. (closes #8899)
Files:      src/register.c, src/testdir/test_put.vim

Patch 8.2.3455 (after 8.2.3454)
Problem:    Using a <A HREF="intro.html#count">count</A> with &quot;<A HREF="change.html#gp">gp</A>&quot; leaves <A HREF="motion.html#']">']</A> in wrong position. (Naohiro Ono)
Solution:   Correct the <A HREF="motion.html#mark">mark</A> position. (closes #8899)
Files:      src/register.c, src/testdir/test_put.vim

Patch 8.2.3456
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Not all <A HREF="eval.html#functions">functions</A> are tested with an empty <A HREF="eval.html#string">string</A> argument.
Solution:   Add tests with empty strings. (Yegappan Lakshmanan, closes #8915)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3457
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="vim9.html#Vim9">Vim9</A>: test executed and fails.
Solution:   Add extra check for not being on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.3458
Problem:    Not all dictdconf files are recognized.
Solution:   Adjust the <A HREF="pattern.html#pattern">pattern</A>. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3459
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: need more tests for empty <A HREF="eval.html#string">string</A> arguments.
Solution:   Add more tests.  Also use empty argument with <A HREF="builtin.html#menu_info()">menu_info()</A> to get
            the top-level menu names. (Yegappan Lakshmanan, closes #8925)
Files:      runtime/doc/eval.txt, src/menu.c, src/testdir/test_menu.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3460
Problem:    Some type casts are not needed.
Solution:   Remove unnecessary type casts. (closes #8934)
Files:      src/autocmd.c, src/buffer.c, src/debugger.c, src/getchar.c,
            src/hardcopy.c, src/if_cscope.c, src/move.c, src/tag.c,
            src/version.c

Patch 8.2.3461
Problem:    Cannot distinguish <A HREF="intro.html#Normal">Normal</A> and <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode.
Solution:   Make <A HREF="builtin.html#mode()">mode()</A> return &quot;nt&quot; for <A HREF="terminal.html#Terminal-Normal">Terminal-Normal</A> mode. (issue #8856)
Files:      runtime/doc/eval.txt, src/misc1.c, src/testdir/test_functions.vim

Patch 8.2.3462
Problem:    The <A HREF="autocmd.html#ModeChanged">ModeChanged</A> event only uses one character for the new_mode and
            old_mode values.
Solution:   Pass one <A HREF="motion.html#as">as</A> first argument to <A HREF="builtin.html#mode()">mode()</A>. (issue #8856)
Files:      src/misc1.c, src/testdir/test_edit.vim

Patch 8.2.3463
Problem:    <A HREF="pattern.html#Pattern">Pattern</A> matching with <A HREF="autocmd.html#ModeChanged">ModeChanged</A> not tested.
Solution:   Add a few more test lines. (issue #8856)
Files:      src/testdir/test_edit.vim

Patch 8.2.3464
Problem:    nginx files are not recognized.
Solution:   Add several file patterns. (Chris Aumann, closes #8922)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3465
Problem:    Cannot detect insert scroll mode.
Solution:   Add &quot;scroll&quot; to <A HREF="builtin.html#complete_info()">complete_info()</A>. (closes #8943)
Files:      runtime/doc/eval.txt, src/insexpand.c, src/testdir/test_popup.vim

Patch 8.2.3466
Problem:    Completion submode not indicated for virtual replace.
Solution:   Add submode to &quot;Rv&quot;. (closes #8945)
Files:      runtime/doc/eval.txt, src/misc1.c, src/testdir/test_functions.vim

Patch 8.2.3467
Problem:    <A HREF="autocmd.html#CursorHoldI">CursorHoldI</A> event interferes with &quot;<A HREF="editing.html#CTRL-G">CTRL-G</A> U&quot;. (Naohiro Ono)
Solution:   Restore the flag for &quot;<A HREF="editing.html#CTRL-G">CTRL-G</A> U&quot; after triggering <A HREF="autocmd.html#CursorHoldI">CursorHoldI</A>.
            (closes #8937)
Files:      src/edit.c, src/testdir/test_autocmd.vim

Patch 8.2.3468
Problem:    Problem with <A HREF="editing.html#:cd">:cd</A> when editing file in non-existent directory. (Yee
            Cheng Chin)
Solution:   Prepend the current directory to get the full path. (closes #8903)
Files:      src/os_unix.c, src/testdir/test_cd.vim

Patch 8.2.3469
Problem:    Some files with json <A HREF="syntax.html#syntax">syntax</A> are not recognized.
Solution:   Add a few file patterns. (Emiliano Ruiz Carletti, closes #8947)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3470
Problem:    Crash with error in <A HREF="eval.html#:catch">:catch</A> and also in <A HREF="eval.html#:finally">:finally</A>.
Solution:   Only <A HREF="editing.html#discard">discard</A> an exception if there is one. (closes #8954)
Files:      src/ex_eval.c, src/testdir/test_trycatch.vim

Patch 8.2.3471
Problem:    Crash when using <A HREF="tagsrch.html#CTRL-T">CTRL-T</A> after an empty search <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Bail out when there is no previous search <A HREF="pattern.html#pattern">pattern</A>. (closes #8953)
Files:      src/ex_getln.c, src/testdir/test_search.vim

Patch 8.2.3472
Problem:    Other crashes with empty search <A HREF="pattern.html#pattern">pattern</A> not tested.
Solution:   Add a few more test lines. (Dominique Pellé)
Files:      src/testdir/test_search.vim

Patch 8.2.3473
Problem:    Some files with <A HREF="if_tcl.html#tcl">tcl</A> <A HREF="syntax.html#syntax">syntax</A> are not recognized.
Solution:   Add a few file patterns. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3474
Problem:    Some places use &quot;Vimscript&quot; instead of &quot;Vim script&quot;.
Solution:   Consistently use &quot;Vim script&quot;. (Hirohito Higashi, closes #8910)
Files:      runtime/doc/if_lua.txt, src/getchar.c, src/if_lua.c

Patch 8.2.3475
Problem:    Expression <A HREF="sponsor.html#register">register</A> set by not executed put command.
Solution:   Do not set the <A HREF="sponsor.html#register">register</A> if the command is skipped. (closes #8909)
Files:      src/ex_docmd.c, src/testdir/test_excmd.vim

Patch 8.2.3476
Problem:    Renaming a buffer on <A HREF="starting.html#startup">startup</A> may cause using freed memory.
Solution:   Check if the buffer is used in a <A HREF="windows.html#window">window</A>. (closes #8955)
Files:      src/buffer.c, src/testdir/test_startup.vim

Patch 8.2.3477 (after 8.2.3476)
Problem:    Startup test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the test if not on <A HREF="os_unix.html#Unix">Unix</A>.
Files:      src/testdir/test_startup.vim

Patch 8.2.3478 (after 8.2.3470)
Problem:    Still crash with error in <A HREF="eval.html#:catch">:catch</A> and also in <A HREF="eval.html#:finally">:finally</A>.
Solution:   Only call finish_exception() once. (closes #8954)
Files:      src/ex_eval.c, src/structs.h

Patch 8.2.3479
Problem:    Crash when calling job_start with an invalid argument. (Virginia
            Senioria)
Solution:   Clear the first item in argv. (closes #8957)
Files:      src/misc2.c, src/testdir/test_channel.vim

Patch 8.2.3480 (after 8.2.3478)
Problem:    Test does not fail without the fix for a crash.
Solution:   Write the bad code in a file and source <A HREF="motion.html#it">it</A>. (Dominique Pellé,
            closes #8961)
Files:      src/testdir/test_trycatch.vim

Patch 8.2.3481
Problem:    Failures when char is unsigned.
Solution:   Use int8_T.  Make a CI run with unsigned char. (James McCoy,
            closes #8936)
Files:      src/structs.h, .github/workflows/ci.yml

Patch 8.2.3482
Problem:    Reading beyond end of line ending in <A HREF="change.html#quote">quote</A> and <A HREF="intro.html#backslash">backslash</A>.
Solution:   Check for non-NUL after <A HREF="intro.html#backslash">backslash</A>. (closes #8964)
Files:      src/cindent.c, src/testdir/test_cindent.vim

Patch 8.2.3483
Problem:    #ifdef for using sysinfo() is incomplete.
Solution:   Also check for HAVE_SYSINFO. Make autoconf check use TRY_LINK.
            (closes #8952)
Files:      src/memline.c, src/configure.ac, src/auto/configure

Patch 8.2.3484
Problem:    Crash when going through <A HREF="spell.html#spell">spell</A> suggestions.
Solution:   Limit the text length for finding suggestions to the original
            length.  Do not update <A HREF="windows.html#buffers">buffers</A> when <A HREF="starting.html#exiting">exiting</A>. (closes #8965)
Files:      src/spellsuggest.c, src/clipboard.c,
            src/testdir/test_spell_utf8.vim

Patch 8.2.3485
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 test fails with <A HREF="if_pyth.html#Python">Python</A> 3.10.
Solution:   Adjust expected error message. (zdohnal Dohnal, closes #8969)
Files:      src/testdir/test_python3.vim

Patch 8.2.3486
Problem:    Illegal memory access with invalid sequence of commands.
Solution:   Do not call leave_block() when not in a try block. (closes #8966)
            Reset did_emsg so that exception is shown <A HREF="motion.html#as">as</A> an error.
Files:      src/ex_eval.c, src/testdir/test_trycatch.vim

Patch 8.2.3487
Problem:    Illegal memory access if buffer name is very long.
Solution:   Make sure not to go over the end of the buffer.
Files:      src/drawscreen.c, src/testdir/test_statusline.vim

Patch 8.2.3488
Problem:    Issue <A HREF="autocmd.html#template">template</A> is not <A HREF="starting.html#easy">easy</A> to use.
Solution:   Use a yaml <A HREF="autocmd.html#template">template</A>. (closes #8928)
Files:      .github/ISSUE_TEMPLATE/bug_report.md,
            .github/ISSUE_TEMPLATE/bug_report.yml

Patch 8.2.3489
Problem:    ml_get error after search with range.
Solution:   Limit the line number to the buffer line <A HREF="intro.html#count">count</A>.
Files:      src/ex_docmd.c, src/testdir/test_search.vim

Patch 8.2.3490
Problem:    Superfluous return statements.
Solution:   Remove superfluous return statements from void <A HREF="eval.html#functions">functions</A>.
            (closes #8977)
Files:      src/buffer.c, src/getchar.c, src/memline.c, src/move.c,
            src/option.c

Patch 8.2.3491
Problem:    xpm2 <A HREF="filetype.html#filetype">filetype</A> detection is not so good.
Solution:   Adjust the check for xpm2. (closes #8914)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3492
Problem:    Crash when pasting too many times.
Solution:   Limit the size to what fits in an int. (closes #8962)
Files:      src/register.c, src/errors.h, src/testdir/test_put.vim

Patch 8.2.3493 (after 8.2.3492)
Problem:    Large <A HREF="intro.html#count">count</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_put.vim

Patch 8.2.3494
Problem:    Illegal memory access in utf_head_off.
Solution:   Check cursor position when reselecting the <A HREF="visual.html#Visual">Visual</A> area.
            (closes #8963)
Files:      src/normal.c, src/testdir/test_visual.vim

Patch 8.2.3495
Problem:    <A HREF="gui.html#GUI">GUI</A> geometry <A HREF="starting.html#startup">startup</A> test fails on some systems. (Drew Vogel)
Solution:   Add tolerance to the size check. (closes #8815)
Files:      src/testdir/test_startup.vim

Patch 8.2.3496
Problem:    Crypt test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> if xxd was not installed yet.
Solution:   Use the just built xxd executable if <A HREF="motion.html#it">it</A> exists. (James McCoy,
            closes #8929)
Files:      src/testdir/test_crypt.vim

Patch 8.2.3497
Problem:    Put test fails when run by itself.
Solution:   Source check.vim. (Dominique Pellé, closes #8990)
Files:      src/testdir/test_put.vim

Patch 8.2.3498
Problem:    Recover test may fail on some systems.
Solution:   Adjust the little endian and 64 bit detection. (James McCoy,
            closes #8941)
Files:      src/testdir/test_recover.vim

Patch 8.2.3499
Problem:    <A HREF="gui.html#GUI">GUI</A> geometry <A HREF="starting.html#startup">startup</A> test fails.
Solution:   Check <A HREF="eval.html#string">string</A> values instead of numbers
Files:      src/testdir/test_startup.vim

Patch 8.2.3500
Problem:    Github CI fails to <A HREF="usr_90.html#install">install</A> clang.
Solution:   Install llvm-11 explicitly. (Christian Brabandt, closes #8993)
Files:      .github/workflows/ci.yml

Patch 8.2.3501
Problem:    <A HREF="syntax.html#tmux">tmux</A> <A HREF="filetype.html#filetype">filetype</A> detection is incomplete
Solution:   Also use <A HREF="syntax.html#tmux">tmux</A> for files having text after .conf. (Eric Pruitt,
            closes #8971)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3502 (after 8.2.2919)
Problem:    Cannot enter password in shell command.
Solution:   Revert patch 8.2.2919.
Files:      src/os_unix.c

Patch 8.2.3503
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using g:pat:cmd is confusing.
Solution:   Do not recognize <A HREF="eval.html#g:">g:</A> <A HREF="motion.html#as">as</A> the <A HREF="repeat.html#:global">:global</A> command.  Also for s:pat:repl.
            (closes #8982)
Files:      runtime/doc/vim9.txt, src/ex_docmd.c, src/ex_cmds.c, src/errors.h,
            src/vim9compile.c, src/proto/vim9compile.pro,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3504 (after 8.2.3503)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: warning for signed vs unsigned.
Solution:   Add type cast.
Files:      src/vim9compile.c

Patch 8.2.3505 (after 8.2.3503)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add #ifdef.
Files:      src/ex_cmds.c

Patch 8.2.3506 (after 8.2.3503)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: special cases for &quot;<A HREF="index.html#g">g</A>&quot; and &quot;<A HREF="change.html#s">s</A>&quot; insufficiently tested.
Solution:   Add a few more test cases.
Files:      src/testdir/test_vim9_cmd.vim

Patch 8.2.3507
Problem:    Generating proto files may fail.
Solution:   Define __attribute().
Files:      src/Makefile

Patch 8.2.3508 (after 8.2.3503)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: bad separators for &quot;<A HREF="index.html#g">g</A>&quot; and &quot;<A HREF="change.html#s">s</A>&quot; insufficiently tested.
Solution:   Add a few more test cases.
Files:      src/testdir/test_vim9_cmd.vim

Patch 8.2.3509
Problem:    Undo file is not synced. (Sami Farin)
Solution:   Sync the <A HREF="undo.html#undo">undo</A> file if <A HREF="options.html#'fsync'">'fsync'</A> is set. (Christian Brabandt,
            closes #8879, closes #8920)
Files:      runtime/doc/options.txt, src/undo.c

Patch 8.2.3510
Problem:    Changes are only detected with one second accuracy.
Solution:   Use the nanosecond time if possible.  (Leah Neukirchen,
            closes #8873, closes #8875)
Files:      runtime/doc/eval.txt, src/auto/configure, src/bufwrite.c,
            src/config.h.in, src/configure.ac, src/fileio.c,
            src/proto/fileio.pro, src/memline.c, src/netbeans.c,
            src/structs.h, src/evalfunc.c, src/testdir/test_stat.vim

Patch 8.2.3511
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: entry for loop variable is created every round.
Solution:   Only create the entry once. (closes #8996)
Files:      src/evalvars.c, src/vim9script.c

Patch 8.2.3512
Problem:    Timestamp test fails on some systems.
Solution:   Sleep for a short while.
Files:      src/testdir/test_stat.vim

Patch 8.2.3513
Problem:    Using freed memory when using a <A HREF="builtin.html#timer">timer</A> and searching. (Dominique
            Pellé)
Solution:   Allocated mr_pattern.
Files:      src/search.c

Patch 8.2.3514
Problem:    Autoread test with nanosecond time sometimes fails.
Solution:   <A HREF="motion.html#Mark">Mark</A> the test <A HREF="motion.html#as">as</A> being flaky.
Files:      src/testdir/test_stat.vim

Patch 8.2.3515
Problem:    Nano time test fails on <A HREF="os_mac.html#Mac">Mac</A> and FreeBSD.
Solution:   Also check nano time when not on Linux. (Ozaki Kiichi,
            closes #9000)
Files:      src/fileio.c

Patch 8.2.3516
Problem:    Terminal <A HREF="windows.html#window">window</A> does not have transparent background when
            <A HREF="options.html#'termguicolors'">'termguicolors'</A> is used.
Solution:   Fix the background color. (closes #2361, closes #9002)
Files:      runtime/doc/terminal.txt, src/highlight.c, src/proto/terminal.pro,
            src/terminal.c

Patch 8.2.3517
Problem:    <A HREF="autocmd.html#TextChanged">TextChanged</A> does not trigger after <A HREF="autocmd.html#TextChangedI">TextChangedI</A>.
Solution:   Store the tick separately for <A HREF="autocmd.html#TextChangedI">TextChangedI</A>. (Christian Brabandt,
            closes #8968, closes #8932)
Files:      src/buffer.c, src/bufwrite.c, src/edit.c, src/structs.h,
            src/testdir/test_autocmd.vim

Patch 8.2.3518
Problem:    Test_xrestore sometimes fails.
Solution:   <A HREF="motion.html#Mark">Mark</A> the test <A HREF="motion.html#as">as</A> flaky.  Move marking test <A HREF="motion.html#as">as</A> flaky to the test
            instead of listing them in runtest.
Files:      src/testdir/test_paste.vim, src/testdir/runtest.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_channel.vim,
            src/testdir/test_clientserver.vim, src/testdir/test_diffmode.vim,
            src/testdir/test_functions.vim, src/testdir/test_gui.vim,
            src/testdir/test_mapping.vim, src/testdir/test_popup.vim,
            src/testdir/test_quotestar.vim, src/testdir/test_reltime.vim,
            src/testdir/test_terminal.vim, src/testdir/test_terminal2.vim,
            src/testdir/test_timers.vim

Patch 8.2.3519
Problem:    TOML files are not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> patterns for TOML. (Aman Verma, closes #8984)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3520
Problem:    Cannot define a function for thesaurus completion.
Solution:   Add <A HREF="options.html#'thesaurusfunc'">'thesaurusfunc'</A>. (Yegappan Lakshmanan, closes #8987,
            closes 8950)
Files:      runtime/doc/insert.txt, runtime/doc/options.txt,
            runtime/doc/quickref.txt, src/buffer.c, src/insexpand.c,
            src/option.c, src/option.h, src/optiondefs.h, src/optionstr.c,
            src/structs.h, src/testdir/test_edit.vim

Patch 8.2.3521 (after 8.2.3520)
Problem:    Options completion test fails.
Solution:   Add <A HREF="options.html#'thesaurusfunc'">'thesaurusfunc'</A> to the results.
Files:      src/testdir/test_options.vim

Patch 8.2.3522
Problem:    Cannot use \x and \u when setting <A HREF="options.html#'listchars'">'listchars'</A>.
Solution:   Support hex and <A HREF="mbyte.html#unicode">unicode</A> in hex form. (closes #9006)
Files:      runtime/doc/options.txt, src/screen.c, src/charset.c,
            src/testdir/test_listchars.vim

Patch 8.2.3523
Problem:    Duplicated code in xxd.
Solution:   Remove duplicated lines. (closes #8972)
Files:      src/xxd/xxd.c

Patch 8.2.3524
Problem:    <A HREF="gui.html#GUI">GUI</A>: ligatures are not used.
Solution:   Add the <A HREF="options.html#'guiligatures'">'guiligatures'</A> option. (Dusan Popovic, closes #8933)
Files:      runtime/doc/options.txt, src/gui.c, src/gui.h, src/gui_gtk_x11.c,
            src/option.h, src/optiondefs.h, src/optionstr.c, src/errors.h,
            src/proto/gui.pro, src/proto/gui_gtk_x11.pro,
            src/testdir/test_gui.vim

Patch 8.2.3525
Problem:    Option variable name does not match option name. (Christ van
            Willegen)
Solution:   Rename the variable.
Files:      src/buffer.c, src/insexpand.c, src/option.c, src/optionstr.c,
            src/structs.h

Patch 8.2.3526
Problem:    Tests have clumsy check for <A HREF="options.html#X11">X11</A> based <A HREF="gui.html#GUI">GUI</A>.
Solution:   Add CheckX11BasedGui.
Files:      src/testdir/check.vim, src/testdir/test_gui.vim,
            src/testdir/test_gui_init.vim, src/testdir/setup_gui.vim

Patch 8.2.3527
Problem:    Gcc complains about uninitialized variable. (Tony Mechelynck)
Solution:   Initialize <A HREF="motion.html#it">it</A>.
Files:      src/gui_gtk_x11.c

Patch 8.2.3528
Problem:    <A HREF="options.html#'thesaurus'">'thesaurus'</A> and <A HREF="options.html#'thesaurusfunc'">'thesaurusfunc'</A> <A HREF="diff.html#do">do</A> not have the same scope.
Solution:   Make <A HREF="options.html#'thesaurusfunc'">'thesaurusfunc'</A> <A HREF="options.html#global-local">global-local</A>.
Files:      runtime/doc/options.txt, runtime/doc/insert.txt,
            src/optiondefs.h, src/option.h, src/option.c, src/structs.h,
            src/insexpand.c, src/testdir/test_edit.vim

Patch 8.2.3529
Problem:    Xxd usage output is incomplete.
Solution:   Add &quot;bytes&quot; to &quot;<A HREF="starting.html#-g">-g</A>&quot; flag. (Atsushi Sugawara, closes #8944)
Files:      src/xxd/xxd.c

Patch 8.2.3530
Problem:    &quot;<A HREF="windows.html#:buf">:buf</A> \{a}&quot; fails while &quot;<A HREF="editing.html#:edit">:edit</A> \{a}&quot; works.
Solution:   Unescape &quot;\{&quot;. (closes #8917)
Files:      src/vim.h, src/cmdexpand.c, src/evalfunc.c, src/ex_getln.c,
            src/proto/ex_getln.pro, src/normal.c, src/session.c,
            src/terminal.c, src/vim9execute.c, src/testdir/test_cmdline.vim

Patch 8.2.3531 (after 8.2.3530)
Problem:    Command line completion test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do not test with &quot;\{&quot; on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_cmdline.vim

Patch 8.2.3532
Problem:    The previous <A HREF="motion.html#''">''</A> <A HREF="motion.html#mark">mark</A> is restored after moving the cursor to the
            original jump position. (Tony Chen)
Solution:   Forget the previous position after checking. (closes #8985)
Files:      src/mark.c, src/testdir/test_marks.vim

Patch 8.2.3533
Problem:    Inefficient code in xxd.
Solution:   Don't use &quot;<A HREF="change.html#p">p</A>&quot; when &quot;hextype&quot; is non-zero. (closes #9013)
Files:      src/xxd/xxd.c

Patch 8.2.3534
Problem:    Autoread test is a bit flaky.
Solution:   Wait a brief moment before overwriting the file.
Files:      src/testdir/test_stat.vim

Patch 8.2.3535
Problem:    If-else indenting is confusing.
Solution:   Add curly brackets and indent. (Dominique Pellé, closes #9010)
Files:      src/drawscreen.c

Patch 8.2.3536
Problem:    The do_highlight() function is way too long.
Solution:   Split <A HREF="motion.html#it">it</A> into several <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9011)
Files:      src/highlight.c

Patch 8.2.3537
Problem:    <A HREF="builtin.html#mode()">mode()</A> does not return the right value in <A HREF="options.html#'operatorfunc'">'operatorfunc'</A>.
Solution:   Reset finish_op while calling <A HREF="options.html#'operatorfunc'">'operatorfunc'</A>.
Files:      src/ops.c, src/testdir/test_functions.vim

Patch 8.2.3538
Problem:    Else-if indenting is confusing.
Solution:   Add curly brackets. (Yegappan Lakshmanan, closes #9017)
Files:      src/highlight.c

Patch 8.2.3539
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: with <A HREF="options.html#'rightleft'">'rightleft'</A> set scrollbar may move unintentionally.
Solution:   Ignore events while moving the scrollbar thumb. (closes #8958)
Files:      src/gui_gtk.c

Patch 8.2.3540
Problem:    The <A HREF="motion.html#mark">mark</A> <A HREF="motion.html#']">']</A> is wrong after put with a <A HREF="intro.html#count">count</A>. (Naohiro Ono)
Solution:   Use the right line number. (closes #8956)
Files:      src/register.c, src/testdir/test_put.vim

Patch 8.2.3541
Problem:    Compiler warning for unused variable in tiny version.
Solution:   Add #ifdef. (John Marriott)
Files:      src/highlight.c

Patch 8.2.3542
Problem:    Too many comments are old style.
Solution:   Change comments to <A HREF="version7.html#//">//</A> style. (closes #9021)
Files:      src/buffer.c

Patch 8.2.3543
Problem:    Swapname has double slash when <A HREF="options.html#'directory'">'directory'</A> ends in double slash.
            (Shane Smith)
Solution:   Remove the superfluous slash. (closes #8876)
Files:      src/memline.c, src/testdir/test_swap.vim

Patch 8.2.3544
Problem:    <A HREF="os_unix.html#Unix">Unix</A>: may leak file descriptor when using a non-existing
            directory.
Solution:   Always close the file. (closes #9023)
Files:      src/os_unix.c

Patch 8.2.3545
Problem:    <A HREF="builtin.html#setcellwidths()">setcellwidths()</A> may make <A HREF="options.html#'listchars'">'listchars'</A> or <A HREF="options.html#'fillchars'">'fillchars'</A> invalid.
Solution:   Check the value and give an error. (closes #9024)
Files:      runtime/doc/eval.txt, src/optionstr.c, src/errors.h, src/mbyte.c,
            src/testdir/test_utf8.vim

Patch 8.2.3546 (after 8.2.3545)
Problem:    Build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add #ifdef. (closes #9025)
Files:      src/errors.h

Patch 8.2.3547
Problem:    Opening the <A HREF="quickfix.html#quickfix">quickfix</A> <A HREF="windows.html#window">window</A> triggers <A HREF="autocmd.html#BufWinEnter">BufWinEnter</A> <A HREF="if_cscop.html#twice">twice</A>. (Yorick
            Peterse)
Solution:   Only trigger <A HREF="autocmd.html#BufWinEnter">BufWinEnter</A> with &quot;<A HREF="quickfix.html#quickfix">quickfix</A>&quot;. (closes #9022)
Files:      src/ex_cmds.c, src/vim.h, src/quickfix.c, src/buffer.c,
            src/testdir/test_quickfix.vim

Patch 8.2.3548
Problem:    <A HREF="gui_x11.html#GTK">GTK</A> <A HREF="gui.html#GUI">GUI</A> crashes when reading from stdin.
Solution:   Do not overwrite the NUL after the <A HREF="eval.html#string">string</A>. (closes #9028)
Files:      src/gui_gtk_x11.c, src/testdir/test_gui.vim

Patch 8.2.3549
Problem:    Mistakes in test comments.
Solution:   Fix the comments. (closes #9029)
Files:      src/testdir/test_autocmd.vim

Patch 8.2.3550
Problem:    completion() does not work properly.
Solution:   Set xp_line and add WILD_HOME_REPLACE. (Shougo Matsushita,
            closes #9016)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3551
Problem:    Checking first character of url <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Only check once. (closes #9026)
Files:      src/misc1.c

Patch 8.2.3552
Problem:    Xxd revert does not handle end of line correctly.
Solution:   Check for newline first. (closes #9034)
Files:      src/xxd/xxd.c, src/testdir/test_xxd.vim

Patch 8.2.3553 (after 8.2.3552)
Problem:    Xxd test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Split shell command in two.
Files:      src/testdir/test_xxd.vim

Patch 8.2.3554
Problem:    Xxd has various way to exit.
Solution:   Add function to print error and exit. (closes #9035)
Files:      src/xxd/xxd.c

Patch 8.2.3555
Problem:    <A HREF="autocmd.html#ModeChanged">ModeChanged</A> is not triggered on every mode change.
Solution:   Also trigger on minor mode changes. (Maguns Gross, closes #8999)
Files:      runtime/doc/autocmd.txt, src/autocmd.c, src/insexpand.c,
            src/misc1.c, src/normal.c, src/terminal.c,
            src/testdir/test_edit.vim

Patch 8.2.3556
Problem:    Filler lines are incorrect for other <A HREF="windows.html#window">window</A> in <A HREF="diff.html#diff">diff</A> mode after
            making a change.
Solution:   Copy filler lines from the current <A HREF="windows.html#window">window</A>. (closes #8809)
Files:      src/diff.c, src/testdir/test_diffmode.vim,
            src/testdir/dumps/Test_diff_scroll_change_03.dump

Patch 8.2.3557
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot call imported funcref at <A HREF="usr_41.html#script">script</A> level.
Solution:   Check for an imported function. (closes #9007)
Files:      src/userfunc.c, src/testdir/test_vim9_script.vim

Patch 8.2.3558 (after 8.2.3557)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: asserting the wrong variable.
Solution:   Don't use Foo, use Goo.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.3559
Problem:    Loop variable recreated every time.
Solution:   Keep the loop variable when looping.
Files:      src/ex_eval.c

Patch 8.2.3560
Problem:    Using freed memory with <A HREF="eval.html#lambda">lambda</A>.
Solution:   Do not free lines early, keep them until the <A HREF="eval.html#expression">expression</A> is
            finished. (closes #9020)
Files:      src/eval.c, src/proto/eval.pro, src/userfunc.c, src/vim9compile.c,
            src/structs.h, src/globals.h, src/testdir/test_vim9_func.vim

Patch 8.2.3561
Problem:    <A HREF="if_cscop.html#Cscope">Cscope</A> has a complicated way of giving an error message.
Solution:   Use semsg(). (James McCoy, closes #9038)
Files:      src/if_cscope.c

Patch 8.2.3562
Problem:    Cannot add color names.
Solution:   Add the <A HREF="eval.html#v:colornames">v:colornames</A> dictionary. (Drew Vogel, closes #8761)
Files:      Filelist, READMEdir/README_extra.txt, nsis/gvim.nsi,
            runtime/colors/README.txt, runtime/colors/lists/csscolors.vim,
            runtime/colors/lists/default.vim, runtime/doc/eval.txt,
            runtime/doc/gui_w32.txt, runtime/doc/message.txt,
            runtime/doc/os_haiku.txt, runtime/doc/syntax.txt,
            runtime/doc/usr_06.txt, src/Makefile, src/evalvars.c,
            src/gui_haiku.cc, src/highlight.c, src/gui.c, src/job.c,
            src/proto/highlight.pro, src/proto/term.pro, src/term.c,
            src/vim.h, src/globals.h, src/errors.h,
            src/testdir/test_highlight.vim

Patch 8.2.3563 (after 8.2.3562)
Problem:    Build failure with <A HREF="various.html#+eval">+eval</A> but without <A HREF="gui.html#GUI">GUI</A> or <A HREF="various.html#+termguicolors">+termguicolors</A>
Solution:   Adjust #ifdef. (John Marriott)
Files:      src/highlight.c

Patch 8.2.3564
Problem:    Invalid memory access when <A HREF="scroll.html#scrolling">scrolling</A> without a valid screen.
Solution:   Do not set VALID_BOTLINE in w_valid.
Files:      src/move.c, src/testdir/test_normal.vim

Patch 8.2.3565
Problem:    Makefile dependencies are outdated. (Gary Johnson)
Solution:   Run &quot;make depend&quot; and add missing dependencies.
Files:      src/Makefile

Patch 8.2.3566
Problem:    Build failure on old systems when using nano <A HREF="editing.html#timestamp">timestamp</A>.
Solution:   Define _BSD_SOURCE, _SVID_SOURCE and _DEFAULT_SOURCE. (Gary
            Johnson, closes #9054)
Files:      src/vim.h

Patch 8.2.3567
Problem:    <A HREF="motion.html#CTRL-I">CTRL-I</A> in <A HREF="insert.html#Insert">Insert</A> mode is not tested
Solution:   Add a test <A HREF="change.html#case">case</A>. (Dominique Pellé, closes #8866)
Files:      src/testdir/test_edit.vim

Patch 8.2.3568
Problem:    Ctrl-hat test fails with Athena and <A HREF="gui_x11.html#Motif">Motif</A>. (Elimar Riesebieter)
Solution:   Run the test only with <A HREF="gui_x11.html#GTK">GTK</A>. (Dominique Pellé, closes #9069)
Files:      src/testdir/test_edit.vim

Patch 8.2.3569
Problem:    Error for <A HREF="eval.html#:let">:let</A> when <A HREF="starting.html#vimrc">vimrc</A> is Vim 9 <A HREF="usr_41.html#script">script</A>.
Solution:   Prepend <A HREF="vim9.html#:legacy">:legacy</A> in the code for converting arguments. (Christian
            Brabandt, closes #9068, closes #9077)
Files:      src/os_win32.c

Patch 8.2.3570
Problem:    Test_very_large_count fails on 32bit systems.
Solution:   Bail out when using 32 bit numbers. (closes #9072)
Files:      src/testdir/test_put.vim

Patch 8.2.3571
Problem:    Some <A HREF="mbyte.html#unicode">unicode</A> <A HREF="intro.html#control">control</A> characters are considered printable.
Solution:   Make 0x2060 - 0x2069 not printable.
Files:      src/mbyte.c

Patch 8.2.3572
Problem:    Memory leak when closing <A HREF="windows.html#window">window</A> and using &quot;multispace&quot; in
            <A HREF="options.html#'listchars'">'listchars'</A>.
Solution:   Free the memory. (closes #9071)
Files:      src/window.c, src/testdir/test_listchars.vim

Patch 8.2.3573
Problem:    Cannot decide whether to skip test that fails with 64 bit ints.
            (closes #9072)
Solution:   Add <A HREF="eval.html#v:sizeofint">v:sizeofint</A>, <A HREF="eval.html#v:sizeoflong">v:sizeoflong</A> and <A HREF="eval.html#v:sizeofpointer">v:sizeofpointer</A>.  Improve the
            check for multiply overflow.
Files:      runtime/doc/eval.txt, src/vim.h, src/evalvars.c, src/register.c,
            src/testdir/test_put.vim

Patch 8.2.3574 (after 8.2.3573)
Problem:    Divide by zero.
Solution:   Don't check for overflow if multiplicand is zero.
Files:      src/register.c

Patch 8.2.3575 (after 8.2.3574)
Problem:    Overflow check still fails when sizeof(int) <A HREF="change.html#==">==</A> sizeof(long).
Solution:   Use a float to check the result.
Files:      src/register.c

Patch 8.2.3576
Problem:    Some <A HREF="eval.html#functions">functions</A> are not documented for use with a <A HREF="eval.html#method">method</A>.
Solution:   Add examples.  Fix that <A HREF="sign.html#sign_unplacelist()">sign_unplacelist()</A> only takes one
            argument. (Sean Dewar, closes #9081)
Files:      src/evalfunc.c, runtime/doc/eval.txt

Patch 8.2.3577 (after 8.2.3574)
Problem:    Overflow check fails with 32 bit ints.
Solution:   Only test with 64 bit ints.
Files:      src/testdir/test_put.vim

Patch 8.2.3578
Problem:    Manipulating highlighting is complicated.
Solution:   Add the <A HREF="builtin.html#hlget()">hlget()</A> and <A HREF="builtin.html#hlset()">hlset()</A> <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9039)
Files:      runtime/doc/eval.txt, runtime/doc/syntax.txt,
            runtime/doc/usr_41.txt, runtime/doc/windows.txt, src/evalfunc.c,
            src/highlight.c, src/proto/highlight.pro,
            src/testdir/test_highlight.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.3579
Problem:    CI sometimes fails for MinGW.
Solution:   Use backslashes in HandleSwapExists(). (Christian Brabandt,
            closes #9078)
Files:      src/testdir/runtest.vim

Patch 8.2.3580
Problem:    <A HREF="motion.html#gj">gj</A> does not move properly with a wide character.
Solution:   Move one to the right. (Christian Brabandt, closes #8702)
Files:      src/normal.c, src/testdir/test_normal.vim

Patch 8.2.3581
Problem:    Reading character past end of line.
Solution:   Correct the cursor column.
Files:      src/ex_docmd.c, src/testdir/test_put.vim

Patch 8.2.3582
Problem:    Reading uninitialized memory when giving <A HREF="spell.html#spell">spell</A> suggestions.
Solution:   Check that preword is not empty.
Files:      src/spellsuggest.c, src/testdir/test_spell.vim

Patch 8.2.3583
Problem:    The &quot;<A HREF="pattern.html#gd">gd</A>&quot; and &quot;<A HREF="pattern.html#gD">gD</A>&quot; commands <A HREF="diff.html#do">do</A> not update search stats. (Gary
            Johnson)
Solution:   Clear search stats.
Files:      src/normal.c, src/testdir/test_search_stat.vim,
            src/testdir/dumps/Test_searchstatgd_1.dump,
            src/testdir/dumps/Test_searchstatgd_2.dump

Patch 8.2.3584
Problem:    &quot;<A HREF="starting.html#verbose">verbose</A> set efm&quot; reports the location of the <A HREF="quickfix.html#:compiler">:compiler</A> command.
            (Gary Johnson)
Solution:   Add the &quot;-keepscript&quot; argument to <A HREF="map.html#:command">:command</A> and use <A HREF="motion.html#it">it</A> when
            defining CompilerSet.
Files:      runtime/doc/map.txt, src/ex_cmds2.c, src/usercmd.c, src/ex_cmds.h,
            src/testdir/test_compiler.vim

Patch 8.2.3585
Problem:    Crash when passing float to &quot;term_rows&quot; in the <A HREF="options.html#options">options</A> argument of
            <A HREF="terminal.html#term_start()">term_start()</A>. (Virginia Senioria)
Solution:   Bail out if the argument is not a number. (closes #9116)
Files:      src/job.c, src/terminal.c, src/testdir/test_terminal.vim

Patch 8.2.3586 (after 8.2.3584)
Problem:    Command completion test fails.
Solution:   Add new argument to expected output
Files:      src/testdir/test_usercommands.vim

Patch 8.2.3587 (after 8.2.3584)
Problem:    Compiler test fails with <A HREF="intro.html#backslash">backslash</A> file separator.
Solution:   Accept slash and <A HREF="intro.html#backslash">backslash</A>.
Files:      src/testdir/test_compiler.vim

Patch 8.2.3588
Problem:    Break statement is never reached.
Solution:   Rely on return value of set_chars_option() not <A HREF="change.html#changing">changing</A>.
            (closes #9103)
Files:      src/optionstr.c

Patch 8.2.3589
Problem:    Failure when the &quot;term_rows&quot; argument of <A HREF="terminal.html#term_start()">term_start()</A> is an
            unusual value.
Solution:   Limit to range of zero to 1000. (closes #9116)
Files:      runtime/doc/terminal.txt, src/job.c, src/testdir/test_terminal.vim

Patch 8.2.3590
Problem:    Test for <A HREF="eval.html#v:colornames">v:colornames</A> sometimes fails. (Dominique Pellé)
Solution:   Check features.  Clear <A HREF="eval.html#v:colornames">v:colornames</A> between tests. (Drew Vogel,
            closes #9105, closes #9073)
Files:      runtime/doc/eval.txt, src/highlight.c, src/proto/highlight.pro,
            src/testdir/test_highlight.vim

Patch 8.2.3591
Problem:    No event is triggered when closing a <A HREF="windows.html#window">window</A>.
Solution:   Add the <A HREF="autocmd.html#WinClosed">WinClosed</A> event. (Naohiro Ono, closes #9110)
Files:      runtime/doc/autocmd.txt, src/autocmd.c,
            src/testdir/test_autocmd.vim, src/vim.h, src/window.c

Patch 8.2.3592
Problem:    Test_hlset fails when <A HREF="terminal.html#terminal">terminal</A> has many columns.
Solution:   Set the number of columns to 80. (Dominique Pellé, closes #9101,
            closes #9100)
Files:      src/testdir/test_highlight.vim

Patch 8.2.3593
Problem:    Directory is wrong after executing &quot;lcd&quot; with <A HREF="builtin.html#win_execute()">win_execute()</A>.
Solution:   Correct the directory when going back to the original <A HREF="windows.html#window">window</A>.
            (closes #9132)
Files:      src/evalwindow.c, src/window.c, src/proto/window.pro,
            src/testdir/test_execute_func.vim

Patch 8.2.3594
Problem:    Xxd code is a bit difficult to understand.
Solution:   Move some lines to a separate function. (closes #9037)
Files:      src/xxd/xxd.c

Patch 8.2.3595
Problem:    Check for signed overflow might not work everywhere.
Solution:   Limit to 32 bit int. (closes #9043, closes #9067)
Files:      src/getchar.c

Patch 8.2.3596
Problem:    Crash when using <A HREF="windows.html#:pedit">:pedit</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Move check for arguments to after checking there are arguments.
            (Yegappan Lakshmanan, closes #9134, closes #9135)
Files:      src/popupwin.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3597
Problem:    Vim seems to hang when <A HREF="editing.html#writing">writing</A> a very long text to a <A HREF="terminal.html#terminal">terminal</A>
            <A HREF="windows.html#window">window</A>.
Solution:   Limit the amount of text based on <A HREF="options.html#'termwinscroll'">'termwinscroll'</A>. (issue #9080)
Files:      runtime/doc/options.txt, src/terminal.c

Patch 8.2.3598
Problem:    RouterOS <A HREF="filetype.html#filetype">filetype</A> is not recognized.
Solution:   Add file and <A HREF="usr_41.html#script">script</A> patterns. (closes #9097)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3599
Problem:    Not all gdbinit files are recognized.
Solution:   Add &quot;gdbinit&quot;. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3600 (after 8.2.3598)
Problem:    Filetype test fails.
Solution:   Add missing change.
Files:      runtime/scripts.vim

Patch 8.2.3601
Problem:    Check for overflow in put <A HREF="intro.html#count">count</A> does not work well.
Solution:   Improve the overflow check. (Ozaki Kiichi, closes #9102)
Files:      src/register.c, src/testdir/test_put.vim

Patch 8.2.3602
Problem:    Python3 test fails with <A HREF="if_pyth.html#Python">Python</A> 3.10 on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Adjust the expected error. (Ken Takata, closes #9118)
Files:      src/testdir/test_python3.vim

Patch 8.2.3603
Problem:    Fish <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Add a file <A HREF="pattern.html#pattern">pattern</A> and match <A HREF="usr_41.html#script">script</A> line. (Doug Kearns)
Files:      runtime/filetype.vim, runtime/scripts.vim,
            src/testdir/test_filetype.vim

Patch 8.2.3604
Problem:    Not all sudoers files are recognized.
Solution:   Add a file <A HREF="pattern.html#pattern">pattern</A>. (Doug Kearns, closes #1192)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3605
Problem:    Cannot clear and unlink a highlight group with <A HREF="builtin.html#hlset()">hlset()</A> in a
            single call.
Solution:   Add the &quot;force&quot; option. (Yegappan Lakshmanan, closes #9117)
Files:      runtime/doc/eval.txt, src/highlight.c,
            src/testdir/test_highlight.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3606
Problem:    File missing from <A HREF="eval.html#list">list</A> of distributed files.
Solution:   Add the file.
Files:      Filelist

Patch 8.2.3607
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A> screen updating is slow.
Solution:   Remove some of the GTK3-specific code. (closes #9052)
Files:      src/gui.h, src/gui_gtk_x11.c

Patch 8.2.3608
Problem:    Users who type &quot;<A HREF="cmdline.html#q:">q:</A>&quot; instead of &quot;<A HREF="editing.html#:q">:q</A>&quot; are confused.
Solution:   Add an autocmd to give a message that explains this is the
            command-line <A HREF="windows.html#window">window</A>. (Egor Zvorykin, closes #9146)
Files:      runtime/defaults.vim, src/testdir/test_autocmd.vim,
            src/testdir/test_cmdline.vim

Patch 8.2.3609
Problem:    Internal error when <A HREF="autocmd.html#ModeChanged">ModeChanged</A> is triggered when <A HREF="eval.html#v:event">v:event</A> is
            already in use.
Solution:   Save and restore <A HREF="eval.html#v:event">v:event</A> if needed.
Files:      src/misc1.c, src/proto/misc1.pro, src/testdir/test_edit.vim,
            src/insexpand.c, src/structs.h, src/register.c

Patch 8.2.3610
Problem:    Crash when <A HREF="autocmd.html#ModeChanged">ModeChanged</A> triggered too early.
Solution:   Trigger <A HREF="autocmd.html#ModeChanged">ModeChanged</A> after setting VIsual.
Files:      src/normal.c, src/testdir/test_edit.vim

Patch 8.2.3611
Problem:    Crash when using <A HREF="index.html#CTRL-W">CTRL-W</A> <A HREF="motion.html#f">f</A> without finding a file name.
Solution:   Bail out when the file name length is zero.
Files:      src/findfile.c, src/normal.c, src/testdir/test_visual.vim

Patch 8.2.3612
Problem:    Using freed memory with <A HREF="pattern.html#regexp">regexp</A> using a <A HREF="motion.html#mark">mark</A>.
Solution:   Get the line again after getting the <A HREF="motion.html#mark">mark</A> position.
Files:      src/regexp.c, src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 8.2.3613
Problem:    <A HREF="editing.html#:find">:find</A> test fails.
Solution:   Put length check inside if block.
Files:      src/findfile.c

Patch 8.2.3614
Problem:    zindex of <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#windows">windows</A> not used when redrawing <A HREF="popup.html#popup">popup</A> menu.
Solution:   Check the zindex when redrawing the <A HREF="popup.html#popup">popup</A> menu.  (closes #9129,
            closes #9089)
Files:      src/popupmenu.c, src/popupwin.c, src/proto/popupmenu.pro,
            src/screen.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_popupmenu_masking_1.dump,
            src/testdir/dumps/Test_popupwin_popupmenu_masking_2.dump

Patch 8.2.3615
Problem:    When re-formatting with an indent <A HREF="eval.html#expression">expression</A> the first line of a
            <A HREF="motion.html#paragraph">paragraph</A> may get the wrong indent. (Martin <A HREF="motion.html#F">F</A>. Krafft)
Solution:   Apply the correct indenting function for the first line.
            (Christian Brabandt, closes #9150, closes #9056)
Files:      src/textformat.c, src/testdir/test_indent.vim

Patch 8.2.3616
Problem:    Arglist test does not clear the argument <A HREF="eval.html#list">list</A> consistently.
Solution:   Call Reset_arglist(). (Shougo Matsushita, closes #9154)
Files:      src/testdir/test_arglist.vim

Patch 8.2.3617
Problem:    &quot;<A HREF="various.html#:verbose">:verbose</A> pwd&quot; does not mention <A HREF="options.html#'autochdir'">'autochdir'</A> was applied.
Solution:   Remember the last chdir was done by <A HREF="options.html#'autochdir'">'autochdir'</A>.  (issue #9142)
Files:      src/globals.h, src/buffer.c, src/ex_docmd.c, src/window.c,
            src/main.c, src/netbeans.c, src/os_win32.c,
            src/testdir/test_autochdir.vim

Patch 8.2.3618
Problem:    <A HREF="builtin.html#getcwd()">getcwd()</A> is unclear about how <A HREF="options.html#'autochdir'">'autochdir'</A> is used.
Solution:   Update the help for <A HREF="builtin.html#getcwd()">getcwd()</A>.  Without any arguments always return
            the actual current directory. (closes #9142)
Files:      runtime/doc/eval.txt, src/filepath.c, src/testdir/test_cd.vim

Patch 8.2.3619
Problem:    Cannot use a <A HREF="eval.html#lambda">lambda</A> for <A HREF="options.html#'operatorfunc'">'operatorfunc'</A>.
Solution:   Support using a <A HREF="eval.html#lambda">lambda</A> or <A HREF="builtin.html#partial">partial</A>. (Yegappan Lakshmanan,
            closes #8775)
Files:      runtime/doc/map.txt, runtime/doc/options.txt, src/ops.c,
            src/option.c, src/optionstr.c, src/proto/ops.pro,
            src/proto/option.pro, src/quickfix.c, src/testdir/test_normal.vim

Patch 8.2.3620
Problem:    Memory leak reported in libtlib.
Solution:   Call del_curterm() when cleaning up memory.  Rename term.h to
            termdefs.h to avoid a name clash.
Files:      src/term.c, src/proto/term.pro, src/alloc.c, src/configure.ac,
            src/auto/configure, src/config.h.in, src/Makefile,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Make_vms.mms,
            src/term.h, src/termdefs.h

Patch 8.2.3621 (after 8.2.3620)
Problem:    Build failure.
Solution:   Add missing change.
Files:      src/vim.h

Patch 8.2.3622
Problem:    &quot;<A HREF="starting.html#verbose">verbose</A> pwd&quot; shows confusing info when <A HREF="editing.html#:lcd">:lcd</A> does not change
            directory.
Solution:   Clear last_chdir_reason also when the directory does not change.
            (closes #9160)
Files:      src/ex_docmd.c, src/testdir/test_autochdir.vim

Patch 8.2.3623
Problem:    &quot;$*&quot; is expanded to &quot;nonomatch&quot;.
Solution:   Only add &quot;set nonomatch&quot; when using a csh-like shell. (Christian
            Brabandt, closes #9159, closes #9153)
Files:      src/os_unix.c, src/testdir/test_expand.vim

Patch 8.2.3624
Problem:    When renaming a <A HREF="terminal.html#terminal">terminal</A> buffer the status text is not updated.
Solution:   Clear the cached status text when renaming a <A HREF="terminal.html#terminal">terminal</A> buffer.
            (closes #9162)
Files:      src/buffer.c, src/terminal.c, src/proto/terminal.pro,
            src/testdir/test_terminal.vim

Patch 8.2.3625
Problem:    Illegal memory access when <A HREF="indent.html#C-indenting">C-indenting</A>.
Solution:   Also set the cursor column.
Files:      src/cindent.c, src/testdir/test_cindent.vim

Patch 8.2.3626
Problem:    &quot;au!&quot; and &quot;au! event&quot; cannot be followed by another command <A HREF="motion.html#as">as</A>
            documented.
Solution:   When a <A HREF="motion.html#bar">bar</A> is found set nextcmd.
Files:      src/autocmd.c, src/testdir/test_autocmd.vim

Patch 8.2.3627
Problem:    difficult to know where the text starts in a <A HREF="windows.html#window">window</A>. (Sergey
            Vlasov)
Solution:   Add the &quot;textoff&quot; entry in the result of <A HREF="builtin.html#getwininfo()">getwininfo()</A>.
            (closes #9163)
Files:      runtime/doc/eval.txt, src/evalwindow.c,
            src/testdir/test_bufwintabinfo.vim

Patch 8.2.3628
Problem:    Looking up <A HREF="terminal.html#terminal">terminal</A> colors is a bit slow.
Solution:   Cache the <A HREF="terminal.html#terminal">terminal</A> colors. (closes #9130, closes #9058)
Files:      src/highlight.c, src/libvterm/include/vterm.h, src/option.c,
            src/optionstr.c, src/popupwin.c, src/proto/terminal.pro,
            src/structs.h, src/terminal.c, src/window.c,
            src/testdir/test_terminal3.vim,
            src/testdir/dumps/Test_terminal_color_MyTermCol.dump,
            src/testdir/dumps/Test_terminal_color_MyTermCol_over_Terminal.dump,
            src/testdir/dumps/Test_terminal_color_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_color_MyWinCol_over_group.dump,
            src/testdir/dumps/Test_terminal_color_Terminal.dump,
            src/testdir/dumps/Test_terminal_color_gui_MyTermCol.dump,
            src/testdir/dumps/Test_terminal_color_gui_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_color_gui_Terminal.dump,
            src/testdir/dumps/Test_terminal_color_gui_transp_MyTermCol.dump,
            src/testdir/dumps/Test_terminal_color_gui_transp_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_color_gui_transp_Terminal.dump,
            src/testdir/dumps/Test_terminal_color_transp_MyTermCol.dump,
            src/testdir/dumps/Test_terminal_color_transp_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_color_transp_Terminal.dump,
            src/testdir/dumps/Test_terminal_popup_MyPopupHlCol.dump,
            src/testdir/dumps/Test_terminal_popup_MyTermCol_over_Terminal.dump,
            src/testdir/dumps/Test_terminal_popup_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_popup_MyWinCol_over_group.dump,
            src/testdir/dumps/Test_terminal_popup_gui_MyPopupHlCol.dump,
            src/testdir/dumps/Test_terminal_popup_gui_MyTermCol.dump,
            src/testdir/dumps/Test_terminal_popup_gui_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_popup_gui_Terminal.dump,
            src/testdir/dumps/Test_terminal_popup_gui_transp_MyPopupHlCol.dump,
            src/testdir/dumps/Test_terminal_popup_gui_transp_MyTermCol.dump,
            src/testdir/dumps/Test_terminal_popup_gui_transp_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_popup_gui_transp_Terminal.dump,
            src/testdir/dumps/Test_terminal_popup_transp_MyPopupHlCol.dump,
            src/testdir/dumps/Test_terminal_popup_transp_MyTermCol.dump,
            src/testdir/dumps/Test_terminal_popup_transp_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_popup_transp_Terminal.dump,
            src/testdir/dumps/Test_terminal_wincolor_split_MyWinCol.dump,
            src/testdir/dumps/Test_terminal_wincolor_split_MyWinCol2.dump

Patch 8.2.3629
Problem:    Command completion in cmdline <A HREF="windows.html#window">window</A> uses global user commands,
            not local commands for the <A HREF="windows.html#window">window</A> where <A HREF="motion.html#it">it</A> was opened from.
Solution:   Use local commands. (closes #9168)
Files:      src/ex_getln.c, src/proto/ex_getln.pro, src/evalvars.c,
            src/usercmd.c, src/testdir/test_ins_complete.vim

Patch 8.2.3630
Problem:    Printf() with &#37;S does not handle <A HREF="mbyte.html#multi-byte">multi-byte</A> correctly.
Solution:   Count cells instead of bytes. (closes #9169, closes #7486)
Files:      src/strings.c, src/testdir/test_expr.vim

Patch 8.2.3631
Problem:    &quot;<A HREF="syntax.html#syntax">syntax</A> enable&quot; does not work properly in <A HREF="vim9.html#Vim9">Vim9</A> context.
Solution:   Also handle <A HREF="vim9.html#Vim9">Vim9</A> context. (closes #9161)
Files:      src/syntax.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3632
Problem:    <A HREF="gui_x11.html#GTK3">GTK3</A>: <A HREF="syntax.html#undercurl">undercurl</A> does not get removed properly.
Solution:   Set the cairo cursor first. (closes #9170)
Files:      src/gui_gtk_x11.c

Patch 8.2.3633
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line number of <A HREF="eval.html#lambda">lambda</A> is off by one.
Solution:   Add one to the line number. (closes #9083)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3634
Problem:    Error for already defined function uses wrong line number.
Solution:   Set SOURCING_LNUM before giving the error message. (closes #9085)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3635
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: composing <A HREF="syntax.html#underline">underline</A> does not show.
Solution:   Include composing character in pango call. A few more
            optimizations for ligatures.  (Dusan Popovic, closes #9171,
            closes #9147)
Files:      src/gui_gtk_x11.c

Patch 8.2.3636
Problem:    Coverity warns for unreachable code.
Solution:   Remove unreachable else block.
Files:      src/gui_gtk_x11.c

Patch 8.2.3637
Problem:    Typos in test files.
Solution:   Correct the typos. (Dominique Pellé, closes #9175)
Files:      src/testdir/runtest.vim, src/testdir/test_debugger.vim,
            src/testdir/test_diffmode.vim, src/testdir/test_edit.vim,
            src/testdir/test_excmd.vim, src/testdir/test_flatten.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_normal.vim,
            src/testdir/test_options.vim, src/testdir/test_python2.vim,
            src/testdir/test_python3.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_recover.vim, src/testdir/test_spellfile.vim,
            src/testdir/test_syntax.vim, src/testdir/test_termcodes.vim,
            src/testdir/test_textobjects.vim, src/testdir/test_trycatch.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_viminfo.vim

Patch 8.2.3638
Problem:    <A HREF="builtin.html#getcompletion()">getcompletion()</A> always passes zero <A HREF="motion.html#as">as</A> position to custom
            completion function.
Solution:   Pass the <A HREF="pattern.html#pattern">pattern</A> length. (closes #9173)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.3639 (after 8.2.2922)
Problem:    Line commented out accidentally.
Solution:   Uncomment. (Volodymyr Kot, closes #9172)
Files:      src/main.c

Patch 8.2.3640
Problem:    Freeze when calling <A HREF="terminal.html#term_wait()">term_wait()</A> in a close callback.
Solution:   Set a &quot;closing&quot; flag to tell <A HREF="terminal.html#term_wait()">term_wait()</A> to return. (closes #9152)
Files:      src/channel.c, src/terminal.c, src/proto/terminal.pro,
            src/testdir/test_terminal.vim

Patch 8.2.3641
Problem:    Xxd code has duplicate expressions.
Solution:   Refactor to avoid duplication. (closes #9185)
Files:      src/xxd/xxd.c

Patch 8.2.3642
Problem:    <A HREF="eval.html#List">List</A> of distributed files is outdated.
Solution:   Rename term.h to termdefs.h.
Files:      Filelist

Patch 8.2.3643
Problem:    Header for source file is outdated.
Solution:   Make the header more accurate. (closes #9186)
Files:      src/map.c, src/getchar.c

Patch 8.2.3644
Problem:    Count for <A HREF="options.html#'operatorfunc'">'operatorfunc'</A> in <A HREF="visual.html#Visual">Visual</A> mode is not redone.
Solution:   Add the <A HREF="intro.html#count">count</A> to the <A HREF="undo.html#redo">redo</A> buffer. (closes #9174)
Files:      src/normal.c, src/proto/normal.pro, src/ops.c,
            src/testdir/test_normal.vim

Patch 8.2.3645
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: The &quot;no effect&quot; error is not given for all <A HREF="change.html#registers">registers</A>.
Solution:   Include any character following '<A HREF="repeat.html#@">@</A>'. (closes #8779)
Files:      src/ex_eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3646
Problem:    Using <A HREF="cmdline.html#&lt;sfile&gt;">&lt;sfile&gt;</A> in a function gives an unexpected result.
Solution:   Give an error in a <A HREF="vim9.html#Vim9">Vim9</A> function. (issue #9189)
Files:      src/scriptfile.c, src/errors.h, src/testdir/test_vim9_builtin.vim

Patch 8.2.3647
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: when using ligatures the cursor is drawn wrong.
Solution:   Clear more characters when ligatures are used. (Dusan Popovic,
            closes #9190)
Files:      src/gui.c

Patch 8.2.3648
Problem:    &quot;<A HREF="starting.html#verbose">verbose</A> pwd&quot; is incorrect after dropping files on Vim.
Solution:   Set the chdir reason to &quot;drop&quot;.
Files:      src/gui.c

Patch 8.2.3649
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for variable declared in while loop.
Solution:   Do not keep the first variable. (closes #9191)
Files:      src/ex_eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.3650
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: for loop variable can be a <A HREF="eval.html#list">list</A> member.
Solution:   Check for valid variable name. (closes #9179)
Files:      src/vim9compile.c, src/dict.c, src/eval.c, src/evalvars.c,
            src/proto/evalvars.pro, src/testdir/test_vim9_script.vim

Patch 8.2.3651
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for <A HREF="motion.html#:lock">:lock</A> or :unlock with unknown variable.
Solution:   Give an error. (closes #9188)
Files:      src/evalvars.c, src/errors.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.3652
Problem:    Can only get text properties one line at a time.
Solution:   Add <A HREF="options.html#options">options</A> to <A HREF="textprop.html#prop_list()">prop_list()</A> to use a range of lines and <A HREF="change.html#filter">filter</A> by
            types. (Yegappan Lakshmanan, closes #9138)
Files:      runtime/doc/textprop.txt, src/textprop.c,
            src/testdir/test_textprop.vim

Patch 8.2.3653
Problem:    Terminal ANSI colors may be wrong.
Solution:   Initialize the color type. (closes #9198, closes #9197)
Files:      src/terminal.c

Patch 8.2.3654
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: a touch-drag does not update the selection.
Solution:   Add GDK_BUTTON1_MASK to the state. (Chris Dalton, close #9196,
            closes #9194)
Files:      src/gui_gtk_x11.c

Patch 8.2.3655
Problem:    Compiler warning for using size_t for int.
Solution:   Add a type cast. (Mike Williams, closes #9199)
Files:      src/vim9compile.c

Patch 8.2.3656
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for an environment variable by itself.
Solution:   Give a &quot;without effect&quot; error. (closes #9166)
Files:      src/ex_eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3657
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debug text misses one line of return statement.
Solution:   Add a line when not at a debug instruction. (closes #9137)
Files:      src/vim9execute.c, src/testdir/test_debugger.vim

Patch 8.2.3658
Problem:    Duplicate code in xxd.
Solution:   Merge duplicated code. Add more tests. (closes #9192)
Files:      src/xxd/xxd.c, src/testdir/test_xxd.vim

Patch 8.2.3659
Problem:    <A HREF="eval.html#Integer">Integer</A> overflow with large line number.
Solution:   Check for overflow. (closes #9202)
Files:      src/errors.h, src/ex_docmd.c, src/testdir/test_excmd.vim
            src/normal.c, src/testdir/test_normal.vim

Patch 8.2.3660 (after 8.2.3659)
Problem:    Overflow check uses wrong number.
Solution:   Divide by ten.
Files:      src/normal.c

Patch 8.2.3661 (after 8.2.3659)
Problem:    Test for put with large <A HREF="intro.html#count">count</A> fails.
Solution:   Adjust the counts in the test.
Files:      src/testdir/test_put.vim

Patch 8.2.3662
Problem:    Illegal memory access if malloc() fails.
Solution:   Check <A HREF="options.html#'foldmethod'">'foldmethod'</A> is not empty. (closes #9207)
Files:      src/fold.c

Patch 8.2.3663
Problem:    Using &#37;S in <A HREF="builtin.html#printf()">printf()</A> does not work correctly.
Solution:   Fix the problem and add more tests. (closes #9208)
Files:      src/strings.c, src/testdir/test_expr.vim

Patch 8.2.3664
Problem:    Cannot adjust sign highlighting for <A HREF="options.html#'cursorline'">'cursorline'</A>.
Solution:   Add CursorLineSign and CursorLineFold highlight groups.
            (Gregory Anders, closes #9201)
Files:      runtime/doc/sign.txt, runtime/doc/syntax.txt, src/drawline.c,
            src/highlight.c, src/optiondefs.h, src/popupwin.c,
            src/proto/sign.pro, src/sign.c, src/structs.h, src/vim.h,
            src/testdir/test_signs.vim

Patch 8.2.3665
Problem:    Cannot use a <A HREF="eval.html#lambda">lambda</A> for <A HREF="options.html#'tagfunc'">'tagfunc'</A>.
Solution:   Use <A HREF="options.html#'tagfunc'">'tagfunc'</A> like <A HREF="options.html#'opfunc'">'opfunc'</A>. (Yegappan Lakshmanan, closes #9204)
Files:      runtime/doc/options.txt, src/buffer.c, src/option.c,
            src/optionstr.c, src/proto/tag.pro, src/structs.h, src/tag.c,
            src/testdir/test_tagfunc.vim

Patch 8.2.3666
Problem:    Libvterm is outdated.
Solution:   Include patches from revision 769 to revision 789.
Files:      Filelist, src/libvterm/Makefile, src/libvterm/doc/seqs.txt,
            src/libvterm/include/vterm.h, src/libvterm/src/mouse.c,
            src/libvterm/src/parser.c, src/libvterm/src/state.c,
            src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h,
            src/libvterm/t/02parser.test, src/libvterm/t/17state_mouse.test,
            src/libvterm/t/29state_fallback.test,
            src/libvterm/t/40state_selection.test, src/libvterm/t/harness.c,
            src/libvterm/t/run-test.pl, src/libvterm/vterm.pc.in,
            src/terminal.c

Patch 8.2.3667
Problem:    Building libvterm fails with MSVC.
Solution:   Don't use <A HREF="develop.html#C99">C99</A> construct.
Files:      src/libvterm/src/state.c

Patch 8.2.3668
Problem:    Messages may be corrupted.
Solution:   Use another buffer instead of IObuff. (Yegappan Lakshmanan,
            closes #9195)
Files:      src/highlight.c, src/testdir/test_highlight.vim

Patch 8.2.3669
Problem:    Buffer overflow with long help argument.
Solution:   Use snprintf().
Files:      src/help.c, src/testdir/test_help.vim

Patch 8.2.3670
Problem:    Error checks repeated several times.
Solution:   Move the checks to <A HREF="eval.html#functions">functions</A>. (closes #9213)
Files:      src/xxd/xxd.c

Patch 8.2.3671
Problem:    Restarting <A HREF="insert.html#Insert">Insert</A> mode in prompt buffer too often when a callback
            switches <A HREF="windows.html#windows">windows</A> and comes back. (Sean Dewar)
Solution:   Do not set &quot;restart_edit&quot; when already in <A HREF="insert.html#Insert">Insert</A> mode.
            (closes #9212)
Files:      src/window.c, src/testdir/test_prompt_buffer.vim

Patch 8.2.3672 (after 8.2.3670)
Problem:    Build failure with unsigned char.
Solution:   Use int instead of char.
Files:      src/xxd/xxd.c

Patch 8.2.3673
Problem:    Crash when allocating signal stack fails.
Solution:   Only using sourcing info when available. (closes #9215)
Files:      src/globals.h, src/message.c

Patch 8.2.3674
Problem:    When ml_get_buf() fails <A HREF="motion.html#it">it</A> messes up IObuff.
Solution:   Return a local pointer. (closes #9214)
Files:      src/memline.c

Patch 8.2.3675
Problem:    Using freed memory when vim_strsave() fails.
Solution:   Clear &quot;last_sourcing_name&quot;.  Check for msg_source() called
            recursively. (closes #8217)
Files:      src/message.c

Patch 8.2.3676
Problem:    Unused runtime file.
Solution:   Remove <A HREF="gui_w32.html#rgb.txt">rgb.txt</A>.
Files:      runtime/rgb.txt

Patch 8.2.3677
Problem:    After a put the <A HREF="motion.html#']">']</A> <A HREF="motion.html#mark">mark</A> is on the last byte of a <A HREF="mbyte.html#multi-byte">multi-byte</A>
            character.
Solution:   Move <A HREF="motion.html#it">it</A> to the first byte. (closes #9047)
Files:      src/register.c, src/testdir/test_put.vim

Patch 8.2.3678 (after 8.2.3677)
Problem:    Illegal memory access.
Solution:   Ignore changed indent when computing byte offset.
Files:      src/register.c

Patch 8.2.3679
Problem:    objc file detected <A HREF="motion.html#as">as</A> Octave. (Antony Lee)
Solution:   Detect objc by preprocessor lines. (Doug Kearns, closes #9223,
            closes #9220)
Files:      runtime/autoload/dist/ft.vim, src/testdir/test_filetype.vim

Patch 8.2.3680
Problem:    Repeated code in xxd.
Solution:   Change exit_on_ferror() to getc_or_die(). (closes #9226)
Files:      src/xxd/xxd.c

Patch 8.2.3681
Problem:    Cannot drag <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> after click on a status line. (Sergey
            Vlasov)
Solution:   Reset on_status_line. (closes #9221)
Files:      src/mouse.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_drag_04.dump

Patch 8.2.3682
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assigning to a <A HREF="usr_41.html#script">script</A> variable drops the required type.
Solution:   Lookup the type of the variable and use <A HREF="motion.html#it">it</A>. (closes #9219)
Files:      src/evalvars.c, src/vim9script.c, src/proto/vim9script.pro,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3683
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use `=expr` in :...do commands.
Solution:   Add EX_EXPAND to the commands. (closes #9232)
Files:      src/ex_cmds.h, src/testdir/test_vim9_cmd.vim

Patch 8.2.3684
Problem:    Blockwise insert does not handle autoindent properly.
Solution:   Adjust text column for indent. (closes #9229)
Files:      src/ops.c, src/testdir/test_blockedit.vim

Patch 8.2.3685
Problem:    <A HREF="visual.html#Visual">Visual</A> Studio project files are not recognized.
Solution:   Use the xml file type. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3686
Problem:    Filetype detection often mixes up Forth and F#.
Solution:   Add a function to inspect the file contents. (Doug Kearns)
Files:      runtime/autoload/dist/ft.vim, runtime/doc/filetype.txt,
            runtime/doc/syntax.txt, runtime/filetype.vim, runtime/scripts.vim,
            src/testdir/test_filetype.vim

Patch 8.2.3687
Problem:    Blockwise insert does not handle autoindent properly when <A HREF="intro.html#tab">tab</A> is
            inserted.
Solution:   Adjust text column for indent before computing column.
            (closes #9229)
Files:      src/ops.c, src/testdir/test_blockedit.vim

Patch 8.2.3688
Problem:    The <A HREF="windows.html#window">window</A> title is not updated when dragging the scrollbar.
Solution:   Call maketitle(). (Christian Brabandt, closes #9238, closes #5383)
Files:      src/gui.c

Patch 8.2.3689
Problem:    ex_let_one() is too long.
Solution:   Split into multiple <A HREF="eval.html#functions">functions</A>.
Files:      src/evalvars.c

Patch 8.2.3690
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;<A HREF="change.html#filter">filter</A> #pat# cmd&quot; does not work.
Solution:   Do not see #pat# <A HREF="motion.html#as">as</A> a comment.
Files:      src/ex_docmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3691
Problem:    Build failure with small features.
Solution:   Add #ifdef. (Dominique Pellé)
Files:      src/gui.c

Patch 8.2.3692
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use :func inside a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Make <A HREF="motion.html#it">it</A> work.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c, src/errors.h,
            src/structs.h, src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3693
Problem:    Coverity warns for possibly using a NULL pointer.
Solution:   Check for NULL and give an error.
Files:      src/vim9execute.c, src/errors.h

Patch 8.2.3694
Problem:    Cannot use <A HREF="quotes.html#quotes">quotes</A> in the <A HREF="intro.html#count">count</A> of an <A HREF="intro.html#Ex">Ex</A> command.
Solution:   Add getdigits_quoted().  Give an error when misplacing a <A HREF="change.html#quote">quote</A> in
            a range. (closes #9240)
Files:      src/ex_docmd.c, src/charset.c, src/proto/charset.pro,
            src/testdir/test_usercommands.vim

Patch 8.2.3695
Problem:    Confusing error for missing key.
Solution:   Use the actual key for the error. (closes #9241)
Files:      src/eval.c, src/testdir/test_listdict.vim

Patch 8.2.3696
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for invalid assignment when skipping.
Solution:   Do not check white space when skipping. (closes #9243)
Files:      src/evalvars.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3697
Problem:    Cannot drag a <A HREF="popup.html#popup">popup</A> without a border.
Solution:   Add the &quot;dragall&quot; option. (closes #9218)
Files:      runtime/doc/popup.txt, src/mouse.c, src/popupwin.c, src/vim.h,
            src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_drag_05.dump,
            src/testdir/dumps/Test_popupwin_drag_06.dump

Patch 8.2.3698
Problem:    Match highlighting continues over breakindent.
Solution:   Stop before the end column. (closes #9242)
Files:      src/match.c, src/proto/match.pro, src/drawline.c,
            src/testdir/test_match.vim,
            src/testdir/dumps/Test_match_linebreak.dump

Patch 8.2.3699
Problem:    The <A HREF="various.html#+title">+title</A> feature adds a lot of #ifdef but little code.
Solution:   Graduate the <A HREF="various.html#+title">+title</A> feature.
Files:      src/feature.h, src/alloc.c, src/arglist.c, src/autocmd.c,
            src/buffer.c, src/bufwrite.c, src/change.c, src/drawscreen.c,
            src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/gui.c,
            src/gui_gtk_x11.c, src/if_xcmdsrv.c, src/locale.c, src/main.c,
            src/misc2.c, src/netbeans.c, src/option.c, src/optionstr.c,
            src/os_amiga.c, src/os_mswin.c, src/os_unix.c, src/os_win32.c,
            src/regexp.c, src/term.c, src/ui.c, src/version.c, src/window.c,
            src/globals.h, src/option.h, src/optiondefs.h,
            runtime/doc/options.txt, runtime/doc/various.txt

Patch 8.2.3700
Problem:    Text property highlighting continues over breakindent.
Solution:   Stop before the end column. (closes #9242)
Files:      src/drawline.c, src/testdir/test_textprop.vim,
            src/testdir/dumps/Test_prop_linebreak.dump

Patch 8.2.3701
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid LHS is not possible.
Solution:   Remove unreachable error message.
Files:      src/vim9compile.c

Patch 8.2.3702
Problem:    First key in <A HREF="eval.html#dict">dict</A> is seen <A HREF="motion.html#as">as</A> curly <A HREF="eval.html#expression">expression</A> and fails.
Solution:   Ignore failure of curly <A HREF="eval.html#expression">expression</A>. (closes #9247)
Files:      src/typval.c, src/dict.c, src/testdir/test_listdict.vim

Patch 8.2.3703 (after 8.2.3686)
Problem:    Most people call F# &quot;fsharp&quot; and not &quot;fs&quot;.
Solution:   Rename <A HREF="filetype.html#filetype">filetype</A> &quot;fs&quot; to &quot;fsharp&quot;.
Files:      runtime/autoload/dist/ft.vim, runtime/filetype.vim,
            src/testdir/test_filetype.vim

Patch 8.2.3704
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a <A HREF="eval.html#list">list</A> declaration in a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Make <A HREF="motion.html#it">it</A> work.
Files:      runtime/doc/vim9.txt, src/vim9compile.c, src/errors.h,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3705
Problem:    Cannot pass a <A HREF="eval.html#lambda">lambda</A> name to <A HREF="builtin.html#function()">function()</A> or <A HREF="builtin.html#funcref()">funcref()</A>. (Yegappan
            Lakshmanan)
Solution:   Handle a <A HREF="eval.html#lambda">lambda</A> name differently.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/evalfunc.c,
            src/testdir/test_expr.vim

Patch 8.2.3706 (after 8.2.3700)
Problem:    Text property highlighting is used on <A HREF="intro.html#Tab">Tab</A>.
Solution:   Only set in_linebreak when not on a <A HREF="intro.html#Tab">Tab</A>. (closes #9242)
Files:      src/drawline.c, src/testdir/test_textprop.vim,
            src/testdir/dumps/Test_prop_after_tab.dump

Patch 8.2.3707
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: constant <A HREF="eval.html#expression">expression</A> of elseif not recognized.
Solution:   Set instruction <A HREF="intro.html#count">count</A> before generating the <A HREF="eval.html#expression">expression</A>.
Files:      src/vim9compile.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.3708 (after 8.2.3707)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails with different error.
Solution:   Correct the error number.
Files:      src/testdir/test_vim9_cmd.vim

Patch 8.2.3709
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: backtick <A HREF="eval.html#expression">expression</A> expanded when not desired.
Solution:   Only expand a backtick <A HREF="eval.html#expression">expression</A> for commands that expand their
            argument.  Remove a few outdated TODO comments.
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3710
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: backtick <A HREF="eval.html#expression">expression</A> expanded for <A HREF="repeat.html#:global">:global</A>.
Solution:   Check the following command.
Files:      runtime/doc/vim9.txt, src/vim9compile.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3711
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when compiling <A HREF="eval.html#:elseif">:elseif</A> fails.
Solution:   Cleanup ppconst.
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3712
Problem:    Cannot use <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="eval.html#lambda">lambda</A> for <A HREF="options.html#'tagfunc'">'tagfunc'</A>.
Solution:   Make <A HREF="motion.html#it">it</A> work, add more tests. (Yegappan Lakshmanan, closes #9250)
Files:      runtime/doc/options.txt, src/insexpand.c, src/option.c,
            src/testdir/test_tagfunc.vim

Patch 8.2.3713
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: No error message if vimgrep <A HREF="pattern.html#pattern">pattern</A> is not matching.
Solution:   Give an error message. (Christian Brabandt, closes #9245,
            closes #8762)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.3714
Problem:    Some unused assignments and ugly code in xxd.
Solution:   Leave out assignments.  Use marcro for fprintf(). (closes #9246)
Files:      src/xxd/xxd.c

Patch 8.2.3715
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="debug.html#valgrind">valgrind</A> reports spurious problems for a test.
Solution:   Move the test to the set that is known to fail.
Files:      src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_fails.vim

Patch 8.2.3716
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: range without a command is not compiled.
Solution:   Add the ISN_EXECRANGE byte code.
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/vim9compile.c,
            src/vim9execute.c, src/vim9.h,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3717
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for constant <A HREF="eval.html#list">list</A> size is only given at runtime.
Solution:   Give the error at compile time if possible.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3718
Problem:    Compiler warns for unused variable without the <A HREF="various.html#+textprop">+textprop</A> feature.
            (John Marriott)
Solution:   Adjust #ifdefs.
Files:      src/drawline.c

Patch 8.2.3719
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: test sometimes runs into existing swap file.
Solution:   Use a different file name.
Files:      src/testdir/test_buffer.vim

Patch 8.2.3720
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Internal error when invoking <A HREF="eval.html#closure">closure</A> in legacy context.
Solution:   Give a more appropriate error message. (closes #9251)
Files:      src/errors.h, src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.3721
Problem:    Using memory freed by losing the <A HREF="gui.html#clipboard">clipboard</A> selection. (Dominique
            Pellé)
Solution:   Check y_array is still valid after calling changed_lines().
            (closes #9253)
Files:      src/errors.h, src/register.c

Patch 8.2.3722
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: superfluous <A HREF="message.html#messages">messages</A> for freeing lots of yanked text.
Solution:   Assume that the machine isn't that slow these days.
Files:      src/register.c

Patch 8.2.3723
Problem:    When using <A HREF="options.html#'linebreak'">'linebreak'</A> a text property starts too early.
Solution:   Decrement &quot;bcol&quot; when looking for property start. (closes #9242)
Files:      src/drawline.c, src/testdir/test_textprop.vim,
            src/testdir/dumps/Test_prop_after_linebreak.dump

Patch 8.2.3724
Problem:    Build error for missing error message in small build.
Solution:   Correct #ifdef.
Files:      src/errors.h

Patch 8.2.3725
Problem:    Cannot use a <A HREF="eval.html#lambda">lambda</A> for <A HREF="options.html#'completefunc'">'completefunc'</A> and <A HREF="options.html#'omnifunc'">'omnifunc'</A>.
Solution:   Implement <A HREF="eval.html#lambda">lambda</A> support. (Yegappan Lakshmanan, closes #9257)
Files:      runtime/doc/options.txt, src/buffer.c, src/insexpand.c,
            src/option.c, src/optionstr.c, src/proto/insexpand.pro,
            src/proto/tag.pro, src/proto/userfunc.pro, src/structs.h,
            src/tag.c, src/userfunc.c, src/testdir/test_ins_complete.vim,
            src/testdir/test_tagfunc.vim

Patch 8.2.3726
Problem:    README file in a config directory gets wrong <A HREF="filetype.html#filetype">filetype</A>.
Solution:   Match README before patterns that match everything in a directory.
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3727
Problem:    In a gnome <A HREF="terminal.html#terminal">terminal</A> keys are recognized <A HREF="motion.html#as">as</A> mouse events.
Solution:   Only recognize DEC mouse events when four numbers are following.
            (closes #9256)
Files:      src/term.c, src/testdir/test_termcodes.vim

Patch 8.2.3728
Problem:    Internal error when passing <A HREF="builtin.html#range()">range()</A> to <A HREF="builtin.html#list2blob()">list2blob()</A>.
Solution:   Materialize the <A HREF="eval.html#list">list</A> first. (closes #9262)
Files:      src/blob.c, src/testdir/test_blob.vim

Patch 8.2.3729
Problem:    No support for squirrels.
Solution:   Recognize nuts. (closes #9259)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3730
Problem:    &quot;/etc/Muttrc.d/README&quot; gets <A HREF="filetype.html#filetype">filetype</A> muttrc.
Solution:   Move the Muttrc.d <A HREF="pattern.html#pattern">pattern</A> down, add exception for *.rc files.
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3731
Problem:    &quot;set! termcap&quot; shows codes in one column, but not keys.
Solution:   Also use one column for keys. (closes #9258)
Files:      src/option.c, src/term.c, src/proto/term.pro,
            src/testdir/test_set.vim

Patch 8.2.3732 (after 8.2.3731)
Problem:    &quot;set! termcap&quot; test fails.
Solution:   Account for keys without a t_xx entry.
Files:      src/testdir/test_set.vim

Patch 8.2.3733
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using &quot;legacy&quot; before range does not work.
Solution:   Skip over range before parsing command. (closes #9270)
Files:      src/vim9compile.c, src/usercmd.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.3734
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when no <A HREF="pattern.html#pattern">pattern</A> match found.
Solution:   Check for error.
Files:      src/vim9execute.c

Patch 8.2.3735
Problem:    Cannot use a <A HREF="eval.html#lambda">lambda</A> for <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A>.
Solution:   Add <A HREF="eval.html#lambda">lambda</A> support for <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> and <A HREF="options.html#'imstatusfunc'">'imstatusfunc'</A>.
            (Yegappan Lakshmanan, closes #9275)
Files:      runtime/doc/options.txt, src/alloc.c, src/gui_xim.c,
            src/optionstr.c, src/proto/gui_xim.pro,
            src/testdir/test_iminsert.vim, src/testdir/test_ins_complete.vim

Patch 8.2.3736
Problem:    Test fails without the <A HREF="channel.html#channel">channel</A> feature. (Dominique Pellé)
Solution:   Source the check.vim <A HREF="usr_41.html#script">script</A>. (closes #9277)
Files:      src/testdir/test_vim9_fails.vim

Patch 8.2.3737
Problem:    Test fails without the <A HREF="options.html#'autochdir'">'autochdir'</A> option.
Solution:   Check that the option is available. (Dominique Pellé, closes #9272)
Files:      src/testdir/test_cd.vim

Patch 8.2.3738
Problem:    Screen is cleared when a <A HREF="autocmd.html#FocusLost">FocusLost</A> <A HREF="autocmd.html#autocommand">autocommand</A> triggers.
Solution:   Do not redraw when at the <A HREF="message.html#hit-enter">hit-enter</A> or more prompt. (closes #9274)
Files:      src/misc1.c

Patch 8.2.3739
Problem:    In wrong directory when using <A HREF="builtin.html#win_execute()">win_execute()</A> with <A HREF="options.html#'acd'">'acd'</A> set.
Solution:   Restore the directory when returning to the <A HREF="windows.html#window">window</A>. (closes #9276)
Files:      src/window.c, src/testdir/test_autochdir.vim

Patch 8.2.3740
Problem:    Memory left allocated on exit when using <A HREF="if_tcl.html#Tcl">Tcl</A>.
Solution:   Call Tcl_Finalize().
Files:      src/if_tcl.c, src/proto/if_tcl.pro, src/alloc.c

Patch 8.2.3741
Problem:    Using freed memory in open command.
Solution:   Make a copy of the current line.
Files:      src/ex_docmd.c, src/testdir/test_ex_mode.vim

Patch 8.2.3742
Problem:    Dec mouse test fails without gnome <A HREF="term.html#terminfo">terminfo</A> entry.
Solution:   Check if there is a gnome entry. Also fix <A HREF="options.html#'acd'">'acd'</A> test on
            <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ozaki Kiichi, closes #9282)
Files:      src/testdir/test_termcodes.vim, src/testdir/test_autochdir.vim

Patch 8.2.3743
Problem:    &quot;<A HREF="sign.html#:sign">:sign</A>&quot; can add a highlight group without a name.
Solution:   Give an error if the group name is missing. (closes #9280)
Files:      src/sign.c, src/errors.h, src/testdir/test_signs.vim

Patch 8.2.3744
Problem:    <A HREF="options.html#E854">E854</A> is not tested; some spelling suggestions are not tested.
Solution:   Add a couple of tests. (Dominique Pellé, closes #9279)
Files:      src/testdir/test_options.vim, src/testdir/test_spell.vim

Patch 8.2.3745
Problem:    Autochdir test fails without the <A HREF="various.html#+channel">+channel</A> feature.
Solution:   Remove the <A HREF="channel.html#ch_logfile()">ch_logfile()</A> call. (Dominique Pellé, closes #9281)
Files:      src/testdir/test_autochdir.vim

Patch 8.2.3746
Problem:    Cannot disassemble function starting with &quot;debug&quot; or &quot;<A HREF="repeat.html#profile">profile</A>&quot;.
Solution:   Check for white space following. (closes #9273)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.3747 (after 8.2.3743)
Problem:    Cannot remove highlight from an existing sign. (James McCoy)
Solution:   Only reject empty argument for a new sign.
Files:      src/sign.c, src/testdir/test_signs.vim

Patch 8.2.3748 (after 8.2.3747)
Problem:    Giving an error for an empty sign argument breaks a <A HREF="usr_05.html#plugin">plugin</A>.
Solution:   Do not give an error.
Files:      src/sign.c, src/errors.h, src/testdir/test_signs.vim

Patch 8.2.3749
Problem:    Error <A HREF="message.html#messages">messages</A> are everywhere.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h and adjust the names.
Files:      src/errors.h, src/regexp_bt.c, src/regexp.c, src/regexp_nfa.c,
            src/globals.h, src/memfile.c, src/tag.c, src/getchar.c,
            src/bufwrite.c, src/cmdexpand.c

Patch 8.2.3750
Problem:    Error <A HREF="message.html#messages">messages</A> are everywhere.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h and adjust the names.
Files:      src/globals.h, src/errors.h, src/blob.c, src/buffer.c,
            src/channel.c, src/ex_docmd.c, src/job.c, src/list.c, src/mark.c,
            src/misc1.c, src/os_unix.c, src/popupwin.c, src/register.c,
            src/session.c, src/spellfile.c, src/term.c, src/userfunc.c

Patch 8.2.3751
Problem:    Cannot assign a <A HREF="eval.html#lambda">lambda</A> to an option that takes a function.
Solution:   Automatically convert the <A HREF="eval.html#lambda">lambda</A> to a <A HREF="eval.html#string">string</A>. (Yegappan
            Lakshmanan, closes #9286)
Files:      runtime/doc/options.txt, src/eval.c, src/proto/eval.pro,
            src/evalvars.c, src/if_mzsch.c, src/if_ruby.c, src/if_tcl.c,
            src/option.c, src/option.h, src/optiondefs.h,
            src/proto/option.pro, src/spell.c, src/typval.c,
            src/vim9compile.c, src/testdir/test_iminsert.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_tagfunc.vim

Patch 8.2.3752
Problem:    Build error when using Photon <A HREF="gui.html#GUI">GUI</A>.
Solution:   Adjust #ifdef. (closes #9288)
Files:      src/beval.c

Patch 8.2.3753
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function unreferenced while called is never deleted.
Solution:   Delete a function when no longer referenced.
Files:      src/vim9execute.c, src/userfunc.c, src/proto/userfunc.pro

Patch 8.2.3754 (after 8.2.3615)
Problem:    Undesired <A HREF="change.html#changing">changing</A> of the indent of the first formatted line.
Solution:   Do not indent the first formatted line.
Files:      src/textformat.c, src/testdir/test_indent.vim

Patch 8.2.3755
Problem:    Coverity warns for using a buffer in another scope.
Solution:   Declare the buffer in a common scope.
Files:      src/evalvars.c

Patch 8.2.3756
Problem:    might crash when callback is not valid.
Solution:   Check for valid callback. (Yegappan Lakshmanan, closes #9293)
Files:      src/insexpand.c, src/option.c, src/tag.c, src/job.c,
            src/userfunc.c, src/testdir/test_iminsert.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_tagfunc.vim

Patch 8.2.3757
Problem:    An overlong highlight group name is silently truncated.
Solution:   Give an error if the name is too long. (closes #9289)
Files:      src/errors.h, src/highlight.c, src/testdir/test_highlight.vim

Patch 8.2.3758
Problem:    Options that take a function insufficiently tested.
Solution:   Add additional tests and enhance existing tests. (Yegappan
            Lakshmanan, closes #9298)
Files:      src/testdir/test_ins_complete.vim, src/testdir/test_normal.vim,
            src/testdir/test_tagfunc.vim

Patch 8.2.3759
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> buffer becomes hidden while still in a <A HREF="windows.html#window">window</A>.
Solution:   Check if the closed <A HREF="windows.html#window">window</A> is the last <A HREF="windows.html#window">window</A> showing the <A HREF="quickfix.html#quickfix">quickfix</A>
            buffer. (Yegappan Lakshmanan, closes #9303, closes #9300)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim, src/window.c

Patch 8.2.3760
Problem:    Not automatically handling gnome <A HREF="terminal.html#terminal">terminal</A> mouse like xterm.
Solution:   Default <A HREF="options.html#'ttymouse'">'ttymouse'</A> to &quot;xterm&quot; and recognize Focus events.
            (issue #9296)
Files:      src/os_unix.c

Patch 8.2.3761
Problem:    Focus change is not passed on to a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   If the current <A HREF="windows.html#window">window</A> is a <A HREF="terminal.html#terminal">terminal</A> and focus events are enabled
            send a focus event <A HREF="intro.html#escape">escape</A> sequence to the <A HREF="terminal.html#terminal">terminal</A>.
Files:      src/ui.c, src/terminal.c, src/proto/terminal.pro,
            src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_focus_1.dump,
            src/testdir/dumps/Test_terminal_focus_2.dump

Patch 8.2.3762
Problem:    If the <A HREF="quickfix.html#quickfix">quickfix</A> buffer is wiped out <A HREF="builtin.html#getqflist()">getqflist()</A> still returns its
            number.
Solution:   Use zero if the buffer is no longer present. (Yegappan Lakshmanan,
            closes #9306)
Files:      src/quickfix.c, src/testdir/test_quickfix.vim

Patch 8.2.3763
Problem:    When editing the command line a <A HREF="autocmd.html#FocusLost">FocusLost</A> callback may cause the
            screen to scroll up.
Solution:   Do not redraw at the last line but at the same place where the
            command line was before. (closes #9295)
Files:      src/ex_getln.c, src/ui.c, src/beval.c, src/channel.c,
            src/drawscreen.c, src/proto/drawscreen.pro, src/job.c,
            src/popupwin.c, src/sound.c, src/terminal.c, src/time.c,
            src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_terminal_focus_1.dump,
            src/testdir/dumps/Test_terminal_focus_2.dump,
            src/testdir/dumps/Test_terminal_focus_3.dump

Patch 8.2.3764
Problem:    Cannot see any text when <A HREF="windows.html#window">window</A> was made zero lines or zero
            columns.
Solution:   Ensure there is at least one line and column. (fixes #9307)
Files:      src/window.c, src/proto/window.pro, src/normal.c, src/edit.c,
            src/testdir/test_window_cmd.vim

Patch 8.2.3765
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a <A HREF="eval.html#lambda">lambda</A> for <A HREF="options.html#'opfunc'">'opfunc'</A> and others.
Solution:   Convert the <A HREF="eval.html#lambda">lambda</A> to a <A HREF="eval.html#string">string</A>.
Files:      src/vim9compile.c, src/vim9.h, src/vim9execute.c,
            src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3766
Problem:    Converting a funcref to a <A HREF="eval.html#string">string</A> leaves out &quot;<A HREF="eval.html#g:">g:</A>&quot;, causing the
            meaning of the name depending on the context.
Solution:   Prepend &quot;<A HREF="eval.html#g:">g:</A>&quot; for a global function.
Files:      src/eval.c, src/testdir/test_functions.vim

Patch 8.2.3767 (after 8.2.3766)
Problem:    Crash when using NULL <A HREF="builtin.html#partial">partial</A>.
Solution:   Check for NULL.
Files:      src/eval.c

Patch 8.2.3768
Problem:    <A HREF="builtin.html#timer_info()">timer_info()</A> has the wrong repeat value in a <A HREF="builtin.html#timer">timer</A> callback.
            (Sergey Vlasov)
Solution:   Do not add one to the repeat value when in the callback.
            (closes #9294)
Files:      src/time.c, src/testdir/test_timers.vim

Patch 8.2.3769
Problem:    Zig files are not recognized.
Solution:   Add *.zig. (Gregory Anders, closes #9313)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3770
Problem:    New compiler warnings from clang-12 and clang-13.
Solution:   Adjust CI and suppress some warnings. (Ozaki Kiichi, closes #9314)
Files:      .github/workflows/ci.yml, ci/config.mk.clang-12.sed,
            src/os_unix.c, src/spellfile.c

Patch 8.2.3771
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: accessing freed memory when checking type.
Solution:   Make a copy of a function type.
Files:      src/structs.h, src/evalvars.c, src/vim9script.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.3772
Problem:    Timer info test fails on slow machine.
Solution:   Use WaitForAssert().
Files:      src/testdir/test_timers.vim

Patch 8.2.3773
Problem:    Wrong <A HREF="windows.html#window">window</A> size when a <A HREF="options.html#modeline">modeline</A> changes <A HREF="options.html#'columns'">'columns'</A> and there is
            more than one <A HREF="tabpage.html#tabpage">tabpage</A>. (Michael Soyka)
Solution:   Adjust the frames of all tabpages. (closes #9315)
Files:      src/window.c

Patch 8.2.3774 (after 8.2.3773)
Problem:    Test for command line height fails.
Solution:   Use another way to handle <A HREF="windows.html#window">window</A> size change.
Files:      src/structs.h, src/window.c

Patch 8.2.3775
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#lambda">lambda</A> compiled without outer context when debugging.
Solution:   When compiling a <A HREF="eval.html#lambda">lambda</A> for debugging also compile <A HREF="motion.html#it">it</A> without.
            (closes #9302)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.3776
Problem:    When a <A HREF="tagsrch.html#tags">tags</A> file line is long a <A HREF="tagsrch.html#tag">tag</A> may not be found.
Solution:   When increasing the buffer size read the same line again.
Files:      src/tag.c, src/testdir/test_taglist.vim

Patch 8.2.3777
Problem:    Spell file write error not checked.
Solution:   Check <A HREF="editing.html#writing">writing</A> the prefix conditions. (Bjorn Linse, closes #9323)
Files:      src/spellfile.c

Patch 8.2.3778
Problem:    Lambda debug test fails in some configurations.
Solution:   Check feature in a legacy function.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.3779
Problem:    Using freed memory when defining a user command from a user
            command.
Solution:   Do not use the command pointer after executing the command.
            (closes #9318)
Files:      src/usercmd.c, src/testdir/test_usercommands.vim

Patch 8.2.3780
Problem:    &quot;<A HREF="editing.html#:cd">:cd</A>&quot; works differently on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add the <A HREF="options.html#'cdhome'">'cdhome'</A> option. (closes #9324)
Files:      runtime/doc/editing.txt, runtime/doc/options.txt,
            runtime/doc/quickref.txt, runtime/optwin.vim, src/ex_docmd.c,
            src/option.h, src/optiondefs.h, src/testdir/runtest.vim,
            src/testdir/test_options.vim

Patch 8.2.3781
Problem:    The option <A HREF="windows.html#window">window</A> <A HREF="usr_41.html#script">script</A> is outdated.
Solution:   Add several changes.
Files:      runtime/optwin.vim

Patch 8.2.3782
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if a function shadows a <A HREF="usr_41.html#script">script</A> variable.
Solution:   Check the function doesn't shadow a variable. (closes #9310)
Files:      src/userfunc.c, src/evalvars.c, src/vim.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.3783
Problem:    Confusing error for using a variable <A HREF="motion.html#as">as</A> a function.
Solution:   If a function is not found but there is a variable, give a more
            useful error. (issue #9310)
Files:      src/eval.c, src/userfunc.c, src/proto/userfunc.pro,
            src/structs.h, src/vim9execute.c, src/testdir/test_functions.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_vim9_func.vim

Patch 8.2.3784
Problem:    The help for <A HREF="options.html#options">options</A> is outdated.
Solution:   Include all the recent changes.
Files:      runtime/doc/options.txt

Patch 8.2.3785
Problem:    Running CI on macOS with gcc is not useful.
Solution:   Only use clang. (Ozaki Kiichi, closes #9326)  Also build with
            normal features.
Files:      .github/workflows/ci.yml

Patch 8.2.3786
Problem:    Test fails because of using <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="syntax.html#syntax">syntax</A> in legacy function.
Solution:   Add &quot;call&quot;.
Files:      src/testdir/test_functions.vim

Patch 8.2.3787
Problem:    No proper <A HREF="change.html#formatting">formatting</A> of a C line comment after a statement.
Solution:   Find the start of the line comment, insert the comment leader and
            indent the comment properly.
Files:      src/change.c, src/proto/change.pro, src/search.c,
            src/proto/search.pro, src/cindent.c, src/edit.c, src/normal.c,
            src/textformat.c, src/testdir/test_textformat.vim,
            src/testdir/test_cindent.vim

Patch 8.2.3788
Problem:    Lambda for option that is a function may be garbage collected.
Solution:   Set a reference in the funcref. (Yegappan Lakshmanan,
            closes #9330)
Files:      src/eval.c, src/evalbuffer.c, src/evalvars.c, src/gui_xim.c,
            src/insexpand.c, src/ops.c, src/proto/eval.pro,
            src/proto/gui_xim.pro, src/proto/insexpand.pro, src/proto/ops.pro,
            src/proto/tag.pro, src/quickfix.c, src/tag.c,
            src/testdir/test_iminsert.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_normal.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_tagfunc.vim

Patch 8.2.3789
Problem:    Test_window_minimal_size can fail on a slow machine.
Solution:   Do not rely on <A HREF="builtin.html#timers">timers</A> firing at the expected time. (Ozaki Kiichi,
            closes #9335)
Files:      src/testdir/test_window_cmd.vim

Patch 8.2.3790
Problem:    Test for <A HREF="terminal.html#term_gettitle()">term_gettitle()</A> fails in some environments.
Solution:   Make the digits after &quot;VIM&quot; optional. (Kenta Sato, closes #9334)
Files:      src/testdir/test_terminal2.vim

Patch 8.2.3791
Problem:    Build error with <A HREF="various.html#+cindent">+cindent</A> but without <A HREF="various.html#+smartindent">+smartindent</A>.
Solution:   Move declaration of &quot;do_cindent&quot;. (John Marriott)
Files:      src/change.c

Patch 8.2.3792
Problem:    Setting *func <A HREF="options.html#options">options</A> insufficiently tested.
Solution:   Improve tests. (Yegappan Lakshmanan, closes #9337)
Files:      src/testdir/test_iminsert.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_normal.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_tagfunc.vim

Patch 8.2.3793
Problem:    Using &quot;g:Func&quot; <A HREF="motion.html#as">as</A> a funcref does not work in <A HREF="usr_41.html#script">script</A> context
            because &quot;<A HREF="eval.html#g:">g:</A>&quot; is dropped.
Solution:   Keep &quot;<A HREF="eval.html#g:">g:</A>&quot; in the name.  Also add parenthesis to avoid confusing
            <A HREF="motion.html#operator">operator</A> precedence. (closes #9336)
Files:      src/evalvars.c, src/testdir/test_vim9_func.vim

Patch 8.2.3794
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot find <A HREF="map.html#script-local">script-local</A> func using &quot;s:&quot;. (Yegappan
            Lakshmanan)
Solution:   Skip the &quot;s:&quot;.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3795
Problem:    Too many #ifdefs.
Solution:   Graduate the <A HREF="motion.html#jumplist">jumplist</A> feature.
Files:      runtime/doc/various.txt, runtime/doc/motion.txt, src/feature.h,
            src/buffer.c, src/change.c, src/evalfunc.c, src/ex_docmd.c,
            src/mark.c, src/normal.c, src/undo.c, src/version.c,
            src/viminfo.c, src/window.c, src/structs.h,
            src/testdir/test_changelist.vim, src/testdir/test_jumplist.vim,
            src/testdir/test_normal.vim

Patch 8.2.3796
Problem:    The funcexe_T struct members are not named consistently.
Solution:   Prefix &quot;fe_&quot; to all the members.
Files:      src/structs.h, src/eval.c, src/list.c, src/regexp.c,
            src/terminal.c, src/userfunc.c, src/vim9execute.c

Patch 8.2.3797
Problem:    No good reason to limit the message <A HREF="cmdline.html#history">history</A> in the tiny version.
Solution:   Always use 200.
Files:      runtime/doc/message.txt, src/feature.h

Patch 8.2.3798
Problem:    A <A HREF="vim9.html#:def">:def</A> callback function postpones an error message.
Solution:   Display the error after calling the function. (closes #9340)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim,
            src/testdir/dumps/Test_opfunc_error.dump

Patch 8.2.3799 (after 8.2.3798)
Problem:    Edit test hangs or fails.
Solution:   Do not <A HREF="eval.html#rethrow">rethrow</A> an exception when inside try/catch.
Files:      src/userfunc.c

Patch 8.2.3800
Problem:    When cross compiling the output of &quot;uname&quot; cannot be set. (Ben
            Reeves)
Solution:   Use cache <A HREF="eval.html#variables">variables</A>. (closes #9338)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.3801
Problem:    If a <A HREF="terminal.html#terminal">terminal</A> shows in two <A HREF="windows.html#windows">windows</A>, only one is redrawn.
Solution:   Reset the dirty row range only after redrawing all <A HREF="windows.html#windows">windows</A>.
            (closes #9341)
Files:      src/terminal.c, src/proto/terminal.pro, src/drawscreen.c,
            src/testdir/test_terminal.vim

Patch 8.2.3802
Problem:    Terminal in two <A HREF="windows.html#windows">windows</A> test fails on some systems.
Solution:   Wait a bit between commands.
Files:      src/testdir/test_terminal.vim

Patch 8.2.3803
Problem:    Crash when <A HREF="options.html#'writedelay'">'writedelay'</A> is set and using a <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> to
            execute a shell command.
Solution:   Check that &quot;tl_vterm&quot; isn't NULL. (closes #9346)
Files:      src/terminal.c

Patch 8.2.3804
Problem:    Script context not set when <A HREF="uganda.html#copying">copying</A> <A HREF="options.html#'swf'">'swf'</A> and <A HREF="options.html#'ts'">'ts'</A>.
Solution:   Use COPY_OPT_SCTX with the right argument. (closes #9347)
Files:      src/option.c

Patch 8.2.3805
Problem:    i3config files are not recognized.
Solution:   Add patterns to match i3config files. (Quentin Hibon,
            closes #7969)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3806
Problem:    Terminal focus test fails sometimes.
Solution:   Run the test function before others.
Files:      src/testdir/test_terminal.vim

Patch 8.2.3807
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can call import with <A HREF="pattern.html#star">star</A> directly.
Solution:   Check that the import used <A HREF="pattern.html#star">star</A>.
Files:      src/userfunc.c, src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.3808
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: obsolete TODO items
Solution:   Remove the comments.
Files:      src/vim9execute.c

Patch 8.2.3809
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when garbage collecting a nested <A HREF="builtin.html#partial">partial</A>. (Virginia
            Senioria)
Solution:   Set references in all the funcstacks. (closes #9348)
Files:      src/vim9execute.c, src/proto/vim9execute.pro, src/structs.h,
            src/eval.c, src/testdir/test_vim9_func.vim

Patch 8.2.3810
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expr4">expr4</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do not give an error for a missing function name when skipping.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3811
Problem:    The opfunc error test fails on a slow machine.
Solution:   Use WaitForAssert().
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.3812
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: leaking memory in numbered function test.
Solution:   Skip &quot;<A HREF="eval.html#g:">g:</A>&quot; when checking for numbered function.  Clean up after
            <A HREF="message.html#errors">errors</A> properly.
Files:      src/userfunc.c

Patch 8.2.3813
Problem:    confusing error when using <A HREF="quickfix.html#:cc">:cc</A> without error <A HREF="eval.html#list">list</A>. (Gary Johnson)
Solution:   Give the &quot;no errors&quot; error.
Files:      src/ex_docmd.c, src/testdir/test_quickfix.vim

Patch 8.2.3814
Problem:    .csx files and .sln files are not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> patterns. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3815
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot have a multi-line <A HREF="eval.html#dict">dict</A> inside a block.
Solution:   Do not split the command at a line break, handle NL characters
            <A HREF="motion.html#as">as</A> white space.
Files:      src/ex_docmd.c, src/charset.c, src/proto/charset.pro,
            src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3816
Problem:    Compiler warning for possible loss of data on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add type cast. (Mike Williams, closes #9349)
Files:      src/userfunc.c

Patch 8.2.3817 (after 8.2.3815)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Not using NL <A HREF="motion.html#as">as</A> command end does not work for <A HREF="autocmd.html#:autocmd">:autocmd</A>.
Solution:   Only ignore NL for commands with an <A HREF="eval.html#expression">expression</A> argument.
Files:      src/ex_cmds.h, src/ex_docmd.c, src/testdir/test_usercommands.vim

Patch 8.2.3818
Problem:    Cannot <A HREF="change.html#filter">filter</A> or map characters in a <A HREF="eval.html#string">string</A>.
Solution:   Make <A HREF="builtin.html#filter()">filter()</A> and <A HREF="builtin.html#map()">map()</A> work on a <A HREF="eval.html#string">string</A>. (Naruhiko Nishino,
            closes #9327)
Files:      runtime/doc/eval.txt, src/errors.h, src/list.c,
            src/testdir/test_filter_map.vim

Patch 8.2.3819 (after 8.2.3818)
Problem:    Test fails because error message changed.
Solution:   Update screendumps.
Files:      src/testdir/dumps/Test_popupwin_three_errors_1.dump,
            src/testdir/dumps/Test_popupwin_three_errors_2.dump

Patch 8.2.3820
Problem:    &quot;vrc&quot; does not replace composing characters, while &quot;rc&quot; does.
Solution:   Check the byte length including composing characters.
            (closes #9351)
Files:      src/ops.c, src/testdir/test_visual.vim

Patch 8.2.3821
Problem:    ASAN test run fails.
Solution:   Use asan_symbolize-13 instead of asan_symbolize-11.
Files:      .github/workflows/ci.yml

Patch 8.2.3822
Problem:    Leaking memory in <A HREF="builtin.html#map()">map()</A> and <A HREF="builtin.html#filter()">filter()</A>, cannot use a <A HREF="eval.html#string">string</A> argument
            in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Fix the leak, adjust the argument check, also run the tests <A HREF="motion.html#as">as</A>
            <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (Yegappan Lakshmanan, closes #9354)
Files:      src/errors.h, src/evalfunc.c, src/list.c, src/proto/typval.pro,
            src/testdir/test_filter_map.vim,
            src/testdir/test_vim9_builtin.vim, src/typval.c

Patch 8.2.3823
Problem:    Test for visual replace is in wrong function.
Solution:   Move <A HREF="motion.html#it">it</A> to another function.
Files:      src/testdir/test_visual.vim

Patch 8.2.3824
Problem:    No ASAN support for MSVC.
Solution:   Add ASAN support and fix a couple of uncovered problems. (Yegappan
            Lakshmanan, closes #9357)
Files:      src/Make_mvc.mak, src/findfile.c, src/os_mswin.c,
            src/testdir/test_fnamemodify.vim

Patch 8.2.3825
Problem:    Various comments could be improved.
Solution:   Improve the comments.
Files:      src/getchar.c, src/mbyte.c, src/regexp_nfa.c,
            src/testdir/test_edit.vim, src/gui_motif.c

Patch 8.2.3826
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using &quot;g:Func&quot; <A HREF="motion.html#as">as</A> a funcref does not work in a <A HREF="vim9.html#:def">:def</A>
            function.
Solution:   Include &quot;<A HREF="eval.html#g:">g:</A>&quot; in the function name. (closes #9336)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3827
Problem:    Huntr badge does not really fit in the <A HREF="eval.html#list">list</A>.
Solution:   Move the link to Huntr to the issue <A HREF="autocmd.html#template">template</A>.
Files:      Filelist, .github/ISSUE_TEMPLATE/bug_report.yml, README.md

Patch 8.2.3828
Problem:    when opening a <A HREF="terminal.html#terminal">terminal</A> from a <A HREF="builtin.html#timer">timer</A> the first typed character
            is lost. (Virginia Senioria)
Solution:   When opening a <A HREF="terminal.html#terminal">terminal</A> while waiting for a character put K_IGNORE
            in the input buffer.
Files:      src/terminal.c, src/edit.c, src/testdir/test_terminal.vim

Patch 8.2.3829
Problem:    No error when setting a func option to a <A HREF="map.html#script-local">script-local</A> function.
Solution:   Give an error if the name starts with &quot;s:&quot;. (closes #9358)
Files:      src/option.c, src/testdir/test_tagfunc.vim,
            src/testdir/dumps/Test_set_tagfunc_on_cmdline.dump

Patch 8.2.3830
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/globals.h, src/errors.h, src/buffer.c, src/dict.c, src/diff.c,
            src/digraph.c, src/eval.c, src/evalfunc.c, src/evalvars.c,
            src/misc2.c, src/quickfix.c, src/typval.c, src/ui.c,
            src/userfunc.c, src/vim9compile.c, src/vim9execute.c,
            src/vim9type.c, src/window.c

Patch 8.2.3831
Problem:    Opfunc test fails when missing feature changes function name.
            (Dominique Pellé)
Solution:   Check the relevant screen line instead of using a screendump.
            (closes #9360)
Files:      src/testdir/test_vim9_func.vim,
            src/testdir/dumps/Test_opfunc_error.dump

Patch 8.2.3832 (after 8.2.3830)
Problem:    Test fails because of changed error message.
Solution:   Adjust the expected error message.
Files:      src/testdir/test_vimscript.vim

Patch 8.2.3833
Problem:    Error from <A HREF="terminal.html#term_start()">term_start()</A> not caught by try/catch.
Solution:   save and restore did_emsg when applying <A HREF="autocmd.html#autocommands">autocommands</A>. (Ozaki
            Kiichi, closes #9361)
Files:      src/autocmd.c, src/testdir/test_terminal3.vim

Patch 8.2.3834
Problem:    Test_out_cb often fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Increase the timeout with every retry.
Files:      src/testdir/test_channel.vim

Patch 8.2.3835
Problem:    The <A HREF="vim9.html#inline-function">inline-function</A> example does not work.
Solution:   Drop &quot;<A HREF="eval.html#:let">:let</A>&quot;.  Add EX_EXPR_ARG to CMD_var. (issue #9352)
Files:      runtime/doc/vim9.txt, src/ex_cmds.h,
            src/testdir/test_vim9_expr.vim

Patch 8.2.3836
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: comment after <A HREF="eval.html#expression">expression</A> not skipped to find NL.
Solution:   After evaluating an <A HREF="eval.html#expression">expression</A> look for a newline after a #
            comment.
Files:      src/eval.c

Patch 8.2.3837
Problem:    <A HREF="os_qnx.html#QNX">QNX</A>: crash when compiled with <A HREF="gui.html#GUI">GUI</A> but using <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Check gui.in_use is set. (Hirohito Higashi, closes #9363)
Files:      src/autocmd.c

Patch 8.2.3838
Problem:    Cannot use <A HREF="map.html#script-local">script-local</A> function for setting *func <A HREF="options.html#options">options</A>.
Solution:   Use the <A HREF="usr_41.html#script">script</A> context. (Yegappan Lakshmanan, closes #9362)
Files:      src/option.c, src/testdir/dumps/Test_set_tagfunc_on_cmdline.dump,
            src/testdir/test_ins_complete.vim, src/testdir/test_normal.vim,
            src/testdir/test_quickfix.vim, src/testdir/test_tagfunc.vim

Patch 8.2.3839
Problem:    Using \z() with \z1 not tested for <A HREF="syntax.html#syntax">syntax</A> highlighting.
Solution:   Add a test. (Dominique Pellé, closes #9365)
Files:      src/testdir/test_syntax.vim

Patch 8.2.3840
Problem:    Useless test for negative index in check <A HREF="eval.html#functions">functions</A>.
Solution:   Remove the test for negative index. (Naruhiko Nishino,
            closes #9364)
Files:      src/typval.c

Patch 8.2.3841
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: outdated TODO items, disabled tests that work.
Solution:   Remove TODO items, run tests that work now.  Check that a <A HREF="eval.html#dict">dict</A>
            item isn't locked.
Files:      src/vim9execute.c, src/evalvars.c, src/errors.h, src/globals.h,
            src/testdir/test_listdict.vim, src/testdir/test_vim9_assign.vim

Patch 8.2.3842
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can change locked <A HREF="eval.html#list">list</A> and <A HREF="eval.html#list">list</A> items.
Solution:   Check that a <A HREF="eval.html#list">list</A> and <A HREF="eval.html#list">list</A> item isn't locked.
Files:      src/vim9execute.c, src/testdir/test_listdict.vim

Patch 8.2.3843
Problem:    Dep3patch files are not recognized.
Solution:   Recognize dep3patch files by their location and content. (James
            McCoy, closes #9367)
Files:      runtime/autoload/dist/ft.vim, runtime/filetype.vim,
            src/testdir/test_filetype.vim

Patch 8.2.3844
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no type error if assigning a value with type func(number) to
            a variable of type func(string).
Solution:   Use check_type_maybe(): return MAYBE if a runtime type check is
            useful.  (issue #8492)
Files:      src/vim9type.c, src/proto/vim9type.pro, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3845
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test fails when the <A HREF="channel.html#channel">channel</A> feature is missing.
Solution:   Check for the <A HREF="channel.html#channel">channel</A> feature. (Dominique Pellé, closes #9368)
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.3846
Problem:    No error when using <A HREF="intro.html#control">control</A> character for <A HREF="options.html#'lcs'">'lcs'</A> or <A HREF="options.html#'fcs'">'fcs'</A>.
Solution:   Use char2cells() to check the width. (closes #9369)
Files:      src/screen.c, src/testdir/test_display.vim,
            src/testdir/test_listchars.vim

Patch 8.2.3847
Problem:    Illegal memory access when using a <A HREF="eval.html#lambda">lambda</A> with an error.
Solution:   Avoid skipping over the NUL after a <A HREF="eval.html#string">string</A>.
Files:      src/eval.c, src/testdir/test_lambda.vim

Patch 8.2.3848
Problem:    Cannot use <A HREF="builtin.html#reduce()">reduce()</A> for a <A HREF="eval.html#string">string</A>.
Solution:   Make <A HREF="builtin.html#reduce()">reduce()</A> work with a <A HREF="eval.html#string">string</A>. (Naruhiko Nishino, closes #9366)
Files:      runtime/doc/eval.txt, src/errors.h, src/evalfunc.c, src/list.c,
            src/typval.c, src/proto/typval.pro, src/testdir/test_listdict.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3849
Problem:    Functions implementing reduce and map are too long.
Solution:   Use a function for each type of value.  Add a few more test cases
            and add to the help. (Yegappan Lakshmanan, closes #9370)
Files:      runtime/doc/eval.txt, src/list.c, src/testdir/test_listdict.vim

Patch 8.2.3850
Problem:    Illegal memory access when displaying a <A HREF="builtin.html#partial">partial</A>.
Solution:   Terminate the <A HREF="eval.html#string">string</A> with a NUL. (closes #9371)
Files:      src/eval.c, src/testdir/test_messages.vim

Patch 8.2.3851
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: overhead when comparing <A HREF="eval.html#string">string</A>, <A HREF="eval.html#dict">dict</A> or function.
Solution:   Call the intended compare function directly.  Refactor to avoid
            duplicated code.
Files:      src/vim9execute.c, src/typval.c, src/proto/typval.pro

Patch 8.2.3852
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough tests.
Solution:   Also run existing tests for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.  Make <A HREF="message.html#errors">errors</A> more
            consistent.
Files:      src/testdir/test_listdict.vim, src/eval.c, src/vim9compile.c,
            src/errors.h

Patch 8.2.3853
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough tests.
Solution:   Run more existing tests for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/testdir/test_listdict.vim

Patch 8.2.3854
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: inconsistent arguments for test <A HREF="eval.html#functions">functions</A>.
Solution:   When <A HREF="vim9.html#:def">:def</A> function and <A HREF="usr_41.html#script">script</A> have different arguments use a <A HREF="eval.html#list">list</A>
            with two items instead of a separate function.
Files:      src/testdir/vim9.vim, src/testdir/test_execute_func.vim,
            src/testdir/test_float_func.vim, src/testdir/test_functions.vim,
            src/testdir/test_glob2regpat.vim, src/testdir/test_listdict.vim,
            src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.3855
Problem:    Illegal memory access when displaying a <A HREF="eval.html#blob">blob</A>.
Solution:   Append a NUL at the end. (Yegappan Lakshmanan, closes #9372)
Files:      src/blob.c, src/regexp_nfa.c, src/testdir/test_blob.vim,
            src/testdir/test_messages.vim

Patch 8.2.3856
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough tests.
Solution:   Run more <A HREF="eval.html#expression">expression</A> tests also with <A HREF="vim9.html#Vim9">Vim9</A>. Fix an uncovered
            problem.
Files:      src/vim9compile.c, src/testdir/test_expr.vim, src/testdir/vim9.vim

Patch 8.2.3857
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: inconsistent error for using <A HREF="builtin.html#function()">function()</A>.
Solution:   Use a runtime type check for the result of <A HREF="builtin.html#function()">function()</A>.
            (closes #8492)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3858
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough tests.
Solution:   Add tests for :try/:catch and <A HREF="various.html#:redir">:redir</A>. Add missing type check.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.3859
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code lines not tested.
Solution:   Add a few specific tests.
Files:      src/vim9compile.c, src/testdir/test_vim9_cmd.vim, src/errors.h,
            src/testdir/test_vim9_script.vim

Patch 8.2.3860
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: codecov struggles with the file size.
Solution:   Split vim9compile.c into four files.
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/vim9instr.c,
            src/proto/vim9instr.pro, src/vim9expr.c, src/proto/vim9expr.pro,
            src/vim9cmds.c, src/proto/vim9cmds.pro, src/vim9.h,
            src/vim9execute.c, src/vim9script.c, src/proto.h,
            src/Makefile, src/Make_ami.mak, src/Make_cyg_ming.mak,
            src/Make_mvc.mak, src/Make_vms.mms

Patch 8.2.3861
Problem:    <A HREF="eval.html#List">List</A> of distributed files is outdated.
Solution:   Add new files.
Files:      Filelist

Patch 8.2.3862
Problem:    Crash on exit with EXITFREE and using <A HREF="builtin.html#win_execute()">win_execute()</A>.
Solution:   Also save and restore tp_topframe. (issue #9374)
Files:      src/evalwindow.c, src/testdir/test_execute_func.vim

Patch 8.2.3863 (after 8.2.3860)
Problem:    Various build flags accidentally enabled.
Solution:   Revert several lines in Makefile.
Files:      src/Makefile

Patch 8.2.3864
Problem:    Cannot disable requesting key codes from xterm.
Solution:   Add the <A HREF="options.html#'xtermcodes'">'xtermcodes'</A> option, default on.
Files:      runtime/doc/options.txt, runtime/doc/term.txt, src/option.h,
            src/optiondefs.h, src/term.c, runtime/optwin.vim

Patch 8.2.3865
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiler complains about using &quot;try&quot; <A HREF="motion.html#as">as</A> a struct member.
Solution:   Rename &quot;try&quot; to &quot;tryref&quot;.
Files:      src/vim9.h, src/vim9cmds.c, src/vim9execute.c, src/vim9instr.c

Patch 8.2.3866
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type checking global <A HREF="eval.html#variables">variables</A> is inconsistent.
Solution:   Use the &quot;unknown&quot; type in more places.
Files:      src/globals.h, src/vim9expr.c, src/vim9instr.c, src/vim9cmds.c,
            src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3867
Problem:    Implementation of some <A HREF="eval.html#list">list</A> <A HREF="eval.html#functions">functions</A> too complicated.
Solution:   Refactor do_sort_uniq(), f_count() and <A HREF="builtin.html#extend()">extend()</A> (Yegappan
            Lakshmanan, closes #9378)
Files:      src/list.c

Patch 8.2.3868 (after 8.2.3866)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function test fails.
Solution:   Add missing changes.  Add test for earlier patch.
Files:      src/vim9type.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.3869
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type checking for &quot;any&quot; is inconsistent.
Solution:   Always use a runtime type check for using &quot;any&quot; for a more
            specific type.
Files:      src/vim9type.c, src/vim9compile.c, src/vim9expr.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.3870
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: wrong working directory when opening two files with
            right-click context menu. (Gabriel Dupras)
Solution:   Use the working directory and pass <A HREF="motion.html#it">it</A> on to the process creation.
            (Nir Lichtman, closes #9382, closes #8874)
Files:      src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h

Patch 8.2.3871
Problem:    List.c contains code for <A HREF="eval.html#dict">dict</A> and <A HREF="eval.html#blob">blob</A>.
Solution:   Refactor to put code where <A HREF="motion.html#it">it</A> belongs. (Yegappan Lakshmanan,
            closes #9386)
Files:      src/blob.c, src/dict.c, src/list.c, src/proto/blob.pro,
            src/proto/dict.pro, src/proto/list.pro, src/proto/strings.pro,
            src/strings.c, src/structs.h, src/testdir/test_filter_map.vim,
            src/testdir/test_listdict.vim, src/testdir/test_sort.vim

Patch 8.2.3872
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#finddir()">finddir()</A> and <A HREF="builtin.html#uniq()">uniq()</A> return types can be more specific.
Solution:   Adjust the return type.
Files:      src/evalfunc.c, src/testdir/vim9.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3873
Problem:    go.mod files are not recognized.
Solution:   Check for the file name. (closes #9380)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3874
Problem:    Cannot highlight the number column for a sign.
Solution:   Add the &quot;numhl&quot; argument. (James McCoy, closes #9381)
Files:      runtime/doc/options.txt, runtime/doc/sign.txt, src/drawline.c,
            src/popupwin.c, src/proto/sign.pro, src/sign.c, src/structs.h,
            src/testdir/test_signs.vim

Patch 8.2.3875
Problem:    gcc complains about buffer overrun.
Solution:   Use mch_memmove() instead of STRCPY(). (John Marriott)
Files:      src/dict.c

Patch 8.2.3876
Problem:    <A HREF="options.html#'cindent'">'cindent'</A> does not recognize inline namespace.
Solution:   Skip over &quot;inline&quot; to find &quot;namespace&quot;. (closes #9383)
Files:      src/cindent.c, src/testdir/test_cindent.vim

Patch 8.2.3877
Problem:    Function does not abort after a type error in compare
Solution:   Check getting number fails. (closes #9384)
Files:      src/typval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.3878
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugger tries to read more lines than there are.
Solution:   Check the number of lines. (closes #9394)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.3879
Problem:    <A HREF="builtin.html#getreg()">getreg()</A> and <A HREF="builtin.html#getregtype()">getregtype()</A> contain dead code.
Solution:   Remove the needless check. (closes #9392)  Also refactor to put
            common code in a shared function.
Files:      src/evalfunc.c

Patch 8.2.3880
Problem:    Solution <A HREF="change.html#filter">filter</A> files are not recognized.
Solution:   Add <A HREF="pattern.html#pattern">pattern</A> *.slnf and use json. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3881
Problem:    <A HREF="os_qnx.html#QNX">QNX</A>: crash when compiled with <A HREF="gui.html#GUI">GUI</A> but using <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Check the gui.in_use flag. (Hirohito Higashi, closes #9391)
Files:      src/main.c

Patch 8.2.3882 (after 8.2.3879)
Problem:    More duplicated code in f_getreginfo().
Solution:   Also use getreg_get_regname(). (closes #9398)
Files:      src/evalfunc.c

Patch 8.2.3883
Problem:    Crash when switching to other <A HREF="pattern.html#regexp">regexp</A> engine fails.
Solution:   Check for regprog being NULL.
Files:      src/ex_cmds.c

Patch 8.2.3884
Problem:    Crash when clearing the argument <A HREF="eval.html#list">list</A> while using <A HREF="motion.html#it">it</A>.
Solution:   Lock the argument <A HREF="eval.html#list">list</A> for &quot;<A HREF="windows.html#:all">:all</A>&quot;.
Files:      src/arglist.c, src/testdir/test_arglist.vim

Patch 8.2.3885
Problem:    Arglist test fails.
Solution:   Adjust for locking the <A HREF="editing.html#arglist">arglist</A> for &quot;<A HREF="windows.html#:all">:all</A>&quot;.
Files:      src/testdir/test_arglist.vim

Patch 8.2.3886
Problem:    Can define autocmd for every event by using &quot;au!&quot;.
Solution:   Check if a command is present also for &quot;au!&quot;.
Files:      src/autocmd.c, src/testdir/test_autocmd.vim,
            src/testdir/test_arglist.vim

Patch 8.2.3887
Problem:    <A HREF="eval.html#E1135">E1135</A> is used for two different <A HREF="message.html#errors">errors</A>.
Solution:   Renumber one error.
Files:      src/errors.h, src/testdir/test_mapping.vim

Patch 8.2.3888
Problem:    The argument <A HREF="eval.html#list">list</A> may contain duplicates.
Solution:   Add the :argdedeupe command. (Nir Lichtman, closes #6235)
Files:      runtime/doc/editing.txt, runtime/doc/index.txt, src/arglist.c,
            src/ex_cmdidxs.h, src/ex_cmds.h, src/proto/arglist.pro,
            src/testdir/test_arglist.vim

Patch 8.2.3889
Problem:    Duplicate code for translating <A HREF="map.html#script-local">script-local</A> function name.
Solution:   Move the code to get_scriptlocal_funcname(). (Yegappan Lakshmanan,
            closes #9393)
Files:      src/evalfunc.c, src/evalvars.c, src/option.c, src/userfunc.c,
            src/proto/userfunc.pro, src/testdir/test_expr.vim,
            src/testdir/test_normal.vim

Patch 8.2.3890
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type check for using <A HREF="eval.html#v:">v:</A> <A HREF="eval.html#variables">variables</A> is basic.
Solution:   Specify a more precise type.
Files:      src/evalvars.c, src/proto/evalvars.pro, src/vim9instr.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.3891
Problem:    Github CI: workflows may overlap.
Solution:   Cancel previous workflows when starting a new one. (Yegappan
            Lakshmanan, closes #9400)
Files:      .github/workflows/ci.yml, .github/workflows/codeql-analysis.yml

Patch 8.2.3892
Problem:    When <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> is used <A HREF="pattern.html#CTRL-C">CTRL-C</A> is not recognized.
Solution:   Check for <A HREF="change.html#uppercase">uppercase</A> C <A HREF="motion.html#as">as</A> well, fix minimum length.
Files:      src/ui.c

Patch 8.2.3893
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: many local <A HREF="eval.html#variables">variables</A> are initialized with an instruction.
Solution:   Initialize local <A HREF="eval.html#variables">variables</A> to zero to avoid the instructions.
Files:      src/vim9execute.c, src/vim9compile.c, src/vim9instr.c,
            src/proto/vim9instr.pro, src/vim9cmds.c,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3894
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no proper type check for first argument of <A HREF="builtin.html#call()">call()</A>.
Solution:   Add specific type check.
Files:      src/evalfunc.c, src/typval.c, src/proto/typval.pro,
            src/errors.h, src/testdir/test_vim9_builtin.vim

Patch 8.2.3895
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: confusing error when using <A HREF="builtin.html#function()">function()</A> with a number.
Solution:   Check for a function or <A HREF="eval.html#string">string</A> argument.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3896
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for nested function not available later.
Solution:   Add a test.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.3897
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: the second argument of <A HREF="builtin.html#map()">map()</A> and <A HREF="builtin.html#filter()">filter()</A> is not checked at
            compile time.
Solution:   Add more specific type check for the second argument.
Files:      src/evalfunc.c, src/globals.h, src/list.c,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.3898
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not sufficient <A HREF="testing.html#testing">testing</A> for variable <A HREF="starting.html#initialization">initialization</A>.
Solution:   Add another test <A HREF="change.html#case">case</A>.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.3899 (after 8.2.3897)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for <A HREF="builtin.html#map()">map()</A> on <A HREF="eval.html#string">string</A> fails.
Solution:   Expect <A HREF="eval.html#string">string</A> return type.
Files:      src/evalfunc.c

Patch 8.2.3900
Problem:    It is not <A HREF="starting.html#easy">easy</A> to use a <A HREF="map.html#script-local">script-local</A> function for an option.
Solution:   recognize <A HREF="change.html#s">s</A>: and <A HREF="map.html#&lt;SID&gt;">&lt;SID&gt;</A> at the start of the <A HREF="eval.html#expression">expression</A>. (Yegappan
            Lakshmanan, closes #9401)
Files:      runtime/doc/diff.txt, runtime/doc/fold.txt,
            runtime/doc/options.txt, runtime/doc/print.txt, src/optionstr.c,
            src/testdir/test_diffmode.vim, src/testdir/test_edit.vim,
            src/testdir/test_fold.vim, src/testdir/test_gf.vim,
            src/testdir/test_gui.vim, src/testdir/test_hardcopy.vim,
            src/testdir/test_normal.vim

Patch 8.2.3901
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Cannot set <A HREF="options.html#'cpo'">'cpo'</A> in main <A HREF="starting.html#.vimrc">.vimrc</A> if using <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Do not restore <A HREF="options.html#'cpo'">'cpo'</A> at the end of the main <A HREF="starting.html#.vimrc">.vimrc</A>.
Files:      runtime/doc/vim9.txt, runtime/doc/options.txt, src/scriptfile.c,
            src/structs.h, src/testdir/test_vim9_script.vim

Patch 8.2.3902
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: double free with nested <A HREF="vim9.html#:def">:def</A> function.
Solution:   Pass &quot;line_to_free&quot; from compile_def_function() and make sure
            cmdlinep is valid.
Files:      src/vim9compile.c, src/userfunc.c, src/proto/userfunc.pro,
            src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.3903
Problem:    &quot;<A HREF="motion.html#gM">gM</A>&quot; does not <A HREF="intro.html#count">count</A> tabs <A HREF="motion.html#as">as</A> expected.
Solution:   Use linetabsize() instead of mb_string2cells(). (closes #9409)
Files:      src/normal.c, src/testdir/test_normal.vim

Patch 8.2.3904
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: skip <A HREF="eval.html#expression">expression</A> type is not checked at compile time.
Solution:   Add argument type checks.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3905
Problem:    Dockerfile using prefix name not recognized.
Solution:   Recognize Dockerfile.*. (closes #9410)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3906
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> help still contains &quot;under development&quot; warnings.
Solution:   Remove the explicit warning.
Files:      runtime/doc/vim9.txt

Patch 8.2.3907
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move error <A HREF="message.html#messages">messages</A> to errors.h.  Avoid duplicates.
Files:      src/userfunc.c, src/ex_cmds.c, src/viminfo.c, src/errors.h,
            src/testdir/test_user_func.vim

Patch 8.2.3908
Problem:    Cannot use a <A HREF="map.html#script-local">script-local</A> function for <A HREF="options.html#'foldtext'">'foldtext'</A>.
Solution:   Expand &quot;s:&quot; and &quot;<A HREF="map.html#&lt;SID&gt;">&lt;SID&gt;</A>&quot;. (Yegappan Lakshmanan, closes #9411)
Files:      runtime/doc/fold.txt, src/optionstr.c, src/strings.c,
            src/testdir/test_blob.vim, src/testdir/test_expr.vim,
            src/testdir/test_filter_map.vim, src/testdir/test_fold.vim,
            src/testdir/test_listdict.vim

Patch 8.2.3909
Problem:    Containerfile using prefix name not recognized.
Solution:   Recognize Containerfile.*.
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3910
Problem:    When the compare function of <A HREF="builtin.html#sort()">sort()</A> produces and error then <A HREF="builtin.html#sort()">sort()</A>
            does not abort.
Solution:   Check if did_emsg was incremented.
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3911
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type check for <A HREF="builtin.html#filter()">filter()</A> does not accept unknown.
Solution:   Also accept unknown for the return type. (closes #9413)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3912
Problem:    The ins_complete() function is much too long.
Solution:   Split <A HREF="motion.html#it">it</A> up into multiple <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9414)
Files:      src/insexpand.c

Patch 8.2.3913
Problem:    Help for expressions does not mention <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="syntax.html#syntax">syntax</A>.
Solution:   Add the rules for <A HREF="vim9.html#Vim9">Vim9</A> to the <A HREF="eval.html#expression">expression</A> help.  Rename <A HREF="eval.html#functions">functions</A>
            to match the help.
Files:      runtime/doc/vim9.txt, runtime/doc/eval.txt, src/vim9expr.c

Patch 8.2.3914
Problem:    Various spelling mistakes in comments.
Solution:   Fix the mistakes. (Dominique Pellé, closes #9416)
Files:      src/alloc.c, src/blowfish.c, src/buffer.c, src/cindent.c,
            src/clipboard.c, src/diff.c, src/drawline.c, src/edit.c,
            src/ex_cmds.c, src/ex_docmd.c, src/findfile.c, src/fold.c,
            src/getchar.c, src/gui.c, src/gui_athena.c, src/gui_gtk.c,
            src/gui_motif.c, src/gui_photon.c, src/gui_w32.c, src/gui_xmebw.c,
            src/if_python.c, src/if_python3.c, src/if_xcmdsrv.c, src/main.c,
            src/memline.c, src/menu.c, src/message.c, src/misc1.c, src/move.c,
            src/option.c, src/os_amiga.c, src/os_mac.h, src/os_mac_conv.c,
            src/os_mswin.c, src/os_unix.c, src/os_win32.c, src/os_win32.h,
            src/quickfix.c, src/regexp_nfa.c, src/screen.c, src/scriptfile.c,
            src/spell.c, src/spellfile.c, src/spellsuggest.c, src/strings.c,
            src/term.c, src/terminal.c, src/testdir/test_debugger.vim,
            src/testdir/test_source.vim, src/textformat.c, src/userfunc.c,
            src/vim.h, src/vim9.h, src/vim9cmds.c, src/vim9execute.c,
            src/winclip.c, src/window.c

Patch 8.2.3915
Problem:    illegal memory access when completing with invalid bytes.
Solution:   Avoid going over the end of the completion text.
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.3916
Problem:    No error for passing an invalid line number to <A HREF="builtin.html#append()">append()</A>.
Solution:   In <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> check for a non-negative number. (closes #9417)
Files:      src/evalbuffer.c, src/textprop.c, src/errors.h, src/indent.c,
            src/eval.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3917
Problem:    The <A HREF="eval.html#eval.txt">eval.txt</A> help file is way too big.
Solution:   Move the builtin function details to a separate file.
Files:      runtime/doc/eval.txt, runtime/doc/builtin.txt,
            runtime/doc/Makefile, runtime/doc/help.txt, runtime/doc/remote.txt

Patch 8.2.3918 (after 8.2.3916)
Problem:    Function <A HREF="eval.html#list">list</A> test fails.
Solution:   Adjust the test for the new location of the function <A HREF="eval.html#list">list</A>.
Files:      src/testdir/test_function_lists.vim

Patch 8.2.3919
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong argument for <A HREF="builtin.html#append()">append()</A> results in two <A HREF="message.html#errors">errors</A>.
Solution:   Check did_emsg.  Also for <A HREF="builtin.html#setline()">setline()</A>.  Adjust the help for
            <A HREF="builtin.html#appendbufline()">appendbufline()</A>.
Files:      runtime/doc/builtin.txt, src/evalbuffer.c, src/typval.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3920
Problem:    Restoring directory after using another <A HREF="windows.html#window">window</A> is inefficient.
Solution:   Only restore the directory for <A HREF="builtin.html#win_execute()">win_execute()</A>.  Apply <A HREF="options.html#'autochdir'">'autochdir'</A>
            only when needed.
Files:      src/evalwindow.c, src/testdir/test_autochdir.vim

Patch 8.2.3921
Problem:    The way xdiff is used is inefficient.
Solution:   Use hunk_func instead of the out_line callback. (Lewis Russell,
            closes #9344)
Files:      src/diff.c

Patch 8.2.3922
Problem:    Cannot build with dynamic <A HREF="if_ruby.html#Ruby">Ruby</A> 3.1.
Solution:   Add &quot;_EXTRA&quot; <A HREF="eval.html#variables">variables</A> for CI.  Add missing <A HREF="eval.html#functions">functions</A>. (Ozaki
            Kiichi, closes #9420)
Files:      ci/config.mk.clang-12.sed, ci/config.mk.clang.sed,
            ci/config.mk.sed, src/Makefile, src/auto/configure,
            src/config.mk.in, src/configure.ac, src/if_ruby.c, src/vim.h

Patch 8.2.3923
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: double free if a nested function has a line break in the
            argument <A HREF="eval.html#list">list</A>.
Solution:   Set cmdlinep when freeing the previous line.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.3924
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if something follows <A HREF="vim9.html#:enddef">:enddef</A> in a nested function.
Solution:   Give an error.  Move common code to a function.
Files:      src/userfunc.c, src/vim9compile.c, src/errors.h,
            src/testdir/test_vim9_func.vim

Patch 8.2.3925
Problem:    Diff mode confused by NUL bytes.
Solution:   Handle NUL bytes differently. (Christian Brabandt, closes #9421,
            closes #9418)
Files:      src/diff.c, src/testdir/test_diffmode.vim,
            src/testdir/dumps/Test_diff_bin_01.dump,
            src/testdir/dumps/Test_diff_bin_02.dump,
            src/testdir/dumps/Test_diff_bin_03.dump,
            src/testdir/dumps/Test_diff_bin_04.dump

Patch 8.2.3926 (after 8.2.3920)
Problem:    Build failure without the <A HREF="options.html#'autochdir'">'autochdir'</A> option. (John Marriott)
Solution:   Add #ifdefs.
Files:      src/evalwindow.c

Patch 8.2.3927
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: double free when using <A HREF="eval.html#lambda">lambda</A>.
Solution:   Don't free both cmdline and line_to_free.
Files:      src/userfunc.c

Patch 8.2.3928
Problem:    Heredoc test fails.
Solution:   Correct order of function arguments.
Files:      src/userfunc.c

Patch 8.2.3929
Problem:    Using uninitialized variable.
Solution:   Set the option flags to zero for a <A HREF="terminal.html#terminal">terminal</A> option.
Files:      src/option.c

Patch 8.2.3930
Problem:    <A HREF="builtin.html#getcmdline()">getcmdline()</A> argument has a misleading type.
Solution:   Use the correct type, even though the value is not used.
Files:      src/ex_getln.c, src/proto/ex_getln.pro, src/ex_docmd.c,
            src/normal.c, src/register.c, src/userfunc.c

Patch 8.2.3931
Problem:    Coverity reports a memory leak.
Solution:   Free memory in <A HREF="change.html#case">case</A> of failure.
Files:      src/diff.c

Patch 8.2.3932
Problem:    C line comment not formatted properly.
Solution:   If a line comment follows after &quot;#if&quot; the next line is not the end
            of a <A HREF="motion.html#paragraph">paragraph</A>.
Files:      src/textformat.c, src/testdir/test_textformat.vim

Patch 8.2.3933
Problem:    After &quot;<A HREF="editing.html#:cd">:cd</A>&quot; fails &quot;<A HREF="editing.html#:cd">:cd</A> -&quot; is incorrect.
Solution:   Set the previous directory only after successfully <A HREF="change.html#changing">changing</A>
            directory. (Richard Doty, closes #9419, closes #8983)
Files:      src/ex_docmd.c, src/testdir/test_cd.vim

Patch 8.2.3934
Problem:    Repeating line comment is undesired for &quot;<A HREF="insert.html#O">O</A>&quot; command.
Solution:   Do not copy line comment leader for &quot;<A HREF="insert.html#O">O</A>&quot;. (closes #9426)
Files:      src/change.c, src/testdir/test_textformat.vim

Patch 8.2.3935
Problem:    <A HREF="scroll.html#CTRL-U">CTRL-U</A> in <A HREF="insert.html#Insert">Insert</A> mode does not fix the indent.
Solution:   Fix the indent when <A HREF="options.html#'cindent'">'cindent'</A> is set.
Files:      src/edit.c, src/testdir/test_textformat.vim

Patch 8.2.3936
Problem:    No proper test for maintaining change <A HREF="motion.html#mark">mark</A> in <A HREF="diff.html#diff">diff</A> mode.
Solution:   Run the test with internal and external <A HREF="diff.html#diff">diff</A>. (Sean Dewar,
            closes #9424)
Files:      src/testdir/test_diffmode.vim

Patch 8.2.3937
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion function is too long.
Solution:   Refactor into multiple <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9423)
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.3938
Problem:    Line comment start is also found in a <A HREF="eval.html#string">string</A>.
Solution:   Skip line comments in a <A HREF="eval.html#string">string</A>.
Files:      src/cindent.c, src/proto/cindent.pro, src/search.c,
            src/testdir/test_textformat.vim

Patch 8.2.3939
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: fnamemodify('', '<A HREF="various.html#:p">:p</A>') does not work.
Solution:   Do not consider an empty <A HREF="eval.html#string">string</A> a full path. (Yegappan Lakshmanan,
            closes #9428, closes #9427)
Files:      src/os_mswin.c, src/testdir/test_fnamemodify.vim

Patch 8.2.3940
Problem:    Match highlight disappears when doing incsearch for &quot;:s/pat&quot;.
Solution:   Only use line limit for incsearch highlighting. (closes #9425)
Files:      src/match.c, src/testdir/test_match.vim,
            src/testdir/dumps/Test_match_with_incsearch_1.dump,
            src/testdir/dumps/Test_match_with_incsearch_2.dump

Patch 8.2.3941
Problem:    SIGTSTP is not handled.
Solution:   Handle SIGTSTP like pressing <A HREF="starting.html#CTRL-Z">CTRL-Z</A>. (closes #9422)
Files:      runtime/doc/autocmd.txt, src/ex_docmd.c, src/os_unix.c,
            src/proto/ex_docmd.pro, src/testdir/test_signals.vim

Patch 8.2.3942
Problem:    Coverity reports a possible memory leak.
Solution:   Free the array if allocation fails.
Files:      src/insexpand.c

Patch 8.2.3943
Problem:    Compiler warning from gcc for uninitialized variable.
Solution:   Initialize variable. (closes #9429)
Files:      src/diff.c

Patch 8.2.3944
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion <A HREF="eval.html#functions">functions</A> are too long.
Solution:   Split up into multiple <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9431)
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.3945
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#partial">partial</A> variable argument types are wrong, leading to a
            crash.
Solution:   When adjusting the argument <A HREF="intro.html#count">count</A> also adjust the argument types.
            (closes #9433)
Files:      src/vim9type.c, src/userfunc.c, src/testdir/test_vim9_assign.vim

Patch 8.2.3946
Problem:    When an internal error makes Vim exit the error is not seen.
Solution:   Add the error to the test output.
Files:      src/message.c, src/testdir/runtest.vim

Patch 8.2.3947
Problem:    Unnecessary check for NULL pointer.
Solution:   Remove the check. (closes #9434)
Files:      src/ex_docmd.c

Patch 8.2.3948
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: failure with <A HREF="builtin.html#partial">partial</A> with unknown argument <A HREF="intro.html#count">count</A>.
Solution:   Do not copy argument types if there aren't any.
Files:      src/vim9type.c

Patch 8.2.3949
Problem:    Using freed memory with <A HREF="pattern.html#/\&#37;V">/\&#37;V</A>.
Solution:   Get the line again after getvvcol().
Files:      src/regexp.c, src/testdir/test_regexp_latin.vim

Patch 8.2.3950
Problem:    Going beyond the end of the line with <A HREF="pattern.html#/\&#37;V">/\&#37;V</A>.
Solution:   Check for valid column in getvcol().
Files:      src/charset.c, src/testdir/test_regexp_latin.vim

Patch 8.2.3951
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when text after a nested function.
Solution:   Free the function if text is found after &quot;enddef&quot;.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.3952
Problem:    First line not redrawn when adding lines to an empty buffer.
Solution:   Adjust the argument to appended_lines(). (closes #9439,
            closes #9438)
Files:      src/ex_cmds.c, src/testdir/test_excmd.vim

Patch 8.2.3953
Problem:    <A HREF="insert.html#Insert">Insert</A> completion code is too complicated.
Solution:   More refactoring.  Move function arguments into a struct.
            (Yegappan Lakshmanan, closes #9437)
Files:      src/insexpand.c

Patch 8.2.3954
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for shadowing if <A HREF="usr_41.html#script">script</A> var is declared later.
Solution:   Check argument names when compiling a function.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_assign.vim

Patch 8.2.3955
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#errors">errors</A> to errors.h.
Files:      src/errors.h, src/globals.h, src/debugger.c, src/ex_cmds.c,
            src/help.c, src/sign.c, src/spellfile.c

Patch 8.2.3956
Problem:    Duplicate assignment.
Solution:   Remove the second assignment. (closes #9442)
Files:      src/evalfunc.c

Patch 8.2.3957
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#errors">errors</A> to errors.h.
Files:      src/errors.h, src/globals.h, src/arglist.c, src/bufwrite.c,
            src/evalvars.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c,
            src/help.c, src/scriptfile.c, src/usercmd.c, src/userfunc.c,
            src/vim9cmds.c, src/vim9compile.c

Patch 8.2.3958
Problem:    Build failure compiling xxd with &quot;-std=c2x&quot;.
Solution:   define _XOPEN_SOURCE. (Yegappan Lakshmanan, closes #9444)
Files:      src/xxd/xxd.c

Patch 8.2.3959
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#errors">errors</A> to errors.h.
Files:      src/errors.h, src/autocmd.c, src/bufwrite.c, src/evalvars.c,
            src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c, src/fileio.c,
            src/getchar.c, src/gui.c, src/locale.c, src/map.c

Patch 8.2.3960
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#errors">errors</A> to errors.h.
Files:      src/errors.h, src/alloc.c, src/arglist.c, src/autocmd.c,
            src/blob.c, src/blowfish.c, src/buffer.c, src/bufwrite.c

Patch 8.2.3961
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#errors">errors</A> to errors.h.
Files:      src/errors.h, src/globals.h, src/arglist.c, src/autocmd.c,
            src/blob.c, src/bufwrite.c, src/channel.c, src/clipboard.c,
            src/cmdexpand.c, src/debugger.c, src/dict.c, src/eval.c,
            src/evalfunc.c, src/evalvars.c, src/evalwindow.c, src/ex_cmds.c,
            src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c, src/fileio.c,
            src/filepath.c, src/gui_gtk_x11.c, src/gui_haiku.cc,
            src/gui_photon.c, src/gui_w32.c, src/gui_x11.c, src/highlight.c,
            src/indent.c, src/insexpand.c, src/job.c, src/json.c, src/list.c,
            src/map.c, src/mark.c, src/match.c, src/mbyte.c, src/menu.c,
            src/message.c, src/misc2.c, src/ops.c, src/option.c,
            src/optionstr.c, src/popupwin.c, src/quickfix.c, src/screen.c,
            src/scriptfile.c, src/search.c, src/sign.c, src/spell.c,
            src/spellfile.c, src/strings.c, src/syntax.c, src/terminal.c,
            src/testing.c, src/textprop.c, src/time.c, src/userfunc.c,
            src/vim9cmds.c, src/vim9execute.c, src/vim9script.c, src/window.c

Patch 8.2.3962 (after 8.2.3961)
Problem:    Build fails for missing error message.
Solution:   Add changes in missed file.
Files:      src/regexp_bt.c

Patch 8.2.3963
Problem:    Build failure with tiny and small features. (Tony Mechelynck)
Solution:   Adjust #ifdefs.
Files:      src/errors.h, src/message.c

Patch 8.2.3964
Problem:    Some common lisp and scheme files not recognized.
Solution:   Recognize *.asd <A HREF="motion.html#as">as</A> lisp and *.sld <A HREF="motion.html#as">as</A> scheme. (Alex Vear,
            closes #9447)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3965
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no <A HREF="starting.html#easy">easy</A> way to check if <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> is supported.
Solution:   Add has('vim9script').
Files:      runtime/doc/vim9.txt, src/evalfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.3966
Problem:    When using <A HREF="builtin.html#feedkeys()">feedkeys()</A> <A HREF="map.html#abbreviations">abbreviations</A> may be blocked.
Solution:   Reset tb_no_abbr_cnt when running out of characters.
            (closes #9448)
Files:      src/getchar.c, src/testdir/test_feedkeys.vim

Patch 8.2.3967
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#errors">errors</A> to errors.h.
Files:      src/errors.h, src/globals.h, src/feature.h, src/arglist.c,
            src/autocmd.c, src/blob.c, src/bufwrite.c, src/channel.c,
            src/cmdexpand.c, src/dict.c, src/diff.c, src/eval.c,
            src/evalfunc.c, src/evalvars.c, src/ex_cmds.c, src/ex_docmd.c,
            src/fileio.c, src/filepath.c, src/getchar.c, src/gui_gtk_x11.c,
            src/gui_x11.c, src/hardcopy.c, src/help.c, src/highlight.c,
            src/if_cscope.c, src/if_lua.c, src/if_mzsch.c, src/if_perl.xs,
            src/if_python.c, src/if_python3.c, src/if_ruby.c, src/if_tcl.c,
            src/if_xcmdsrv.c, src/indent.c, src/insexpand.c, src/job.c,
            src/list.c, src/main.c, src/map.c, src/match.c, src/mbyte.c,
            src/message.c, src/misc1.c, src/option.c, src/optionstr.c,
            src/os_mswin.c, src/os_unix.c, src/os_win32.c, src/popupwin.c,
            src/profiler.c, src/quickfix.c, src/scriptfile.c, src/search.c,
            src/session.c, src/sign.c, src/spell.c, src/spellfile.c,
            src/spellsuggest.c, src/syntax.c, src/tag.c, src/terminal.c,
            src/testing.c, src/textprop.c, src/typval.c, src/userfunc.c,
            src/vim9execute.c, src/vim9expr.c, src/vim9instr.c,
            src/vim9script.c

Patch 8.2.3968
Problem:    Build failure.
Solution:   Add missing changes.
Files:      src/strings.c, src/vim9compile.c

Patch 8.2.3969
Problem:    Value of MAXCOL not available in Vim <A HREF="usr_41.html#script">script</A>.
Solution:   Add <A HREF="eval.html#v:maxcol">v:maxcol</A>. (Naohiro Ono, closes #9451)
Files:      runtime/doc/builtin.txt, runtime/doc/eval.txt, src/evalvars.c,
            src/testdir/test_cursor_func.vim, src/testdir/test_normal.vim,
            src/testdir/test_put.vim, src/vim.h

Patch 8.2.3970
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more <A HREF="message.html#errors">errors</A> to errors.h.
Files:      src/errors.h, src/globals.h, src/buffer.c, src/bufwrite.c,
            src/clientserver.c, src/cmdhist.c, src/dict.c, src/edit.c,
            src/eval.c, src/evalfunc.c, src/evalvars.c, src/ex_cmds.c,
            src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c, src/gui_w32.c,
            src/gui_x11.c, src/if_xcmdsrv.c, src/insexpand.c, src/json.c,
            src/match.c, src/menu.c, src/option.c, src/optionstr.c,
            src/os_mswin.c, src/quickfix.c, src/regexp_bt.c, src/regexp_nfa.c,
            src/scriptfile.c, src/sign.c, src/spellfile.c, src/undo.c,
            src/userfunc.c, src/vim9cmds.c, src/vim9compile.c,
            src/vim9execute.c, src/vim9expr.c, src/window.c

Patch 8.2.3971
Problem:    Build fails.
Solution:   Use the right error message name.
Files:      src/typval.c

Patch 8.2.3972
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move the last <A HREF="message.html#errors">errors</A> from globals.h to errors.h.
Files:      src/errors.h, src/globals.h, src/eval.c, src/evalfunc.c,
            src/evalvars.c, src/evalwindow.c, src/ex_eval.c, src/list.c,
            src/match.c, src/menu.c, src/popupmenu.c, src/search.c,
            src/vim9cmds.c, src/vim9expr.c

Patch 8.2.3973
Problem:    Tiny build fails.
Solution:   Adjust #ifdefs
Files:      src/errors.h

Patch 8.2.3974
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: LISTAPPEND instruction does not check for a locked <A HREF="eval.html#list">list</A>.
Solution:   Check whether the <A HREF="eval.html#list">list</A> is locked. (closes #9452)
Files:      src/vim9execute.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3975
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/clientserver.c, src/fileio.c, src/gui.c,
            src/gui_beval.c, src/gui_w32.c, src/gui_x11.c, src/if_cscope.c,
            src/if_xcmdsrv.c, src/os_mswin.c, src/sign.c, src/viminfo.c,
            src/window.c

Patch 8.2.3976
Problem:    FEARG_LAST is never used. (Dominique Pellé)
Solution:   Remove FEARG_LAST and the related code.
Files:      src/evalfunc.c

Patch 8.2.3977
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/change.c, src/clientserver.c, src/eval.c,
            src/gui_xim.c, src/if_cscope.c, src/if_py_both.h, src/if_python.c,
            src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/main.c,
            src/mark.c, src/match.c, src/memfile.c, src/memline.c,
            src/terminal.c, src/textprop.c, src/userfunc.c

Patch 8.2.3978
Problem:    Build error when using dynamically loaded <A HREF="if_pyth.html#Python">Python</A> 3.
Solution:   Adjust #ifdef.
Files:      src/errors.h

Patch 8.2.3979
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: the feature is not mentioned in the right places.
Solution:   Add <A HREF="various.html#+vim9script">+vim9script</A> to the help and <A HREF="various.html#:version">:version</A> output.
Files:      runtime/doc/builtin.txt, runtime/doc/various.txt, src/version.c

Patch 8.2.3980
Problem:    If <A HREF="options.html#'operatorfunc'">'operatorfunc'</A> invokes an <A HREF="motion.html#operator">operator</A> the remembered <A HREF="visual.html#Visual">Visual</A> mode
            may be changed. (Naohiro Ono)
Solution:   Save and restore the information for redoing the <A HREF="visual.html#Visual">Visual</A> area.
            (closes #9455)
Files:      src/ops.c, src/testdir/test_normal.vim

Patch 8.2.3981
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: debugging a for loop doesn't stop before <A HREF="motion.html#it">it</A> starts.
Solution:   Keep the DEBUG instruction before the <A HREF="eval.html#expression">expression</A> is evaluated.
            (closes #9456)
Files:      src/vim9cmds.c, src/testdir/test_vim9_disassemble.vim

Patch 8.2.3982
Problem:    Some lines of code not covered by tests.
Solution:   Add a few more test cases. (Dominique Pellé, closes #9453)
Files:      src/testdir/test_filter_map.vim, src/testdir/test_highlight.vim,
            src/testdir/test_regexp_latin.vim, src/testdir/test_search.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3983
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/ex_docmd.c, src/fileio.c, src/filepath.c,
            src/findfile.c, src/hardcopy.c, src/memfile.c, src/memline.c,
            src/menu.c, src/normal.c, src/regexp_bt.c

Patch 8.2.3984 (after 8.2.3981)
Problem:    Debugger test fails.
Solution:   Adjust the test for modified debugging of a for loop.
Files:      src/testdir/test_debugger.vim

Patch 8.2.3985
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/findfile.c, src/fold.c, src/hardcopy.c,
            src/highlight.c, src/map.c, src/message.c, src/normal.c,
            src/option.c, src/os_amiga.c, src/os_unix.c, src/os_win32.c,
            src/quickfix.c, src/regexp.c, src/register.c, src/search.c,
            src/syntax.c, src/tag.c, src/term.c, src/typval.c, src/undo.c,
            src/window.c

Patch 8.2.3986
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/evalvars.c, src/ex_cmds.c, src/ex_docmd.c,
            src/fileio.c, src/fold.c, src/gui_x11.c, src/hardcopy.c,
            src/help.c, src/highlight.c, src/if_cscope.c, src/json.c,
            src/map.c, src/netbeans.c, src/popupwin.c, src/usercmd.c,
            src/userfunc.c

Patch 8.2.3987
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/digraph.c, src/ex_eval.c, src/gui.c,
            src/hardcopy.c, src/if_cscope.c, src/if_tcl.c, src/if_xcmdsrv.c,
            src/mbyte.c, src/misc2.c, src/netbeans.c, src/option.c,
            src/optionstr.c, src/quickfix.c, src/regexp.c, src/tag.c,
            src/term.c, src/viminfo.c

Patch 8.2.3988 (after 8.2.3987)
Problem:    Tiny build fails.
Solution:   Fix misplaced #ifdef.
Files:      src/errors.h

Patch 8.2.3989
Problem:    Some insert completion code is not tested.
Solution:   Add a few tests.  Refactor thesaurus completion. (Yegappan
            Lakshmanan, closes #9460)
Files:      src/insexpand.c, src/testdir/test_edit.vim,
            src/testdir/test_ins_complete.vim

Patch 8.2.3990
Problem:    Testing wrong <A HREF="motion.html#operator">operator</A>.
Solution:   Test &quot;<A HREF="map.html#g@">g@</A>&quot; instead of &quot;r_&quot;. (Naohiro Ono, closes #9463)
Files:      src/testdir/test_normal.vim

Patch 8.2.3991
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error when extending dict&lt;any&gt; with another type that <A HREF="motion.html#it">it</A> was
            initialized with.
Solution:   Also set the type for dict&lt;any&gt; if the initializer has a more
            specific type. (closes #9461)
Files:      src/vim9compile.c, src/vim9type.c, src/vim9.h, src/eval.c,
            src/list.c, src/vim9script.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_func.vim

Patch 8.2.3992
Problem:    Wrong <A HREF="help.html#local-additions">local-additions</A> in the help with language mix.
Solution:   Adjust how the local additions <A HREF="eval.html#list">list</A> is generated. (Hirohito
            Higashi, closes #9464)
Files:      src/help.c, src/testdir/test_help.vim

Patch 8.2.3993
Problem:    When <A HREF="repeat.html#recording">recording</A> a change in <A HREF="visual.html#Select">Select</A> mode the first typed character
            appears <A HREF="if_cscop.html#twice">twice</A>.
Solution:   When putting the character back into typeahead remove <A HREF="motion.html#it">it</A> from
            recorded characters. (closes #9462)
Files:      src/getchar.c, src/proto/getchar.pro, src/normal.c,
            src/testdir/test_registers.vim

Patch 8.2.3994
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#extend()">extend()</A> complains about the type even when <A HREF="motion.html#it">it</A> was not
            declared.
Solution:   Only check the <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> type when <A HREF="motion.html#it">it</A> was declared.
Files:      src/list.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.3995
Problem:    Not all sshconfig files are detected <A HREF="motion.html#as">as</A> such.
Solution:   Adjust the patterns used for sshconfig detection. (David Auer,
            closes #9322)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.3996
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type checking for <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A> lacks information about
            declared type.
Solution:   Add dv_decl_type and lv_decl_type.  Refactor the type stack to
            store two types in each entry.
Files:      src/structs.h, src/dict.c, src/list.c, src/vim9type.c,
            src/proto/vim9type.pro, src/vim9instr.c, src/proto/vim9instr.pro,
            src/vim9compile.c, src/evalfunc.c, src/proto/evalfunc.pro,
            src/evalbuffer.c, src/proto/evalbuffer.pro, src/vim9expr.c,
            src/vim9cmds.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.3997
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough <A HREF="testing.html#testing">testing</A> for <A HREF="builtin.html#extend()">extend()</A> and <A HREF="builtin.html#map()">map()</A>.
Solution:   Add more test cases.  Fix uncovered problems.  Remove unused type
            fields.
Files:      src/structs.h, src/dict.c, src/list.c, src/vim9compile.c,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.3998
Problem:    Asan error for adding zero to NULL.
Solution:   Do not compute pointer if there are no entries.
Files:      src/vim9type.c

Patch 8.2.3999
Problem:    Redundant check for NUL byte.
Solution:   Remove the check for a NUL byte. (closes #9471)
Files:      src/ex_docmd.c

Patch 8.2.4000
Problem:    Coverity warns for checking for NULL pointer after using <A HREF="motion.html#it">it</A>.
Solution:   Remove check for NULL.
Files:      src/help.c

Patch 8.2.4001
Problem:    <A HREF="insert.html#Insert">Insert</A> complete code uses global <A HREF="eval.html#variables">variables</A>.
Solution:   Make <A HREF="eval.html#variables">variables</A> local to the file and use accessor <A HREF="eval.html#functions">functions</A>.
            (Yegappan Lakshmanan, closes #9470)
Files:      src/edit.c, src/getchar.c, src/globals.h, src/insexpand.c,
            src/proto/insexpand.pro, src/search.c

Patch 8.2.4002
Problem:    First char typed in <A HREF="visual.html#Select">Select</A> mode can be wrong.
Solution:   Escape special bytes in the input buffer. (closes #9469)
Files:      src/getchar.c, src/testdir/test_utf8.vim

Patch 8.2.4003
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/channel.c, src/ex_docmd.c, src/ex_eval.c,
            src/gui_at_fs.c, src/hardcopy.c, src/if_cscope.c, src/menu.c,
            src/netbeans.c, src/optionstr.c, src/os_mswin.c, src/sign.c,
            src/typval.c

Patch 8.2.4004
Problem:    Old compiler complains about struct init with variable.
Solution:   Set the struct member later. (John Marriott)
Files:      src/evalfunc.c

Patch 8.2.4005
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/dict.c, src/eval.c, src/evalfunc.c,
            src/evalvars.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c,
            src/filepath.c, src/gui.c, src/gui_w32.c, src/hardcopy.c,
            src/help.c, src/highlight.c, src/if_python.c, src/list.c,
            src/misc1.c, src/normal.c, src/quickfix.c, src/regexp.c,
            src/regexp_bt.c, src/regexp_nfa.c, src/typval.c, src/userfunc.c

Patch 8.2.4006
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when declaring variable on the command line.
Solution:   Use a temporary type <A HREF="eval.html#list">list</A>. (closes #9474)
Files:      src/eval.c, src/testdir/test_vim9_assign.vim

Patch 8.2.4007
Problem:    <A HREF="starting.html#Session">Session</A> does not restore help buffer properly when &quot;options' is
            missing from <A HREF="options.html#'sessionoptions'">'sessionoptions'</A>.
Solution:   Use a &quot;<A HREF="helphelp.html#:help">:help</A>&quot; command to create the help <A HREF="windows.html#window">window</A>. (closes #9475,
            closes #9458, closes #9472)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.4008
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/diff.c, src/digraph.c, src/evalfunc.c,
            src/evalvars.c, src/ex_cmds.c, src/ex_docmd.c, src/ex_getln.c,
            src/insexpand.c, src/match.c, src/memline.c, src/menu.c,
            src/ops.c, src/profiler.c, src/quickfix.c, src/regexp.c,
            src/regexp_bt.c, src/regexp_nfa.c, src/register.c, src/spell.c,
            src/spell.h, src/spellfile.c, src/strings.c, src/syntax.c,
            src/typval.c, src/undo.c, src/userfunc.c

Patch 8.2.4009
Problem:    Reading one byte beyond the end of the line.
Solution:   Check for NUL byte first.
Files:      src/vim9compile.c, src/ex_docmd.c, src/testdir/test_vim9_func.vim

Patch 8.2.4010
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move more error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/crypt.c, src/diff.c, src/ex_docmd.c,
            src/ex_getln.c, src/fileio.c, src/findfile.c, src/float.c,
            src/gui.c, src/highlight.c, src/if_mzsch.c, src/if_py_both.h,
            src/if_python.c, src/if_python3.c, src/insexpand.c, src/match.c,
            src/memline.c, src/option.c, src/popupwin.c, src/regexp.c,
            src/regexp_nfa.c, src/spellfile.c, src/strings.c, src/syntax.c,
            src/textprop.c, src/typval.c, src/undo.c, src/usercmd.c,
            src/userfunc.c, src/window.c

Patch 8.2.4011
Problem:    Test fails because of changed error number.
Solution:   Restore old duplicate error message.
Files:      src/errors.h, src/match.c

Patch 8.2.4012
Problem:    Error <A HREF="message.html#messages">messages</A> are spread out.
Solution:   Move the last error <A HREF="message.html#messages">messages</A> to errors.h.
Files:      src/errors.h, src/channel.c, src/clientserver.c, src/diff.c,
            src/evalfunc.c, src/evalvars.c, src/ex_cmds2.c, src/ex_docmd.c,
            src/gui_w32.c, src/help.c, src/if_mzsch.c, src/if_py_both.h,
            src/if_python.c, src/job.c, src/json.c, src/list.c, src/option.c,
            src/optionstr.c, src/quickfix.c, src/regexp.c, src/regexp_nfa.c,
            src/register.c, src/scriptfile.c, src/sign.c, src/syntax.c,
            src/tag.c, src/terminal.c, src/textprop.c, src/typval.c,
            src/undo.c, src/userfunc.c, src/vim9compile.c, src/viminfo.c

Patch 8.2.4013
Problem:    Build failure without the <A HREF="spell.html#spell">spell</A> feature.
Solution:   Adjust #ifdefs.
Files:      src/errors.h

Patch 8.2.4014
Problem:    Git and gitcommit file types not properly recognized.
Solution:   Adjust <A HREF="filetype.html#filetype">filetype</A> detection. (Tim Pope, closes #9477)
Files:      runtime/filetype.vim, runtime/scripts.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4015
Problem:    Build failure with tiny features. (Tony Mechelynck)
Solution:   Adjust #ifdefs.
Files:      src/errors.h

Patch 8.2.4016
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: incorrect error for argument that is shadowing var.
Solution:   Ignore variable that is not in block where the function was
            defined.
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.4017
Problem:    Gcc warns for misleading indent in Athena menu code.
Solution:   Add curlies around the two statements. (Dominique Pellé,
            closes #9480)
Files:      src/gui_athena.c

Patch 8.2.4018
Problem:    ml_get error when win_execute redraws with <A HREF="visual.html#Visual">Visual</A> selection.
Solution:   Disable <A HREF="visual.html#Visual">Visual</A> area temporarily. (closes #9479)
Files:      src/evalwindow.c, src/proto/evalwindow.pro, src/structs.h,
            src/evalbuffer.c, src/proto/evalbuffer.pro, src/evalvars.c,
            src/if_py_both.h, src/evalfunc.c,
            src/testdir/test_execute_func.vim

Patch 8.2.4019
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: import mechanism is too complicated.
Solution:   Do not use the Javascript mechanism but a much simpler one.
Files:      runtime/doc/vim9.txt, src/vim9script.c, src/proto/vim9script.pro,
            src/errors.h, src/structs.h, src/eval.c, src/proto/eval.pro,
            src/evalvars.c, src/proto/evalvars.pro, src/userfunc.c,
            src/vim9expr.c, src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_script.vim

Patch 8.2.4020 (after 8.2.4019)
Problem:    Debugger test fails.
Solution:   Fix import statement.
Files:      src/testdir/test_debugger.vim

Patch 8.2.4021 (after 8.2.4019)
Problem:    Missing part of the <A HREF="vim9.html#:import">:import</A> changes.
Solution:   Add changes in vim9cmds.c.
Files:      src/vim9cmds.c

Patch 8.2.4022
Problem:    Two error <A HREF="message.html#messages">messages</A> in the wrong file.
Solution:   Use the error message from errors.h.
Files:      src/popupwin.c, src/usercmd.c

Patch 8.2.4023
Problem:    Using uninitialized variable.
Solution:   Initialize &quot;ufunc&quot; also when an item is not exported.
Files:      src/vim9script.c

Patch 8.2.4024
Problem:    Confusing error message if imported name is used directly.
Solution:   Give a better error message.
Files:      src/eval.c, src/proto/eval.pro, src/evalvars.c, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.4025
Problem:    Error for import not ending in .vim does not work for <A HREF="starting.html#.vimrc">.vimrc</A>.
Solution:   Check that .vim is the end. (closes #9484)
Files:      src/vim9script.c, src/errors.h, src/testdir/test_vim9_script.vim

Patch 8.2.4026
Problem:    ml_get error with specific <A HREF="builtin.html#win_execute()">win_execute()</A> command. (Sean Dewar)
Solution:   Check cursor and <A HREF="visual.html#Visual">Visual</A> area are OK.
Files:      src/evalwindow.c, src/testdir/test_execute_func.vim

Patch 8.2.4027
Problem:    Import test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use a different directory name.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4028
Problem:    ml_get error with <A HREF="autocmd.html#:doautoall">:doautoall</A> and <A HREF="visual.html#Visual">Visual</A> area. (Sean Dewar)
Solution:   Disable <A HREF="visual.html#Visual">Visual</A> mode while executing <A HREF="autocmd.html#autocommands">autocommands</A>.
Files:      src/structs.h, src/autocmd.c, src/testdir/test_autocmd.vim

Patch 8.2.4029
Problem:    Debugging <A HREF="pattern.html#NFA">NFA</A> <A HREF="pattern.html#regexp">regexp</A> my crash, cached indent may be wrong.
Solution:   Fix some debug warnings in the <A HREF="pattern.html#NFA">NFA</A> <A HREF="pattern.html#regexp">regexp</A> code.  Make sure log_fd
            is set when used.  Fix breakindent and indent caching. (Christian
            Brabandt, closes #9482)
Files:      src/indent.c, src/optionstr.c, src/regexp_nfa.c

Patch 8.2.4030
Problem:    A <A HREF="usr_41.html#script">script</A> local funcref is not found from a <A HREF="map.html#mapping">mapping</A>.
Solution:   When looking for a function, also find a <A HREF="map.html#script-local">script-local</A> funcref.
            (closes #9485)
Files:      src/evalvars.c, src/proto/evalvars.pro, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.4031
Problem:    Crash in xterm with only two lines. (Dominique Pellé)
Solution:   Only perform xterm compatibility test if possible. (closes #9488)
Files:      src/term.c, src/testdir/test_startup.vim

Patch 8.2.4032
Problem:    ATTRIBUTE_NORETURN is not needed.
Solution:   Use NORETURN(). (Ozaki Kiichi, closes #9487)
Files:      src/if_ruby.c, src/vim.h

Patch 8.2.4033
Problem:    Running <A HREF="filetype.html#filetype">filetype</A> tests leaves directory behind.
Solution:   Delete the top directory. (closes #9483)
Files:      src/testdir/test_filetype.vim

Patch 8.2.4034
Problem:    Coverity warns for possibly using a NULL pointer.
Solution:   Check v_partial is not NULL.
Files:      src/vim9type.c

Patch 8.2.4035
Problem:    Timer triggered at the debug prompt may cause trouble.
Solution:   Do not trigger any <A HREF="builtin.html#timer">timer</A> at the debug prompt. (closes #9481)
Files:      src/time.c

Patch 8.2.4036
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test file is getting too long.
Solution:   Split the import/export functionality to a separate file.
Files:      src/testdir/test_vim9_script.vim, src/testdir/test_vim9_import.vim,
            src/testdir/Make_all.mak

Patch 8.2.4037
Problem:    <A HREF="insert.html#Insert">Insert</A> mode completion is insufficiently tested.
Solution:   Add more tests.  Fix uncovered memory leak. (Yegappan Lakshmanan,
            closes #9489)
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.4038
Problem:    Various code not used when features are disabled.
Solution:   Add #ifdefs. (Dominique Pellé, closes #9491)
Files:      src/alloc.c, src/buffer.c, src/charset.c, src/clipboard.c,
            src/cmdhist.c, src/crypt.c, src/edit.c, src/eval.c,
            src/evalbuffer.c, src/evalfunc.c, src/ex_docmd.c, src/globals.h,
            src/gui_xim.c, src/hashtab.c, src/highlight.c, src/insexpand.c,
            src/main.c, src/mark.c, src/message.c, src/misc1.c, src/misc2.c,
            src/ops.c, src/option.c, src/option.h, src/optionstr.c,
            src/register.c, src/scriptfile.c, src/tag.c, src/term.c,
            src/typval.c, src/usercmd.c, src/userfunc.c, src/vim9script.c,
            src/vim9type.c

Patch 8.2.4039
Problem:    The xdiff library is linked in even when not used.
Solution:   Use configure to decide whether xdiff object files are included.
Files:      src/Makefile, src/config.mk.in, src/configure.ac,
            src/auto/configure, src/feature.h

Patch 8.2.4040
Problem:    Keeping track of allocated lines in user <A HREF="eval.html#functions">functions</A> is too
            complicated.
Solution:   Instead of freeing individual lines keep them all until the end.
Files:      src/alloc.c, src/proto/alloc.pro, src/vim9compile.c,
            src/userfunc.c, src/proto/userfunc.pro, src/message.c,
            src/usercmd.c, src/viminfo.c, src/testdir/test_vim9_func.vim

Patch 8.2.4041
Problem:    Using uninitialized pointer.
Solution:   Store &quot;ht&quot; when variable is in another <A HREF="usr_41.html#script">script</A>.
Files:      src/evalvars.c

Patch 8.2.4042
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: build error.
Solution:   Use grow array instead of character pointer.
Files:      src/vim9execute.c

Patch 8.2.4043
Problem:    Using int for second argument of ga_init2().
Solution:   Remove unnecessary type cast (int) when using sizeof().
Files:      src/arglist.c, src/channel.c, src/cmdexpand.c, src/dict.c,
            src/digraph.c, src/eval.c, src/evalfunc.c, src/evalvars.c,
            src/evalwindow.c, src/ex_docmd.c, src/fileio.c, src/filepath.c,
            src/findfile.c, src/fold.c, src/hardcopy.c, src/help.c,
            src/job.c, src/list.c, src/menu.c, src/os_win32.c, src/register.c,
            src/scriptfile.c, src/spellfile.c, src/spellsuggest.c,
            src/strings.c, src/syntax.c, src/tag.c, src/terminal.c,
            src/undo.c, src/usercmd.c, src/userfunc.c, src/vim9execute.c,
            src/viminfo.c, src/window.c, src/if_py_both.h

Patch 8.2.4044
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when importing the same <A HREF="usr_41.html#script">script</A> <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Give an error, unless <A HREF="motion.html#it">it</A> is a <A HREF="editing.html#reload">reload</A>.
Files:      src/vim9script.c, src/errors.h, src/testdir/test_vim9_import.vim

Patch 8.2.4045
Problem:    Some global <A HREF="eval.html#functions">functions</A> are only used in one file.
Solution:   Make the <A HREF="eval.html#functions">functions</A> static. (Yegappan Lakshmanan, closes #9492)
Files:      src/ex_getln.c, src/highlight.c, src/proto/ex_getln.pro,
            src/proto/highlight.pro, src/proto/vim9compile.pro,
            src/proto/vim9instr.pro, src/proto/window.pro, src/vim9compile.c,
            src/vim9instr.c, src/window.c

Patch 8.2.4046
Problem:    Some error <A HREF="message.html#messages">messages</A> not in the right place.
Solution:   Adjust the <A HREF="message.html#errors">errors</A> file.  Fix typo.
Files:      src/errors.h, src/regexp_bt.c, src/typval.c,

Patch 8.2.4047
Problem:    Depending on the build features error <A HREF="message.html#messages">messages</A> are unused.
Solution:   Add #ifdefs. (Dominique Pellé, closes #9493)
Files:      src/errors.h

Patch 8.2.4048
Problem:    gcc complains about use of &quot;&#37;p&quot; in printf.
Solution:   Add (void *) typecast. (Dominique Pellé, closes #9494)
Files:      src/if_py_both.h

Patch 8.2.4049
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: reading before the start of the line with &quot;<A HREF="motion.html#$">$</A>&quot; by itself.
Solution:   Do not subtract one when reporting the error.
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4050
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: need to prefix every item in an <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A>.
Solution:   First step in supporting &quot;<A HREF="vim9.html#vim9script">vim9script</A> autoload&quot; and &quot;import
            autoload&quot;.
Files:      runtime/doc/repeat.txt, runtime/doc/vim9.txt, src/structs.h,
            src/errors.h, src/vim9script.c, src/scriptfile.c,
            src/proto/scriptfile.pro, src/userfunc.c, src/eval.c,
            src/evalvars.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/vim9expr.c, src/testdir/test_vim9_script.vim

Patch 8.2.4051
Problem:    Compiler complains about possibly uninitialized variable.
Solution:   Add code to avoid a compiler warning. (John Marriott)
Files:      src/scriptfile.c

Patch 8.2.4052
Problem:    Not <A HREF="starting.html#easy">easy</A> to resize a <A HREF="windows.html#window">window</A> from a <A HREF="usr_05.html#plugin">plugin</A>.
Solution:   Add <A HREF="builtin.html#win_move_separator()">win_move_separator()</A> and <A HREF="builtin.html#win_move_statusline()">win_move_statusline()</A> <A HREF="eval.html#functions">functions</A>.
            (Daniel Steinberg, closes #9486)
Files:      runtime/doc/builtin.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/evalwindow.c, src/proto/evalwindow.pro,
            src/testdir/test_window_cmd.vim

Patch 8.2.4053
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#autoload">autoload</A> mechanism doesn't fully work yet.
Solution:   Define <A HREF="eval.html#functions">functions</A> and <A HREF="eval.html#variables">variables</A> with their <A HREF="eval.html#autoload">autoload</A> name, add the
            prefix when calling a function, find the variable in the table of
            <A HREF="usr_41.html#script">script</A> <A HREF="eval.html#variables">variables</A>.
Files:      src/structs.h, src/scriptfile.c, src/proto/scriptfile.pro,
            src/vim9script.c, src/proto/vim9script.pro, src/userfunc.c,
            src/evalvars.c, src/testdir/test_vim9_script.vim

Patch 8.2.4054 (after 8.2.4053)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> test fails.
Solution:   Add missing change.
Files:      src/vim9compile.c

Patch 8.2.4055
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line break in <A HREF="eval.html#expression">expression</A> causes <A HREF="eval.html#v:errmsg">v:errmsg</A> to be filled.
            (Yegappan Lakshmanan)
Solution:   Do not give an error when skipping over an <A HREF="eval.html#expression">expression</A>.
Files:      src/userfunc.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4056
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: memory leak when exporting function in <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A>.
Solution:   Free the name if <A HREF="change.html#replacing">replacing</A> <A HREF="motion.html#it">it</A>.
Files:      src/scriptfile.c

Patch 8.2.4057
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not fully implementing the <A HREF="eval.html#autoload">autoload</A> mechanism.
Solution:   Allow for exporting a legacy function.  Improve test coverage.
Files:      src/vim9script.c, src/testdir/test_vim9_import.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.4058
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: import test failure in wrong line.
Solution:   Adjust line number.
Files:      src/testdir/test_vim9_import.vim

Patch 8.2.4059
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: an <A HREF="eval.html#expression">expression</A> of a map cannot access <A HREF="map.html#script-local">script-local</A> items.
            (Maxim Kim)
Solution:   Use the <A HREF="usr_41.html#script">script</A> ID of where the map was defined.
Files:      src/getchar.c, src/map.c, src/proto/map.pro,
            src/testdir/test_vim9_import.vim

Patch 8.2.4060
Problem:    <A HREF="builtin.html#win_execute()">win_execute()</A> is slow on systems where <A HREF="builtin.html#getcwd()">getcwd()</A> or <A HREF="builtin.html#chdir()">chdir()</A> is
            slow. (Rick Howe)
Solution:   Avoid using <A HREF="builtin.html#getcwd()">getcwd()</A> and <A HREF="builtin.html#chdir()">chdir()</A> if no local directory is used and
            <A HREF="options.html#'acd'">'acd'</A> is not set. (closes #9504)
Files:      src/evalwindow.c

Patch 8.2.4061
Problem:    Codecov bash <A HREF="usr_41.html#script">script</A> is deprecated.
Solution:   Use the codecov action. (Ozaki Kiichi, closes #9505)
Files:      .github/workflows/ci.yml

Patch 8.2.4062
Problem:    Match highlighting of <A HREF="intro.html#tab">tab</A> too short.
Solution:   Do not stop match highlighting if on a <A HREF="intro.html#Tab">Tab</A>. (Christian Brabandt,
            closes #9507, closes #9500)
Files:      src/drawline.c, src/testdir/test_match.vim,
            src/testdir/dumps/Test_match_tab_linebreak.dump

Patch 8.2.4063
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: exported function in <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> not found. (Yegappan
            Lakshmanan)
Solution:   Use the <A HREF="eval.html#autoload">autoload</A> prefix to search for the function.
Files:      src/userfunc.c, src/testdir/test_vim9_import.vim

Patch 8.2.4064
Problem:    Foam files are not detected.
Solution:   Detect the foam <A HREF="filetype.html#filetype">filetype</A> by the path and file contents. (Mohammed
            Elwardi Fadeli, closes #9501)
Files:      runtime/filetype.vim, runtime/autoload/dist/ft.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4065
Problem:    Computation overflow with large <A HREF="intro.html#count">count</A> for <A HREF="change.html#:yank">:yank</A>.
Solution:   Avoid an overflow.
Files:      src/ex_docmd.c, src/testdir/test_excmd.vim

Patch 8.2.4066
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: imported <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> loaded again.
Solution:   Do not create a new imported_T every time.
Files:      src/vim9script.c, src/vim9compile.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4067
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot call imported function with <A HREF="eval.html#:call">:call</A>. (Drew Vogel)
Solution:   Translate the function name. (closes #9510)
Files:      src/userfunc.c, src/testdir/test_vim9_import.vim

Patch 8.2.4068 (after 8.2.4066)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: import test fails.
Solution:   Add missing change.
Files:      src/scriptfile.c

Patch 8.2.4069
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: import test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Ignore <A HREF="change.html#case">case</A>.  Adjust test to avoid name that only differs in <A HREF="change.html#case">case</A>.
Files:      src/eval.c, src/scriptfile.c, src/testdir/test_vim9_import.vim

Patch 8.2.4070
Problem:    Using uninitialized memory when reading empty file.
Solution:   Check for empty file before checking for NL. (Dominique Pellé,
            closes #9511)
Files:      src/filepath.c, src/testdir/test_eval_stuff.vim

Patch 8.2.4071
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no detection of return in try/endtry. (Dominique Pellé)
Solution:   Check if any of the blocks inside try/endtry did not end in
            return.
Files:      src/vim9.h, src/vim9compile.c, src/vim9cmds.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.4072
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling function fails when <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> is not loaded
            yet.
Solution:   Depend on runtime loading.
Files:      src/vim9expr.c, src/vim9script.c, src/vim9instr.c,
            src/vim9execute.c, src/testdir/test_vim9_import.vim

Patch 8.2.4073
Problem:    Coverity warns for using NULL pointer.
Solution:   Bail out when running out of memory. Check for running over end of
            a <A HREF="eval.html#string">string</A>.
Files:      src/userfunc.c,

Patch 8.2.4074
Problem:    Going over the end of NameBuff.
Solution:   Check length when appending a space.
Files:      src/drawscreen.c, src/testdir/test_edit.vim

Patch 8.2.4075 (after 8.2.4073)
Problem:    Test failures.
Solution:   Change check for NULL pointer.
Files:      src/userfunc.c

Patch 8.2.4076
Problem:    Memory leak in <A HREF="eval.html#autoload">autoload</A> import.
Solution:   Do not overwrite the <A HREF="eval.html#autoload">autoload</A> prefix.
Files:      src/vim9script.c

Patch 8.2.4077
Problem:    Not all Libsensors files are recognized.
Solution:   Add &quot;sensors.d/*&quot; <A HREF="pattern.html#pattern">pattern</A>. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4078
Problem:    Terminal test for current directory not used on FreeBSD.
Solution:   Make <A HREF="motion.html#it">it</A> work on FreeBSD. (Ozaki Kiichi, closes #9516) Add
            TermWait() inside Run_shell_in_terminal() <A HREF="motion.html#as">as</A> a generic solution.
Files:      src/testdir/test_terminal3.vim, src/testdir/term_util.vim,
            src/testdir/test_terminal.vim, src/testdir/test_terminal2.vim,
            src/testdir/test_mapping.vim

Patch 8.2.4079
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: &quot;<A HREF="starting.html#gvim">gvim</A> --version&quot; didn't work when build with VIMDLL.
Solution:   Adjust #ifdef. (Ken Takata, closes #9517)
Files:      src/main.c

Patch 8.2.4080
Problem:    Not sufficient test coverage for xxd.
Solution:   Add a few more test cases. (Erki Auerswald, closes #9515)
Files:      src/testdir/test_xxd.vim

Patch 8.2.4081
Problem:    CodeQL reports problem in if_cscope causing <A HREF="motion.html#it">it</A> to fail.
Solution:   Use execvp() instead of execl().  Merge the header file into the
            source file. (Ozaki Kiichi, closes #9519)
Files:      Filelist, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/Make_vms.mms, src/Makefile, src/if_cscope.c, src/if_cscope.h,
            src/testdir/test_cscope.vim

Patch 8.2.4082
Problem:    Check for <A HREF="eval.html#autoload">autoload</A> file name and prefix fails. (Christian <A HREF="change.html#J">J</A>.
            Robinson)
Solution:   Only lower <A HREF="change.html#case">case</A> the prefix on systems where the file name is not
            <A HREF="change.html#case">case</A> sensitive.
Files:      src/scriptfile.c, src/testdir/test_vim9_import.vim

Patch 8.2.4083
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for &quot;<A HREF="vim9.html#vim9script">vim9script</A> autoload&quot; and using <A HREF="usr_41.html#script">script</A> variable
            in the same <A HREF="usr_41.html#script">script</A>.
Solution:   Add a simple test.  Fix uncovered problem.
Files:      src/evalvars.c, src/testdir/test_vim9_import.vim

Patch 8.2.4084
Problem:    Memory leak when looking for <A HREF="eval.html#autoload">autoload</A> prefixed variable.
Solution:   Free the concatenated <A HREF="eval.html#string">string</A>.
Files:      src/evalvars.c

Patch 8.2.4085
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for using import in legacy <A HREF="usr_41.html#script">script</A>.
Solution:   Add a test.
Files:      src/testdir/test_vim9_import.vim

Patch 8.2.4086
Problem:    &quot;cctx&quot; argument of find_func_even_dead() is unused.
Solution:   Remove the argument.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/vim9compile.c,
            src/vim9instr.c, src/evalfunc.c, src/evalvars.c, src/testing.c,
            src/vim9execute.c, src/vim9expr.c, src/vim9script.c,
            src/vim9type.c

Patch 8.2.4087
Problem:    Cannot test items from an <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> easily.
Solution:   Add the &quot;<A HREF="eval.html#autoload">autoload</A>&quot; value for <A HREF="testing.html#test_override()">test_override()</A>.
Files:      runtime/doc/testing.txt, src/testing.c, src/globals.h,
            src/vim9script.c, src/testdir/test_vim9_import.vim

Patch 8.2.4088
Problem:    Xxd cannot output everything in one line.
Solution:   Make zero columns mean infinite columns. (Erik Auerswald,
            closes #9524)
Files:      runtime/doc/xxd.1, runtime/doc/xxd.man, src/testdir/test_xxd.vim,
            src/xxd/xxd.c

Patch 8.2.4089 (after 8.2.4078)
Problem:    Terminal test for current directory fails on FreeBSD.
Solution:   Skip the test.
Files:      src/testdir/test_terminal3.vim

Patch 8.2.4090
Problem:    After restoring a session buffer order can be quite different.
Solution:   Create <A HREF="windows.html#buffers">buffers</A> first. (Evgeni Chasnovski, closes #9520)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.4091
Problem:    Virtcol is recomputed for statusline unnecessarily.
Solution:   Just use &quot;w_virtcol&quot;. (closes #9523)
Files:      src/buffer.c, src/testdir/test_statusline.vim

Patch 8.2.4092
Problem:    macOS CI: unnecessarily doing &quot;Install packages&quot;.
Solution:   Only <A HREF="diff.html#do">do</A> &quot;Install packages&quot; for huge build.  (Ozaki Kiichi,
            closes #9521)
Files:      .github/workflows/ci.yml

Patch 8.2.4093
Problem:    Cached breakindent values not initialized properly.
Solution:   Initialize and cache formatlistpat. (Christian Brabandt,
            closes #9526, closes #9512)
Files:      runtime/doc/options.txt, src/indent.c, src/option.c,
            src/proto/option.pro, src/testdir/test_breakindent.vim

Patch 8.2.4094
Problem:    <A HREF="options.html#'virtualedit'">'virtualedit'</A> is window-local but using buffer-local enum.
Solution:   Use window-local enum. (closes #9529)
Files:      src/option.h, src/optiondefs.h

Patch 8.2.4095
Problem:    Sed <A HREF="usr_41.html#script">script</A> not recognized by the first line.
Solution:   Recognize a sed <A HREF="usr_41.html#script">script</A> starting with &quot;#n&quot;. (Doug Kearns)
Files:      runtime/scripts.vim, src/testdir/test_filetype.vim

Patch 8.2.4096
Problem:    Linux CI: unnecessarily installing <A HREF="repeat.html#packages">packages</A>
Solution:   Only <A HREF="usr_90.html#install">install</A> <A HREF="repeat.html#packages">packages</A> for huge build.  (Ozaki Kiichi,
            closes #9530)
Files:      .github/workflows/ci.yml

Patch 8.2.4097
Problem:    Wrong number in error message on 32 bit system. (John Paul Adrian
            Glaubitz)
Solution:   Add type cast. (closes #9527)
Files:      src/vim9compile.c

Patch 8.2.4098
Problem:    Typing &quot;interrupt&quot; at debug prompt may keep exception around,
            causing function calls to fail.
Solution:   Discard any exception at the toplevel. (closes #9532)
Files:      src/main.c

Patch 8.2.4099
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="syntax.html#syntax">syntax</A> in <A HREF="map.html#mapping">mapping</A>.
Solution:   Add <A HREF="map.html#&lt;ScriptCmd&gt;">&lt;ScriptCmd&gt;</A> to use the <A HREF="usr_41.html#script">script</A> context for a command.
Files:      runtime/doc/map.txt, src/normal.c, src/getchar.c,
            src/proto/getchar.pro, src/ex_getln.c, src/edit.c, src/terminal.c,
            src/keymap.h, src/insexpand.c, src/misc2.c, src/ops.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4100
Problem:    Early return when getting the <A HREF="options.html#'formatlistpat'">'formatlistpat'</A> value.
Solution:   Remove the first line. (Christian Brabandt)
Files:      src/option.c, src/testdir/test_breakindent.vim

Patch 8.2.4101
Problem:    Warning for unused argument in tiny version.
Solution:   Add &quot;UNUSED&quot;.
Files:      src/getchar.c

Patch 8.2.4102
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: import cannot be used after <A HREF="eval.html#method">method</A>.
Solution:   Recognize an imported function name. (closes #9496)
Files:      src/eval.c, src/testdir/test_vim9_import.vim

Patch 8.2.4103
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: variable declared in for loop not initialized.
Solution:   Always initialize the variable. (closes #9535)
Files:      src/vim9instr.c, src/proto/vim9instr.pro, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4104
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: lower casing the <A HREF="eval.html#autoload">autoload</A> prefix causes problems.
Solution:   Always store the prefix with <A HREF="change.html#case">case</A> preserved.
Files:      src/scriptfile.c, src/testdir/test_vim9_import.vim

Patch 8.2.4105
Problem:    Translation related comment in the wrong place.
Solution:   Move <A HREF="motion.html#it">it</A> back with the text. (Ken Takata, closes #9537)
Files:      src/errors.h, src/ex_docmd.c

Patch 8.2.4106
Problem:    Going over the end of the w_lines array.
Solution:   Break out of the loop when &quot;idx&quot; is too big. (issue #9540)
Files:      src/drawscreen.c

Patch 8.2.4107
Problem:    Script context not restored after using <A HREF="map.html#&lt;ScriptCmd&gt;">&lt;ScriptCmd&gt;</A>.
Solution:   Also restore context when not in a <A HREF="usr_41.html#script">script</A>. (closes #9536)
            Add the '<A HREF="change.html#c">c</A>' flag to <A HREF="builtin.html#feedkeys()">feedkeys()</A> to be able to test this.
Files:      runtime/doc/builtin.txt, src/getchar.c, src/evalfunc.c,
            src/testdir/test_mapping.vim

Patch 8.2.4108
Problem:    Going over the end of the w_lines array.
Solution:   Check not going over the end and limit to Rows. (issue #9540)
Files:      src/drawscreen.c

Patch 8.2.4109
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: high dpi support is outdated.
Solution:   Improve High DPI support by using PerMonitorV2. (Ken Takata
            closes #9525, closes #3102)
Files:      src/gui.c, src/gui.h, src/gui_w32.c, src/vim.manifest

Patch 8.2.4110
Problem:    Coverity warns for using NULL pointer.
Solution:   Check &quot;evalarg&quot; is not NULL.  Skip <A HREF="message.html#errors">errors</A> when &quot;<A HREF="starting.html#verbose">verbose</A>&quot; is <A HREF="vim9.html#false">false</A>.
Files:      src/eval.c

Patch 8.2.4111
Problem:    Potential problem when map is deleted while executing.
Solution:   Reset last used map pointer when <A HREF="change.html#deleting">deleting</A> a <A HREF="map.html#mapping">mapping</A>.
Files:      src/map.c

Patch 8.2.4112
Problem:    Function not deleted at end of test.
Solution:   Delete the function.
Files:      src/testdir/test_diffmode.vim

Patch 8.2.4113
Problem:    Typo on DOCMD_RANGEOK results in not recognizing command.
Solution:   Correct the typo. (closes #9539)
Files:      src/vim.h, src/testdir/test_mapping.vim

Patch 8.2.4114
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type checking for a funcref does not work for when <A HREF="motion.html#it">it</A> is
            used in a <A HREF="eval.html#method">method</A>.
Solution:   Pass the base to where the type is checked.
Files:      src/vim9type.c, src/proto/vim9type.pro, src/userfunc.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.4115
Problem:    Cannot use a <A HREF="eval.html#method">method</A> with a complex <A HREF="eval.html#expression">expression</A>.
Solution:   Evaluate the <A HREF="eval.html#expression">expression</A> after &quot;<A HREF="eval.html#-&gt;">-&gt;</A>&quot; and use the result.
Files:      src/eval.c, src/errors.h, src/testdir/test_vim9_expr.vim

Patch 8.2.4116
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a <A HREF="eval.html#method">method</A> with a complex <A HREF="eval.html#expression">expression</A> in a <A HREF="vim9.html#:def">:def</A>
            function.
Solution:   Implement compiling the <A HREF="eval.html#expression">expression</A>.
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4117
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong white space error after using imported item.
Solution:   Don't skip over white space. (closes #9544)
Files:      src/eval.c, src/testdir/test_vim9_import.vim

Patch 8.2.4118
Problem:    Using UNUSED for argument that is used.
Solution:   Remove UNUSED.
Files:      src/usercmd.c

Patch 8.2.4119
Problem:    Build failure when disabling the <A HREF="channel.html#channel">channel</A> feature.
Solution:   Adjust #ifdef. (Dominique Pellé, closes #9545)
Files:      src/misc2.c

Patch 8.2.4120
Problem:    Block insert goes over the end of the line.
Solution:   Handle invalid byte better.  Fix <A HREF="insert.html#inserting">inserting</A> the wrong text.
Files:      src/ops.c, src/testdir/test_visual.vim

Patch 8.2.4121
Problem:    <A HREF="visual.html#Visual">Visual</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set <A HREF="options.html#'isprint'">'isprint'</A> so that the character used is not printable.
Files:      src/testdir/test_visual.vim

Patch 8.2.4122
Problem:    &quot;<A HREF="map.html#:command">:command</A> Cmd&quot; does not show custom completion argument.
Solution:   Show the completion argument when using &quot;<A HREF="various.html#:verbose">:verbose</A>&quot;.
Files:      src/usercmd.c, src/testdir/test_usercommands.vim

Patch 8.2.4123
Problem:    Complete function cannot be import.Name.
Solution:   Dereference the function name if needed.  Also: <A HREF="diff.html#do">do</A> not see
            &quot;import.Name&quot; <A HREF="motion.html#as">as</A> a builtin function. (closes #9541)
Files:      src/userfunc.c, src/eval.c, src/testdir/test_vim9_import.vim

Patch 8.2.4124
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#method">method</A> in compiled function may not see <A HREF="usr_41.html#script">script</A> item.
Solution:   Make sure not to skip to the next line. (closes #9496)
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4125
Problem:    Completion tests fail.
Solution:   Disable error <A HREF="message.html#messages">messages</A> while dereferencing the function name.
Files:      src/eval.c

Patch 8.2.4126
Problem:    Crash on exit when built with dynamic <A HREF="if_tcl.html#Tcl">Tcl</A> and EXITFREE is defined.
            (Dominique Pellé)
Solution:   Only call Tcl_Finalize() when initialized. (closes #9546)
Files:      src/if_tcl.c

Patch 8.2.4127
Problem:    Build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Add #ifdef.
Files:      src/usercmd.c

Patch 8.2.4128
Problem:    Crash when <A HREF="eval.html#method">method</A> cannot be found. (Christian <A HREF="change.html#J">J</A>. Robinson)
Solution:   Don't mix up pointer names.
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4129
Problem:    Building with <A HREF="various.html#+sound">+sound</A> but without <A HREF="various.html#+eval">+eval</A> fails. (Dominique Pellé)
Solution:   Disable canberra in tiny and small build. (closes #9548)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.4130
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: MSVC build may have libraries duplicated.
Solution:   Improve the MSVC Makefile. (Ken Takata, closes #9547)
Files:      src/Make_mvc.mak

Patch 8.2.4131
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: calling function in <A HREF="eval.html#autoload">autoload</A> import does not work in a <A HREF="vim9.html#:def">:def</A>
            function.
Solution:   When a variable is not found and a PCALL follows use a funcref.
            (closes #9550)
Files:      src/vim9execute.c, src/testdir/test_vim9_import.vim

Patch 8.2.4132
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong error message when <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> can't be found.
Solution:   Correct check for using <A HREF="eval.html#autoload">autoload</A> with wrong name.
Files:      src/vim9script.c, src/testdir/test_vim9_import.vim

Patch 8.2.4133
Problem:    output of &quot;<A HREF="repeat.html#:scriptnames">:scriptnames</A>&quot; goes into the message <A HREF="cmdline.html#history">history</A>, while this
            does not happen for other commands, such <A HREF="motion.html#as">as</A> &quot;<A HREF="windows.html#:ls">:ls</A>&quot;.
Solution:   Use msg_outtrans() instead of smsg(). (closes #9551)
Files:      src/scriptfile.c, src/testdir/test_scriptnames.vim

Patch 8.2.4134
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: test for import with absolute path fails.
Solution:   Handle path starting with slash <A HREF="motion.html#as">as</A> an absolute path.
Files:      src/vim9script.c

Patch 8.2.4135
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;<A HREF="repeat.html#:scriptnames">:scriptnames</A>&quot; shows unloaded imported <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A>.
Solution:   <A HREF="motion.html#Mark">Mark</A> the unloaded <A HREF="usr_41.html#script">script</A> with &quot;<A HREF="insert.html#A">A</A>&quot;. (closes #9552)
Files:      runtime/doc/repeat.txt, src/scriptfile.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4136
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: the &quot;<A HREF="eval.html#autoload">autoload</A>&quot; argument of &quot;<A HREF="repeat.html#:vim9script">:vim9script</A>&quot; is not useful.
Solution:   Remove the argument. (closes #9555)
Files:      runtime/doc/vim9.txt, runtime/doc/repeat.txt, src/vim9script.c,
            src/errors.h, src/testdir/test_vim9_import.vim

Patch 8.2.4137
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: calling import with and without <A HREF="eval.html#method">method</A> is inconsistent.
Solution:   Set a flag that a parenthesis follows to compile_load_scriptvar().
            Add some more tests.  Improve error message.
Files:      src/vim9expr.c, src/vim9execute.c, src/vim9script.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4138
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for return with argument when the function does not
            return anything.
Solution:   Give an error for the invalid argument. (issue #9497)
Files:      src/vim9cmds.c, src/testdir/test_vim9_func.vim

Patch 8.2.4139
Problem:    Using freed memory if an <A HREF="eval.html#expression">expression</A> abbreviation deletes the
            abbreviation.
Solution:   Do not access the pointer after evaluating the <A HREF="eval.html#expression">expression</A>.
Files:      src/map.c, src/testdir/test_mapping.vim

Patch 8.2.4140
Problem:    <A HREF="builtin.html#maparg()">maparg()</A> does not indicate the type of <A HREF="usr_41.html#script">script</A> where <A HREF="motion.html#it">it</A> was defined.
Solution:   Add &quot;<A HREF="eval.html#scriptversion">scriptversion</A>&quot;.
Files:      runtime/doc/builtin.txt, src/map.c, src/testdir/test_maparg.vim

Patch 8.2.4141 (after 8.2.4140)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> builtin <A HREF="eval.html#functions">functions</A> test fails.
Solution:   Add &quot;<A HREF="eval.html#scriptversion">scriptversion</A>&quot; item to <A HREF="builtin.html#maparg()">maparg()</A> result.
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.4142
Problem:    Build failure with normal features without persistent <A HREF="undo.html#undo">undo</A>.
Solution:   Adjust #ifdef. (closes #9557)
Files:      src/fileio.c

Patch 8.2.4143
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: <A HREF="mbyte.html#IME">IME</A> support for Win9x is obsolete.
Solution:   Remove the Win9x code. (Ken Takata, closes #9559)
Files:      src/gui_w32.c

Patch 8.2.4144
Problem:    Cannot load libsodium dynamically.
Solution:   Support dynamic loading on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ken Takata, closes #9554)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak, src/buffer.c,
            src/crypt.c, src/memline.c, src/proto/crypt.pro

Patch 8.2.4145
Problem:    Confusing error when using name of import for a function.
Solution:   Pass a flag to trans_function_name().
Files:      src/vim.h, src/userfunc.c, src/proto/userfunc.pro, src/eval.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4146
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: shadowed function can be used in compiled function but not
            at <A HREF="usr_41.html#script">script</A> level.
Solution:   Also give an error in a compiled function. (closes #9563)
Files:      src/vim9expr.c

Patch 8.2.4147
Problem:    <A HREF="message.html#E464">E464</A> does not always include the offending command.
Solution:   Add another error message with &quot;&#37;s&quot;. (closes #9564)
Files:      src/errors.h, src/vim9compile.c, src/ex_docmd.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.4148
Problem:    Deleting any <A HREF="map.html#mapping">mapping</A> may cause <A HREF="map.html#&lt;ScriptCmd&gt;">&lt;ScriptCmd&gt;</A> to not set the <A HREF="usr_41.html#script">script</A>
            context.
Solution:   Only reset last_used_map if <A HREF="motion.html#it">it</A> is the deleted <A HREF="map.html#mapping">mapping</A>.
            (closes #9568)
Files:      src/map.c, src/getchar.c, src/proto/getchar.pro,
            src/testdir/test_mapping.vim

Patch 8.2.4149
Problem:    Test override not restored, <A HREF="autocmd.html#autocommand">autocommand</A> left behind.
Solution:   Correct restoring test override.  Delete <A HREF="autocmd.html#autocommand">autocommand</A> afterwards.
Files:      src/testdir/test_autocmd.vim, src/testdir/test_mapping.vim

Patch 8.2.4150
Problem:    Coverity warns for using pointer after free.
Solution:   Swap statements, even though using the pointer is no problem.
Files:      src/map.c

Patch 8.2.4151
Problem:    Reading beyond the end of a line.
Solution:   For block insert only use the offset for correcting the length.
Files:      src/ops.c, src/testdir/test_visual.vim

Patch 8.2.4152
Problem:    Block insert with double wide character fails.
Solution:   Adjust the expected output.
Files:      src/testdir/test_utf8.vim

Patch 8.2.4153
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Global <A HREF="mbyte.html#IME">IME</A> is no longer supported.
Solution:   Remove the Global <A HREF="mbyte.html#IME">IME</A> implementation. (Ken Takata, closes #9562)
Files:      Filelist, runtime/doc/mbyte.txt, src/Make_mvc.mak, src/dimm.idl,
            src/glbl_ime.cpp, src/glbl_ime.h, src/gui_w32.c, src/vim.h

Patch 8.2.4154
Problem:    ml_get error when exchanging <A HREF="windows.html#windows">windows</A> in <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Correct end of <A HREF="visual.html#Visual">Visual</A> area when entering another buffer.
Files:      src/window.c, src/testdir/test_visual.vim

Patch 8.2.4155
Problem:    Translating <A HREF="builtin.html#strftime()">strftime()</A> argument results in check error.
Solution:   Add gettext comment.
Files:      src/time.c

Patch 8.2.4156
Problem:    Fileinfo message overwrites echo'ed message.
Solution:   Reset need_fileinfo when displaying a message. (Rob Pilling,
            closes #9569)
Files:      src/message.c, src/testdir/test_messages.vim,
            src/testdir/dumps/Test_fileinfo_after_echo.dump

Patch 8.2.4157
Problem:    Terminal test fails because Windows sets the title.
Solution:   Add the &quot;vterm_title&quot; <A HREF="testing.html#testing">testing</A> override and use <A HREF="motion.html#it">it</A> in the test.
            (Ozaki Kiichi, closes #9556)
Files:      runtime/doc/testing.txt, src/globals.h, src/terminal.c,
            src/testing.c, src/testdir/test_terminal.vim

Patch 8.2.4158
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: memory leak in <A HREF="editing.html#:browse">:browse</A>.
Solution:   Free stuff before returning. (Ken Takata, closes #9574)
Files:      src/gui_w32.c

Patch 8.2.4159
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: _WndProc() is very long.
Solution:   Move code to separate <A HREF="eval.html#functions">functions</A>. (Ken Takata, closes #9573)
Files:      src/gui_w32.c

Patch 8.2.4160
Problem:    Cannot change the <A HREF="sponsor.html#register">register</A> used for <A HREF="visual.html#Select">Select</A> mode delete.
Solution:   Make <A HREF="undo.html#CTRL-R">CTRL-R</A> set the <A HREF="sponsor.html#register">register</A> to be used when <A HREF="change.html#deleting">deleting</A> text for
            <A HREF="visual.html#Select">Select</A> mode. (Shougo Matsushita, closes #9531)
Files:      runtime/doc/visual.txt, src/globals.h, src/normal.c, src/ops.c,
            src/testdir/test_selectmode.vim

Patch 8.2.4161
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: warning for missing white space after imported variable.
Solution:   Do not skip white space. (closes #9567)
Files:      src/vim9expr.c, src/testdir/test_vim9_import.vim

Patch 8.2.4162
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for redefining function with export.
Solution:   Check for existing function with/without prefix. (closes #9577)
Files:      src/userfunc.c, src/scriptfile.c, src/testdir/test_vim9_import.vim

Patch 8.2.4163
Problem:    No error for omitting function name after <A HREF="eval.html#autoload">autoload</A> prefix.
Solution:   Check for missing function name. (issue #9577)
Files:      src/userfunc.c, src/testdir/test_vim9_import.vim

Patch 8.2.4164 (after 8.2.4162)
Problem:    Error in legacy code for function shadowing variable.
Solution:   Only give the error in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/userfunc.c

Patch 8.2.4165
Problem:    The nv_g_cmd() function is too long.
Solution:   Move code to separate <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9576)
Files:      src/normal.c

Patch 8.2.4166
Problem:    Undo synced when switching buffer in another <A HREF="windows.html#window">window</A>.
Solution:   Do not sync <A HREF="undo.html#undo">undo</A> when not needed. (closes #9575)
Files:      src/buffer.c, src/testdir/test_timers.vim

Patch 8.2.4167
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message for old style import.
Solution:   Use another error message.  Add a test.
Files:      src/evalvars.c, src/errors.h, src/testdir/test_vim9_import.vim

Patch 8.2.4168 (after 8.2.4163)
Problem:    Disallowing empty function name breaks existing plugins.
Solution:   Allow empty function name in legacy <A HREF="usr_41.html#script">script</A>.
Files:      src/userfunc.c, src/testdir/test_autoload.vim,
            src/testdir/sautest/autoload/foo.vim

Patch 8.2.4169
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: unnecessary casts and other minor things.
Solution:   Clean up the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> code. (Ken Takata, closes #9583)
Files:      src/gui_w32.c

Patch 8.2.4170
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: still using old message API calls.
Solution:   Call the &quot;<A HREF="motion.html#W">W</A>&quot; <A HREF="eval.html#functions">functions</A> directly. (Ken Takata, closes #9582)
Files:      src/gui_w32.c, src/os_mswin.c, src/os_win32.c, src/os_win32.h

Patch 8.2.4171
Problem:    Cannot invoke option function using <A HREF="eval.html#autoload">autoload</A> import.
Solution:   Expand the import to an <A HREF="eval.html#autoload">autoload</A> function name. (closes #9578)
Files:      src/userfunc.c, src/evalvars.c, src/proto/evalvars.pro,
            src/option.c, src/testdir/test_vim9_import.vim

Patch 8.2.4172
Problem:    Filetype detection for BASIC is not optimal.
Solution:   Improve BASIC <A HREF="filetype.html#filetype">filetype</A> detection. (Doug Kearns)
Files:      runtime/autoload/dist/ft.vim, runtime/filetype.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4173
Problem:    Cannot use an import in <A HREF="options.html#'foldexpr'">'foldexpr'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context to where <A HREF="options.html#'foldexpr'">'foldexpr'</A> was set. (closes #9584)
            Fix that the <A HREF="usr_41.html#script">script</A> context was not set for all <A HREF="windows.html#buffers">buffers</A>.
Files:      src/eval.c, src/proto/eval.pro, src/fold.c, src/structs.h,
            src/option.c, src/testdir/test_vim9_import.vim

Patch 8.2.4174
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can use an <A HREF="eval.html#autoload">autoload</A> name in normal <A HREF="usr_41.html#script">script</A>.
Solution:   Disallow using an <A HREF="eval.html#autoload">autoload</A> name.
Files:      src/userfunc.c, src/errors.h, src/testdir/test_vim9_import.vim

Patch 8.2.4175
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: runtime check for multi-line balloon is obsolete.
Solution:   Remove the obsolete code. (Ken Takata, closes #9592)
Files:      src/evalfunc.c, src/gui_w32.c, src/proto/gui_w32.pro

Patch 8.2.4176
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use imported function with <A HREF="builtin.html#call()">call()</A>.
Solution:   Translate the function name. (closes #9590)
Files:      src/evalfunc.c, src/testdir/test_vim9_import.vim

Patch 8.2.4177
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> not loaded after &quot;<A HREF="vim9.html#vim9script">vim9script</A> noclear&quot;.
Solution:   Check IMP_FLAGS_AUTOLOAD properly. (closes #9593)
Files:      src/vim9compile.c, src/testdir/test_vim9_import.vim

Patch 8.2.4178
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: invalid error for return type of <A HREF="eval.html#lambda">lambda</A> when debugging.
Solution:   Do not check the return type of a <A HREF="eval.html#lambda">lambda</A>. (closes #9589)
Files:      src/vim9cmds.c

Patch 8.2.4179
Problem:    <A HREF="options.html#'foldtext'">'foldtext'</A> is evaluated in the current <A HREF="usr_41.html#script">script</A> context.
Solution:   Use the <A HREF="usr_41.html#script">script</A> context where the option was set.
Files:      src/fold.c, src/buffer.c, src/eval.c, src/proto/eval.pro,
            src/findfile.c, src/testdir/test_vim9_import.vim

Patch 8.2.4180
Problem:    <A HREF="options.html#'balloonexpr'">'balloonexpr'</A> is evaluated in the current <A HREF="usr_41.html#script">script</A> context.
Solution:   Use the <A HREF="usr_41.html#script">script</A> context where the option was set.
Files:      src/beval.c, src/option.c, src/proto/option.pro,
            src/testdir/test_balloon.vim,
            src/testdir/dumps/Test_balloon_eval_term_01.dump,
            src/testdir/dumps/Test_balloon_eval_term_01a.dump,
            src/testdir/dumps/Test_balloon_eval_term_02.dump

Patch 8.2.4181
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use an import in <A HREF="options.html#'diffexpr'">'diffexpr'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating <A HREF="options.html#'diffexpr'">'diffexpr'</A>.  Do not require
            <A HREF="options.html#'diffexpr'">'diffexpr'</A> to return a bool, <A HREF="motion.html#it">it</A> was ignored anyway.
Files:      src/evalvars.c, src/testdir/test_vim9_import.vim

Patch 8.2.4182 (after 8.2.4182)
Problem:    Memory leak when evaluating <A HREF="options.html#'diffexpr'">'diffexpr'</A>.
Solution:   Use free_tv() instead of clear_tv().
Files:      src/evalvars.c

Patch 8.2.4183
Problem:    Cannot use an import in <A HREF="options.html#'formatexpr'">'formatexpr'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating <A HREF="options.html#'formatexpr'">'formatexpr'</A>.
Files:      src/textformat.c, src/testdir/test_vim9_import.vim

Patch 8.2.4184
Problem:    Cannot use an import in <A HREF="options.html#'includeexpr'">'includeexpr'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating <A HREF="options.html#'includeexpr'">'includeexpr'</A>
Files:      src/findfile.c, src/testdir/test_vim9_import.vim

Patch 8.2.4185
Problem:    Cannot use an import in <A HREF="options.html#'indentexpr'">'indentexpr'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating <A HREF="options.html#'indentexpr'">'indentexpr'</A>
Files:      src/indent.c, src/testdir/test_vim9_import.vim

Patch 8.2.4186
Problem:    Cannot use an import in <A HREF="options.html#'patchexpr'">'patchexpr'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating <A HREF="options.html#'patchexpr'">'patchexpr'</A>.  Do not
            require <A HREF="options.html#'patchexpr'">'patchexpr'</A> to return a bool, <A HREF="motion.html#it">it</A> was ignored anyway.
Files:      src/evalvars.c, src/testdir/test_vim9_import.vim

Patch 8.2.4187
Problem:    Gnuplot file not recognized.
Solution:   Recognize &quot;.gnuplot&quot;. (closes #9588)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4188
Problem:    Not all gitconfig files are recognized.
Solution:   Add a few more patterns. (Tim Pope, closes #9597)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4189
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: code for &quot;old look&quot; is obsolete.
Solution:   Delete obsolete code.  Use &quot;MS Shell Dlg&quot; font. (Ken Takata,
            closes #9596)
Files:      src/gui_w32.c

Patch 8.2.4190
Problem:    All <A HREF="syntax.html#conceal">conceal</A> tests are skipped without the screendumps feature.
Solution:   Only skip the tests that use screendumps. (closes #9599)
Files:      src/testdir/test_conceal.vim

Patch 8.2.4191
Problem:    json5 files are not recognized.
Solution:   Add a <A HREF="pattern.html#pattern">pattern</A> for json5 files. (closes #9601)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4192
Problem:    Cannot use an import in <A HREF="options.html#'printexpr'">'printexpr'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating <A HREF="options.html#'printexpr'">'printexpr'</A>.
Files:      src/evalvars.c, src/testdir/test_vim9_import.vim

Patch 8.2.4193
Problem:    Cannot use an import in <A HREF="options.html#'charconvert'">'charconvert'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating <A HREF="options.html#'charconvert'">'charconvert'</A>.  Also expand
            <A HREF="map.html#script-local">script-local</A> <A HREF="eval.html#functions">functions</A> in <A HREF="options.html#'charconvert'">'charconvert'</A>.
Files:      src/evalvars.c, src/optionstr.c, src/testdir/test_vim9_import.vim

Patch 8.2.4194
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: code for calculating font size is duplicated.
Solution:   Move the code to a function. (Ken Takata, closes #9603)
Files:      src/gui_w32.c

Patch 8.2.4195
Problem:    Resizing <A HREF="terminal.html#terminal">terminal</A> may cause to behave like <A HREF="starting.html#CTRL-Z">CTRL-Z</A>.
Solution:   Set &quot;got_tstp&quot; only when in_mch_suspend is set. (Dorian Bivolaru,
            closes #9602, closes #9586)
Files:      src/os_unix.c

Patch 8.2.4196
Problem:    Various file types not recognized.
Solution:   Add patterns to recognize more file types (closes #9607)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4197
Problem:    Cannot use an import in the &quot;<A HREF="eval.html#expr">expr</A>&quot; part of <A HREF="options.html#'spellsuggest'">'spellsuggest'</A>.
Solution:   Set the <A HREF="usr_41.html#script">script</A> context when evaluating &quot;<A HREF="eval.html#expr">expr</A>&quot; of <A HREF="options.html#'spellsuggest'">'spellsuggest'</A>.
Files:      src/evalvars.c, src/testdir/test_vim9_import.vim

Patch 8.2.4198
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: the switch for executing instructions is too long.
Solution:   Move some code to separate <A HREF="eval.html#functions">functions</A>.
Files:      src/vim9execute.c

Patch 8.2.4199
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Support for MSVC before 2003 is not useful.
Solution:   Remove the exceptions for MSVC 6.0. (Ken Takata, closes #9616)
Files:      src/GvimExt/gvimext.h, src/ex_docmd.c, src/feature.h,
            src/gui_w32.c, src/if_cscope.c, src/if_ole.cpp, src/if_ruby.c,
            src/macros.h, src/os_mswin.c, src/os_win32.c, src/os_win32.h,
            src/proto/os_win32.pro, src/time.c, src/vim.h

Patch 8.2.4200
Problem:    Some tests <A HREF="diff.html#do">do</A> not clean up properly.
Solution:   Delete created files. (Yegappan Lakshmanan, closes #9611)
Files:      src/testdir/test_filetype.vim, src/testdir/test_messages.vim,
            src/testdir/test_vim9_import.vim

Patch 8.2.4201
Problem:    When using the <A HREF="gui.html#GUI">GUI</A> <A HREF="starting.html#CTRL-Z">CTRL-Z</A> does not stop <A HREF="starting.html#gvim">gvim</A>.
Solution:   When using the <A HREF="gui.html#GUI">GUI</A> set SIGTSTP to SIG_DFL. (Andrew Maltsev,
            closes #9570)
Files:      src/os_unix.c

Patch 8.2.4202
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot export function that exists globally.
Solution:   When checking if a function already exists only check for
            <A HREF="map.html#script-local">script-local</A> <A HREF="eval.html#functions">functions</A>. (closes #9615)
Files:      src/userfunc.c, src/proto/userfunc.pro, src/vim.h,
            src/vim9compile.c, src/vim9instr.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4203
Problem:    Entering a character with <A HREF="visual.html#CTRL-V">CTRL-V</A> may include modifiers.
Solution:   Reset &quot;mod_mask&quot; when entering a character with digits after
            <A HREF="visual.html#CTRL-V">CTRL-V</A>. (closes #9610)
Files:      src/edit.c, src/testdir/test_edit.vim

Patch 8.2.4204
Problem:    <A HREF="builtin.html#screenpos()">screenpos()</A> has non-zero row for invisible text.
Solution:   Only add the <A HREF="windows.html#window">window</A> row when the text is visible. (closes #9618)
Files:      src/move.c, src/testdir/test_cursor_func.vim

Patch 8.2.4205
Problem:    The normal_cmd() function is too long.
Solution:   Move parts to separate <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9608)
Files:      src/normal.c

Patch 8.2.4206
Problem:    Condition with many &quot;<A HREF="motion.html#(">(</A>&quot; causes a crash.
Solution:   Limit recursion to 1000.
Files:      src/errors.h, src/eval.c, src/testdir/test_eval_stuff.vim

Patch 8.2.4207 (after 8.2.4206)
Problem:    Recursion test fails with MSVC.
Solution:   Use a smaller limit for MSVC.
Files:      src/eval.c

Patch 8.2.4208
Problem:    Using <A HREF="builtin.html#setbufvar()">setbufvar()</A> may change the <A HREF="windows.html#window">window</A> title.
Solution:   Do not redraw when creating the <A HREF="autocmd.html#autocommand">autocommand</A> <A HREF="windows.html#window">window</A>. (closes #9613)
Files:      src/autocmd.c, src/testdir/test_functions.vim

Patch 8.2.4209
Problem:    <A HREF="builtin.html#partial">partial</A> in <A HREF="options.html#'opfunc'">'opfunc'</A> cannot use an imported function.
Solution:   Also expand the function name in a <A HREF="builtin.html#partial">partial</A>. (closes #9614)
Files:      src/evalvars.c, src/testdir/test_vim9_import.vim

Patch 8.2.4210 (after 8.2.4208)
Problem:    Window title test fails in some configurations.
Solution:   Only run the test if the title can be obtained.
Files:      src/testdir/test_functions.vim

Patch 8.2.4211 (after 8.2.4208)
Problem:    Window title test still fails in some configurations.
Solution:   Use WaitForAssert().
Files:      src/testdir/test_functions.vim

Patch 8.2.4212 (after 8.2.4208)
Problem:    Window title test still fails in some configurations.
Solution:   Explicitly set the <A HREF="options.html#'title'">'title'</A> option.
Files:      src/testdir/test_functions.vim

Patch 8.2.4213
Problem:    Too much code for supporting old MSVC versions.
Solution:   Remove MSVC 2003 support. (Ken Takata, closes #9623)
Files:      Filelist, src/INSTALLpc.txt, src/Make_mvc.mak, src/gui_w32.c,
            src/msvcsetup.bat, src/os_win32.c

Patch 8.2.4214
Problem:    Illegal memory access with large <A HREF="options.html#'tabstop'">'tabstop'</A> in <A HREF="intro.html#Ex">Ex</A> mode.
Solution:   Allocate enough memory.
Files:      src/ex_getln.c, src/testdir/test_ex_mode.vim

Patch 8.2.4215
Problem:    Illegal memory access when <A HREF="uganda.html#copying">copying</A> lines in <A HREF="visual.html#Visual">Visual</A> mode.
Solution:   Adjust the <A HREF="visual.html#Visual">Visual</A> position after <A HREF="uganda.html#copying">copying</A> lines.
Files:      src/ex_cmds.c, src/testdir/test_visual.vim

Patch 8.2.4216
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a function from an <A HREF="eval.html#autoload">autoload</A> import directly.
Solution:   Add the AUTOLOAD instruction to figure out at runtime.
            (closes #9620)
Files:      src/vim9expr.c, src/vim9.h, src/vim9execute.c, src/vim9instr.c,
            src/proto/vim9instr.pro, src/testdir/test_vim9_import.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4217
Problem:    Illegal memory access when <A HREF="undo.html#undo">undo</A> makes <A HREF="visual.html#Visual">Visual</A> area invalid.
Solution:   Correct the <A HREF="visual.html#Visual">Visual</A> area after <A HREF="undo.html#undo">undo</A>.
Files:      src/undo.c, src/testdir/test_visual.vim

Patch 8.2.4218
Problem:    Illegal memory access with bracketed paste in <A HREF="intro.html#Ex">Ex</A> mode.
Solution:   Reserve space for the trailing NUL.
Files:      src/edit.c, src/testdir/test_paste.vim

Patch 8.2.4219
Problem:    Reading before the start of the line.
Solution:   Check boundary before trying to read the character.
Files:      src/register.c, src/testdir/test_visual.vim

Patch 8.2.4220
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: some old compiler support remains.
Solution:   Remove obsolete compiler support. (Ken Takata, closes #9627)
Files:      src/Make_mvc.mak, src/vim.h

Patch 8.2.4221
Problem:    Some <A HREF="eval.html#functions">functions</A> in normal.c are very long.
Solution:   Move code to separate <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9628)
Files:      src/normal.c

Patch 8.2.4222
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: clumsy way to suppress progress on CI.
Solution:   Check for &quot;$CI&quot; in the Makefile itself. (Ken Takata, closes #9631)
Files:      .github/workflows/ci.yml, ci/appveyor.bat, src/Make_mvc.mak

Patch 8.2.4223
Problem:    Long/int compiler warnings; function arguments swapped.
Solution:   Add type casts.  Swap arguments. (Ken Takata, closes #9632)
Files:      src/alloc.c, src/eval.c, src/vim9script.c

Patch 8.2.4224
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error when using a number for <A HREF="builtin.html#map()">map()</A> second argument
Solution:   Disallow number to <A HREF="eval.html#string">string</A> conversion. (closes #9630)
Files:      src/eval.c, src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4225
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: depth argument of <A HREF="eval.html#:lockvar">:lockvar</A> not parsed in <A HREF="vim9.html#:def">:def</A> function.
Solution:   Parse the optional depth argument. (closes #9629)
            Fix that locking doesn't work for a non-materialize <A HREF="eval.html#list">list</A>.
Files:      src/vim9cmds.c, src/evalvars.c, src/structs.h, src/evalfunc.c,
            src/errors.h, src/vim9execute.c, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4226 (after 8.2.4224)
Problem:    Filter-map test fails.
Solution:   Only reject number argument in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/eval.c

Patch 8.2.4227
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using &quot;lockvar!&quot; in <A HREF="vim9.html#:def">:def</A> function does not work.
Solution:   Add &quot;<A HREF="change.html#!">!</A>&quot; instead of &quot;-1&quot;. (closes #9634)
Files:      src/vim9cmds.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4228
Problem:    No tests for clicking in the <A HREF="gui.html#GUI">GUI</A> tabline.
Solution:   Add test <A HREF="eval.html#functions">functions</A> to generate the events.  Add tests using the
            <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan, closes #9638)
Files:      runtime/doc/builtin.txt, runtime/doc/testing.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/normal.c,
            src/proto/testing.pro, src/testdir/test_diffmode.vim,
            src/testdir/test_gui.vim, src/testdir/test_normal.vim,
            src/testing.c

Patch 8.2.4229
Problem:    Possible crash when invoking <A HREF="builtin.html#timer">timer</A> callback fails.
Solution:   Initialize the typval.  Give an error for an empty callback.
            (closes #9636)
Files:      src/time.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4230
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: set_guifontwide() is included but won't work.
Solution:   Include set_guifontwide() only for <A HREF="options.html#X11">X11</A>. (Ken Takata, closes #9640)
Files:      src/gui.c

Patch 8.2.4231
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#map()">map()</A> gives type error when type was not declared.
Solution:   Only check the type when <A HREF="motion.html#it">it</A> was declared, like <A HREF="builtin.html#extend()">extend()</A> does.
            (closes #9635)
Files:      src/list.c, src/evalfunc.c, src/vim9instr.c,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4232 (after 8.2.4231)
Problem:    Some compilers don't like a goto label without statement.
Solution:   Return instead of using a goto.
Files:      src/list.c

Patch 8.2.4233
Problem:    Crash when <A HREF="repeat.html#recording">recording</A> and using <A HREF="visual.html#Select">Select</A> mode.
Solution:   When <A HREF="change.html#deleting">deleting</A> the last recorded character check there is something
            to delete.
Files:      src/getchar.c, src/testdir/test_registers.vim

Patch 8.2.4234
Problem:    <A HREF="testing.html#test_garbagecollect_now()">test_garbagecollect_now()</A> does not check <A HREF="eval.html#v:testing">v:testing</A> <A HREF="motion.html#as">as</A> documented.
Solution:   Give an error if <A HREF="eval.html#v:testing">v:testing</A> is not set.
Files:      src/testing.c, src/errors.h, src/testdir/test_functions.vim

Patch 8.2.4235
Problem:    Invalid check for NULL pointer.
Solution:   Remove the check.
Files:      src/getchar.c

Patch 8.2.4236
Problem:    Accessing freed memory.
Solution:   Set the bh_curr pointer to NULL.
Files:      src/getchar.c

Patch 8.2.4237
Problem:    Record buffer wrong if character in <A HREF="visual.html#Select">Select</A> mode was not typed.
Solution:   Only delete the tail from the record buffer if the character was
            typed. (closes #9650)
Files:      src/normal.c, src/testdir/test_registers.vim

Patch 8.2.4238
Problem:    *.tf file could be <A HREF="filetype.html#filetype">filetype</A> &quot;tf&quot; or &quot;terraform&quot;.
Solution:   Detect the type from the file contents. (closes #9642)
Files:      runtime/filetype.vim, runtime/autoload/dist/ft.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4239
Problem:    Build fails with unusual configuration.
Solution:   Adjust #ifdef. (closes #9651)
Files:      src/testing.c

Patch 8.2.4240
Problem:    Error for using <A HREF="builtin.html#flatten()">flatten()</A> in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> is unclear.
Solution:   Add a remark to use <A HREF="builtin.html#flattennew()">flattennew()</A>.
Files:      src/errors.h

Patch 8.2.4241
Problem:    Some type casts are redundant.
Solution:   Remove the type casts. (closes #9643)
Files:      src/blob.c, src/buffer.c, src/channel.c, src/clientserver.c,
            src/clipboard.c, src/drawline.c, src/drawscreen.c, src/edit.c,
            src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/ex_eval.c,
            src/fold.c, src/if_cscope.c, src/json.c, src/match.c,
            src/memline.c, src/message.c, src/misc1.c, src/normal.c,
            src/ops.c, src/option.c, src/optionstr.c, src/os_unix.c,
            src/register.c, src/sign.c, src/spellfile.c, src/tag.c, src/ui.c,
            src/undo.c, src/window.c

Patch 8.2.4242
Problem:    Put in <A HREF="visual.html#Visual">Visual</A> mode cannot be repeated.
Solution:   Use &quot;<A HREF="change.html#P">P</A>&quot; to put without yanking the deleted text into the unnamed
            <A HREF="sponsor.html#register">register</A>. (Shougo Matsushita, closes #9591)
Files:      runtime/doc/visual.txt, src/normal.c, src/register.c,
            src/testdir/test_visual.vim

Patch 8.2.4243
Problem:    <A HREF="if_lua.html#Lua">Lua</A> tests fail with <A HREF="if_lua.html#Lua">Lua</A> 5.4.4.
Solution:   Check <A HREF="message.html#messages">messages</A> like before <A HREF="if_lua.html#Lua">Lua</A> 5.4.3. (Jakub Kulík, closes #9652)
Files:      src/testdir/test_lua.vim

Patch 8.2.4244
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: warning from MSVC on debug build.
Solution:   Adjust &quot;/opt&quot; <A HREF="options.html#options">options</A>.  Remove unused <A HREF="eval.html#variables">variables</A>.  Make <A HREF="eval.html#variables">variables</A>
            <A HREF="change.html#uppercase">uppercase</A> for consistency. (Ken Takata, closes #9647)
Files:      src/Make_mvc.mak

Patch 8.2.4245
Problem:    &quot;<A HREF="change.html#:retab">:retab</A> 0&quot; may cause illegal memory access.
Solution:   Limit the value of <A HREF="options.html#'tabstop'">'tabstop'</A> to 10000.
Files:      src/option.c, src/vim.h, src/indent.c,
            src/testdir/test_options.vim

Patch 8.2.4246
Problem:    One error message not in errors.h. (Antonio Colombo)
Solution:   Move the message and rename.
Files:      src/errors.h, src/if_perl.xs

Patch 8.2.4247
Problem:    Stack corruption when looking for <A HREF="spell.html#spell">spell</A> suggestions.
Solution:   Prevent the depth increased too much.  Add a five second time
            limit to finding suggestions.
Files:      src/spellsuggest.c, src/testdir/test_spell.vim

Patch 8.2.4248
Problem:    No proper test for moving the <A HREF="windows.html#window">window</A> separator.
Solution:   Add a test.  Add comment in code. (closes #9656)
Files:      src/window.c, src/testdir/test_window_cmd.vim

Patch 8.2.4249
Problem:    The timeout limit for <A HREF="spell.html#spell">spell</A> suggestions is always 5000 milli
            seconds.
Solution:   Add the &quot;timeout&quot; entry to <A HREF="options.html#'spellsuggest'">'spellsuggest'</A>.
Files:      runtime/doc/options.txt, src/spellsuggest.c,
            src/testdir/test_spell.vim

Patch 8.2.4250
Problem:    <A HREF="eval.html#Channel">Channel</A> out callback test is flaky on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Assign high priority to the test process. (Ozaki Kiichi,
            closes #9653)
Files:      src/testdir/test_channel_pipe.py, src/testdir/thread_util.py

Patch 8.2.4251
Problem:    Vala files are not recognized.
Solution:   Add the *.vala <A HREF="pattern.html#pattern">pattern</A>. (closes #9654)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4252
Problem:    Generating the normal command table at runtime is inefficient.
Solution:   Generate the table with a Vim <A HREF="usr_41.html#script">script</A> and put <A HREF="motion.html#it">it</A> in a header file.
            (Yegappan Lakshmanan, closes #9648)
Files:      Filelist, runtime/doc/builtin.txt, runtime/doc/usr_41.txt,
            src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Make_vms.mms,
            src/Makefile, src/create_nvcmdidxs.vim, src/evalfunc.c,
            src/main.c, src/normal.c, src/nv_cmdidxs.h, src/proto/normal.pro

Patch 8.2.4253
Problem:    Using freed memory when substitute uses a recursive function call.
Solution:   Make a copy of the substitute text.
Files:      src/ex_cmds.c, src/testdir/test_substitute.vim

Patch 8.2.4254
Problem:    Using short instead of int.
Solution:   Use int. (closes #9658)
Files:      src/if_cscope.c

Patch 8.2.4255
Problem:    Theoretical computation overflow.
Solution:   Perform multiplication in a wider type. (closes #9657)
Files:      src/alloc.c, src/drawline.c, src/eval.c, src/evalfunc.c,
            src/ex_docmd.c, src/hardcopy.c, src/list.c, src/memfile.c,
            src/memline.c, src/popupwin.c

Patch 8.2.4256
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: compiler warnings when compiled with /W4.
Solution:   Small adjustments to the code. (Ken Takata, closes #9659)
Files:      src/gui_w32.c, src/os_win32.c

Patch 8.2.4257
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: finding global function without <A HREF="eval.html#g:">g:</A> prefix but not finding
            global variable is inconsistent.
Solution:   Require using <A HREF="eval.html#g:">g:</A> for a global function.  Change the vim9.vim
            <A HREF="usr_41.html#script">script</A> into a <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> with exports.  Fix that import in legacy
            <A HREF="usr_41.html#script">script</A> does not work.
Files:      src/vim9expr.c, src/evalfunc.c, src/eval.c, src/userfunc.c,
            src/testdir/vim9.vim, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_import.vim,
            src/testdir/test_vim9_script.vim, src/testdir/test_blob.vim,
            src/testdir/test_execute_func.vim, src/testdir/test_debugger.vim,
            src/testdir/test_expr.vim, src/testdir/test_filter_map.vim,
            src/testdir/test_float_func.vim, src/testdir/test_functions.vim,
            src/testdir/test_glob2regpat.vim, src/testdir/test_highlight.vim,
            src/testdir/test_iminsert.vim, src/testdir/test_ins_complete.vim,
            src/testdir/test_listdict.vim, src/testdir/test_mapping.vim,
            src/testdir/test_normal.vim, src/testdir/test_popupwin.vim,
            src/testdir/test_profile.vim, src/testdir/test_quickfix.vim,
            src/testdir/test_tagfunc.vim, src/testdir/test_textprop.vim,
            src/testdir/test_usercommands.vim

Patch 8.2.4258
Problem:    Coverity warns for array overrun.
Solution:   Restrict depth to MAXWLEN - 1.
Files:      src/spellsuggest.c

Patch 8.2.4259
Problem:    <A HREF="eval.html#Number">Number</A> of test <A HREF="eval.html#functions">functions</A> for <A HREF="gui.html#GUI">GUI</A> events is growing.
Solution:   Use one function with a dictionary. (Yegappan Lakshmanan,
            closes #9660)
Files:      runtime/doc/builtin.txt, runtime/doc/testing.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/proto/testing.pro,
            src/testdir/test_gui.vim, src/testdir/test_vim9_builtin.vim,
            src/testing.c

Patch 8.2.4260
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can still use a global function without <A HREF="eval.html#g:">g:</A> at the <A HREF="usr_41.html#script">script</A>
            level.
Solution:   Also check for <A HREF="eval.html#g:">g:</A> at the <A HREF="usr_41.html#script">script</A> level. (issue #9637)
Files:      src/userfunc.c, src/proto/userfunc.pro, src/evalvars.c,
            src/vim9expr.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_import.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_scroll_11.dump,
            src/testdir/dumps/Test_popupwin_scroll_12.dump

Patch 8.2.4261
Problem:    Accessing invalid memory when a regular <A HREF="eval.html#expression">expression</A> checks the
            <A HREF="visual.html#Visual">Visual</A> area while matching in a <A HREF="eval.html#string">string</A>.
Solution:   Do not try matching the <A HREF="visual.html#Visual">Visual</A> area in a <A HREF="eval.html#string">string</A>.
Files:      src/regexp.c, src/testdir/test_help.vim

Patch 8.2.4262 (after 8.2.4261)
Problem:    Some search tests fail.
Solution:   Use a better way to reject searching for the <A HREF="visual.html#Visual">Visual</A> area.
Files:      src/regexp.c

Patch 8.2.4263
Problem:    No test for the <A HREF="gui.html#GUI">GUI</A> find/replace <A HREF="gui_w32.html#dialog">dialog</A>.
Solution:   Add a test function and a test. (Yegappan Lakshmanan,
            closes #9662)
Files:      runtime/doc/testing.txt, src/testdir/test_gui.vim, src/testing.c

Patch 8.2.4264
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can use old style <A HREF="eval.html#autoload">autoload</A> function name.
Solution:   Give an error for old style <A HREF="eval.html#autoload">autoload</A> function name.
Files:      src/errors.h, src/userfunc.c, src/testdir/test_vim9_import.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim

Patch 8.2.4265 (after 8.2.4264)
Problem:    Autoload tests fails.
Solution:   Use export instead of name with #.
Files:      src/testdir/sautest/autoload/auto9.vim,
            src/testdir/test_autoload.vim, src/testdir/test_ins_complete.vim

Patch 8.2.4266
Problem:    Compiler warning for uninitialized variable.
Solution:   Initialize saved_did_emsg.
Files:      src/userfunc.c

Patch 8.2.4267
Problem:    Unused entry in keymap enum.
Solution:   Remove the entry.
Files:      src/keymap.h

Patch 8.2.4268
Problem:    CI log output is long.
Solution:   Group output in sections. (Ozaki Kiichi, closes #9670)
Files:      .github/workflows/ci.yml

Patch 8.2.4269
Problem:    Coverity warns for using a NULL pointer.
Solution:   Check for &quot;name&quot; to not be NULL.
Files:      src/userfunc.c

Patch 8.2.4270
Problem:    Generating nv_cmdidxs.h requires building Vim <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Move the table into a separate file and use a separate executable
            to extract the command characters. (Ozaki Kiichi, closes #9669)
Files:      src/normal.c, src/nv_cmds.h, Filelist, runtime/doc/builtin.txt,
            runtime/doc/usr_41.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/Make_vms.mms, src/Makefile, src/create_nvcmdidxs.c,
            src/create_nvcmdidxs.vim, src/evalfunc.c, src/proto/normal.pro

Patch 8.2.4271
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build with <A HREF="if_ruby.html#Ruby">Ruby</A> 3.1.0.
Solution:   Adjust the DLL name and include directory. (Ken Takata,
            closes #9666)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.2.4272
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="eval.html#expr">expr</A> test fails without the <A HREF="channel.html#channel">channel</A> feature. (Dominique
            Pellé)
Solution:   Remove &quot;<A HREF="eval.html#g:">g:</A>&quot; before &quot;CheckFeature&quot;. (closes #9671)
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.4273
Problem:    The EBCDIC support is outdated.
Solution:   Remove the EBCDIC support.
Files:      src/ascii.h, src/charset.c, src/cindent.c, src/digraph.c,
            src/edit.c, src/eval.c, src/evalfunc.c, src/ex_cmds.c,
            src/feature.h, src/filepath.c, src/findfile.c, src/getchar.c,
            src/gui.c, src/gui_motif.c, src/hardcopy.c, src/help.c,
            src/macros.h, src/map.c, src/mark.c, src/misc2.c, src/normal.c,
            src/ops.c, src/option.c, src/option.h, src/optiondefs.h,
            src/os_unix.c, src/proto/evalfunc.pro, src/regexp.c,
            src/regexp_bt.c, src/regexp_nfa.c, src/register.c, src/screen.c,
            src/spell.c, src/strings.c, src/structs.h, src/term.c,
            src/version.c, src/viminfo.c, src/testdir/test_edit.vim,
            src/testdir/test_exec_while_if.vim, src/testdir/test_expr.vim,
            src/testdir/test_gf.vim, src/testdir/test_regexp_utf8.vim

Patch 8.2.4274
Problem:    Basic and form <A HREF="filetype.html#filetype">filetype</A> detection is incomplete.
Solution:   Add a separate function for .frm files. (Doug Kearns, closes #9675)
Files:      runtime/autoload/dist/ft.vim, runtime/filetype.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4275
Problem:    Cannot use an <A HREF="eval.html#autoload">autoload</A> function from a package under start.
Solution:   Also look in the &quot;start&quot; package directory. (Bjorn Linse,
            closes #7193)
Files:      src/scriptfile.c, src/testdir/test_packadd.vim

Patch 8.2.4276
Problem:    Separate test function for the <A HREF="gui.html#GUI">GUI</A> scrollbar.
Solution:   Use <A HREF="testing.html#test_gui_event()">test_gui_event()</A>. (Yegappan Lakshmanan, closes #9674)
Files:      runtime/doc/builtin.txt, runtime/doc/testing.txt,
            runtime/doc/usr_41.txt, src/evalfunc.c, src/testing.c,
            src/proto/testing.pro, src/testdir/test_gui.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4277
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: an import does not shadow a command modifier.
Solution:   Do not accept a command modifier followed by a dot.
Files:      src/ex_docmd.c, src/testdir/test_vim9_import.vim

Patch 8.2.4278
Problem:    Build with Athena <A HREF="gui.html#GUI">GUI</A> fails. (Elimar Riesebieter)
Solution:   Add #ifdef.
Files:      src/testing.c

Patch 8.2.4279
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot change item type with <A HREF="builtin.html#map()">map()</A> after <A HREF="builtin.html#range()">range()</A>.
Solution:   Split the return type in current type and declared type.
            (closes #9665)
Files:      src/evalfunc.c, src/proto/evalfunc.pro, src/vim9instr.c,
            src/vim9type.c, src/proto/vim9type.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4280 (after 8.2.4279)
Problem:    list-dict test crashes.
Solution:   Check declared type for <A HREF="builtin.html#add()">add()</A>.
Files:      src/vim9expr.vim

Patch 8.2.4281
Problem:    Using freed memory with <A HREF="quickfix.html#:lopen">:lopen</A> and <A HREF="windows.html#:bwipe">:bwipe</A>.
Solution:   Do not use a wiped out buffer.
Files:      src/buffer.c, src/testdir/test_quickfix.vim

Patch 8.2.4282
Problem:    Restricted mode requires the <A HREF="starting.html#-Z">-Z</A> command line option.
Solution:   Use restricted mode when $SHELL ends in &quot;nologin&quot; or &quot;<A HREF="vim9.html#false">false</A>&quot;.
            (closes #9681)
Files:      runtime/doc/starting.txt, src/option.c,
            src/testdir/test_restricted.vim

Patch 8.2.4283
Problem:    Using a variable for the return value is not needed.
Solution:   Return the value directly. (closes #9687)
Files:      src/ex_docmd.c, src/misc2.c

Patch 8.2.4284
Problem:    Old <A HREF="os_mac.html#mac">mac</A> resources files are no longer used.
Solution:   Delete the unused files. (Ozaki Kiichi, closes #9688)
Files:      Filelist, src/Makefile, src/dehqx.py, src/infplist.xml,
            src/os_mac.rsr.hqx, src/os_mac_rsrc/app.icns,
            src/os_mac_rsrc/doc-txt.icns, src/os_mac_rsrc/doc.icns

Patch 8.2.4285
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type of item in for loop not checked properly.
Solution:   Adjust the type checking. (closes #9683)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/vim9cmds.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.4286
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: strict type checking after <A HREF="builtin.html#copy()">copy()</A> and <A HREF="builtin.html#deepcopy()">deepcopy()</A>.
Solution:   Allow type to change after making a copy. (closes #9644)
Files:      src/eval.c, src/proto/eval.pro, src/dict.c, src/proto/dict.pro,
            src/list.c, src/proto/list.pro, src/evalfunc.c, src/vim9execute.c,
            src/vim9type.c, src/proto/vim9type.pro, src/evalvars.c,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4287
Problem:    Cannot assign empty <A HREF="eval.html#list">list</A> with any <A HREF="eval.html#list">list</A> type to variable with
            specific <A HREF="eval.html#list">list</A> type.
Solution:   Use unknown <A HREF="eval.html#list">list</A> type for empty <A HREF="eval.html#list">list</A> if the specified type is any.
Files:      src/vim9type.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.4288
Problem:    Preprocessor indents are inconsistent.
Solution:   Fix preprocessor indents. (Ken Takata, closes #9691)
Files:      src/arglist.c, src/change.c, src/ex_cmds.c, src/gui.c,
            src/hashtab.c, src/indent.c, src/ops.c, src/os_win32.c

Patch 8.2.4289
Problem:    Warnings reported by MSVC.
Solution:   Rename <A HREF="eval.html#variables">variables</A> and other fixes. (Ken Takata, closes #9689)
Files:      src/cmdexpand.c, src/drawscreen.c, src/filepath.c, src/getchar.c,
            src/menu.c, src/os_win32.c, src/version.c

Patch 8.2.4290
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: using type casts for <A HREF="builtin.html#timer">timer</A> IDs.
Solution:   Remove type casts and use the right type. (Ken Takata,
            closes #9690)  Remove old debug comments.  Rename <A HREF="eval.html#variables">variables</A> and
            <A HREF="eval.html#functions">functions</A>.
Files:      src/gui_w32.c

Patch 8.2.4291
Problem:    Error number used <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Renumber the <A HREF="message.html#errors">errors</A>.
Files:      src/errors.h

Patch 8.2.4292 (after 8.2.4291)
Problem:    Test fails.
Solution:   Adjust the expected error number.
Files:      src/testdir/test_vim9_cmd.vim

Patch 8.2.4293
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: when <A HREF="uganda.html#copying">copying</A> a <A HREF="eval.html#list">list</A> <A HREF="motion.html#it">it</A> gets type list&lt;any&gt; even when the
            original <A HREF="eval.html#list">list</A> did not have a type.
Solution:   Only set the type when the original <A HREF="eval.html#list">list</A> has a type. (closes #9692)
Files:      src/list.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4294
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: #ifdefs for Cygwin are too complicated.
Solution:   Simplify the conditions. (Ken Takata, closes #9693)
Files:      src/evalfunc.c, src/main.c, src/os_unix.c, src/os_win32.c,
            src/os_win32.h

Patch 8.2.4295
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: concatenating two lists may result in wrong type.
Solution:   Remove the type instead of using list&lt;any&gt;. (closes #9692)
Files:      src/list.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4296
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all code covered by tests.
Solution:   Add a few more tests for corner cases.  Fix hang when single <A HREF="change.html#quote">quote</A>
            is missing.
Files:      src/vim9expr.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.4297
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all code covered by tests.
Solution:   Add a couple more tests.
Files:      src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4298
Problem:    Divide by zero with huge tabstop value.
Solution:   Reject tabstop value that overflows to zero.
Files:      src/indent.c, src/testdir/test_vartabs.vim

Patch 8.2.4299
Problem:    <A HREF="autocmd.html#SafeState">SafeState</A> <A HREF="autocmd.html#autocommand">autocommand</A> interferes with debugging.
Solution:   Do not trigger <A HREF="autocmd.html#SafeState">SafeState</A> while debugging. (closes #9697)
Files:      src/main.c

Patch 8.2.4300 (after 8.2.4299)
Problem:    Cannot build tiny version. (Tony Mechelynck)
Solution:   Add #ifdef.
Files:      src/main.c

Patch 8.2.4301
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error for copy of <A HREF="eval.html#dict">dict</A>.
Solution:   Do not use dict&lt;any&gt; but no type. (closes #9696)
Files:      src/dict.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4302
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type of <A HREF="builtin.html#getline()">getline()</A> is too strict.
Solution:   Make the declared type list&lt;any&gt;.  Also <A HREF="diff.html#do">do</A> this for other
            <A HREF="eval.html#functions">functions</A> returning a <A HREF="eval.html#list">list</A> of a specific type.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4303
Problem:    A few <A HREF="message.html#messages">messages</A> should not be translated.
Solution:   Remove _(). (Dominique Pellé, closes #9702)
Files:      src/syntax.c

Patch 8.2.4304
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="builtin.html#slice()">slice()</A> makes a copy but doesn't change the type.
Solution:   Change the declared type like <A HREF="builtin.html#copy()">copy()</A>. (closes #9696)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4305
Problem:    Tex <A HREF="filetype.html#filetype">filetype</A> detection fails.
Solution:   Check value to be positive. (closes #9704)
Files:      runtime/autoload/dist/ft.vim, src/testdir/test_filetype.vim

Patch 8.2.4306
Problem:    No test for fixed <A HREF="if_perl.html#perl">perl</A> <A HREF="filetype.html#filetype">filetype</A> check.
Solution:   Add a test. Sort test <A HREF="eval.html#functions">functions</A>.
Files:      src/testdir/test_filetype.vim

Patch 8.2.4307
Problem:    A few more <A HREF="message.html#messages">messages</A> should not be translated.
Solution:   Remove _().
Files:      src/syntax.c

Patch 8.2.4308
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot <A HREF="eval.html#list">list</A> <A HREF="eval.html#autoload">autoload</A> function.
Solution:   Don't give an error for using # when listing a function.
            (closes #9703)
Files:      src/userfunc.c, src/testdir/test_vim9_import.vim

Patch 8.2.4309
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using a <A HREF="builtin.html#partial">partial</A> in the wrong context.
Solution:   Don't use an NULL outer pointer. (closes #9706)
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim

Patch 8.2.4310
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: constant <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A> get a declaration type other than
            &quot;any&quot;.
Solution:   A constant <A HREF="eval.html#list">list</A> and <A HREF="eval.html#dict">dict</A> have a declared member type &quot;any&quot;.
            (closes #9701)
Files:      src/vim9instr.c, src/vim9type.c, src/proto/vim9type.pro,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4311
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="change.html#changing">changing</A> <A HREF="usr_41.html#script">script</A> variable type not caught at compile time.
Solution:   Set the declared type.
Files:      src/vim9instr.c, src/testdir/test_vim9_assign.vim

Patch 8.2.4312
Problem:    No error for using <A HREF="repeat.html#:vim9script">:vim9script</A> in a <A HREF="vim9.html#:def">:def</A> function.
Solution:   Give an error when compiling.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.4313
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot change type of <A HREF="eval.html#list">list</A> after making a <A HREF="eval.html#slice">slice</A>.
Solution:   Adjust the declared member type. (closes #9696)
Files:      src/vim9expr.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4314 (after 8.2.4312)
Problem:    Test fails where lines are skipped.
Solution:   Only give an error when not skipping commands.
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.4315
Problem:    Put in <A HREF="visual.html#Visual">Visual</A> mode not fully tested.
Solution:   Add a few more test cases. (closes #9708)
Files:      src/testdir/test_visual.vim

Patch 8.2.4316
Problem:    __CYGWIN32__ is not defined on 64 bit systems.
Solution:   Update #ifdefs. (Ken Takata, closes #9709)
Files:      src/main.c, src/os_unix.c, src/pty.c, src/vim.h

Patch 8.2.4317
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Vim exits when <A HREF="if_pyth.html#Python">Python</A> 3 initialisation fails.
Solution:   Hook into the exit() function to recover from the failure.
            (Ken Takata, closes #9710)
Files:      runtime/doc/if_pyth.txt, src/if_python3.c, src/os_win32.c,
            src/errors.h, src/proto/os_win32.pro

Patch 8.2.4318
Problem:    Various comment and indent mistakes, returning wrong zero.
Solution:   Fix the mistakes.  Return NULL instead of FAIL.
Files:      src/clientserver.c, src/eval.c, src/evalvars.c, src/vim9cmds.c,
            src/window.c

Patch 8.2.4319
Problem:    <A HREF="change.html#:put">:put</A> does not work properly in compiled function. (John Beckett)
Solution:   Adjust the direction when using line zero.
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4320
Problem:    Athena and <A HREF="gui_x11.html#Motif">Motif</A>: when maximized scrollbar position is wrong.
Solution:   Implement the scrollbar padding <A HREF="eval.html#functions">functions</A>. (closes #9712)
Files:      src/gui_athena.c, src/gui_motif.c

Patch 8.2.4321
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using a funcref to a <A HREF="eval.html#closure">closure</A>.
Solution:   Copy pt_outer to the new <A HREF="builtin.html#partial">partial</A>. (closes #9714)
Files:      src/evalfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.4322
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using funcref with <A HREF="eval.html#closure">closure</A>.
Solution:   Keep a reference to the funcref that has the outer context.
            (closes #9716)
Files:      src/evalfunc.c, src/structs.h, src/eval.c, src/vim9execute.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.4323
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: nested function name can start with &quot;<A HREF="motion.html#_">_</A>&quot;.
Solution:   Use same rule for function name for nested <A HREF="eval.html#functions">functions</A>.
            (closes #9713)
Files:      src/vim9compile.c, src/testdir/test_vim9_func.vim

Patch 8.2.4324
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="map.html#script-local">script-local</A> function name can start with &quot;<A HREF="motion.html#_">_</A>&quot;.
Solution:   Check for leading capital after &quot;s:&quot;.  Correct error message.
Files:      src/userfunc.c, src/errors.h, src/vim9compile.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.4325
Problem:    <A HREF="options.html#'wildmenu'">'wildmenu'</A> only shows few matches.
Solution:   Add the &quot;pum&quot; option: use a <A HREF="popup.html#popup">popup</A> menu to show the matches.
            (Yegappan Lakshmanan et al., closes #9707)
Files:      runtime/doc/options.txt, src/vim.h, src/cmdexpand.c,
            src/drawscreen.c, src/evalfunc.c, src/ex_getln.c, src/option.h,
            src/optionstr.c, src/popupmenu.c, src/proto/cmdexpand.pro,
            src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_01.dump,
            src/testdir/dumps/Test_wildmenu_pum_02.dump,
            src/testdir/dumps/Test_wildmenu_pum_03.dump,
            src/testdir/dumps/Test_wildmenu_pum_04.dump,
            src/testdir/dumps/Test_wildmenu_pum_05.dump,
            src/testdir/dumps/Test_wildmenu_pum_06.dump,
            src/testdir/dumps/Test_wildmenu_pum_07.dump,
            src/testdir/dumps/Test_wildmenu_pum_08.dump,
            src/testdir/dumps/Test_wildmenu_pum_09.dump,
            src/testdir/dumps/Test_wildmenu_pum_10.dump,
            src/testdir/dumps/Test_wildmenu_pum_11.dump,
            src/testdir/dumps/Test_wildmenu_pum_12.dump,
            src/testdir/dumps/Test_wildmenu_pum_13.dump,
            src/testdir/dumps/Test_wildmenu_pum_14.dump,
            src/testdir/dumps/Test_wildmenu_pum_15.dump,
            src/testdir/dumps/Test_wildmenu_pum_16.dump,
            src/testdir/dumps/Test_wildmenu_pum_17.dump,
            src/testdir/dumps/Test_wildmenu_pum_18.dump,
            src/testdir/dumps/Test_wildmenu_pum_19.dump,
            src/testdir/dumps/Test_wildmenu_pum_20.dump,
            src/testdir/dumps/Test_wildmenu_pum_21.dump,
            src/testdir/dumps/Test_wildmenu_pum_22.dump,
            src/testdir/dumps/Test_wildmenu_pum_23.dump,
            src/testdir/dumps/Test_wildmenu_pum_24.dump,
            src/testdir/dumps/Test_wildmenu_pum_25.dump,
            src/testdir/dumps/Test_wildmenu_pum_26.dump,
            src/testdir/dumps/Test_wildmenu_pum_27.dump,
            src/testdir/dumps/Test_wildmenu_pum_28.dump,
            src/testdir/dumps/Test_wildmenu_pum_29.dump

Patch 8.2.4326
Problem:    &quot;<A HREF="insert.html#o">o</A>&quot; and &quot;<A HREF="insert.html#O">O</A>&quot; <A HREF="uganda.html#copying">copying</A> comment not sufficiently tested.
Solution:   Add a test <A HREF="change.html#case">case</A>. (closes #9718)
Files:      src/testdir/test_textformat.vim

Patch 8.2.4327
Problem:    May end up with no current buffer.
Solution:   When <A HREF="change.html#deleting">deleting</A> the current buffer to not pick a <A HREF="quickfix.html#quickfix">quickfix</A> buffer <A HREF="motion.html#as">as</A>
            the new current buffer.
Files:      src/buffer.c, src/testdir/test_quickfix.vim

Patch 8.2.4328
Problem:    Command line complete matches cleared when typing character.
            (Dominique Pellé)
Solution:   Only remove a <A HREF="popup.html#popup">popup</A> menu if there is one.
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_30.dump,
            src/testdir/dumps/Test_wildmenu_pum_31.dump

Patch 8.2.4329
Problem:    No support for end line number and column in <A HREF="options.html#'errorformat'">'errorformat'</A>.
Solution:   Add &#37;e and &#37;k. (closes #9624)
Files:      runtime/doc/quickfix.txt, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.2.4330
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error if <A HREF="usr_41.html#script">script</A> imports itself.
Solution:   Give an error when a <A HREF="usr_41.html#script">script</A> imports itself.
Files:      src/vim9script.c, src/errors.h, src/testdir/test_vim9_import.vim

Patch 8.2.4331
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test for existing <A HREF="usr_41.html#script">script</A> variable in block.
Solution:   Add a test.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.4332
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: incomplete test for existing <A HREF="usr_41.html#script">script</A> variable in block.
Solution:   Add a couple more tests.  Fix uncovered problem.
Files:      src/userfunc.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/vim9script.c, src/vim9expr.c, src/testdir/test_vim9_func.vim

Patch 8.2.4333
Problem:    cstack not always passed to where <A HREF="motion.html#it">it</A> is needed.
Solution:   Pass cstack through <A HREF="eval.html#functions">functions</A>.
Files:      src/eval.c, src/vim9expr.c, src/vim9script.c,
            src/proto/vim9script.pro, src/vim9compile.c,
            src/proto/vim9compile.pro

Patch 8.2.4334
Problem:    Command line <A HREF="popup.html#popup">popup</A> menu not positioned correctly.
Solution:   Also use vim_strsize() on the existing text. (Naruhiko Nishino,
            closes #9727)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_32.dump

Patch 8.2.4335
Problem:    No <A HREF="autocmd.html#autocommand">autocommand</A> event triggered before <A HREF="change.html#changing">changing</A> directory. (Ronnie
            Magatti)
Solution:   Add <A HREF="autocmd.html#DirChangedPre">DirChangedPre</A>. (closes #9721)
Files:      runtime/doc/autocmd.txt, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/vim.h, src/autocmd.c, src/misc2.c,
            src/testdir/test_autocmd.vim

Patch 8.2.4336
Problem:    Using <A HREF="various.html#:filter">:filter</A> for <A HREF="repeat.html#:scriptnames">:scriptnames</A> does not work. (Ben Jackson)
Solution:   Call message_filtered(). (closes #9720)
Files:      src/scriptfile.c, src/testdir/test_filter_cmd.vim

Patch 8.2.4337
Problem:    Part of condition is always <A HREF="vim9.html#true">true</A>.
Solution:   Remove that part of the condition. (closes #9729)
Files:      src/filepath.c

Patch 8.2.4338
Problem:    An error from an <A HREF="eval.html#expression">expression</A> <A HREF="map.html#mapping">mapping</A> messes up the display.
Solution:   When the <A HREF="eval.html#expression">expression</A> results in an empty <A HREF="eval.html#string">string</A> return K_IGNORE.
            In cmdline mode redraw the command line. (closes #9726)
Files:      src/getchar.c, src/testdir/test_mapping.vim,
            src/testdir/dumps/Test_map_expr_2.dump,
            src/testdir/dumps/Test_map_expr_3.dump,
            src/testdir/dumps/Test_map_expr_4.dump

Patch 8.2.4339
Problem:    <A HREF="change.html#CTRL-A">CTRL-A</A> does not work properly with the cmdline <A HREF="popup.html#popup">popup</A> menu.
Solution:   Fix issues with <A HREF="change.html#CTRL-A">CTRL-A</A>.  Add more tests for the cmdline <A HREF="popup.html#popup">popup</A>
            menu.  Remove TermWait() before VeriryScreenDump().  Refactor the
            cmdline <A HREF="popup.html#popup">popup</A> code. (Yegappan Lakshmanan, closes #9735)
Files:      src/cmdexpand.c, src/ex_getln.c, src/popupmenu.c,
            src/testdir/screendump.vim, src/testdir/test_bufline.vim,
            src/testdir/test_cmdline.vim, src/testdir/test_conceal.vim,
            src/testdir/test_cursorline.vim, src/testdir/test_diffmode.vim,
            src/testdir/test_display.vim, src/testdir/test_highlight.vim,
            src/testdir/test_match.vim, src/testdir/test_popup.vim,
            src/testdir/test_search_stat.vim, src/testdir/test_terminal.vim,
            src/testdir/test_textprop.vim,
            src/testdir/dumps/Test_wildmenu_pum_33.dump,
            src/testdir/dumps/Test_wildmenu_pum_34.dump,
            src/testdir/dumps/Test_wildmenu_pum_35.dump,
            src/testdir/dumps/Test_wildmenu_pum_36.dump,
            src/testdir/dumps/Test_wildmenu_pum_37.dump

Patch 8.2.4340
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: mch_can_exe() is not implemented.
Solution:   Implement mch_can_exe() for <A HREF="os_amiga.html#Amiga">Amiga</A> OS 4. (Ola Söder, closes #9731)
Files:      src/os_amiga.c

Patch 8.2.4341
Problem:    Command line not redrawn when finishing <A HREF="popup.html#popup">popup</A> menu and the screen
            has scrolled up.
Solution:   Redraw the command line after updating the screen. (closes #9722)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_38.dump

Patch 8.2.4342
Problem:    CI will soon switch to other <A HREF="windows.html#windows">windows</A> version.
Solution:   Use &quot;windows-2019&quot; instead of &quot;windows-latest&quot;. (Ozaki Kiichi,
            closes #9740)
Files:      .github/workflows/ci.yml

Patch 8.2.4343
Problem:    When reloading not all properties are detected.
Solution:   Add the &quot;edit&quot; value to <A HREF="eval.html#v:fcs_choice">v:fcs_choice</A>. (Rob Pilling, closes #9579)
Files:      runtime/doc/editing.txt, runtime/doc/eval.txt, src/fileio.c,
            src/proto/fileio.pro, src/message.c, src/spellfile.c,
            src/testdir/test_filechanged.vim

Patch 8.2.4344
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: header file included <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove #include. (Ola Söder, closes #9733)
Files:      src/memfile.c

Patch 8.2.4345
Problem:    <A HREF="cmdline.html#&lt;amatch&gt;">&lt;amatch&gt;</A> is expanded like a file name for <A HREF="autocmd.html#DirChangedPre">DirChangedPre</A>.
Solution:   Do not expand <A HREF="cmdline.html#&lt;amatch&gt;">&lt;amatch&gt;</A>. (closes #9742)  Also for the <A HREF="autocmd.html#User">User</A> event.
Files:      src/autocmd.c, src/testdir/test_autocmd.vim

Patch 8.2.4346
Problem:    A custom statusline may cause Esc to work like Enter on the
            command line when the <A HREF="popup.html#popup">popup</A> menu is displayed.
Solution:   Save and restore KeyTyped. (closes #9749)
Files:      src/drawscreen.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_39.dump

Patch 8.2.4347
Problem:    In some build setups UNUSED is not defined.
Solution:   Change the logic of how UNUSED is defined. (Ola Söder,
            closes #9734)
Files:      src/vim.h

Patch 8.2.4348
Problem:    &quot;legacy exe cmd&quot; does not <A HREF="diff.html#do">do</A> what one would expect.
Solution:   Apply the &quot;legacy&quot; and &quot;<A HREF="vim9.html#vim9script">vim9script</A>&quot; command modifiers to the
            argument of &quot;<A HREF="eval.html#:execute">:execute</A>&quot;.
Files:      runtime/doc/vim9.txt, src/globals.h, src/eval.c, src/ex_docmd.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.4349
Problem:    <A HREF="autocmd.html#FileChangedShell">FileChangedShell</A> test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip the test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_filechanged.vim

Patch 8.2.4350
Problem:    FEAT_GUI_ENABLED defined but never used.
Solution:   Remove the #define. (Ola Söder, closes #9732)
Files:      src/vim.h

Patch 8.2.4351
Problem:    No coverage is measured on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> CI.
Solution:   Enable coverage on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>. (Ozaki Kiichi, closes #9750)
Files:      .github/workflows/ci.yml

Patch 8.2.4352
Problem:    ReScript files are not recognized.
Solution:   Add the *.res and *.resi patterns. (Ananda Umamil, closes #9752)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4353
Problem:    CI does not use the latest <A HREF="if_lua.html#Lua">Lua</A> and <A HREF="if_pyth.html#Python">Python</A>.
Solution:   Use <A HREF="if_lua.html#Lua">Lua</A> 5.4.2 and <A HREF="if_pyth.html#Python">Python</A> 3.10. (closes #9744)
Files:      .github/workflows/ci.yml

Patch 8.2.4354
Problem:    Dynamic loading of libsodium not handled properly.
Solution:   Fix <A HREF="builtin.html#has()">has()</A> and <A HREF="various.html#:version">:version</A>. Show an error message when loading fails.
            Fix memory leaks. (Ken Takata, closes #9754)
Files:      src/crypt.c, src/evalfunc.c, src/gui_dwrite.cpp, src/if_cscope.c,
            src/os_win32.c, src/proto/crypt.pro, src/proto/os_win32.pro,
            src/version.c

Patch 8.2.4355
Problem:    Unnecessary call to check_colorcolumn().
Solution:   Remove the call. (Sean Dewar, closes #9748)
Files:      src/option.c, src/window.c

Patch 8.2.4356
Problem:    Command line completion <A HREF="eval.html#functions">functions</A> are very long.
Solution:   Refactor into multiple <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9753)
Files:      src/cmdexpand.c

Patch 8.2.4357 (after 8.2.4348)
Problem:    sticky command modifiers are too sticky.
Solution:   Do not apply command modifiers to a sourced <A HREF="usr_41.html#script">script</A>. (closes #9751)
Files:      src/scriptfile.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4358
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: line number of exception is not set.
Solution:   Set the line number before throwing an exception. (closes #9755)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.4359
Problem:    crash when repeatedly using <A HREF="change.html#:retab">:retab</A>.
Solution:   Bail out when the line is getting too long.
Files:      src/indent.c, src/testdir/test_retab.vim

Patch 8.2.4360
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: allowing use of &quot;s:&quot; leads to inconsistencies.
Solution:   Disallow using &quot;s:&quot; in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> at the <A HREF="usr_41.html#script">script</A> level.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/errors.h,
            src/vim9compile.c, src/eval.c, src/testdir/vim9.vim,
            src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_import.vim, src/testdir/test_vim9_script.vim

Patch 8.2.4361 (after 8.2.4360)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some tests fail.
Solution:   Fix the tests, mostly by removing &quot;s:&quot;.
Files:      src/testdir/test_expr.vim, src/testdir/test_functions.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_normal.vim,
            src/testdir/test_tagfunc.vim

Patch 8.2.4362
Problem:    <A HREF="change.html#:retab">:retab</A> may allocate too much memory.
Solution:   Bail out when allocating more than MAXCOL bytes.
Files:      src/indent.c

Patch 8.2.4363
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: running out of memory for a very long line.
Solution:   Use a 32 bit value for MAXCOL also when ints are 64 bits.
Files:      src/vim.h

Patch 8.2.4364
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: still running out of memory for a very long line.
Solution:   Check for negative length.
Files:      src/indent.c

Patch 8.2.4365 (after 8.2.4348)
Problem:    sticky command modifiers are too sticky.
Solution:   Do not apply command modifiers to a called function. (closes #9751)
Files:      src/userfunc.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4366
Problem:    Not enough tests for command line completion.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #9760)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim,
            src/testdir/test_usercommands.vim

Patch 8.2.4367
Problem:    Calling in_vim9script() multiple times.
Solution:   Call <A HREF="motion.html#it">it</A> once and keep the result.
Files:      src/userfunc.c, src/eval.c

Patch 8.2.4368
Problem:    <A HREF="os_amiga.html#Amiga">Amiga</A>: a few compiler warnings.
Solution:   Adjust #ifdefs. Add &quot;UNUSED&quot;. (Ola Söder, closes #9756,
            closes #9757)
Files:      src/term.c, src/os_amiga.c

Patch 8.2.4369
Problem:    Redundant #ifdef argument.
Solution:   Remove unused MSWIN. (Ola Söder, closes #9758)
Files:      src/feature.h

Patch 8.2.4370
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: libsodium.dll not included with the installer.
Solution:   Add the file to the installer if <A HREF="motion.html#it">it</A> exists. (Christian Brabandt,
            closes #9762)
Files:      nsis/gvim.nsi

Patch 8.2.4371
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can create a <A HREF="usr_41.html#script">script</A> variable from a legacy function.
Solution:   Disallow creating a <A HREF="usr_41.html#script">script</A> variable from a function.
Files:      src/evalvars.c, src/errors.h, src/testdir/test_vim9_script.vim

Patch 8.2.4372
Problem:    Filetype detection from file contents is in legacy <A HREF="usr_41.html#script">script</A>.
Solution:   Use a compiled function for <A HREF="filetype.html#filetype">filetype</A> detection.
Files:      runtime/scripts.vim, runtime/autoload/dist/script.vim

Patch 8.2.4373
Problem:    Expression test fails.
Solution:   Make the test work with latest <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="syntax.html#syntax">syntax</A>.
Files:      src/testdir/test_expr.vim

Patch 8.2.4374
Problem:    Unreachable code.
Solution:   Remove outdated code lines.
Files:      src/vim9compile.c

Patch 8.2.4375
Problem:    ctx_imports is not used.
Solution:   Delete ctx_imports.  Add missing dependency.
Files:      src/vim9.h, src/vim9compile.c, src/proto/vim9compile.pro,
            src/eval.c, src/evalfunc.c, src/evalvars.c, src/userfunc.c,
            src/vim9expr.c, src/vim9script.c, src/Makefile

Patch 8.2.4376
Problem:    Not enough tests for command line completion.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #9771)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_usercommands.vim

Patch 8.2.4377
Problem:    CI steps for Windows are a bit unorganized.
Solution:   Organize CI test steps on Windows. (Ozaki Kiichi, closes #9764)
Files:      .github/workflows/ci.yml

Patch 8.2.4378
Problem:    Incsearch highlight broken when calling <A HREF="builtin.html#searchcount()">searchcount()</A> in 'tabLine'
            function. (Mirko Palmer)
Solution:   Save and restore the incsearch state. (Christian Brabandt,
            closes #9763, closes #9633)
Files:      src/search.c, src/testdir/test_search_stat.vim,
            src/testdir/dumps/Test_searchstat_inc_1.dump,
            src/testdir/dumps/Test_searchstat_inc_2.dump,
            src/testdir/dumps/Test_searchstat_inc_3.dump

Patch 8.2.4379
Problem:    An empty change is reported to a listener.
Solution:   Do not report an empty change. (closes #9768)  Remove unused
            return value.
Files:      src/undo.c, src/change.c, src/testdir/test_listener.vim

Patch 8.2.4380
Problem:    Small differences between <A HREF="mbyte.html#Chinese">Chinese</A> translation files.
Solution:   Add rule for converting <A HREF="mbyte.html#UTF-8">UTF-8</A> to gb2312. (closes #9773)
Files:      src/po/Makefile, src/po/Make_all.mak

Patch 8.2.4381 (after 8.2.4380)
Problem:    Translation file listed <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Remove one entry.
Files:      src/po/Make_all.mak

Patch 8.2.4382 (after 8.2.4346)
Problem:    A custom <A HREF="options.html#'tabline'">'tabline'</A> may cause Esc to work like Enter on the
            command line when the <A HREF="popup.html#popup">popup</A> menu is displayed.
Solution:   Save and restore KeyTyped. (closes #9776)
Files:      src/drawscreen.c, src/screen.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_40.dump

Patch 8.2.4383
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: unused code lines.
Solution:   Rely on either &quot;cctx&quot; or &quot;cstack&quot; to not be NULL.
Files:      src/vim9compile.c

Patch 8.2.4384
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error message not tested, some code not tested.
Solution:   Add a couple of test cases.  Give an error for a command modifier
            without a command.
Files:      src/errors.h, src/vim9compile.c, src/ex_docmd.c,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_cmd.vim

Patch 8.2.4385 (after 8.2.4384)
Problem:    Cannot build tiny version.
Solution:   Adjust #ifdefs.
Files:      src/errors.h

Patch 8.2.4386 (after 8.2.4384)
Problem:    Still cannot build tiny version.
Solution:   Adjust #ifdefs.
Files:      src/ex_docmd.c

Patch 8.2.4387
Problem:    Command line completion doesn't always work properly.
Solution:   Adjust triggering after a &quot;|&quot;.  Add more tests. (Yegappan
            Lakshmanan, closes #9779)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.4388
Problem:    Dead code in op_insert().
Solution:   Remove condition and else block. (closes #9782)
Files:      src/ops.c

Patch 8.2.4389
Problem:    <A HREF="builtin.html#screenpos()">screenpos()</A> does not handle a position in a closed fold.
Solution:   Check if the position is inside a closed fold. (closes #9778)
Files:      src/move.c, src/testdir/test_cursor_func.vim

Patch 8.2.4390
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#list">list</A> from declaration with inferred type does not set the
            type on the value.
Solution:   When inferring the type in a variable declaration also set the
            type of the <A HREF="eval.html#list">list</A> or dictionary. (closes #9705)  Do not set the
            type when the member is &quot;any&quot;.
Files:      src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4391
Problem:    Command line executed when typing Esc in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Move saving/restoring KeyTyped to build_stl_str_hl().
            (closes #9783)
Files:      src/buffer.c, src/screen.c

Patch 8.2.4392 (after 8.2.4002)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with VIMDLL: Escaping CSI is wrong.
Solution:   Put back #ifdef. (Ken Takata, closes #9769)
Files:      src/getchar.c

Patch 8.2.4393
Problem:    Possible number overflow with nested <A HREF="fold.html#folds">folds</A>.
Solution:   Avoid a negative line number.
Files:      src/fold.c

Patch 8.2.4394 (after 8.2.4392)
Problem:    UTF8 select mode test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Revert the #ifdef change.
Files:      src/getchar.c

Patch 8.2.4395
Problem:    Some code lines not covered by tests.
Solution:   Add a few more test cases.  Fix getting more than one error for
            invalid assignment.
Files:      src/evalvars.c, src/errors.h, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.4396 (after 8.2.4395)
Problem:    Python3 test fails.
Solution:   Remove &quot;let&quot;.
Files:      src/testdir/test_vim9_func.vim

Patch 8.2.4397
Problem:    Crash when using many composing characters in error message.
Solution:   Use mb_cptr2char_adv() instead of mb_ptr2char_adv().
Files:      src/testing.c, src/testdir/test_assert.vim

Patch 8.2.4398
Problem:    Some command completion <A HREF="eval.html#functions">functions</A> are too long.
Solution:   Refactor code into separate <A HREF="eval.html#functions">functions</A>.  Add a few more tests.
            (Yegappan Lakshmanan, closes #9785)
Files:      src/cmdexpand.c, src/ex_getln.c, src/usercmd.c,
            src/proto/usercmd.pro, src/testdir/test_cmdline.vim

Patch 8.2.4399
Problem:    Crash after ml_get error.
Solution:   When returning &quot;???&quot; flush the line and set ml_line_lnum.
Files:      src/memline.c

Patch 8.2.4400 (after 8.2.4394)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot use the mouse in the console with VIMDLL.
Solution:   use add_char2buf() instead of fix_input_buffer(). (closes #9784,
            closes #9769)
Files:      src/getchar.c

Patch 8.2.4401
Problem:    Map listing does not clear the rest of the command line.
Solution:   Call msg_clear_eos(). (closes #5623, closes #5962)
Files:      src/map.c, src/testdir/test_mapping.vim,
            src/testdir/dumps/Test_map_list_1.dump

Patch 8.2.4402
Problem:    Missing parenthesis may cause unexpected problems.
Solution:   Add more parenthesis is macros. (closes #9788)
Files:      src/autocmd.c, src/charset.c, src/drawline.c, src/drawscreen.c,
            src/evalfunc.c, src/fileio.c, src/fold.c, src/getchar.c,
            src/highlight.c, src/memline.c, src/normal.c, src/quickfix.c,
            src/regexp.c, src/search.c, src/sha256.c, src/spell.c,
            src/spellfile.c, src/spellsuggest.c, src/syntax.c, src/window.c

Patch 8.2.4403
Problem:    ml_get error with nested <A HREF="fold.html#folds">folds</A> and <A HREF="change.html#deleting">deleting</A> lines.
Solution:   Correct the last line number before calling hasFoldingWin().
Files:      src/change.c

Patch 8.2.4404
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not covered by tests.
Solution:   Add a few specific test cases.
Files:      src/vim9execute.c, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_import.vim

Patch 8.2.4405
Problem:    Compiler warning for unused variable without the <A HREF="various.html#+folding">+folding</A> feature.
            (Tony Mechelynck)
Solution:   Add #ifdef.
Files:      src/change.c

Patch 8.2.4406
Problem:    Expand <A HREF="eval.html#functions">functions</A> use confusing argument names.
Solution:   Rename &quot;file&quot; to &quot;match&quot;.  Refactor some completion code.  Add a
            few more tests. (Yegappan Lakshmanan, closes #9790)
Files:      src/cmdexpand.c, src/testdir/test_usercommands.vim

Patch 8.2.4407
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not covered by tests.
Solution:   Add more tests.  Avoid giving two <A HREF="message.html#errors">errors</A>.  Remove dead code.
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim, src/testdir/test_vim9_func.vim

Patch 8.2.4408
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not covered by tests.
Solution:   Add a few more tests.  Correct error message.  Allow unlet on <A HREF="eval.html#dict">dict</A>
            with a number key.
Files:      src/vim9execute.c, src/errors.h, src/testdir/test_vim9_assign.vim

Patch 8.2.4409
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not covered by tests.
Solution:   Add a few more tests.  Fix reported line number.
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.4410
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not covered by tests.
Solution:   Add a few more tests. Remove dead code.
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_script.vim

Patch 8.2.4411
Problem:    Bicep files are not recognized.
Solution:   Match *.bicep files. (Dundar Goc, closes #9791)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4412
Problem:    Translation cleanup <A HREF="usr_41.html#script">script</A> does not remove empty lines at end.
Solution:   Remove empty lines at the end. (Ken Takata, closes #9794)
Files:      src/po/cleanup.vim

Patch 8.2.4413
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Coverity warns for using NULL pointer.
Solution:   Give an internal error when funcref function can't be found.
Files:      src/vim9execute.c

Patch 8.2.4414
Problem:    Solidity files are not recognized.
Solution:   Add the *.sol <A HREF="pattern.html#pattern">pattern</A>. (Dundar Goc, closes #9792)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4415
Problem:    Function argument name conflicts with C++ keyword.
Solution:   Rename the argument.
Files:      src/usercmd.c, src/proto/usercmd.pro

Patch 8.2.4416
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using a <A HREF="map.html#script-local">script-local</A> function requires using &quot;s:&quot; when
            setting <A HREF="options.html#'completefunc'">'completefunc'</A>.
Solution:   Do not require &quot;s:&quot; in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #9796)
Files:      runtime/doc/options.txt, src/userfunc.c,
            src/testdir/test_ins_complete.vim

Patch 8.2.4417 (after 8.2.4416)
Problem:    Using NULL pointer.
Solution:   Set offset after checking for NULL pointer.
Files:      src/userfunc.c

Patch 8.2.4418
Problem:    Crash when using special <A HREF="mbyte.html#multi-byte">multi-byte</A> character.
Solution:   Don't use isalpha() for an arbitrary character.
Files:      src/charset.c, src/proto/charset.pro, src/filepath.c,
            src/testdir/test_autochdir.vim

Patch 8.2.4419
Problem:    Illegal memory access when using exactly 20 highlights.
Solution:   Add one more item in the array. (Brandon Richardson,
            closes #9800)
Files:      src/buffer.c, src/testdir/test_tabline.vim

Patch 8.2.4420
Problem:    Menu translations are inconsistent.
Solution:   Add a Makefile to convert between encodings. (Ada (Haowen) Yu,
            closes #9801)
Files:      runtime/lang/Makefile, runtime/lang/menu_af_af.latin1.vim,
            runtime/lang/menu_ca_es.latin1.vim,
            runtime/lang/menu_chinese_gb.936.vim,
            runtime/lang/menu_chinese_taiwan.950.vim,
            runtime/lang/menu_cs_cz.iso_8859-2.vim,
            runtime/lang/menu_cs_cz.utf-8.vim,
            runtime/lang/menu_czech_czech_republic.1250.vim,
            runtime/lang/menu_czech_czech_republic.ascii.vim,
            runtime/lang/menu_da.utf-8.vim,
            runtime/lang/menu_de_de.latin1.vim,
            runtime/lang/menu_eo.utf-8.vim,
            runtime/lang/menu_es_es.latin1.vim,
            runtime/lang/menu_fi_fi.latin1.vim,
            runtime/lang/menu_fr_fr.latin1.vim,
            runtime/lang/menu_hu_hu.iso_8859-2.vim,
            runtime/lang/menu_hu_hu.utf-8.vim,
            runtime/lang/menu_is_is.latin1.vim,
            runtime/lang/menu_it_it.latin1.vim,
            runtime/lang/menu_ja_jp.euc-jp.vim,
            runtime/lang/menu_ja_jp.utf-8.vim,
            runtime/lang/menu_japanese_japan.932.vim,
            runtime/lang/menu_ko_kr.euckr.vim,
            runtime/lang/menu_ko_kr.utf-8.vim,
            runtime/lang/menu_nl_nl.latin1.vim,
            runtime/lang/menu_no_no.latin1.vim,
            runtime/lang/menu_pl_pl.iso_8859-2.vim,
            runtime/lang/menu_pl_pl.utf-8.vim,
            runtime/lang/menu_polish_poland.1250.vim,
            runtime/lang/menu_pt_br.vim, runtime/lang/menu_pt_pt.vim,
            runtime/lang/menu_ru.utf-8.vim,
            runtime/lang/menu_ru_ru.koi8-r.vim,
            runtime/lang/menu_ru_ru.utf-8.vim, runtime/lang/menu_ru_ru.vim,
            runtime/lang/menu_sk_sk.iso_8859-2.vim,
            runtime/lang/menu_sl_si.cp1250.vim,
            runtime/lang/menu_sl_si.latin2.vim,
            runtime/lang/menu_sl_si.utf-8.vim,
            runtime/lang/menu_slovak_slovak_republic.1250.vim,
            runtime/lang/menu_sr_rs.ascii.vim,
            runtime/lang/menu_sr_rs.iso_8859-2.vim,
            runtime/lang/menu_sr_rs.iso_8859-5.vim,
            runtime/lang/menu_sr_rs.utf-8.vim,
            runtime/lang/menu_sv_se.latin1.vim,
            runtime/lang/menu_tr_tr.cp1254.vim,
            runtime/lang/menu_tr_tr.iso_8859-9.vim,
            runtime/lang/menu_tr_tr.utf-8.vim,
            runtime/lang/menu_uk_ua.cp1251.vim,
            runtime/lang/menu_uk_ua.koi8-u.vim,
            runtime/lang/menu_uk_ua.utf-8.vim, runtime/lang/menu_vi_vn.vim,
            runtime/lang/menu_zh_cn.utf-8.vim,
            runtime/lang/menu_zh_tw.utf-8.vim

Patch 8.2.4421
Problem:    Some installed files and directories have wrong permissions.
Solution:   Adjust the Makefile and shell to set permissions. (closes #9793)
Files:      src/Makefile, src/installman.sh

Patch 8.2.4422
Problem:    Autochdir test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Expect another error on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_autochdir.vim

Patch 8.2.4423
Problem:    &quot;make nvcmdidxs&quot; fails.
Solution:   Use &quot;<A HREF="starting.html#-S">-S</A>&quot; instead of &quot;<A HREF="starting.html#-u">-u</A>&quot; to source the <A HREF="usr_41.html#script">script</A>.
Files:      src/Makefile

Patch 8.2.4424
Problem:    &quot;.gts&quot; and &quot;.gjs&quot; files are not recognized.
Solution:   Recognize Glimmer flavored typescript and javascript.
            (closes #9799)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4425
Problem:    <A HREF="builtin.html#map()">map()</A> function does not check function arguments at compile time.
Solution:   Give an error if the arguments of a <A HREF="builtin.html#map()">map()</A> function are wrong.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.4426
Problem:    <A HREF="builtin.html#map()">map()</A> function on <A HREF="eval.html#string">string</A> and <A HREF="eval.html#blob">blob</A> does not check argument types at
            compile time.
Solution:   Check <A HREF="eval.html#string">string</A> and <A HREF="eval.html#blob">blob</A> argument types.  Support &quot;0z1234-&gt;func()&quot;.
Files:      src/vim9compile.c, src/evalfunc.c, src/ex_docmd.c,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4427
Problem:    <A HREF="builtin.html#getchar()">getchar()</A> may return modifiers if no character is available.
Solution:   Do not process modifiers when there is no character. (closes #9806)
Files:      src/getchar.c, src/testdir/test_functions.vim

Patch 8.2.4428
Problem:    Crash when switching <A HREF="tabpage.html#tabpage">tabpage</A> while in the cmdline <A HREF="windows.html#window">window</A>.
Solution:   Disallow switching <A HREF="tabpage.html#tabpage">tabpage</A> when in the cmdline <A HREF="windows.html#window">window</A>.
Files:      src/window.c, src/proto/window.pro, src/evalvars.c,
            src/evalvars.c, src/usercmd.c

Patch 8.2.4429
Problem:    Using <A HREF="map.html#script-local">script-local</A> function from the wrong <A HREF="usr_41.html#script">script</A> when using a
            <A HREF="builtin.html#partial">partial</A>. (Yegappan Lakshmanan)
Solution:   Include the <A HREF="usr_41.html#script">script</A> ID in the <A HREF="builtin.html#partial">partial</A> name.
Files:      src/userfunc.c, src/proto/userfunc.pro, src/evalfunc.c,
            src/vim9type.c, src/testdir/test_vim9_import.vim

Patch 8.2.4430
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: crash when using <A HREF="options.html#'guiligatures'">'guiligatures'</A> and reading from stdin.
Solution:   Make a copy of the message. (Amon Sha, closes #9719, closes #9814)
Files:      src/fileio.c

Patch 8.2.4431
Problem:    Unnecessary condition when assigning to a variable.
Solution:   Remove the condition.
Files:      src/evalvars.c

Patch 8.2.4432 (after 8.2.4428)
Problem:    Cannot use <A HREF="builtin.html#settabvar()">settabvar()</A> while the cmdline <A HREF="windows.html#window">window</A> is open.
Solution:   Only give an error when actually switching <A HREF="tabpage.html#tabpage">tabpage</A>.
            (closes #9813)
Files:      src/window.c

Patch 8.2.4433
Problem:    CI: cannot see interface versions for <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   <A HREF="eval.html#List">List</A> the interface versions. (Ken Takata, closes #9811)
Files:      .github/workflows/ci.yml

Patch 8.2.4434
Problem:    Duplicate check for cmdline <A HREF="windows.html#window">window</A>.
Solution:   Remove the second check. (Sean Dewar, closes #9816)
Files:      src/window.c

Patch 8.2.4435
Problem:    Dead code in checking <A HREF="builtin.html#map()">map()</A> arguments. (Dominique Pellé)
Solution:   Remove the first return statement. (closes #9815)
Files:      src/evalfunc.c

Patch 8.2.4436
Problem:    Crash with weird <A HREF="options.html#'vartabstop'">'vartabstop'</A> value.
Solution:   Check for running into the end of the line.
Files:      src/indent.c, src/testdir/test_vartabs.vim

Patch 8.2.4437
Problem:    Vartabs test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use iso8859-1 <A HREF="options.html#'encoding'">'encoding'</A>. (Ken Takata, closes #9818)
Files:      src/testdir/test_vartabs.vim

Patch 8.2.4438
Problem:    Crash on exit when using cmdline <A HREF="windows.html#window">window</A>.
Solution:   Reset &quot;cmdwin_type&quot; before <A HREF="starting.html#exiting">exiting</A>. (closes #9817)
Files:      src/ui.c, src/testdir/test_exit.vim

Patch 8.2.4439
Problem:    Accepting &quot;iso8859&quot; <A HREF="options.html#'encoding'">'encoding'</A> <A HREF="motion.html#as">as</A> &quot;iso-8859-&quot;.
Solution:   use &quot;iso8859&quot; <A HREF="motion.html#as">as</A> &quot;iso-8859-1&quot;.
Files:      src/mbyte.c, src/testdir/test_options.vim

Patch 8.2.4440
Problem:    Crash with specific <A HREF="pattern.html#regexp">regexp</A> <A HREF="pattern.html#pattern">pattern</A> and <A HREF="eval.html#string">string</A>.
Solution:   Stop at the start of the <A HREF="eval.html#string">string</A>.
Files:      src/regexp_bt.c, src/testdir/test_regexp_utf8.vim

Patch 8.2.4441
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: function argument of <A HREF="builtin.html#filter()">filter()</A> not checked like <A HREF="builtin.html#map()">map()</A>.
Solution:   Also check the function argument of <A HREF="builtin.html#filter()">filter()</A>.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4442 (after 8.2.4438)
Problem:    Test for error reading input fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Don't run the test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_exit.vim

Patch 8.2.4443 (after 8.2.4440)
Problem:    Regexp <A HREF="pattern.html#pattern">pattern</A> test fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Do not use a swapfile for the buffer.
Files:      src/testdir/test_regexp_utf8.vim

Patch 8.2.4444
Problem:    Beep caused by test.  ASAN reports leaks.
Solution:   Do not put a NL at the end of the <A HREF="usr_41.html#script">script</A>.  Make the text work on
            <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.  Do not run the test with ASAN.
Files:      src/testdir/test_exit.vim

Patch 8.2.4445
Problem:    Exit test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> anyway.
Solution:   Skip the test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_exit.vim

Patch 8.2.4446
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot refer to a global function like a local one.
Solution:   When g:name is not a variable but a function, use a function
            reference. (closes #9826)
Files:      src/vim9execute.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4447
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can still use <A HREF="eval.html#s:var">s:var</A> in a compiled function.
Solution:   Disallow using <A HREF="eval.html#s:var">s:var</A> for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #9824)
Files:      runtime/doc/vim9.txt, src/vim9expr.c, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4448 (after 8.2.4447)
Problem:    Filetype detection is failing.
Solution:   Do not use &quot;s:&quot; where <A HREF="motion.html#it">it</A> is no longer allowed.
Files:      runtime/autoload/dist/ft.vim,

Patch 8.2.4449
Problem:    <A HREF="vim9.html#vim9">vim9</A>: function argument of <A HREF="builtin.html#sort()">sort()</A> not checked at compile time.
Solution:   Add a compile time check.
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4450 (after 8.2.4449)
Problem:    <A HREF="eval.html#List">List</A> sort test fails.
Solution:   Pass a valid &quot;how&quot; argument.
Files:      src/testdir/test_listdict.vim

Patch 8.2.4451 (after 8.2.4450)
Problem:    <A HREF="builtin.html#sort()">sort()</A> fails when ignoring <A HREF="change.html#case">case</A>.
Solution:   Accept a number one argument in <A HREF="builtin.html#sort()">sort()</A>.
Files:      src/evalfunc.c, src/testdir/test_listdict.vim

Patch 8.2.4452
Problem:    Test for what 8.2.4436 fixes does not check for regression.
Solution:   Set several <A HREF="options.html#options">options</A>. (Ken Takata, closes #9830)
Files:      src/testdir/test_vartabs.vim

Patch 8.2.4453
Problem:    <A HREF="helphelp.html#:helpgrep">:helpgrep</A> may free an option that was not allocated. (Yegappan
            Lakshmanan)
Solution:   Check if the value was allocated.
Files:      src/option.c, src/proto/option.pro, src/quickfix.c,
            src/testdir/test_quickfix.vim

Patch 8.2.4454
Problem:    Resetting cmdwin_type only for one situation.
Solution:   Reset cmdwin_type before closing <A HREF="windows.html#windows">windows</A>. (closes #9822)
Files:      src/ui.c, src/window.c, src/testdir/test_exit.vim

Patch 8.2.4455
Problem:    Accepting one and zero for the second <A HREF="builtin.html#sort()">sort()</A> argument is strange.
Solution:   Disallow using one and zero in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      runtime/doc/builtin.txt, src/evalfunc.c, src/list.c,
            src/testdir/test_listdict.vim

Patch 8.2.4456
Problem:    Terminal test may fail on some machines.
Solution:   Increase wait time. (Zdenek Dohnal, closes #9834)
Files:      src/testdir/test_terminal.vim

Patch 8.2.4457
Problem:    The GPM library can only be linked statically.
Solution:   Make <A HREF="motion.html#it">it</A> possible to load the GPM library dynamically. (Damien)
Files:      runtime/doc/various.txt, src/config.h.in, src/configure.ac,
            src/Makefile, src/evalfunc.c, src/feature.h, src/os_unix.c,
            src/proto/os_unix.pro, src/version.c

Patch 8.2.4458
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling <A HREF="builtin.html#filter()">filter()</A> call fails with funcref that has unknown
            arguments.
Solution:   Do not check the arguments if they are unknown at compile time.
            (closes #9835)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4459
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compiling <A HREF="builtin.html#sort()">sort()</A> call fails with a funcref that has unknown
            arguments.
Solution:   Do not check the arguments if they are unknown at compile time.
            (closes #9835)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4460
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: wrong error for defining <A HREF="eval.html#dict">dict</A> function.
Solution:   Explicitly check for trying to define a <A HREF="eval.html#dict">dict</A> function.
            (closes 9827)
Files:      src/errors.h, src/userfunc.c, src/vim9compile.c,
            src/testdir/test_vim9_func.vim

Patch 8.2.4461
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: garbage characters on stdout with VIMDLL.
Solution:   Don't call gui_focus_change() when about to quit. (Ken Takata,
            closes #9840)
Files:      src/gui_w32.c

Patch 8.2.4462
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for <A HREF="quickfix.html#quickfix">quickfix</A> code.
Solution:   Add more tests. Fix uncovered problem. (Yegappan Lakshmanan,
            closes #9839)
Files:      src/quickfix.c, src/window.c, src/testdir/test_makeencoding.vim,
            src/testdir/test_quickfix.vim

Patch 8.2.4463
Problem:    Completion only uses strict matching.
Solution:   Add the &quot;fuzzy&quot; item for <A HREF="options.html#'wildoptions'">'wildoptions'</A>. (Yegappan Lakshmanan,
            closes #9803)
Files:      runtime/doc/options.txt, src/buffer.c, src/cmdexpand.c,
            src/option.c, src/option.h, src/optionstr.c,
            src/proto/cmdexpand.pro, src/proto/option.pro,
            src/proto/search.pro, src/search.c, src/structs.h,
            src/testdir/gen_opt_test.vim, src/testdir/test_cmdline.vim

Patch 8.2.4464
Problem:    Dtrace files are recognized <A HREF="motion.html#as">as</A> <A HREF="filetype.html#filetype">filetype</A> <A HREF="change.html#D">D</A>.
Solution:   Add a <A HREF="pattern.html#pattern">pattern</A> for Dtrace files. (Teubel György, closes #9841)
            Add some more <A HREF="testing.html#testing">testing</A>.
Files:      runtime/autoload/dist/ft.vim, runtime/filetype.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4465
Problem:    Fuzzy completion does not order matches properly.
Solution:   Do not use regular <A HREF="eval.html#expression">expression</A> match. (Yegappan Lakshmanan,
            closes #9843)
Files:      src/cmdexpand.c, src/search.c, src/testdir/test_cmdline.vim

Patch 8.2.4466
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: illegal memory access in installer when using
            &quot;create-directories&quot; <A HREF="motion.html#as">as</A> the final argument.
Solution:   Check the argument <A HREF="intro.html#count">count</A>. (Cam Sinclair, closes #9844)
Files:      src/dosinst.c

Patch 8.2.4467
Problem:    Running <A HREF="filetype.html#filetype">filetype</A> test leaves file behind.
Solution:   Delete the file.
Files:      src/testdir/test_filetype.vim

Patch 8.2.4468
Problem:    Coverity warns for uninitialized struct member.
Solution:   Set color.index to zero.
Files:      src/terminal.c

Patch 8.2.4469
Problem:    Coverity warns for uninitialized variable.
Solution:   Set the value to zero.
Files:      src/ex_getln.c

Patch 8.2.4470
Problem:    Coverity warns for uninitialized variable.
Solution:   Set can_spell to zero.
Files:      src/drawline.c

Patch 8.2.4471
Problem:    Coverity warns for uninitialized variable.
Solution:   Set flags to zero.
Files:      src/vim9cmds.c

Patch 8.2.4472
Problem:    Coverity warns for use of a freed function name.
Solution:   Only check an <A HREF="eval.html#autoload">autoload</A> name when is prefixed.
Files:      src/userfunc.c

Patch 8.2.4473
Problem:    Coverity warns for not checking return value of ftell().
Solution:   Bail out if ftell() returns a negative value.
Files:      src/spellfile.c

Patch 8.2.4474
Problem:    Memory allocation failures not tested in <A HREF="quickfix.html#quickfix">quickfix</A> code.
Solution:   Add alloc IDs and tests. (Yegappan Lakshmanan, closes #9848)
Files:      src/alloc.h, src/quickfix.c, src/vim.h,
            src/testdir/test_quickfix.vim

Patch 8.2.4475
Problem:    Fuzzy cmdline completion does not work for lower <A HREF="change.html#case">case</A>.
Solution:   Also use fuzzy completion for lower <A HREF="change.html#case">case</A> input. (Yegappan
            Lakshmanan, closes #9849)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.4476
Problem:    Operator name spelled wrong.
Solution:   Change trinary to <A HREF="eval.html#ternary">ternary</A>. (Goc Dundar, closes #9850)
Files:      src/testdir/test_expr.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.4477
Problem:    Crash when using fuzzy completion.
Solution:   Temporary fix: put back <A HREF="pattern.html#regexp">regexp</A>. (closes #9851)
Files:      src/cmdexpand.c

Patch 8.2.4478
Problem:    Crash when using fuzzy completion.
Solution:   Temporary fix: put back <A HREF="pattern.html#regexp">regexp</A>. (closes #9852, closes #9851)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.4479
Problem:    No fuzzy completion for maps and <A HREF="map.html#abbreviations">abbreviations</A>.
Solution:   Fuzzy complete maps and <A HREF="map.html#abbreviations">abbreviations</A>. (Yegappan Lakshmanan,
            closes #9856)
Files:      src/cmdexpand.c, src/map.c, src/proto/map.pro, src/search.c,
            src/testdir/test_cmdline.vim

Patch 8.2.4480
Problem:    Suspending with <A HREF="starting.html#CTRL-Z">CTRL-Z</A> does not work on Android.
Solution:   Do not handle SIGTSTP. (closes #9854)
Files:      src/os_unix.c

Patch 8.2.4481
Problem:    <A HREF="cmdline.html#Cmdline">Cmdline</A> <A HREF="popup.html#popup">popup</A> menu not removed when <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> is set.
Solution:   Temporarily reset <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> when removing the <A HREF="popup.html#popup">popup</A> menu.
            (closes #9857)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_41.dump

Patch 8.2.4482
Problem:    No fuzzy cmdline completion for user defined completion.
Solution:   Add fuzzy completion for user defined completion. (Yegappan
            Lakshmanan, closes #9858)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim

Patch 8.2.4483
Problem:    Command completion makes two rounds to collect matches.
Solution:   Use a growarray to collect matches. (Yegappan Lakshmanan,
            closes #9860)
Files:      src/buffer.c, src/cmdexpand.c, src/map.c,
            src/testdir/test_cmdline.vim

Patch 8.2.4484
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some error <A HREF="message.html#messages">messages</A> are not tested.
Solution:   Add a few more test cases.  Delete dead code.
Files:      src/vim9execute.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vim9_func.vim

Patch 8.2.4485
Problem:    Compiler warning for uninitialized variable.
Solution:   Initialize the variable. (John Marriott)
Files:      src/cmdexpand.c

Patch 8.2.4486
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: slow <A HREF="scroll.html#scrolling">scrolling</A> with maximized <A HREF="windows.html#window">window</A>.
Solution:   Use a better way to check the <A HREF="windows.html#window">window</A> is on screen. (Ken Takata,
            closes #9865)
Files:      src/gui_w32.c

Patch 8.2.4487
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot compare with <A HREF="eval.html#v:null">v:null</A>.
Solution:   Allow comparing anything with <A HREF="eval.html#v:null">v:null</A>. (closes #9866)
Files:      src/vim9instr.c, src/typval.c, src/proto/typval.pro,
            src/vim9.h, src/vim9execute.c, src/evalvars.c,
            src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4488 (after 8.2.4487)
Problem:    Build error with <A HREF="various.html#+eval">+eval</A> but without <A HREF="various.html#+channel">+channel</A> or <A HREF="various.html#+job">+job</A>.
Solution:   Add #ifdef. (John Marriott)
Files:      src/typval.c

Patch 8.2.4489 (after 8.2.4487)
Problem:    Failing test for comparing <A HREF="eval.html#v:null">v:null</A> with number.
Solution:   Allow comparing <A HREF="eval.html#v:null">v:null</A> with number in legacy <A HREF="usr_41.html#script">script</A>.
            (Ken Takata, closes #9873)  Also <A HREF="diff.html#do">do</A> this for float.
Files:      src/typval.c, src/testdir/test_vimscript.vim

Patch 8.2.4490
Problem:    Terminal focus reporting only works for xterm-like terminals.
            (Jonathan Rascher)
Solution:   Remove the &quot;focus_mode&quot; flag. (closes #9859)
Files:      src/term.c

Patch 8.2.4491
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> makefile dependencies are outdated.
Solution:   Update dependencies. (Ken Takata, closes #9876)
Files:      src/Make_cyg_ming.mak, src/Make_mvc.mak

Patch 8.2.4492
Problem:    No error if an option is given an invalid value with
            &quot;<A HREF="eval.html#:let">:let</A> &amp;opt = val&quot;.
Solution:   Give the error. (closes #9864)
Files:      src/evalvars.c, src/testdir/test_options.vim

Patch 8.2.4493 (after 8.2.4492)
Problem:    Options test fails in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Do not save and restore <A HREF="options.html#'term'">'term'</A>.
Files:      src/testdir/gen_opt_test.vim

Patch 8.2.4494
Problem:    The find_tags() function is much too long.
Solution:   Refactor the function. (Yegappan Lakshmanan, closes #9869)
Files:      src/quickfix.c, src/tag.c, src/testdir/test_tagjump.vim

Patch 8.2.4495
Problem:    Help test fails in 24 line <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Use up to 23 lines for text.
Files:      src/testdir/test_help.vim

Patch 8.2.4496 (after 8.2.4494)
Problem:    Coverity gives warnings after <A HREF="tagsrch.html#tags">tags</A> code refactoring.
Solution:   Avoid the warnings. (Yegappan Lakshmanan, closes #9882)
Files:      src/tag.c

Patch 8.2.4497
Problem:    Wrong color for half of wide character next to pum scrollbar.
Solution:   Redraw the screen cell with the right color. (closes #9874)
Files:      src/screen.c, src/testdir/test_ins_complete.vim,
            src/testdir/dumps/Test_scrollbar_on_wide_char.dump

Patch 8.2.4498
Problem:    Using <A HREF="map.html#&lt;Plug&gt;">&lt;Plug&gt;</A> with &quot;noremap&quot; does not work.
Solution:   Always remap <A HREF="map.html#&lt;Plug&gt;">&lt;Plug&gt;</A>. (closes #9879, closes #9789)
Files:      runtime/doc/map.txt, src/getchar.c, src/testdir/test_mapping.vim

Patch 8.2.4499
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: at the <A HREF="usr_41.html#script">script</A> level declarations leak from try block to
            catch and finally block.
Solution:   End the block and start a new one. (closes #9883)
Files:      src/ex_eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.4500
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can declare a global variable on the command line.
Solution:   Disallow declaring a variable on the command line. (closes #9881)
Files:      src/errors.h, src/evalvars.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/dumps/Test_vim9_reject_declaration.dump

Patch 8.2.4501
Problem:    With <A HREF="options.html#'showbreak'">'showbreak'</A> set and after the end of the line the cursor
            may be displayed in the wrong position.
Solution:   Do not apply <A HREF="options.html#'showbreak'">'showbreak'</A> after the end of the line. (closes #9884)
Files:      src/charset.c, src/testdir/test_breakindent.vim,
            src/testdir/dumps/Test_cursor_position_with_showbreak.dump

Patch 8.2.4502
Problem:    In the <A HREF="gui.html#GUI">GUI</A> a modifier is not recognized for the key typed after
            <A HREF="change.html#CTRL-X">CTRL-X</A>, which may result in a <A HREF="map.html#mapping">mapping</A> to be used. (Daniel
            Steinberg)
Solution:   Recognize a modifier starting with CSI. (closes #9889)
Files:      src/getchar.c, src/testdir/test_ins_complete.vim

Patch 8.2.4503
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: there is no point in supporting <A HREF="various.html#:Print">:Print</A> and <A HREF="term.html#:mode">:mode</A>.
Solution:   Do not recognize <A HREF="various.html#:Print">:Print</A> and <A HREF="term.html#:mode">:mode</A> <A HREF="motion.html#as">as</A> commands. (closes #9870)
Files:      src/ex_docmd.c, src/testdir/test_vim9_script.vim

Patch 8.2.4504
Problem:    When there is a partially matching map and <A HREF="map.html#modifyOtherKeys">modifyOtherKeys</A> is
            active a full map may not work.
Solution:   Only simplify modifiers when there is no matching <A HREF="map.html#mapping">mapping</A>.
            (closes #8792)
Files:      src/getchar.c, src/testdir/test_termcodes.vim

Patch 8.2.4505
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: outdated &quot;autocmd nested&quot; still works.
Solution:   Do not accept the <A HREF="autocmd.html#:autocmd">:autocmd</A> argument &quot;nested&quot; without &quot;++&quot; in <A HREF="vim9.html#Vim9">Vim9</A>
            <A HREF="usr_41.html#script">script</A>.
Files:      src/autocmd.c, src/errors.h, src/testdir/test_autocmd.vim

Patch 8.2.4506
Problem:    &quot;<A HREF="pattern.html#pattern">pattern</A> not found&quot; for <A HREF="repeat.html#:global">:global</A> is not an error message.
Solution:   In <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> make this an actual error, so that try/catch can be
            used <A HREF="motion.html#as">as</A> expected.
Files:      src/ex_cmds.c, src/errors.h, src/testdir/test_global.vim

Patch 8.2.4507 (after 8.2.4506)
Problem:    Test fails because of new error message.
Solution:   Avoid the test fails.
Files:      src/testdir/test_vim9_cmd.vim

Patch 8.2.4508
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot assign to a global variable on the command line.
Solution:   Allow using <A HREF="vim9.html#:vim9cmd">:vim9cmd</A> for assignment on the command line.
Files:      src/evalvars.c, src/testdir/test_vim9_script.vim,
            src/testdir/dumps/Test_vim9_reject_declaration.dump,
            src/testdir/dumps/Test_vim9_reject_declaration_1.dump,
            src/testdir/dumps/Test_vim9_reject_declaration_2.dump

Patch 8.2.4509
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can declare a variable with &quot;:va&quot;.
Solution:   Disallow using &quot;:va&quot;, require using &quot;<A HREF="vim9.html#:var">:var</A>&quot;.
Files:      src/evalvars.c, src/errors.h, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4510
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: shortening commands leads to confusing <A HREF="usr_41.html#script">script</A>.
Solution:   In <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> require at least &quot;:cont&quot; for &quot;<A HREF="eval.html#:continue">:continue</A>&quot;, &quot;const&quot;
            instead of &quot;cons&quot;, &quot;break&quot; instead of &quot;brea&quot;, &quot;catch&quot; instead of
            &quot;cat&quot;, &quot;else&quot; instead of &quot;el&quot; &quot;elseif&quot; instead of &quot;elsei&quot; &quot;endfor&quot;
            instead of &quot;endfo&quot; &quot;endif&quot; instead of &quot;en&quot; &quot;endtry&quot; instead of
            &quot;endt&quot;, &quot;finally&quot; instead of &quot;fina&quot;, &quot;throw&quot; instead of &quot;th&quot;,
            &quot;while&quot; instead of &quot;wh&quot;.
Files:      src/ex_cmds.h, src/ex_docmd.c, src/errors.h, src/evalvars.c,
            src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.4511
Problem:    Filetype test fails.
Solution:   Change &quot;endw&quot; to &quot;endwhile&quot;.
Files:      runtime/autoload/dist/ft.vim

Patch 8.2.4512
Problem:    The find_tags_in_file() function is much too long.
Solution:   Refactor into multiple smaller <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9892)
Files:      Filelist, src/Makefile, src/quickfix.c, src/tag.c,
            src/testdir/test83-tags2, src/testdir/test83-tags3,
            src/testdir/test_tagjump.vim

Patch 8.2.4513
Problem:    Window-local directory is not applied if <A HREF="options.html#'acd'">'acd'</A> fails.
Solution:   Don't call do_autochdir(). (closes #9891)
Files:      src/window.c, src/testdir/test_autochdir.vim

Patch 8.2.4514
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some flow commands can be shortened.
Solution:   Also require using the full name for &quot;<A HREF="eval.html#:return">:return</A>&quot;, &quot;<A HREF="vim9.html#:enddef">:enddef</A>&quot;,
            &quot;<A HREF="eval.html#:continue">:continue</A>&quot;, &quot;<A HREF="vim9.html#:export">:export</A>&quot; and &quot;<A HREF="vim9.html#:import">:import</A>&quot;.
Files:      src/ex_cmds.h, src/ex_docmd.c, src/errors.h, src/userfunc.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.4515
Problem:    Old substitute <A HREF="syntax.html#syntax">syntax</A> is still supported.
Solution:   Disallow using <A HREF="intro.html#backslash">backslash</A> after &quot;<A HREF="change.html#:s">:s</A>&quot; in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/ex_cmds.c, src/errors.h, src/testdir/test_substitute.vim

Patch 8.2.4516 (after 8.2.4515)
Problem:    Build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Move error message outside of #ifdef.
Files:      src/errors.h

Patch 8.2.4517
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot specify location of sodium library.
Solution:   Allow for using a path for SODIUM. (Ken Takata, closes #9896)
Files:      src/Make_cyg_ming.mak

Patch 8.2.4518
Problem:    The binary <A HREF="tagsrch.html#tag">tag</A> search feature is always enabled.
Solution:   Remove the #ifdefs.  Add a few more tests. (Yegappan Lakshmanan,
            closes #9893)
Files:      src/evalfunc.c, src/feature.h, src/tag.c, src/version.c,
            src/testdir/test_tagjump.vim, src/testdir/test_taglist.vim

Patch 8.2.4519
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Can still use &quot;<A HREF="repeat.html#:fini">:fini</A>&quot; and &quot;:finis&quot; for &quot;<A HREF="repeat.html#:finish">:finish</A>&quot;.
Solution:   Require using &quot;<A HREF="repeat.html#:finish">:finish</A>&quot;.
Files:      src/ex_cmds.h, src/testdir/test_vim9_script.vim

Patch 8.2.4520
Problem:    Using wrong highlight for cursor line number.
Solution:   Take filler lines into account when using CursorLineNr.
            (closes #9897)
Files:      src/drawline.c, src/testdir/test_diffmode.vim,
            src/testdir/dumps/Test_diff_with_cursorline_number_01.dump,
            src/testdir/dumps/Test_diff_with_cursorline_number_02.dump

Patch 8.2.4521 (after 8.2.4520)
Problem:    Build failure without the <A HREF="various.html#+diff">+diff</A> feature. (John Marriott)
Solution:   Define filler+lines if not declaring <A HREF="motion.html#it">it</A>.
Files:      src/drawline.c

Patch 8.2.4522 (after 8.2.4492)
Problem:    <A HREF="gui.html#GUI">GUI</A> test fails with <A HREF="gui_x11.html#Motif">Motif</A>. (Dominique Pellé)
Solution:   Remove using an invalid value for <A HREF="options.html#'guifontset'">'guifontset'</A>.
Files:      src/testdir/test_gui.vim

Patch 8.2.4523
Problem:    When <A HREF="starting.html#gvim">gvim</A> is started maximized the <A HREF="options.html#'window'">'window'</A> option isn't set
            properly. (Christian <A HREF="change.html#J">J</A>. Robinson)
Solution:   Check if '<A HREF="windows.html#windows">windows</A>' was already set or not. (Ken Takata,
            closes #9904)
Files:      src/term.c

Patch 8.2.4524
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot build with some sodium libraries.
Solution:   Make the DLL name configurable.  Add build instructions.
            (Ken Takata, closes #9905)
Files:      src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,
            src/crypt.c

Patch 8.2.4525
Problem:    Some <A HREF="gui.html#GUI">GUI</A> tests don't work on Athena.
Solution:   Skip tests that won't work. (Yegappan Lakshmanan, closes #9902)
Files:      src/testdir/test_gui.vim

Patch 8.2.4526
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot set <A HREF="eval.html#variables">variables</A> to a <A HREF="vim9.html#null">null</A> value.
Solution:   Add null_list, null_job, etc.
Files:      runtime/doc/vim9.txt, src/eval.c, src/proto/eval.pro,
            src/vim9expr.c, src/vim9script.c, src/vim9instr.c,
            src/vim9compile.c, src/vim9execute.c, src/vim9.h, src/vim9type.c,
            src/evalvars.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_expr.vim

Patch 8.2.4527
Problem:    The Athena <A HREF="gui.html#GUI">GUI</A> is old and does not work well.
Solution:   Remove the Athena <A HREF="gui.html#GUI">GUI</A> from configure to find out who still wants
            support for this <A HREF="gui.html#GUI">GUI</A>.
Files:      src/configure.ac, src/auto/configure, src/Makefile

Patch 8.2.4528
Problem:    Crash when using null_function for a <A HREF="builtin.html#partial">partial</A>.
Solution:   Don't call fname_trans_sid() with NULL. (closes #9908)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.4529
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: comparing <A HREF="builtin.html#partial">partial</A> with function fails.
Solution:   Support this comparison.  Avoid a crash. (closes #9909)
            Add more test cases.
Files:      src/vim9instr.c, src/userfunc.c, src/vim9type.c,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vimscript.vim

Patch 8.2.4530
Problem:    Making comparison with <A HREF="vim9.html#null">null</A> work changes legacy behavior.
Solution:   Only use the better comparison in <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>. (closes #9910)
Files:      src/typval.c, src/testdir/test_expr.vim

Patch 8.2.4531
Problem:    LGTM warnings for condition always <A HREF="vim9.html#true">true</A> and buffer size too small.
Solution:   Remove the useless condition.  Make the buffer larger. (Goc
            Dundar, closes #9914)
Files:      src/charset.c, src/term.c

Patch 8.2.4532
Problem:    Suspending with <A HREF="starting.html#CTRL-Z">CTRL-Z</A> does not work on OpenBSD.
Solution:   Adjust #ifdef for SIGTSTP. (Stuart Henderson, closes #9912)
Files:      src/os_unix.c

Patch 8.2.4533
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no test that after assigning <A HREF="vim9.html#null">null</A> the type is still checked.
Solution:   Add a test.
Files:      src/testdir/test_vim9_assign.vim

Patch 8.2.4534
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;is&quot; <A HREF="motion.html#operator">operator</A> with empty <A HREF="eval.html#string">string</A> and <A HREF="vim9.html#null">null</A> returns <A HREF="vim9.html#true">true</A>.
Solution:   Consider empty <A HREF="eval.html#string">string</A> and <A HREF="vim9.html#null">null</A> to be different for &quot;is&quot;.
Files:      src/typval.c, src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4535
Problem:    Filename modifier &quot;:8&quot; removes the filename.
Solution:   Use strncpy() instead of vim_strncpy(). (Christian Brabandt,
            closes #9918, closes #8600)
Files:      src/filepath.c, src/testdir/test_shortpathname.vim

Patch 8.2.4536 (after 8.2.4534)
Problem:    Debugger test fails when breaking on <A HREF="eval.html#expression">expression</A>.
Solution:   Compare strings with &quot;<A HREF="change.html#==">==</A>&quot; instead of &quot;is&quot;.
Files:      src/debugger.c

Patch 8.2.4537
Problem:    Output from linter and language server shows up in git.
Solution:   Add patterns to .gitignore. (Goc Dundar, closes #9925)
Files:      .gitignore

Patch 8.2.4538
Problem:    The find_tags_in_file() function is too long.
Solution:   Refactor into smaller <A HREF="eval.html#functions">functions</A>. (Yegappan Lakshmanan,
            closes #9920)
Files:      src/tag.c, src/testdir/test_tagjump.vim

Patch 8.2.4539
Problem:    When comparing special <A HREF="eval.html#v:none">v:none</A> and <A HREF="eval.html#v:null">v:null</A> are handled the same when
            compiling.
Solution:   Pass more information so that <A HREF="eval.html#v:none">v:none</A> can be handled differently at
            compile time.  (issue #9923)
Files:      src/vim9instr.c, src/vim9compile.c, src/globals.h,
            src/testdir/test_vim9_expr.vim

Patch 8.2.4540
Problem:    Line number for error is off by one.
Solution:   Remember the line number of the comparison. (closes #9923)
Files:      src/eval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4541
Problem:    Crash in debugger when a variable is not available in the current
            block.
Solution:   Check for a NULL name. (closes #9926)
Files:      src/vim9execute.c, src/testdir/test_debugger.vim

Patch 8.2.4542
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: &quot;break&quot; inside try/catch not handled correctly.
Solution:   First jump to <A HREF="eval.html#:endtry">:endtry</A>. (closes #9927)
Files:      src/vim9cmds.c, src/vim9.h, src/testdir/test_vim9_script.vim

Patch 8.2.4543
Problem:    Coverity warning for refactored <A HREF="tagsrch.html#tag">tag</A> search code.
Solution:   Avoid the warnings.  Update comments.  Add one more test <A HREF="change.html#case">case</A>.
            (Yegappan Lakshmanan, closes #9928)
Files:      src/tag.c, src/testdir/test_tagjump.vim

Patch 8.2.4544
Problem:    Coverity warnings for not using returned value.
Solution:   Assign to vim_ignored.
Files:      src/tag.c

Patch 8.2.4545
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: the installed icon is low resolution.
Solution:   Use a better icon.  Install vim.ico. (Christian Brabandt,
            closes #9931, closes #9930)
Files:      Filelist, nsis/gvim.nsi, src/vim.ico, runtime/bitmaps/vim.ico

Patch 8.2.4546
Problem:    Duplicate #undef.
Solution:   Remove one #undef. (closes #9932)
Files:      src/regexp_nfa.c

Patch 8.2.4547
Problem:    The neXTaw <A HREF="gui.html#GUI">GUI</A> is old and does not work well.
Solution:   Remove the neXTaw <A HREF="gui.html#GUI">GUI</A> from configure to find out who still wants
            support for this <A HREF="gui.html#GUI">GUI</A>.
Files:      src/configure.ac, src/auto/configure, src/Makefile

Patch 8.2.4548
Problem:    Script-local function is deleted when used in a funcref.
Solution:   Do not consider a function starting with &quot;<A HREF="map.html#&lt;SNR&gt;">&lt;SNR&gt;</A>&quot; reference
            counted. (closes #9916, closes #9820)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.4549
Problem:    Cannot build with <A HREF="gui_x11.html#Motif">Motif</A> and editres. (Tony Mechelynck)
Solution:   Fix configure mistake.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.4550
Problem:    <A HREF="gui_x11.html#Motif">Motif</A>: cannot set the color of the scrollbar thumb.
Solution:   Remove #ifdef.
Files:      src/gui_motif.c

Patch 8.2.4551
Problem:    When <A HREF="map.html#mapping">mapping</A> <A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A> <A HREF="terminal.html#terminal">terminal</A> codes are not recognized.
Solution:   Specifically recognize a <A HREF="map.html#mapping">mapping</A> with just <A HREF="intro.html#&lt;Esc&gt;">&lt;Esc&gt;</A> and check for
            <A HREF="terminal.html#terminal">terminal</A> codes even though there is no <A HREF="builtin.html#partial">partial</A> <A HREF="map.html#mapping">mapping</A>.
            (closes #9903)
Files:      src/getchar.c, src/testdir/test_termcodes.vim

Patch 8.2.4552
Problem:    In a <A HREF="vim9.html#:def">:def</A> function &quot;put = expr&quot; does not work.
Solution:   Skip over white space. (closes #9936)
Files:      src/vim9cmds.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4553
Problem:    Linear <A HREF="tagsrch.html#tag">tag</A> search is a bit slow.
Solution:   Remove a vim_ftell() call. (Yegappan Lakshmanan, closes #9937)
Files:      src/tag.c, src/testdir/test_taglist.vim

Patch 8.2.4554
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using <A HREF="vim9.html#null">null</A> values not sufficiently tested.
Solution:   Add more tests.  Fix uncovered problem.
Files:      src/vim9type.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.4555
Problem:    <A HREF="builtin.html#getmousepos()">getmousepos()</A> returns the wrong column. (Ernie Rael)
Solution:   Limit to the text size, not the number of bytes.
Files:      src/mouse.c, src/testdir/test_functions.vim

Patch 8.2.4556
Problem:    Test fails without the <A HREF="various.html#+job">+job</A> or <A HREF="various.html#+channel">+channel</A> feature. (Dominique Pellé)
Solution:   Adjust #ifdefs.  Pass on skip flag. (closes #9942)
Files:      src/eval.c, src/vim9compile.c

Patch 8.2.4557
Problem:    Confusing comment about <A HREF="options.html#'cursorlineopt'">'cursorlineopt'</A>.
Solution:   Adjust comment.  (closes #9939)  Add parenthesis around logical
            OR.
Files:      src/drawline.c

Patch 8.2.4558
Problem:    <A HREF="gui_x11.html#Motif">Motif</A>: using default colors does not work <A HREF="motion.html#as">as</A> expected.
Solution:   Do not try to store the default colors, use the resources.
            (closes #9933)
Files:      src/gui_motif.c, src/gui.h

Patch 8.2.4559 (after 8.24555)
Problem:    <A HREF="builtin.html#getmousepos()">getmousepos()</A> returns the screen column. (Ernie Rael)
Solution:   Return the text column, <A HREF="motion.html#as">as</A> documented.
Files:      src/mouse.c, src/testdir/test_functions.vim

Patch 8.2.4560
Problem:    Suspending with <A HREF="starting.html#CTRL-Z">CTRL-Z</A> does not work on DragonFlyBSD.
Solution:   Adjust #ifdef. (Ozaki Kiichi, closes #9943)
Files:      src/os_unix.c

Patch 8.2.4561
Problem:    Build failure with some combination of features. (John Marriott)
Solution:   Adjust #ifdef.
Files:      src/mouse.c

Patch 8.2.4562
Problem:    Linear <A HREF="tagsrch.html#tag">tag</A> search is not optimal.
Solution:   Improve linear <A HREF="tagsrch.html#tag">tag</A> search performance. (Yegappan Lakshmanan,
            closes #9944)
Files:      src/tag.c

Patch 8.2.4563
Problem:    &quot;<A HREF="spell.html#z=">z=</A>&quot; in <A HREF="visual.html#Visual">Visual</A> mode may go beyond the end of the line.
Solution:   Adjust &quot;badlen&quot;.
Files:      src/spellsuggest.c, src/testdir/test_spell.vim

Patch 8.2.4564
Problem:    Running test leaves file behind.  (Dominique Pellé)
Solution:   Run the <A HREF="repeat.html#profiling">profiling</A> in a separate Vim instance. (closes #9952)
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4565
Problem:    No command line completion for <A HREF="repeat.html#:breakadd">:breakadd</A> and <A HREF="repeat.html#:breakdel">:breakdel</A>.
Solution:   Add completion for <A HREF="repeat.html#:breakadd">:breakadd</A> and <A HREF="repeat.html#:breakdel">:breakdel</A>. (Yegappan Lakshmanan,
            closes #9950)
Files:      runtime/doc/builtin.txt, src/cmdexpand.c, src/spellsuggest.c,
            src/usercmd.c, src/vim.h, src/testdir/test_cmdline.vim,
            src/testdir/test_writefile.vim

Patch 8.2.4566
Problem:    Check for existing buffer in session file does not work for files
            in the home directory.
Solution:   Use <A HREF="builtin.html#fnamemodify()">fnamemodify()</A>. (James Cherti, closes #9945)  Add a test.
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.4567
Problem:    Bracketed paste doesn't work well in <A HREF="visual.html#Visual">Visual</A> <A HREF="motion.html#linewise">linewise</A> mode.
Solution:   Handle <A HREF="motion.html#linewise">linewise</A> <A HREF="visual.html#Visual">Visual</A> mode differently. (closes #9947)
Files:      src/normal.c, src/testdir/test_paste.vim

Patch 8.2.4568
Problem:    <A HREF="builtin.html#getmousepos()">getmousepos()</A> does not compute the column below the last line.
Solution:   Also compute the column when the mouse is below the last line.
            (Sean Dewar, closes #9946)
Files:      src/mouse.c, src/testdir/test_functions.vim

Patch 8.2.4569
Problem:    Coverity warning for not using a return value.
Solution:   Add &quot;(void)&quot;.
Files:      src/popupwin.c

Patch 8.2.4570
Problem:    No command line completion for <A HREF="repeat.html#:profile">:profile</A> and <A HREF="repeat.html#:profdel">:profdel</A>.
Solution:   Implement completion. (Yegappan Lakshmanan, closes #9955)
Files:      src/cmdexpand.c, src/profiler.c, src/testdir/test_cmdline.vim,
            src/testdir/test_profile.vim

Patch 8.2.4571
Problem:    Not all <A HREF="debug.html#gdb">gdb</A> files are recognized.
Solution:   Add a few more patterns for <A HREF="debug.html#gdb">gdb</A>. (Jade Lovelace, closes #9956)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4572
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: return type &quot;any&quot; is sometimes changed to first returned
            type.  (Virginia Senioria)
Solution:   Do not change the return type if declared <A HREF="motion.html#as">as</A> &quot;any&quot;. (closes #9949)
Files:      src/vim9cmds.c, src/testdir/test_vim9_func.vim

Patch 8.2.4573
Problem:    A nested function (closure) is compiled for debugging without
            context.
Solution:   Check if a nested function is marked for debugging before
            compiling <A HREF="motion.html#it">it</A>.  Give an error when trying to compile a <A HREF="eval.html#closure">closure</A>
            without its context. (closes #9951)
Files:      src/vim9compile.c, src/vim9execute.c, src/proto/vim9execute.pro,
            src/vim9expr.c, src/errors.h

Patch 8.2.4574
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for <A HREF="repeat.html#profiling">profiling</A> fails.
Solution:   <A HREF="motion.html#Mark">Mark</A> function for <A HREF="repeat.html#profiling">profiling</A> earlier to avoid <A HREF="vim9.html#E1271">E1271</A>.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4575
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test for <A HREF="repeat.html#profiling">profiling</A> still fails.
Solution:   Update flags for <A HREF="repeat.html#profiling">profiling</A> and breakpoints when obtaining the
            compile type.  Do not set the FC_CLOSURE flag for a toplevel
            function.
Files:      src/vim.h, src/vim9compile.c, src/proto/vim9compile.pro,
            src/eval.c, src/vim9execute.c, src/vim9expr.c, src/vim9instr.c,
            src/vim9.h

Patch 8.2.4576
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: error for comparing with <A HREF="vim9.html#null">null</A> can be annoying.
Solution:   Allow comparing anything with <A HREF="vim9.html#null">null</A>. (closes #9948)
Files:      src/vim9instr.c, src/typval.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4577
Problem:    Message test is flaky. (Elimar Riesebieter)
Solution:   Trigger the <A HREF="autocmd.html#autocommand">autocommand</A> event only after <A HREF="starting.html#startup">startup</A> is finished.
Files:      src/testdir/test_messages.vim

Patch 8.2.4578
Problem:    No warning when an <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> for completion function has an
            error.
Solution:   Do not ignore <A HREF="message.html#errors">errors</A> when a function name is given with a dot or
            '<A HREF="pattern.html##">#</A>' character. (closes #9958)
Files:      src/eval.c, src/testdir/test_cmdline.vim

Patch 8.2.4579
Problem:    Cannot use <A HREF="intro.html#page-up">page-up</A> and <A HREF="intro.html#page-down">page-down</A> in the command line completion
            <A HREF="popup.html#popup">popup</A> menu.
Solution:   Check for to <A HREF="intro.html#page-up">page-up</A> and <A HREF="intro.html#page-down">page-down</A> keys. (Yegappan Lakshmanan,
            closes #9960)
Files:      src/cmdexpand.c, src/ex_getln.c, src/spellsuggest.c, src/vim.h,
            src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_pum_42.dump,
            src/testdir/dumps/Test_wildmenu_pum_43.dump,
            src/testdir/dumps/Test_wildmenu_pum_44.dump,
            src/testdir/dumps/Test_wildmenu_pum_45.dump,
            src/testdir/dumps/Test_wildmenu_pum_46.dump,
            src/testdir/dumps/Test_wildmenu_pum_47.dump,
            src/testdir/dumps/Test_wildmenu_pum_48.dump,
            src/testdir/dumps/Test_wildmenu_pum_49.dump,
            src/testdir/dumps/Test_wildmenu_pum_50.dump

Patch 8.2.4580
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: incorrect error for shadowing variable.
Solution:   Do not pass the context when compiling a referenced function.
Files:      src/vim9expr.c, src/testdir/test_vim9_func.vim

Patch 8.2.4581
Problem:    Null types not fully tested.
Solution:   Add some more tests using <A HREF="vim9.html#null">null</A> types.
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.4582
Problem:    Useless code handling a type declaration.
Solution:   Remove the code and give an error.
Files:      src/eval.c, src/errors.h, src/testdir/test_vim9_script.vim,
            src/testdir/dumps/Test_misplaced_type.dump

Patch 8.2.4583 (after 8.2.4582)
Problem:    Screendump test fails.
Solution:   Check that making a screendump is possible.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4584 (after 8.2.4578)
Problem:    Error for using <A HREF="eval.html#autoload">autoload</A> function in custom completion.
Solution:   Do not check for <A HREF="message.html#errors">errors</A> when using an <A HREF="eval.html#autoload">autoload</A> function.
            (closes #9962)
Files:      src/eval.c, src/testdir/test_cmdline.vim

Patch 8.2.4585
Problem:    Cannot use keypad page-up/down for completion menu.
Solution:   Recognize the keypad keys. (Yegappan Lakshmanan, closes #9963)
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.4586
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for using lower <A HREF="change.html#case">case</A> name for &quot;func&quot; argument.
            (Ernie Rael)
Solution:   Check the name <A HREF="motion.html#as">as</A> soon <A HREF="motion.html#as">as</A> the type is known.
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.4587
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: double free after unpacking a <A HREF="eval.html#list">list</A>.
Solution:   Make a copy of the value instead of moving <A HREF="motion.html#it">it</A>. (closes #9968)
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim

Patch 8.2.4588
Problem:    Mapping with key code after other matching <A HREF="map.html#mapping">mapping</A> does not work.
Solution:   Change &quot;<A HREF="change.html#&gt;">&gt;</A>&quot; to &quot;&gt;=&quot;. (closes #9903)
Files:      src/getchar.c, src/testdir/test_termcodes.vim

Patch 8.2.4589
Problem:    Cannot index the <A HREF="eval.html#g:">g:</A> dictionary.
Solution:   Recognize using &quot;g:[key]&quot;. (closes #9969)
Files:      src/ex_docmd.c, src/eval.c, src/vim9compile.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4590
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: range type check has wrong offset.
Solution:   Adjust offset for CHECKTYPE.  Remove other type check.
Files:      src/vim9compile.c, src/vim9execute.c,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4591
Problem:    Cursor line not updated when a callback moves the cursor.
Solution:   Check if the cursor moved. (closes #9970)
Files:      src/main.c, src/drawscreen.c, src/proto/drawscreen.pro,
            src/testdir/test_cursorline.vim,
            src/testdir/dumps/Test_cursorline_callback_1.dump

Patch 8.2.4592
Problem:    Search continues after giving <A HREF="pattern.html#E1204">E1204</A>.
Solution:   Return failure after giving <A HREF="pattern.html#E1204">E1204</A>. (closes #9972)
Files:      src/regexp_nfa.c

Patch 8.2.4593
Problem:    Unnecessary call to redraw_later().
Solution:   Remove the call to redraw_later() in op_yank(). (closes #9971)
Files:      src/register.c

Patch 8.2.4594
Problem:    Need to write <A HREF="usr_41.html#script">script</A> to a file to be able to source them.
Solution:   Make &quot;<A HREF="repeat.html#:source">:source</A>&quot; use lines from the current buffer. (Yegappan
            Lakshmanan et al., closes #9967)
Files:      runtime/doc/repeat.txt, runtime/doc/todo.txt, src/alloc.c,
            src/digraph.c, src/eval.c, src/ex_cmds.h, src/scriptfile.c,
            src/proto/scriptfile.pro, src/vim9script.c,
            src/testdir/test_source.vim

Patch 8.2.4595
Problem:    <A HREF="options.html#X11">X11</A>: using <A HREF="remote.html#--remote-wait">--remote-wait</A> may keep the CPU busy.
Solution:   Set the timeout for select() on every call. (Jacopo Secchiero,
            closes #9973)
Files:      src/if_xcmdsrv.c

Patch 8.2.4596
Problem:    Installing <A HREF="usr_01.html#tutor">tutor</A> binary may fail.
Solution:   Fix the dependency. (Sergei Trofimovich, closes #9978)
Files:      src/Makefile

Patch 8.2.4597
Problem:    LuaV_debug() not covered by tests.
Solution:   Add a test. (Dominique Pellé, closes #9980)
Files:      src/testdir/test_lua.vim

Patch 8.2.4598
Problem:    Profile completion test sometimes fails.
Solution:   Delete the .res file before running tests.
Files:      src/testdir/runtest.vim

Patch 8.2.4599
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: get assertion <A HREF="message.html#errors">errors</A> when <A HREF="scroll.html#scrolling">scrolling</A> a split <A HREF="windows.html#window">window</A>.
Solution:   Use GDK_IS_DRAWABLE() on the scrollbar <A HREF="windows.html#window">window</A>. (closes #9982)
Files:      src/gui_gtk.c

Patch 8.2.4600
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough test coverage for executing <A HREF="vim9.html#:def">:def</A> function.
Solution:   Add a few more tests.  Fix inconsistencies.
Files:      src/vim9execute.c, src/evalvars.c, src/proto/evalvars.pro,
            src/testdir/test_listdict.vim, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.4601
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough test coverage for executing <A HREF="vim9.html#:def">:def</A> function.
Solution:   Add a few more tests.
Files:      src/testdir/test_vim9_script.vim, src/testdir/test_vim9_func.vim,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.4602
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not enough test coverage for executing <A HREF="vim9.html#:def">:def</A> function.
Solution:   Add a few more tests.  Fix uncovered problem.  Remove dead code.
Files:      src/vim9execute.c, src/vim9.h, src/vim9instr.c,
            src/proto/vim9instr.pro, src/vim9compile.c,
            src/testdir/test_vim9_script.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.4603
Problem:    Sourcing buffer lines is too complicated.
Solution:   Simplify the code. Make <A HREF="motion.html#it">it</A> possible to source <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A> lines.
            (Yegappan Lakshmanan, closes #9974)
Files:      runtime/doc/repeat.txt, src/ex_docmd.c, src/proto/scriptfile.pro,
            src/scriptfile.c, src/structs.h, src/testdir/test_source.vim

Patch 8.2.4604
Problem:    Error for redefining a <A HREF="usr_41.html#script">script</A> item may be confusing.
Solution:   Put <A HREF="quotes.html#quotes">quotes</A> around the name.
Files:      src/errors.h

Patch 8.2.4605
Problem:    Error for arguments of <A HREF="builtin.html#remote_expr()">remote_expr()</A> even when the <A HREF="various.html#+clientserver">+clientserver</A>
            feature is not included.
Solution:   Move #ifdef.
Files:      src/clientserver.c

Patch 8.2.4606 (after 8.2.4605)
Problem:    Test fails because of changed error message.
Solution:   Update the expected error message
Files:      src/testdir/test_vim9_import.vim

Patch 8.2.4607
Problem:    Sourcing buffer lines may lead to <A HREF="message.html#errors">errors</A> for conflicts.
Solution:   Add the ++clear argument. (Yegappan Lakshmanan, closes #9991)
Files:      runtime/doc/repeat.txt, src/scriptfile.c, src/vim9script.c,
            src/proto/vim9script.pro, src/testdir/test_source.vim

Patch 8.2.4608
Problem:    <A HREF="builtin.html#getcompletion()">getcompletion()</A> does not work properly when 'wildoptions
            contains &quot;fuzzy&quot;.
Solution:   Do not use addstar(). (Yegappan Lakshmanan, closes #9992,
            closes #9986)
Files:      runtime/doc/builtin.txt, src/cmdexpand.c,
            src/testdir/test_cmdline.vim

Patch 8.2.4609
Problem:    <A HREF="windows.html#:unhide">:unhide</A> does not check for failing to close a <A HREF="windows.html#window">window</A>.
Solution:   When closing a <A HREF="windows.html#window">window</A> fails continue with the next one.  Do not
            try closing the autocmd <A HREF="windows.html#window">window</A>. (closes #9984)
Files:      src/buffer.c, src/window.c, src/proto/window.pro,
            src/testdir/test_autocmd.vim

Patch 8.2.4610
Problem:    Some conditions are always <A HREF="vim9.html#true">true</A>.
Solution:   Remove the useless conditions. (closes #9993)
Files:      src/clientserver.c, src/drawline.c, src/drawscreen.c,
            src/ex_cmds.c, src/fileio.c, src/message.c, src/misc2.c,
            src/ops.c, src/sign.c, src/spell.c, src/vim9cmds.c, src/window.c

Patch 8.2.4611
Problem:    Typos in tests; one <A HREF="if_lua.html#lua">lua</A> line not covered by test.
Solution:   Fix typos. Add test <A HREF="change.html#case">case</A>. (Dominique Pellé, closes #9994)
Files:      src/testdir/test_breakindent.vim, src/testdir/test_crypt.vim,
            src/testdir/test_cursorline.vim, src/testdir/test_digraph.vim,
            src/testdir/test_gui.vim, src/testdir/test_lua.vim,
            src/testdir/test_regexp_latin.vim, src/testdir/test_signals.vim,
            src/testdir/test_spell.vim, src/testdir/test_statusline.vim,
            src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim, src/testdir/test_vimscript.vim

Patch 8.2.4612
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot use a recursive call in a nested function. (Sergey
            Vlasov)
Solution:   Define the funcref before compiling the function. (closes #9989)
Files:      src/vim9compile.c, src/vim9instr.c, src/proto/vim9instr.pro,
            src/vim9expr.c, src/testdir/test_vim9_func.vim

Patch 8.2.4613
Problem:    Return type of swapfile_unchanged() is wrong.
Solution:   Use &quot;int&quot;. (closes #10000  Yeah!)
Files:      src/memline.c

Patch 8.2.4614
Problem:    Redrawing too much when <A HREF="options.html#'cursorline'">'cursorline'</A> is set and jumping around.
Solution:   Rely on win_update() to redraw the current and previous cursor
            line, <A HREF="diff.html#do">do</A> not <A HREF="motion.html#mark">mark</A> lines <A HREF="motion.html#as">as</A> modified. (closes #9996)
Files:      src/drawline.c, src/drawscreen.c, src/move.c, src/proto/move.pro,
            src/option.c

Patch 8.2.4615
Problem:    Mapping with escaped <A HREF="motion.html#bar">bar</A> does not work in <A HREF="vim9.html#:def">:def</A> function. (Sergey
            Vlasov)
Solution:   Do not remove the <A HREF="intro.html#backslash">backslash</A>. (closes #10002)
Files:      src/ex_docmd.c, src/proto/ex_docmd.pro, src/syntax.c,
            src/vim9cmds.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4616
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Declarations in a <A HREF="intro.html#{}">{}</A> block of a user command <A HREF="diff.html#do">do</A> not use <A HREF="vim9.html#Vim9">Vim9</A>
            rules if defined in a legacy <A HREF="usr_41.html#script">script</A>. (Yegappan Lakshmanan)
Solution:   Pretend the <A HREF="usr_41.html#script">script</A> is <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/usercmd.c, src/testdir/test_usercommands.vim

Patch 8.2.4617
Problem:    No completion for <A HREF="repeat.html#:scriptnames">:scriptnames</A>.
Solution:   Implement <A HREF="repeat.html#:scriptnames">:scriptnames</A> completion. (Yegappan Lakshmanan,
            closes #10005)
Files:      runtime/doc/builtin.txt, src/cmdexpand.c, src/ex_cmds.h,
            src/scriptfile.c, src/usercmd.c, src/vim.h,
            src/testdir/test_cmdline.vim, src/testdir/test_quickfix.vim

Patch 8.2.4618
Problem:    Command line completion does not recognize single <A HREF="print.html#letter">letter</A> commands.
Solution:   Use the condition from find_ex_command().
Files:      src/ex_docmd.c

Patch 8.2.4619
Problem:    Mapping is cancelled when mouse moves and <A HREF="popup.html#popup">popup</A> is visible.
Solution:   Only generate mouse moved events when a <A HREF="popup.html#popup">popup</A> may use them.
            (closes #10004)
Files:      src/gui.c, src/globals.h, src/popupwin.c

Patch 8.2.4620 (after 8.2.4618)
Problem:    Two <A HREF="print.html#letter">letter</A> substitute commands don't work. (Yegappan Lakshmanan)
Solution:   Invert condition.
Files:      src/ex_docmd.c

Patch 8.2.4621
Problem:    Crash when using the tabline right-click menu.
Solution:   Use XtPointer for XmNuserData. (closes #10009)
Files:      src/gui_motif.c

Patch 8.2.4622
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: Crash with <A HREF="eval.html#:execute">:execute</A> and <A HREF="repeat.html#:finish">:finish</A>. (Sergey Vlasov)
Solution:   Check for NULL. (closes #10011)
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.4623
Problem:    Coverity warns for using uninitialized field.
Solution:   Initialize the field to zero.
Files:      src/ex_docmd.c

Patch 8.2.4624
Problem:    Old Coverity warning for resource leak.
Solution:   Close the file if memory allocation fails.
Files:      src/diff.c

Patch 8.2.4625
Problem:    Old Coverity warning for resource leak.
Solution:   Call FreeWild() if expanding matches did not fail.
Files:      src/help.c

Patch 8.2.4626
Problem:    <A HREF="visual.html#Visual">Visual</A> area not fully updated when removing sign in <A HREF="visual.html#Visual">Visual</A> mode
            while <A HREF="scroll.html#scrolling">scrolling</A>.
Solution:   Adjust check for topline. (closes #10017)
Files:      src/drawscreen.c, src/testdir/test_display.vim,
            src/testdir/dumps/Test_display_scroll_update_visual.dump

Patch 8.2.4627
Problem:    <A HREF="builtin.html#flatten()">flatten()</A> does not use maxdepth correctly.
Solution:   Use a recursive implementation. (closes #10020)
Files:      src/list.c, src/testdir/test_flatten.vim

Patch 8.2.4628
Problem:    Not enough <A HREF="testing.html#testing">testing</A> for 2/3 <A HREF="print.html#letter">letter</A> substitute commands.
Solution:   Add more tests. (Yegappan Lakshmanan, closes #10019)
Files:      src/testdir/test_cmdline.vim, src/testdir/test_substitute.vim

Patch 8.2.4629
Problem:    <A HREF="builtin.html#flattennew()">flattennew()</A> makes a deep copy unnecessarily.
Solution:   Use a shallow copy. (issue #10012)
Files:      src/list.c

Patch 8.2.4630
Problem:    <A HREF="options.html#'cursorline'">'cursorline'</A> not always updated with <A HREF="options.html#'cursorlineopt'">'cursorlineopt'</A> is
            &quot;screenline&quot;.
Solution:   Call check_redraw_cursorline() more often. (closes #10013)
Files:      src/normal.c, src/edit.c, src/testdir/test_cursorline.vim,
            src/testdir/dumps/Test_cursorline_screenline_1.dump,
            src/testdir/dumps/Test_cursorline_screenline_2.dump

Patch 8.2.4631
Problem:    Crash when switching <A HREF="windows.html#window">window</A> in <A HREF="autocmd.html#BufWipeout">BufWipeout</A> <A HREF="autocmd.html#autocommand">autocommand</A>.
Solution:   Put any buffer in the <A HREF="windows.html#window">window</A> to avoid <A HREF="motion.html#it">it</A> being NULL.
            (closes #10024)
Files:      src/window.c, src/buffer.c, src/testdir/test_autocmd.vim

Patch 8.2.4632
Problem:    Using freed memory in <A HREF="builtin.html#flatten()">flatten()</A>.
Solution:   Clear typval after recursing into <A HREF="eval.html#list">list</A>.
Files:      src/list.c

Patch 8.2.4633
Problem:    <A HREF="visual.html#Visual">Visual</A> range does not work before command modifiers.
Solution:   Move <A HREF="visual.html#Visual">Visual</A> range to after command modifiers.
Files:      src/ex_docmd.c, src/testdir/test_source.vim

Patch 8.2.4634
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: cannot initialize a variable to null_list.
Solution:   Give negative <A HREF="intro.html#count">count</A> to NEWLIST. (closes #10027)
            Also fix inconsistencies in comparing with <A HREF="vim9.html#null">null</A> values.
Files:      src/vim9instr.c, src/proto/vim9instr.pro, src/vim9.h,
            src/vim9compile.c, src/vim9expr.c, src/vim9execute.c,
            src/evalvars.c, src/typval.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4635 (after 8.2.4634)
Problem:    Tests using <A HREF="vim9.html#null">null</A> <A HREF="eval.html#list">list</A> or <A HREF="eval.html#dict">dict</A> fail.
Solution:   Only use the new rules for <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>.
Files:      src/evalvars.c

Patch 8.2.4636 (after 8.2.4633)
Problem:    Not using <A HREF="visual.html#Visual">Visual</A> range.
Solution:   Put the command pointer back to the range.
Files:      src/ex_docmd.c

Patch 8.2.4637
Problem:    Warning for using uninitialized variable. (Tony Mechelynck)
Solution:   Initialize <A HREF="motion.html#it">it</A>.
Files:      src/ex_docmd.c

Patch 8.2.4638
Problem:    Superfluous check if a redraw is needed for <A HREF="options.html#'cursorline'">'cursorline'</A>.
Solution:   Remove check_redraw_cursorline(). (closes #10030, closes #10029)
Files:      src/drawscreen.c, src/proto/drawscreen.pro, src/edit.c,
            src/main.c, src/normal.c, src/move.c,
            src/testdir/dumps/Test_cursorcolumn_callback_1.dump,
            src/testdir/dumps/Test_relativenumber_callback_1.dump,
            src/testdir/test_highlight.vim, src/testdir/test_number.vim

Patch 8.2.4639
Problem:    Not sufficient parenthesis in preprocessor macros.
Solution:   Add more parenthesis. (closes #10031)
Files:      src/globals.h, src/gui.h, src/if_py_both.h, src/macros.h,
            src/option.h, src/regexp.h, src/spell.h, src/structs.h, src/vim.h,
            src/vim9.h

Patch 8.2.4640
Problem:    Some <A HREF="options.html#boolean">boolean</A> <A HREF="options.html#options">options</A> use &quot;long&quot; instead of &quot;int&quot;.
Solution:   Adjust the type. (James McCoy, closes #10033)
Files:      src/option.h

Patch 8.2.4641
Problem:    May <A HREF="motion.html#mark">mark</A> the wrong <A HREF="windows.html#window">window</A> for redrawing.
Solution:   Use redraw_win_later(). (closes #10032)
Files:      src/move.c

Patch 8.2.4642
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: in <A HREF="vim9.html#:def">:def</A> function <A HREF="usr_41.html#script">script</A> var cannot be <A HREF="vim9.html#null">null</A>.
Solution:   Only initialize a <A HREF="usr_41.html#script">script</A> variable when not set to a <A HREF="vim9.html#null">null</A> value.
            (closes #10034)
Files:      src/vim9execute.c, src/vim9type.c, src/globals.h, src/evalvars.c,
            src/vim.h, src/vim9script.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4643
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: variable may be locked unintentionally.
Solution:   Clear &quot;v_lock&quot;. (closes #10036)
Files:      src/vim9execute.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4644
Problem:    Redrawing too often when <A HREF="options.html#'relativenumber'">'relativenumber'</A> is set.
Solution:   Only redraw when the cursor line changed. (Lewis Russell,
            closes #10040)
Files:      src/change.c, src/drawscreen.c, src/structs.h

Patch 8.2.4645
Problem:    <A HREF="options.html#'shortmess'">'shortmess'</A> changed when session does not store <A HREF="options.html#options">options</A>.
Solution:   Save and restore <A HREF="options.html#'shortmess'">'shortmess'</A> if needed. (James Charti,
            closes #10037)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.4646
Problem:    Using buffer line after <A HREF="motion.html#it">it</A> has been freed in old <A HREF="pattern.html#regexp">regexp</A> engine.
Solution:   After getting <A HREF="motion.html#mark">mark</A> get the line again.
Files:      src/regexp_bt.c, src/testdir/test_regexp_latin.vim

Patch 8.2.4647
Problem:    &quot;source&quot; can read past end of copied line.
Solution:   Add a terminating NUL.
Files:      src/scriptfile.c, src/testdir/test_source.vim

Patch 8.2.4648
Problem:    Handling LSP <A HREF="message.html#messages">messages</A> is a bit slow.
Solution:   Included support for LSP <A HREF="message.html#messages">messages</A>. (Yegappan Lakshmanan,
            closes #10025)
Files:      runtime/doc/channel.txt, src/channel.c, src/job.c, src/json.c,
            src/proto/json.pro, src/structs.h, src/testdir/test_channel.vim,
            src/testdir/test_channel_lsp.py

Patch 8.2.4649
Problem:    Various <A HREF="change.html#formatting">formatting</A> problems.
Solution:   Improve the code <A HREF="change.html#formatting">formatting</A>.
Files:      src/mark.c, src/quickfix.c, src/regexp_nfa.c, src/register.c,
            src/testdir/test_filechanged.vim, src/gui_athena.c,
            src/gui_motif.c, src/os_unix.c

Patch 8.2.4650
Problem:    &quot;import autoload&quot; only works with using <A HREF="options.html#'runtimepath'">'runtimepath'</A>.
Solution:   Also support a relative and absolute file name.
Files:      runtime/doc/vim9.txt, src/structs.h, src/scriptfile.c,
            src/proto/scriptfile.pro, src/vim9script.c, src/vim9expr.c,
            src/vim9.h, src/vim9execute.c, src/vim9instr.c,
            src/proto/vim9instr.pro, src/vim.h, src/userfunc.c,
            src/proto/userfunc.pro, src/testdir/test_vim9_import.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4651 (after 8.2.4650)
Problem:    Test fails because path differs.
Solution:   Only compare the tail of the path.
Files:      src/testdir/test_vim9_disassemble.vim

Patch 8.2.4652 (after 8.2.4650)
Problem:    Leaking memory if assignment fails.
Solution:   Clear assigned value on failure.
Files:      src/vim9execute.c

Patch 8.2.4653
Problem:    &quot;import autoload&quot; does not check the file name.
Solution:   Give an error if the file is not readable. (closes #10049)
Files:      src/filepath.c, src/proto/filepath.pro, src/errors.h,
            src/ex_cmds.c, src/ex_docmd.c, src/spellfile.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4654 (after 8.2.4653)
Problem:    Missing changes for import check.
Solution:   Add missing changes.
Files:      src/vim9script.c

Patch 8.2.4655
Problem:    Command line completion <A HREF="popup.html#popup">popup</A> menu positioned wrong when using a
            <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>.
Solution:   Position the <A HREF="popup.html#popup">popup</A> menu differently when editing the command line.
            (Yegappan Lakshmanan, closes #10050, closes #10035)
Files:      src/popupmenu.c, src/testdir/test_cmdline.vim,
            src/testdir/test_terminal.vim,
            src/testdir/dumps/Test_wildmenu_pum_term_01.dump

Patch 8.2.4656
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can't use items from &quot;import autoload&quot; with <A HREF="eval.html#autoload">autoload</A>
            directory name.
Solution:   Let sn_autoload_prefix overrule sn_import_autoload.
            (closes #10054)
Files:      src/structs.h, src/vim9instr.c, src/vim9expr.c, src/vim9script.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4657
Problem:    Errors for <A HREF="eval.html#functions">functions</A> are sometimes hard to read.
Solution:   Use printable_func_name() in more places.
Files:      src/vim9execute.c, src/userfunc.c, src/proto/userfunc.pro,
            src/vim9expr.c, src/eval.c, src/vim9instr.c, src/vim9type.c,
            src/testdir/test_vim9_expr.vim

Patch 8.2.4658
Problem:    Org-mode files are not recognized.
Solution:   Add patterns to recognize &quot;org&quot; files. (closes #10046)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4659
Problem:    Invalid memory access when using printable function name.
Solution:   Adjust copied name length.
Files:      src/userfunc.c

Patch 8.2.4660
Problem:    Cursorcolumn is sometimes not correct.
Solution:   Recompute the cursor column when entering <A HREF="insert.html#Insert">Insert</A> mode and the
            cursor is on a character wider than a screen cell. (closes #10057)
Files:      src/edit.c, src/testdir/test_highlight.vim,
            src/testdir/dumps/Test_cursorcolumn_insert_on_tab_1.dump,
            src/testdir/dumps/Test_cursorcolumn_insert_on_tab_2.dump

Patch 8.2.4661
Problem:    Coverity warning for using uninitialized variable.
Solution:   Initialize variable to NULL.
Files:      src/vim9expr.c

Patch 8.2.4662
Problem:    No error for using out of range <A HREF="eval.html#list">list</A> index.
Solution:   Check <A HREF="eval.html#list">list</A> index at <A HREF="usr_41.html#script">script</A> level like in compiled function.
            (closes #10051)
Files:      src/vim.h, src/evalvars.c, src/list.c, src/proto/list.pro,
            src/eval.c, src/vim9execute.c, src/testdir/test_vim9_assign.vim

Patch 8.2.4663
Problem:    Occasional crash when running the <A HREF="gui.html#GUI">GUI</A> tests.
Solution:   Check that the line index is not too high. (closes #8681)
Files:      src/screen.c

Patch 8.2.4664
Problem:    Elvish files are not recognized.
Solution:   Recognize .elv files. (Bruno Roque, closes #10058)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4665
Problem:    Popup with &quot;minwidth&quot; and scrollbar not updated properly.
Solution:   Adjust the computation if the <A HREF="windows.html#window">window</A> width. (closes #10061)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_previewpopup_4.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_5.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_7.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_8.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_9.dump,
            src/testdir/dumps/Test_popupwin_previewpopup_10.dump,
            src/testdir/dumps/Test_popupwin_drag_minwidth_1.dump,
            src/testdir/dumps/Test_popupwin_drag_minwidth_2.dump,
            src/testdir/dumps/Test_popupwin_drag_minwidth_3.dump

Patch 8.2.4666
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: assignment not recognized in skipped block.
Solution:   When skipping assume identifier exists. (closes #10059)
Files:      src/vim9compile.c, src/proto/vim9compile.pro, src/vim9cmds.c,
            src/testdir/test_vim9_cmd.vim, src/testdir/test_vim9_script.vim

Patch 8.2.4667
Problem:    <A HREF="builtin.html#expandcmd()">expandcmd()</A> fails on an error.
Solution:   On failure return the command unmodified. (Yegappan Lakshmanan,
            closes #10063)
Files:      runtime/doc/builtin.txt, src/evalfunc.c,
            src/testdir/test_expand.vim

Patch 8.2.4668
Problem:    Buffer allocation failures insufficiently tested.
Solution:   Add tests for memory allocation failures. (Yegappan Lakshmanan,
            closes #10064)
Files:      src/alloc.h, src/buffer.c, src/popupwin.c, src/window.c,
            src/testdir/test_buffer.vim, src/testdir/test_swap.vim

Patch 8.2.4669
Problem:    In compiled code len('string') is not inlined.
Solution:   Compute the length at compile time if possible. (closes #10065)
Files:      src/evalfunc.c, src/proto/evalfunc.pro, src/vim9expr.c,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4670
Problem:    Memory allocation failures for new <A HREF="intro.html#tab">tab</A> page not tested.
Solution:   Add tests with failing memory allocation. (Yegappan Lakshmanan,
            closes #10067)
Files:      src/alloc.h, src/blob.c, src/buffer.c, src/window.c,
            src/testdir/test_blob.vim, src/testdir/test_buffer.vim,
            src/testdir/test_tabpage.vim, src/testdir/test_window_cmd.vim

Patch 8.2.4671
Problem:    <A HREF="options.html#'wildignorecase'">'wildignorecase'</A> is sometimes not used for <A HREF="builtin.html#glob()">glob()</A>.
Solution:   Also use <A HREF="options.html#'wildignorecase'">'wildignorecase'</A> when there are no <A HREF="editing.html#wildcards">wildcards</A>.
            (closes #10066, closes #8350)
Files:      src/filepath.c, src/testdir/test_functions.vim

Patch 8.2.4672
Problem:    Using <A HREF="various.html#:normal">:normal</A> with <A HREF="intro.html#Ex">Ex</A> mode may make <A HREF="change.html#:substitute">:substitute</A> hang.
Solution:   When getting an empty line behave like '<A HREF="repeat.html#q">q</A>' was typed.
            (closes #10070)
Files:      src/ex_cmds.c, src/testdir/test_normal.vim

Patch 8.2.4673
Problem:    Redrawing a vertically split <A HREF="windows.html#window">window</A> is slow when using <A HREF="scroll.html#CTRL-F">CTRL-F</A> and
            <A HREF="scroll.html#CTRL-B">CTRL-B</A>.
Solution:   When deciding on USE_REDRAW bail out if <A HREF="scroll.html#scrolling">scrolling</A> more than three
            lines. (issue #8002)
Files:      src/screen.c

Patch 8.2.4674
Problem:    Cannot force getting MouseMove events.
Solution:   Add the <A HREF="options.html#'mousemoveevent'">'mousemoveevent'</A> option with implementation for the <A HREF="gui.html#GUI">GUI</A>.
            (Ernie Rael, closes #10044)
Files:      runtime/doc/gui.txt, runtime/doc/options.txt,
            runtime/doc/testing.txt, src/gui.c, src/option.h,
            src/optiondefs.h, src/testing.c, src/testdir/test_gui.vim

Patch 8.2.4675
Problem:    No error for missing <A HREF="eval.html#expression">expression</A> after <A HREF="eval.html#:elseif">:elseif</A>. (Ernie Rael)
Solution:   Check for missing <A HREF="eval.html#expression">expression</A>. (closes #10068)
Files:      src/ex_eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.4676 (after 8.2.4675)
Problem:    Test fails with different error.
Solution:   Add argument to <A HREF="eval.html#:elseif">:elseif</A>.
Files:      src/testdir/test_vimscript.vim

Patch 8.2.4677
Problem:    The Athena <A HREF="gui.html#GUI">GUI</A> support is outdated.
Solution:   Remove the Athena <A HREF="gui.html#GUI">GUI</A> code.
Files:      Filelist, src/Makefile, src/proto.h, src/clipboard.c,
            src/gui_athena.c, src/proto/gui_athena.pro, src/gui_at_sb.c,
            src/gui_at_sb.h, src/gui_at_fs.c, src/gui_motif.c, src/evalfunc.c,
            src/gui.c, src/gui_beval.c, src/gui_x11.c, src/if_mzsch.c,
            src/main.c, src/menu.c, src/mouse.c, src/version.c, src/feature.h,
            src/gui.h, src/structs.h, src/vim.h, src/testdir/gui_init.vim,
            src/testdir/setup_gui.vim, src/testdir/test_clientserver.vim,
            src/testdir/test_edit.vim, src/testdir/test_gui.vim,
            src/testdir/test_highlight.vim, src/testdir/test_quotestar.vim,
            src/testdir/test_startup.vim, runtime/doc/gui.txt,
            runtime/doc/gui_x11.txt

Patch 8.2.4678
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: not all code is tested.
Solution:   Add a few more tests.
Files:      src/vim9execute.c, src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_import.vim, src/testdir/test_vim9_cmd.vim

Patch 8.2.4679
Problem:    Cannot have <A HREF="builtin.html#expandcmd()">expandcmd()</A> give an error message for mistakes.
Solution:   Add an optional argument to give <A HREF="message.html#errors">errors</A>. Fix memory leak when
            expanding files fails. (Yegappan Lakshmanan, closes #10071)
Files:      runtime/doc/builtin.txt, src/evalfunc.c, src/filepath.c,
            src/testdir/test_expand.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.4680
Problem:    Build failure without <A HREF="various.html#+postscript">+postscript</A>.
Solution:   Use another error message.
Files:      src/vim9execute.c, src/testdir/test_vim9_import.vim

Patch 8.2.4681
Problem:    Build fails with a combination of features.
Solution:   Remove #ifdef for alloc_clear_id(). (John Marriott)
Files:      src/alloc.c

Patch 8.2.4682
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: can use <A HREF="eval.html#:unlockvar">:unlockvar</A> for const variable. (Ernie Rael)
Solution:   Check whether the variable is a const.
Files:      src/ex_docmd.c, src/evalvars.c, src/vim9script.c,
            src/proto/vim9script.pro, src/eval.c, src/userfunc.c,
            src/testdir/test_vim9_cmd.vim

Patch 8.2.4683
Problem:    Verbose check with dict_find() to see if a key is present.
Solution:   Add dict_has_key(). (Yegappan Lakshmanan, closes #10074)
Files:      src/channel.c, src/dict.c, src/evalwindow.c, src/filepath.c,
            src/highlight.c, src/json.c, src/match.c, src/popupwin.c,
            src/proto/dict.pro, src/quickfix.c, src/search.c, src/sign.c,
            src/tag.c, src/terminal.c, src/testing.c, src/textprop.c,
            src/time.c

Patch 8.2.4684
Problem:    Cannot open a <A HREF="channel.html#channel">channel</A> on a <A HREF="os_unix.html#Unix">Unix</A> domain socket.
Solution:   Add <A HREF="os_unix.html#Unix">Unix</A> domain socket support. (closes #10062)
Files:      runtime/doc/channel.txt, src/channel.c, src/testdir/check.vim,
            src/testdir/shared.vim, src/testdir/test_channel.py,
            src/testdir/test_channel.vim, src/testdir/test_channel_unix.py,
            src/testdir/test_cmdline.vim

Patch 8.2.4685
Problem:    When a swap file is found for a <A HREF="popup.html#popup">popup</A> there is no <A HREF="gui_w32.html#dialog">dialog</A> and the
            buffer is loaded anyway.
Solution:   Silently load the buffer read-only. (closes #10073)
Files:      runtime/doc/popup.txt, src/memline.c, src/popupwin.c, src/vim.h,
            src/buffer.c, src/testdir/test_popupwin.vim

Patch 8.2.4686
Problem:    Configure doesn't find the <A HREF="gui_x11.html#Motif">Motif</A> library with Cygwin.
Solution:   Check for libXm.dll.a. (Kelvin Lee, closes #10077)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.4687
Problem:    &quot;vimgrep /\&#37;v/ *&quot; may cause a crash.
Solution:   When compiling the <A HREF="pattern.html#pattern">pattern</A> with the old engine fails, restore the
            regprog of the new engine instead of leaving <A HREF="motion.html#it">it</A> NULL.
            (closes #10079)
Files:      src/regexp.c

Patch 8.2.4688
Problem:    New <A HREF="pattern.html#regexp">regexp</A> engine does not give an error for &quot;\&#37;v&quot;.
Solution:   Check for a value argument. (issue #10079)
Files:      src/regexp_nfa.c, src/errors.h, src/regexp_bt.c,
            src/testdir/test_regexp_latin.vim

Patch 8.2.4689
Problem:    Using <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> in a <A HREF="map.html#mapping">mapping</A> does not work for mouse keys in <A HREF="insert.html#Insert">Insert</A>
            mode. (Sergey Vlasov)
Solution:   When reading the <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> argument <A HREF="diff.html#do">do</A> not use the stuff buffer.
            (closes #10080)
Files:      src/getchar.c

Patch 8.2.4690
Problem:    <A HREF="eval.html#Channel">Channel</A> tests fail on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Check if the AF_UNIX attribute exists. (closes #10083)
Files:      src/testdir/test_channel.py, src/testdir/test_channel_unix.py

Patch 8.2.4691 (after 8.2.4689)
Problem:    Solution for <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> in a <A HREF="map.html#mapping">mapping</A> causes trouble.
Solution:   Use another solution: put back <A HREF="motion.html#CTRL-O">CTRL-O</A> after reading the <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A>
            sequence.
Files:      src/getchar.c

Patch 8.2.4692
Problem:    No test for what 8.2.4691 fixes.
Solution:   Add a test.  Use a more generic solution. (closes #10090)
Files:      src/getchar.c, src/mouse.c, src/testdir/test_mapping.vim

Patch 8.2.4693 (after 8.2.4688)
Problem:    new <A HREF="pattern.html#regexp">regexp</A> does not accept <A HREF="pattern.html#pattern">pattern</A> &quot;\&#37;&gt;0v&quot;.
Solution:   Do accept digit zero.
Files:      src/regexp_bt.c, src/regexp_nfa.c,
            src/testdir/test_regexp_latin.vim

Patch 8.2.4694
Problem:    Avoidance of #elif causes more preproc nesting.
Solution:   Use #elif where <A HREF="motion.html#it">it</A> is useful. (Ozaki Kiichi, closes #10081)
Files:      src/option.c, src/optiondefs.h, src/optionstr.c, src/version.c

Patch 8.2.4695
Problem:    JSON encoding could be faster.
Solution:   Optimize encoding JSON strings. (closes #10086)
Files:      src/json.c, src/testdir/test_json.vim

Patch 8.2.4696
Problem:    <A HREF="builtin.html#delete()">delete()</A> with &quot;rf&quot; argument does not report a failure.
Solution:   Return -1 if the directory could not be removed. (closes #10078)
Files:      src/fileio.c, src/testdir/test_functions.vim

Patch 8.2.4697
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when adding a duplicate key to a dictionary.
Solution:   Clear the stack item when <A HREF="motion.html#it">it</A> has been moved into the dictionary.
            (closes #10087)
Files:      src/vim9execute.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4698
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> variable has no flag that <A HREF="motion.html#it">it</A> was set.
Solution:   Add a flag that <A HREF="motion.html#it">it</A> was set, to avoid giving <A HREF="motion.html#it">it</A> a value when used.
            (closes #10088)
Files:      src/structs.h, src/vim9script.c, src/vim9execute.c,
            src/evalvars.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4699
Problem:    Hard to reproduce hang when reading from a <A HREF="channel.html#channel">channel</A>.
Solution:   Check for readahead before starting to wait. (closes #10093,
            closes #7781, closes #6364)
Files:      src/channel.c

Patch 8.2.4700
Problem:    Buffer remains active if a <A HREF="autocmd.html#WinClosed">WinClosed</A> event throws an exception.
Solution:   Ignore aborting() when closing the buffer. (closes #10097)
Files:      src/window.c, src/testdir/test_autocmd.vim

Patch 8.2.4701
Problem:    Kuka Robot Language files not recognized.
Solution:   Recognize *.src and *.dat files. (Patrick Meiser-Knosowski,
            closes #10096)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim,
            runtime/autoload/dist/ft.vim

Patch 8.2.4702
Problem:    C++ scope labels are hard-coded.
Solution:   Add <A HREF="options.html#'cinscopedecls'">'cinscopedecls'</A> to define the labels. (Rom Praschan,
            closes #10109)
Files:      runtime/doc/indent.txt, runtime/doc/options.txt,
            runtime/doc/quickref.txt, runtime/optwin.vim, src/buffer.c,
            src/cindent.c, src/option.c, src/option.h, src/optiondefs.h,
            src/optionstr.c, src/structs.h, src/testdir/test_cindent.vim

Patch 8.2.4703 (after 8.2.4702)
Problem:    Memory leak in handling <A HREF="options.html#'cinscopedecls'">'cinscopedecls'</A>.
Solution:   Free the memory before returning.
Files:      src/cindent.c

Patch 8.2.4704
Problem:    Using &quot;else&quot; after return or break increases indent.
Solution:   Remove &quot;else&quot; and reduce indent. (Goc Dundar, closes #10099)
Files:      src/fileio.c, src/memline.c, src/option.c, src/syntax.c

Patch 8.2.4705
Problem:    reg_executing may not be cleared.
Solution:   Reset reg_executing later. (closes #10111, closes #10110)
Files:      src/ex_docmd.c, src/getchar.c, src/globals.h, src/structs.h,
            src/testdir/test_registers.vim

Patch 8.2.4706
Problem:    Buffer remains active if a <A HREF="autocmd.html#WinClosed">WinClosed</A> event throws an exception
            when there are multiple tabpages.
Solution:   Ignore aborting() when closing the buffer. (closes #10101)
Files:      src/window.c, src/testdir/test_autocmd.vim

Patch 8.2.4707
Problem:    Redrawing could be a bit more efficient.
Solution:   Optimize redrawing. (closes #10105)
Files:      src/change.c, src/edit.c, src/testdir/test_highlight.vim,
            src/testdir/dumps/Test_cursorcolumn_insert_on_tab_3.dump

Patch 8.2.4708
Problem:    PHP test files are not recognized.
Solution:   Add the *.phpt <A HREF="pattern.html#pattern">pattern</A>. (Julien Voisin, closes #10112)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4709
Problem:    After <A HREF="various.html#:redraw">:redraw</A> the statusline highlight might be used.
Solution:   Clear the screen attribute after redrawing the screen.
            (closes #10108)
Files:      src/ex_docmd.c

Patch 8.2.4710
Problem:    Smart indenting does not work after completion.
Solution:   Set &quot;can_si&quot;. (Christian Brabandt, closes #10113, closes #558)
Files:      src/edit.c, src/testdir/test_ins_complete.vim

Patch 8.2.4711
Problem:    When 'insermode' is set <A HREF="editing.html#:edit">:edit</A> from <A HREF="map.html#&lt;Cmd&gt;">&lt;Cmd&gt;</A> <A HREF="map.html#mapping">mapping</A> misbehaves.
Solution:   Don't set &quot;need_start_insertmode&quot; when already in <A HREF="insert.html#Insert">Insert</A> mode.
            (closes #10116)
Files:      src/ex_cmds.c, src/testdir/test_edit.vim

Patch 8.2.4712
Problem:    Only get <A HREF="repeat.html#profiling">profiling</A> information after <A HREF="starting.html#exiting">exiting</A>.
Solution:   Add &quot;<A HREF="repeat.html#profile">profile</A> dump&quot; and &quot;<A HREF="repeat.html#profile">profile</A> stop&quot;. (Marco Hinz, Yegappan
            Lakshmanan, closes #10107)
Files:      runtime/doc/repeat.txt, src/profiler.c,
            src/testdir/test_profile.vim

Patch 8.2.4713
Problem:    Plugins cannot track text <A HREF="scroll.html#scrolling">scrolling</A>.
Solution:   Add the <A HREF="autocmd.html#WinScrolled">WinScrolled</A> event. (closes #10102)
Files:      runtime/doc/autocmd.txt, src/autocmd.c, src/proto/autocmd.pro,
            src/edit.c, src/gui.c, src/main.c, src/structs.h, src/vim.h,
            src/window.c, src/proto/window.pro, src/testdir/test_autocmd.vim

Patch 8.2.4714
Problem:    Using g:filetype_dat and g:filetype_src not tested.
Solution:   Add a test. (Patrick Meiser-Knosowski, closes #10117)
Files:      src/testdir/test_filetype.vim

Patch 8.2.4715
Problem:    Vagrantfile not recognized.
Solution:   Recognize Vagrantfile <A HREF="motion.html#as">as</A> <A HREF="if_ruby.html#ruby">ruby</A>. (Julien Voisin, closes #10119)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4716
Problem:    Memory allocation failure not tested when defining a function.
Solution:   Add a test. (Yegappan Lakshmanan, closes #10127)
Files:      src/alloc.c, src/alloc.h, src/proto/alloc.pro, src/userfunc.c,
            src/testdir/test_user_func.vim, src/testdir/test_vim9_func.vim

Patch 8.2.4717
Problem:    For <A HREF="autocmd.html#TextYankPost">TextYankPost</A> <A HREF="eval.html#v:event">v:event</A> does not contain information about the
            operation being <A HREF="motion.html#inclusive">inclusive</A> or not.
Solution:   Add &quot;<A HREF="motion.html#inclusive">inclusive</A>&quot; to <A HREF="eval.html#v:event">v:event</A>. (Justin <A HREF="motion.html#M">M</A>. Keyes, Yegappan Lakshmanan,
            closes #10125)
Files:      runtime/doc/autocmd.txt, src/register.c,
            src/testdir/test_autocmd.vim

Patch 8.2.4718
Problem:    @@@ in the last line sometimes drawn in the wrong place.
Solution:   Make sure the column is valid. (closes #10130)
Files:      src/drawscreen.c, src/screen.c, src/testdir/test_display.vim
            src/testdir/dumps/Test_display_lastline_1.dump,
            src/testdir/dumps/Test_display_lastline_2.dump,
            src/testdir/dumps/Test_display_lastline_3.dump,
            src/testdir/dumps/Test_display_lastline_4.dump

Patch 8.2.4719
Problem:    &quot;<A HREF="change.html#&gt;">&gt;</A>&quot; marker sometimes not displayed in the <A HREF="motion.html#jumplist">jumplist</A>.
Solution:   If the buffer no longer exists show &quot;-invalid-&quot;. (Christian
            Brabandt, closes #10131, closes #10100)
Files:      runtime/doc/motion.txt, src/mark.c, src/testdir/Make_all.mak,
            src/testdir/test_alot.vim, src/testdir/test_jumplist.vim,
            src/testdir/test_jumps.vim

Patch 8.2.4720
Problem:    ABB Rapid files are not recognized properly.
Solution:   Add checks for ABB Rapid files. (Patrick Meiser-Knosowski,
            closes #10104)
Files:      runtime/autoload/dist/ft.vim, runtime/doc/filetype.txt,
            runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4721
Problem:    Cooklang files are not recognized.
Solution:   recognize *.cook files. (Goc Dundar, closes #10120)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4722
Problem:    When a <A HREF="repeat.html#recording">recording</A> is ended with a mapped key that key is also
            recorded.
Solution:   Remember the previous last_recorded_len. (closes #10122)
Files:      src/getchar.c, src/testdir/test_registers.vim

Patch 8.2.4723
Problem:    The <A HREF="autocmd.html#ModeChanged">ModeChanged</A> autocmd event is inefficient.
Solution:   Avoid allocating memory. (closes #10134)  Rename
            trigger_modechanged() to may_trigger_modechanged().
Files:      src/misc1.c, src/proto/misc1.pro, src/edit.c, src/ex_docmd.c,
            src/ex_getln.c, src/insexpand.c, src/normal.c, src/terminal.c,
            src/autocmd.c

Patch 8.2.4724
Problem:    Current instance of last search <A HREF="pattern.html#pattern">pattern</A> not easily spotted.
Solution:   Add CurSearch highlighting. (closes #10133)
Files:      runtime/doc/options.txt, runtime/doc/syntax.txt, src/highlight.c,
            src/match.c, src/normal.c, src/optiondefs.h, src/structs.h,
            src/vim.h, src/normal.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_cursearch_multiple_line.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_single_line_1.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_single_line_2.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_single_line_3.dump

Patch 8.2.4725 (after 8.2.4724)
Problem:    Unused variable in tiny build.
Solution:   Add #ifdef.
Files:      src/normal.c

Patch 8.2.4726
Problem:    Cannot use <A HREF="builtin.html#expand()">expand()</A> to get the <A HREF="usr_41.html#script">script</A> name.
Solution:   Support expand('&lt;script&gt;'). (closes #10121)
Files:      runtime/doc/cmdline.txt, src/errors.h, src/ex_docmd.c,
            src/scriptfile.c, src/vim.h, src/testdir/test_expand.vim

Patch 8.2.4727
Problem:    Unused code.
Solution:   Remove code and add #ifdefs. (Dominique Pellé, closes #10136)
Files:      runtime/doc/editing.txt, runtime/doc/eval.txt,
            runtime/doc/vim9.txt, src/errors.h, src/option.c, src/search.c,
            src/proto/search.pro

Patch 8.2.4728
Problem:    No test that <A HREF="eval.html#v:event">v:event</A> cannot be modified.
Solution:   Add a test. (closes #10139)
Files:      src/testdir/test_autocmd.vim

Patch 8.2.4729
Problem:    HEEx and Surface templates <A HREF="diff.html#do">do</A> not need a separate <A HREF="filetype.html#filetype">filetype</A>.
Solution:   Use Eelixir for the similar <A HREF="filetype.html#filetypes">filetypes</A>. (Aaron Tinio, closes #10124)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4730
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: cannot use CTRL-/.
Solution:   Handle the WM_KEYUP event. (Yasuhiro Matsumoto, closes #10141)
Files:      src/gui_w32.c

Patch 8.2.4731
Problem:    The <A HREF="motion.html#changelist">changelist</A> index is not remembered per buffer.
Solution:   Keep the <A HREF="motion.html#changelist">changelist</A> index per <A HREF="windows.html#window">window</A> and buffer. (closes #10135,
            closes #2173)
Files:      src/buffer.c, src/evalfunc.c, src/structs.h,
            src/testdir/test_changelist.vim

Patch 8.2.4732
Problem:    Duplicate code to free fuzzy matches.
Solution:   Bring back fuzmatch_str_free().
Files:      src/search.c, src/proto/search.pro, src/cmdexpand.c

Patch 8.2.4733 (after 8.2.4729)
Problem:    HEEx and Surface <A HREF="diff.html#do">do</A> need a separate <A HREF="filetype.html#filetype">filetype</A>.
Solution:   Revert 8.2.4729. (closes #10147)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4734
Problem:    <A HREF="builtin.html#getcharpos()">getcharpos()</A> may change a <A HREF="motion.html#mark">mark</A> position.
Solution:   Copy the <A HREF="motion.html#mark">mark</A> position. (closes #10148)
Files:      src/eval.c, src/testdir/test_cursor_func.vim

Patch 8.2.4735
Problem:    <A HREF="quickfix.html#Quickfix">Quickfix</A> tests can be a bit hard to read.
Solution:   Use heredoc instead of strings and line continuation. (Yegappan
            Lakshmanan, closes #10145)
Files:      src/testdir/test_quickfix.vim

Patch 8.2.4736
Problem:    Build problem for Cygwin with <A HREF="gui_x11.html#Motif">Motif</A>.
Solution:   Undefine ControlMask. (Kelvin Lee, closes #10152)
Files:      src/mbyte.c

Patch 8.2.4737
Problem:    <A HREF="version7.html#//">//</A> in JavaScript <A HREF="eval.html#string">string</A> recognized <A HREF="motion.html#as">as</A> comment.
Solution:   Only check for linecomment if <A HREF="options.html#'cindent'">'cindent'</A> is set. (closes #10151)
Files:      src/change.c, src/testdir/test_textformat.vim

Patch 8.2.4738
Problem:    Esc on commandline executes command instead of abandoning <A HREF="motion.html#it">it</A>.
Solution:   Save and restore KeyTyped when removing the <A HREF="popup.html#popup">popup</A> menu.
            (closes #10154)
Files:      src/cmdexpand.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_wildmenu_with_pum_foldexpr_1.dump,
            src/testdir/dumps/Test_wildmenu_with_pum_foldexpr_2.dump

Patch 8.2.4739
Problem:    Accessing freed memory after <A HREF="autocmd.html#WinScrolled">WinScrolled</A> autocmd event.
Solution:   Check the <A HREF="windows.html#window">window</A> pointer is still valid. (closes #10156)
            Remove the argument from may_trigger_winscrolled().
Files:      src/window.c, src/proto/window.pro, src/edit.c, src/gui.c,
            src/main.c, src/testdir/test_autocmd.vim

Patch 8.2.4740
Problem:    When <A HREF="builtin.html#expand()">expand()</A> fails there is no error message.
Solution:   When <A HREF="options.html#'verbose'">'verbose'</A> is set give an error message.
Files:      runtime/doc/builtin.txt, src/evalfunc.c,
            src/testdir/test_expand.vim

Patch 8.2.4741 (after 8.2.4740)
Problem:    Startup test fails.
Solution:   Avoid an error for <A HREF="starting.html#verbose">verbose</A> expansion.  Fix that the &quot;0verbose&quot;
            command modifier doesn't work.
Files:      runtime/syntax/syntax.vim, runtime/syntax/synload.vim,
            src/structs.h, src/ex_docmd.c, src/testdir/test_excmd.vim

Patch 8.2.4742
Problem:    There is no way to start logging very early in <A HREF="starting.html#startup">startup</A>.
Solution:   Add the <A HREF="starting.html#--log">--log</A> argument.  Include the date in the start message in
            the log file.  Avoid a duplicate message when forking.  Log an
            executed shell command.
Files:      runtime/doc/starting.txt, runtime/doc/channel.txt,
            src/main.c, src/channel.c, src/os_unix.c, src/os_win32.c,
            src/testdir/test_startup.vim

Patch 8.2.4743
Problem:    Clang 14 is available on CI.
Solution:   Switch from clang 13 to 14. (closes #10157)
Files:      .github/workflows/ci.yml

Patch 8.2.4744
Problem:    A <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> can't use the bell.
Solution:   Add bell support for the <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (closes #10178)
Files:      runtime/doc/options.txt, src/gui_w32.c, src/option.h,
            src/optionstr.c, src/terminal.c

Patch 8.2.4745 (after 8.2.4744)
Problem:    Using wrong flag for using bell in the <A HREF="terminal.html#terminal">terminal</A>.
Solution:   Change to use BO_TERM.
Files:      src/terminal.c, src/misc1.c

Patch 8.2.4746
Problem:    Supercollider <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Match file extensions and check file contents to detect
            supercollider. (closes #10142)
Files:      runtime/filetype.vim, runtime/autoload/dist/ft.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4747
Problem:    No <A HREF="filetype.html#filetype">filetype</A> override for .sys files.
Solution:   Add g:filetype_sys. (Patrick Meiser-Knosowski, closes #10181)
Files:      runtime/doc/filetype.txt, runtime/autoload/dist/ft.vim,
            src/testdir/test_filetype.vim

Patch 8.2.4748
Problem:    Cannot use an imported function in a <A HREF="map.html#mapping">mapping</A>.
Solution:   Recognize &lt;SID&gt;name.Func.
Files:      runtime/doc/vim9.txt, src/term.c, src/vim9execute.c,
            src/proto/vim9execute.pro, src/scriptfile.c,
            src/testdir/test_vim9_import.vim

Patch 8.2.4749
Problem:    <A HREF="cmdline.html#&lt;script&gt;">&lt;script&gt;</A> is not expanded in autocmd context.
Solution:   Add the context to the <A HREF="pattern.html#pattern">pattern</A> struct. (closes #10144)
            Rename AutoPatCmd to AutoPatCmd_T.
Files:      src/autocmd.c, src/proto/autocmd.pro, src/scriptfile.c,
            src/structs.h, src/testdir/test_expand.vim

Patch 8.2.4750
Problem:    Small pieces of dead code.
Solution:   Remove the dead code. (Goc Dundar, closes #10190) Rename the
            qftf_cb struct member to avoid confusion.
Files:      src/ex_cmds.c, src/misc1.c, src/optionstr.c, src/quickfix.c

Patch 8.2.4751 (after 8.2.4748)
Problem:    Mapping &lt;SID&gt;name.Func does not work for <A HREF="usr_41.html#script">script</A> in <A HREF="eval.html#autoload">autoload</A>
            directory.
Solution:   Use the # form for a <A HREF="usr_41.html#script">script</A> in the <A HREF="eval.html#autoload">autoload</A> directory.
            (closes #10186)
Files:      src/term.c, src/testdir/test_vim9_import.vim

Patch 8.2.4752
Problem:    Wrong <A HREF="options.html#'statusline'">'statusline'</A> value can cause illegal memory access.
Solution:   Properly check the value. (closes #10192)
Files:      src/optionstr.c, src/testdir/test_options.vim

Patch 8.2.4753
Problem:    Error from setting an option is silently ignored.
Solution:   Handle option value <A HREF="message.html#errors">errors</A> better.  Fix uses of N_().
Files:      src/option.c, src/proto/option.pro, src/optionstr.c,
            src/channel.c, src/crypt.c, src/diff.c, src/edit.c,
            src/eval.c, src/evalfunc.c, src/evalvars.c, src/ex_cmds2.c,
            src/ex_docmd.c, src/ex_getln.c, src/getchar.c, src/gui.c,
            src/gui_gtk_x11.c, src/help.c, src/highlight.c, src/if_tcl.c,
            src/main.c, src/memline.c, src/message_test.c,
            src/popupmenu.c, src/quickfix.c, src/scriptfile.c, src/spell.c,
            src/spellfile.c, src/term.c, src/undo.c, src/vim9script.c

Patch 8.2.4754
Problem:    Still using cached values after unsetting some known environment
            <A HREF="eval.html#variables">variables</A>.
Solution:   Take care of the side effects. (closes #10194)
Files:      src/evalfunc.c, src/evalvars.c, src/misc1.c, src/proto/misc1.pro,
            src/vim9execute.c, src/optionstr.c, src/testdir/test_environ.vim

Patch 8.2.4755
Problem:    Cannot use &lt;SID&gt;FuncRef in completion spec.
Solution:   Dereference a function name in another way. (closes #10197)
Files:      src/eval.c, src/testdir/test_vim9_import.vim

Patch 8.2.4756 (after 8.2.4754)
Problem:    Build error without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Adjust #ifdefs.
Files:      src/misc1.c

Patch 8.2.4757
Problem:    <A HREF="eval.html#List">List</A> of libraries to suppress lsan <A HREF="message.html#errors">errors</A> is outdated.
Solution:   Add another library. (closes #10201)
Files:      src/testdir/lsan-suppress.txt

Patch 8.2.4758
Problem:    When using an LSP <A HREF="channel.html#channel">channel</A> want to get the message ID.
Solution:   Have <A HREF="channel.html#ch_sendexpr()">ch_sendexpr()</A> return the ID. (Yegappan Lakshmanan,
            closes #10202)
Files:      runtime/doc/channel.txt, src/channel.c, src/evalfunc.c,
            src/testdir/test_channel.vim

Patch 8.2.4759
Problem:    CurSearch highlight does not work for multi-line match.
Solution:   Check cursor position before adjusting columns. (closes #10133)
Files:      src/structs.h, src/match.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_cursearch_multiple_line.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_multiple_line_1.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_multiple_line_2.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_multiple_line_3.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_multiple_line_4.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_multiple_line_5.dump

Patch 8.2.4760
Problem:    Using <A HREF="builtin.html#matchfuzzy()">matchfuzzy()</A> on a long <A HREF="eval.html#list">list</A> can take a while.
Solution:   Add a limit to the number of matches. (Yasuhiro Matsumoto,
            closes #10189)
Files:      runtime/doc/builtin.txt, src/search.c,
            src/testdir/test_matchfuzzy.vim

Patch 8.2.4761
Problem:    Documentation for using LSP <A HREF="message.html#messages">messages</A> is incomplete.
Solution:   Update the documentation. (Yegappan Lakshmanan, closes #10206)
Files:      runtime/doc/channel.txt

Patch 8.2.4762
Problem:    Using freed memory when using <A HREF="builtin.html#synstack()">synstack()</A> and <A HREF="builtin.html#synID()">synID()</A> in <A HREF="autocmd.html#WinEnter">WinEnter</A>.
Solution:   Check using the <A HREF="syntax.html#syntax">syntax</A> <A HREF="windows.html#window">window</A>. (closes #10204)
Files:      src/syntax.c, src/testdir/test_syntax.vim

Patch 8.2.4763
Problem:    Using invalid pointer with &quot;V:&quot; in <A HREF="intro.html#Ex">Ex</A> mode.
Solution:   Correctly handle the command being changed to &quot;<A HREF="motion.html#+">+</A>&quot;.
Files:      src/ex_docmd.c, src/testdir/test_ex_mode.vim

Patch 8.2.4764
Problem:    CI uses an older gcc version.
Solution:   Use GCC 11. (closes #10185)
Files:      .github/workflows/ci.yml, src/testdir/lsan-suppress.txt

Patch 8.2.4765
Problem:    Function <A HREF="builtin.html#matchfuzzy()">matchfuzzy()</A> sorts too many items.
Solution:   Only put matches in the array. (Yegappan Lakshmanan,
            closes #10208)
Files:      src/search.c

Patch 8.2.4766
Problem:    KRL files using &quot;deffct&quot; not recognized.
Solution:   Adjust the <A HREF="pattern.html#pattern">pattern</A> used for matching. (Patrick Meiser-Knosowski,
            closes #10200)
Files:      runtime/autoload/dist/ft.vim, src/testdir/test_filetype.vim

Patch 8.2.4767
Problem:    Openscad files are not recognized.
Solution:   Add a <A HREF="filetype.html#filetype">filetype</A> <A HREF="pattern.html#pattern">pattern</A>. (Niklas Adam, closes #10199)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4768
Problem:    CI: codecov upload sometimes does not work.
Solution:   Use action v3 instead of v2. (closes #10209)
Files:      .github/workflows/ci.yml

Patch 8.2.4769
Problem:    Build warning with UCRT.
Solution:   Adjust #ifdef for _wenviron. (John Marriott)
Files:      src/evalfunc.c

Patch 8.2.4770
Problem:    Cannot easily mix <A HREF="eval.html#expression">expression</A> and heredoc.
Solution:   Support `=expr` in heredoc. (Yegappan Lakshmanan, closes #10138)
Files:      runtime/doc/eval.txt, src/evalvars.c, src/userfunc.c,
            src/testdir/test_let.vim, src/testdir/test_vim9_assign.vim

Patch 8.2.4771
Problem:    Coverity warns for not checking return value.
Solution:   Check return value of rettv_dict_alloc().
Files:      src/channel.c

Patch 8.2.4772
Problem:    Old Coverity warning for not checking ftell() return value.
Solution:   Check return value of fseek() and ftell().
Files:      src/misc1.c

Patch 8.2.4773
Problem:    Build failure without the <A HREF="various.html#+eval">+eval</A> feature.
Solution:   Use other error message.  Avoid warnings.
Files:      src/misc1.c, src/cindent.c, src/term.c

Patch 8.2.4774
Problem:    Crash when using a number for <A HREF="eval.html#lambda">lambda</A> name.
Solution:   Check the type of the <A HREF="eval.html#lambda">lambda</A> reference.
Files:      src/eval.c, src/errors.h, src/testdir/test_lambda.vim

Patch 8.2.4775
Problem:    SpellBad highlighting does not work in Konsole.
Solution:   Do not keep <A HREF="term.html#t_8u">t_8u</A> defined for Konsole.  Redraw when <A HREF="term.html#t_8u">t_8u</A> is reset.
            (closes #10177)
Files:      src/term.c

Patch 8.2.4776
Problem:    <A HREF="gui_x11.html#GTK">GTK</A>: <A HREF="options.html#'lines'">'lines'</A> and <A HREF="options.html#'columns'">'columns'</A> may change during <A HREF="starting.html#startup">startup</A>.
Solution:   Ignore stale <A HREF="gui_x11.html#GTK">GTK</A> resize events. (Ernie Rael, closes #10179)
Files:      src/gui_gtk_x11.c

Patch 8.2.4777 (after 8.2.4775)
Problem:    Screendump tests fail because of a redraw.
Solution:   Do not output <A HREF="term.html#t_8u">t_8u</A> before receiving termresponse.  Redraw only
            when <A HREF="term.html#t_8u">t_8u</A> is not reset and termresponse is received.
Files:      src/term.c

Patch 8.2.4778
Problem:    Pacman files use dosini <A HREF="filetype.html#filetype">filetype</A>.
Solution:   Use conf instead. (Chaoren Lin, closes #10213)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4779
Problem:    lsan suppression is too version specific.
Solution:   Leave out the version number. (Christian Brabandt, closes #10214)
Files:      src/testdir/lsan-suppress.txt

Patch 8.2.4780
Problem:    Parsing an LSP message fails when <A HREF="motion.html#it">it</A> is split.
Solution:   Collapse the received data before parsing. (Yegappan Lakshmanan,
            closes #10215)
Files:      runtime/doc/channel.txt, src/channel.c,
            src/testdir/test_channel.vim, src/testdir/test_channel_lsp.py

Patch 8.2.4781
Problem:    Maxima files are not recognized.
Solution:   Add patterns to detect Maxima files. (Doron Behar, closes #10211)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4782
Problem:    Accessing freed memory.
Solution:   Clear evalarg after checking for trailing characters.
            (issue #10218)
Files:      src/userfunc.c, src/testdir/test_lambda.vim

Patch 8.2.4783
Problem:    Coverity warns for leaking memory.
Solution:   Use another strategy freeing &quot;theline&quot;.
Files:      src/evalvars.c

Patch 8.2.4784
Problem:    Lamba test with <A HREF="builtin.html#timer">timer</A> is flaky.
Solution:   Adjust sleep time on retry.
Files:      src/testdir/test_lambda.vim

Patch 8.2.4785
Problem:    <A HREF="visual.html#Visual">Visual</A> mode not stopped early enough if <A HREF="builtin.html#win_gotoid()">win_gotoid()</A> goes to
            another buffer. (Sergey Vlasov)
Solution:   Stop <A HREF="visual.html#Visual">Visual</A> mode before jumping to another buffer. (closes #10217)
Files:      src/evalwindow.c, src/testdir/test_vim9_builtin.vim,
            src/testdir/dumps/Test_win_gotoid_1.dump,
            src/testdir/dumps/Test_win_gotoid_2.dump,
            src/testdir/dumps/Test_win_gotoid_3.dump

Patch 8.2.4786 (after 8.2.4785)
Problem:    Test for <A HREF="builtin.html#win_gotoid()">win_gotoid()</A> in <A HREF="visual.html#Visual">Visual</A> mode fails on <A HREF="os_mac.html#Mac">Mac</A>.
Solution:   Skip the test on MacOS.
Files:      src/testdir/test_vim9_builtin.vim

Patch 8.2.4787
Problem:    <A HREF="textprop.html#prop_find()">prop_find()</A> does not find the right property.
Solution:   Fix the scan order. (closes #10220)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.4788
Problem:    Large payload for LSP message not tested.
Solution:   Add a test with a large LSP payload. (Yegappan Lakshmanan,
            closes #10223)
Files:      src/channel.c, src/testdir/test_channel.vim,
            src/testdir/test_channel_lsp.py

Patch 8.2.4789
Problem:    The cursor may be in the in wrong place when using <A HREF="various.html#:redraw">:redraw</A> while
            editing the cmdline.
Solution:   When editing the command line let <A HREF="various.html#:redraw">:redraw</A> update the command line
            too. (closes #10210)
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim,
            src/testdir/dumps/Test_redraw_in_autocmd_1.dump,
            src/testdir/dumps/Test_redraw_in_autocmd_2.dump

Patch 8.2.4790
Problem:    Lilypond <A HREF="filetype.html#filetype">filetype</A> not recognized.
Solution:   Add patterns for lilypond. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4791
Problem:    Autocmd events triggered in different order when reusing an empty
            buffer.
Solution:   Call buff_freeall() earlier. (Charlie Groves, closes #10198)
Files:      src/buffer.c, src/testdir/test_autocmd.vim

Patch 8.2.4792
Problem:    Indent <A HREF="motion.html#operator">operator</A> creates an <A HREF="undo.html#undo">undo</A> entry for every line.
Solution:   Create one <A HREF="undo.html#undo">undo</A> entry for all lines. (closes #10227)
Files:      src/indent.c, src/testdir/test_indent.vim

Patch 8.2.4793
Problem:    Recognizing Maxima <A HREF="filetype.html#filetype">filetype</A> even though <A HREF="motion.html#it">it</A> might be another.
Solution:   Remove *.mc and *.dem patterns from Maxima files
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4794
Problem:    Compiler warning for not initialized variable.
Solution:   Initialize the variable. (John Marriott)
Files:      src/indent.c

Patch 8.2.4795
Problem:    <A HREF="options.html#'cursorbind'">'cursorbind'</A> <A HREF="scroll.html#scrolling">scrolling</A> depends on whether <A HREF="options.html#'cursorline'">'cursorline'</A> is set.
Solution:   Always call validate_cursor(). (Christian Brabandt, closes #10230,
            closes #10014)
Files:      src/move.c, src/testdir/README.txt,
            src/testdir/test_cursorline.vim,
            src/testdir/dumps/Test_hor_scroll_1.dump,
            src/testdir/dumps/Test_hor_scroll_2.dump,
            src/testdir/dumps/Test_hor_scroll_3.dump,
            src/testdir/dumps/Test_hor_scroll_4.dump

Patch 8.2.4796 (after 8.2.4795)
Problem:    File left behind after running cursorline tests.
Solution:   Uncomment the line that deletes the file.
Files:      src/testdir/test_cursorline.vim

Patch 8.2.4797
Problem:    <A HREF="builtin.html#getwininfo()">getwininfo()</A> may get outdated values.
Solution:   Make sure w_botline is up-to-date. (closes #10226)
Files:      src/evalwindow.c, src/testdir/test_bufwintabinfo.vim

Patch 8.2.4798
Problem:    <A HREF="term.html#t_8u">t_8u</A> option was reset even when set by the user.
Solution:   Only reset <A HREF="term.html#t_8u">t_8u</A> when using the default value. (closes #10239)
Files:      src/term.c

Patch 8.2.4799
Problem:    Popup does not use correct topline.
Solution:   Also add one when firstline is negative. (closes #10229)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim

Patch 8.2.4800 (after 8.2.4798)
Problem:    Missing test update for adjusted <A HREF="term.html#t_8u">t_8u</A> behavior.
Solution:   Update and extend the test.
Files:      src/testdir/test_termcodes.vim

Patch 8.2.4801 (after 8.2.4795)
Problem:    Fix for cursorbind fix not fully tested.
Solution:   Add another test <A HREF="change.html#case">case</A>. (Christian Brabandt, closes #10240)
Files:      src/testdir/test_cursorline.vim,
            src/testdir/dumps/Test_hor_scroll_5.dump

Patch 8.2.4802
Problem:    Test is not cleaned up.
Solution:   Make test clean up after itself.  Avoid NUL. (closes #10233)
Files:      src/testdir/test_autocmd.vim

Patch 8.2.4803
Problem:    <A HREF="autocmd.html#WinScrolled">WinScrolled</A> not always triggered when <A HREF="scroll.html#scrolling">scrolling</A> with the mouse.
Solution:   Add calls to may_trigger_winscrolled(). (closes #10246)
Files:      src/mouse.c, src/testdir/test_autocmd.vim

Patch 8.2.4804
Problem:    Expression in heredoc doesn't work for compiled function.
Solution:   Implement compiling the heredoc expressions. (Yegappan Lakshmanan,
            closes #10232)
Files:      runtime/doc/eval.txt, src/evalvars.c, src/proto/evalvars.pro,
            src/ex_getln.c, src/vim9compile.c, src/proto/vim9compile.pro,
            src/testdir/test_vim9_assign.vim

Patch 8.2.4805
Problem:    CurSearch used for all matches in current line.
Solution:   Don't use the non-zero line <A HREF="intro.html#count">count</A>. (closes #10247)
Files:      src/match.c, src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_cursearch_single_line_1.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_single_line_2.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_single_line_2a.dump,
            src/testdir/dumps/Test_hlsearch_cursearch_single_line_2b.dump

Patch 8.2.4806
Problem:    A <A HREF="map.html#mapping">mapping</A> using <A HREF="term.html#&lt;LeftDrag&gt;">&lt;LeftDrag&gt;</A> does not start <A HREF="visual.html#Select">Select</A> mode.
Solution:   When checking for starting select mode with the mouse also <A HREF="diff.html#do">do</A> this
            when there is typeahead. (closes #10249)
Files:      src/normal.c

Patch 8.2.4807
Problem:    Processing key events in <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A> is not ideal.
Solution:   Improve processing of key events. (closes #10155)
Files:      src/gui_w32.c

Patch 8.2.4808
Problem:    Unused item in engine struct.
Solution:   Remove &quot;<A HREF="eval.html#expr">expr</A>&quot;.  Add comment with <A HREF="tagsrch.html#tags">tags</A>.
Files:      src/regexp.h

Patch 8.2.4809
Problem:    Various things not properly tested.
Solution:   Add various test cases. (Yegappan Lakshmanan, closes #10259)
Files:      src/testdir/test_blob.vim, src/testdir/test_debugger.vim,
            src/testdir/test_listdict.vim, src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_import.vim, src/testdir/test_vim9_script.vim

Patch 8.2.4810 (after 8.2.4808)
Problem:    Missing changes in one file.
Solution:   Also change the struct initializers.
Files:      src/regexp.c

Patch 8.2.4811 (after 8.2.4807)
Problem:    <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>: caps lock doesn't work.
Solution:   Handle VK_CAPITAL. (closes #10260, closes #10258)
Files:      src/gui_w32.c

Patch 8.2.4812
Problem:    Unused struct item.
Solution:   Remove &quot;lines&quot; match_T.  Simplify the code. (closes #10256)
Files:      src/match.c, src/structs.h

Patch 8.2.4813
Problem:    Pasting text while indent <A HREF="fold.html#folding">folding</A> may mess up <A HREF="fold.html#folds">folds</A>.
Solution:   Adjust the way <A HREF="fold.html#folds">folds</A> are split. (Brandon Simmons, closes #10254)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.4814
Problem:    Possible to leave a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with <A HREF="builtin.html#win_gotoid()">win_gotoid()</A>.
Solution:   Give an error when trying to leave a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> with
            <A HREF="builtin.html#win_gotoid()">win_gotoid()</A>. (closes #10253)
Files:      src/evalwindow.c, src/testdir/test_terminal3.vim

Patch 8.2.4815 (after 8.2.4776)
Problem:    Cannot build with older <A HREF="gui_x11.html#GTK">GTK</A> version.
Solution:   Use gtk_window_get_size() instead of gdk_window_get_width() and
            gdk_window_get_height(). (Ernie Rael, closes #10257)
Files:      src/gui_gtk_x11.c

Patch 8.2.4816
Problem:    Still using older codecov app in some places of CI.
Solution:   Use v3.1.0. (closes #10209)
Files:      .github/workflows/ci.yml

Patch 8.2.4817
Problem:    <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>: modifiers are not always used.
Solution:   Handle more modifiers. (closes #10269)
Files:      src/gui_w32.c

Patch 8.2.4818 (after 8.2 4806)
Problem:    No test for what 8.2.4806 fixes.
Solution:   Add a test. (closes #10272)
Files:      src/testdir/test_mapping.vim

Patch 8.2.4819
Problem:    Unmapping simplified keys also deletes other <A HREF="map.html#mapping">mapping</A>.
Solution:   Only unmap a <A HREF="map.html#mapping">mapping</A> with m_simplified set. (closes #10270)
Files:      src/map.c, src/testdir/test_mapping.vim

Patch 8.2.4820
Problem:    No simple programmatic way to find a specific <A HREF="map.html#mapping">mapping</A>.
Solution:   Add getmappings(). (Ernie Rael, closes #10273)
Files:      runtime/doc/builtin.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/map.c, src/proto/map.pro, src/testdir/test_maparg.vim

Patch 8.2.4821
Problem:    Crash when imported <A HREF="eval.html#autoload">autoload</A> <A HREF="usr_41.html#script">script</A> was deleted.
Solution:   Initialize local variable. (closes #10274)  Give a more meaningful
            error message.
Files:      src/eval.c, src/vim9script.c, src/testdir/test_vim9_import.vim

Patch 8.2.4822
Problem:    Setting ufunc to NULL <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Set ufunc to NULL in find_exported(). (closes #19275)
Files:      src/eval.c, src/vim9script.c

Patch 8.2.4823
Problem:    Concatenating more than 2 strings in a <A HREF="vim9.html#:def">:def</A> function is
            inefficient.
Solution:   Add a <A HREF="intro.html#count">count</A> to the CONCAT instruction. (closes #10276)
Files:      src/vim9.h, src/vim9cmds.c, src/vim9compile.c, src/vim9execute.c,
            src/vim9expr.c, src/vim9instr.c, src/proto/vim9instr.pro,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4824
Problem:    Expression is evaluated multiple times.
Solution:   Evaluate <A HREF="eval.html#expression">expression</A> once and store the result. (closes #10278)
Files:      src/map.c

Patch 8.2.4825
Problem:    Can only get a <A HREF="eval.html#list">list</A> of mappings.
Solution:   Add the optional {abbr} argument. (Ernie Rael, closes #10277)
            Rename to <A HREF="builtin.html#maplist()">maplist()</A>.  Rename test file.
Files:      runtime/doc/builtin.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/map.c, src/proto/map.pro, src/testdir/test_maparg.vim,
            src/testdir/test_map_functions.vim, src/testdir/Make_all.mak

Patch 8.2.4826
Problem:    .cshtml files are not recognized.
Solution:   Use html <A HREF="filetype.html#filetype">filetype</A> for .cshtml files. (Julien Voisin, closes #10212)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4827
Problem:    Typo in variable name. (Gabriel Dupras)
Solution:   Rename the variable.
Files:      src/map.c

Patch 8.2.4828
Problem:    Fix for unmapping simplified key not fully tested.
Solution:   Add a test <A HREF="change.html#case">case</A>. (closes #10292)
Files:      src/map.c, src/testdir/test_mapping.vim

Patch 8.2.4829
Problem:    A key may be simplified to NUL.
Solution:   Use K_ZERO instead.  Use macros instead of hard coded values.
            (closes #10290)
Files:      src/getchar.c, src/misc2.c, src/testdir/test_termcodes.vim

Patch 8.2.4830
Problem:    Possible endless loop if there is unused typahead.
Solution:   Only loop when the typeahead changed.
Files:      src/channel.c

Patch 8.2.4831
Problem:    Crash when using <A HREF="builtin.html#maparg()">maparg()</A> and unmapping simplified keys.
Solution:   Do not keep a mapblock pointer. (closes #10294)
Files:      src/map.c, src/testdir/test_map_functions.vim

Patch 8.2.4832
Problem:    Passing zero instead of NULL to a pointer argument.
Solution:   Use NULL. (closes #10296)
Files:      src/getchar.c, src/term.c

Patch 8.2.4833
Problem:    Failure of <A HREF="map.html#mapping">mapping</A> not checked for.
Solution:   Check return value of ins_typebuf(). (closes #10299)
Files:      src/getchar.c, src/term.c, src/testdir/test_termcodes.vim

Patch 8.2.4834
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some lines not covered by tests.
Solution:   Add a few more tests.  Remove dead code.
Files:      src/vim9execute.c, src/vim9instr.c, src/vim9.h,
            src/testdir/test_vim9_expr.vim

Patch 8.2.4835
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some lines not covered by tests.
Solution:   Add a few more tests.  Fix disassemble output.
Files:      src/vim9execute.c, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4836
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some lines not covered by tests.
Solution:   Remove dead code.  Add disassemble tests.
Files:      src/vim9execute.c, src/vim9.h,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4837 (after patch 8.2.0919)
Problem:    Modifiers not simplified when timed out or using <A HREF="builtin.html#feedkeys()">feedkeys()</A> with
            'n&quot; flag.
Solution:   Adjust how mapped flag and timeout are used. (closes #10305)
Files:      src/getchar.c, src/testdir/test_paste.vim,
            src/testdir/test_termcodes.vim

Patch 8.2.4838
Problem:    Checking for absolute path is not trivial.
Solution:   Add <A HREF="builtin.html#isabsolutepath()">isabsolutepath()</A>. (closes #10303)
Files:      runtime/doc/builtin.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/filepath.c, src/proto/filepath.pro,
            src/testdir/test_functions.vim

Patch 8.2.4839
Problem:    Compiler warning for unused argument.
Solution:   Add &quot;UNUSED&quot;.
Files:      src/gui_gtk_x11.c

Patch 8.2.4840
Problem:    Heredoc <A HREF="eval.html#expression">expression</A> evaluated even when skipping.
Solution:   Don't evaluate when &quot;skip&quot; is set. (closes #10306)
Files:      src/evalvars.c, src/testdir/test_let.vim

Patch 8.2.4841
Problem:    Empty <A HREF="eval.html#string">string</A> considered an error for <A HREF="builtin.html#expand()">expand()</A> when <A HREF="options.html#'verbose'">'verbose'</A> is
            set. (Christian Brabandt)
Solution:   Do not give an error for an empty result. (closes #10307)
Files:      src/evalfunc.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/filepath.c, src/testdir/test_expand_func.vim

Patch 8.2.4842 (after 8.2.4841)
Problem:    expand(&quot;&#37;:p&quot;) is not empty when there is no buffer name.
Solution:   When ignoring <A HREF="message.html#errors">errors</A> still return NULL. (closes #10311)
Files:      src/ex_docmd.c, src/testdir/test_expand_func.vim

Patch 8.2.4843 (after 8.2.4807)
Problem:    <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>: Treating CTRL + ALT <A HREF="motion.html#as">as</A> AltGr is not backwards
            compatible. (Axel Bender)
Solution:   Make a difference between left and right menu keys.
            (closes #10308)
Files:      src/gui_w32.c

Patch 8.2.4844
Problem:    &lt;C-S-I&gt; is simplified to <A HREF="term.html#&lt;S-Tab&gt;">&lt;S-Tab&gt;</A>.
Solution:   Do not simplify CTRL if there is also SHIFT. (closes #10313)
Files:      src/getchar.c, src/testdir/test_gui.vim

Patch 8.2.4845
Problem:    Duplicate code.
Solution:   Move code below if/else. (closes #10314)
Files:      src/misc1.c

Patch 8.2.4846 (after 8.2.4844)
Problem:    Termcodes test fails.
Solution:   use CTRL-SHIFT-V to insert an unsimplified key. (closes #10316)
Files:      runtime/doc/cmdline.txt, src/edit.c, src/getchar.c,
            src/testdir/test_gui.vim

Patch 8.2.4847
Problem:    Crash when using uninitialized function pointer.
Solution:   Check for NULL pointer. (closes #10319, closes #10319)
Files:      src/eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.4848
Problem:    Local completion with mappings and simplification not working.
Solution:   Fix local completion &lt;C-N&gt;/&lt;C-P&gt; mappings not ignored if keys are
            not simplified. (closes #10323)
Files:      src/getchar.c, src/testdir/test_popup.vim

Patch 8.2.4849
Problem:    Gleam <A HREF="filetype.html#filetype">filetype</A> not detected.
Solution:   Add a <A HREF="pattern.html#pattern">pattern</A> for Gleam files. (Mathias Jean Johansen,
            closes #10326)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4850
Problem:    Mksession mixes up &quot;tabpages&quot; and &quot;curdir&quot; arguments.
Solution:   Correct logic for storing <A HREF="tabpage.html#tabpage">tabpage</A> in session. (closes #10312)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.4851
Problem:    Compiler warning for uninitialized variable.
Solution:   Use another variable to decide to restore option values.
Files:      src/session.c

Patch 8.2.4852
Problem:    ANSI color index to RGB value not correct.
Solution:   Convert the cterm index to ANSI index. (closes #10321,
            closes #9836)
Files:      src/term.c

Patch 8.2.4853
Problem:    CI with FreeBSD is a bit outdated.
Solution:   Use <A HREF="usr_12.html#12.3">12.3</A> instead of <A HREF="usr_12.html#12.1">12.1</A>. (closes #10333)
Files:      .cirrus.yml

Patch 8.2.4854
Problem:    Array size does not match usage.
Solution:   Make array size 3 instead of 4. (Christian Brabandt, closes #10336)
Files:      src/term.c

Patch 8.2.4855
Problem:    Robot files are not recognized.
Solution:   Add patterns for robot files. (Zoe Roux, closes #10339)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4856
Problem:    MinGW compiler complains about unknown <A HREF="intro.html#escape">escape</A> sequence.
Solution:   Avoid using a <A HREF="intro.html#backslash">backslash</A> in path. (Christian Brabandt,
            closes #10337)
Files:      .github/workflows/ci.yml

Patch 8.2.4857
Problem:    Yaml indent for multiline is wrong.
Solution:   Adjust patterns. (closes #10328, closes #8740)
Files:      runtime/indent/yaml.vim, runtime/indent/testdir/yaml.in,
            runtime/indent/testdir/yaml.ok

Patch 8.2.4858
Problem:    K_SPECIAL may be escaped <A HREF="if_cscop.html#twice">twice</A>.
Solution:   Avoid double escaping. (closes #10340)
Files:      src/highlight.c, src/misc2.c, src/proto/misc2.pro, src/term.c,
            src/typval.c, src/testdir/test_eval_stuff.vim,
            src/testdir/test_feedkeys.vim, src/testdir/test_functions.vim,
            src/testdir/test_mapping.vim

Patch 8.2.4859
Problem:    wget2 files are not recognized.
Solution:   Add patterns to recognize wget2. (Doug Kearns)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.4860
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: always uses current directory for executables.
Solution:   Check the <A HREF="builtin.html#NoDefaultCurrentDirectoryInExePath">NoDefaultCurrentDirectoryInExePath</A> environment variable.
            (Yasuhiro Matsumoto, closes #10341)
Files:      runtime/doc/builtin.txt, src/os_win32.c,
            src/testdir/test_functions.vim

Patch 8.2.4861
Problem:    It is not <A HREF="starting.html#easy">easy</A> to restore saved mappings.
Solution:   Make <A HREF="builtin.html#mapset()">mapset()</A> accept a <A HREF="eval.html#dict">dict</A> argument. (Ernie Rael, closes #10295)
Files:      runtime/doc/builtin.txt, src/errors.h, src/evalfunc.c, src/map.c,
            src/typval.c, src/proto/typval.pro,
            src/testdir/test_map_functions.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4862
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: test may fail when run with <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Wait longer for callback if needed.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4863
Problem:    Accessing freed memory in test without the <A HREF="various.html#+channel">+channel</A> feature.
            (Dominique Pellé)
Solution:   Do not generted PUSHCHANNEL or PUSHJOB if they are not
            implemented. (closes #10350)
Files:      src/vim9instr.c, src/errors.h, src/vim9compile.c,
            src/testdir/test_vim9_script.vim

Patch 8.2.4864 (after 8.2.4863)
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="usr_41.html#script">script</A> test fails.
Solution:   Remove &quot;if&quot; around declaration.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4865
Problem:    <A HREF="insert.html#:startinsert">:startinsert</A> right after <A HREF="insert.html#:stopinsert">:stopinsert</A> does not work when <A HREF="popup.html#popup">popup</A> menu
            is still visible.
Solution:   Use ins_compl_active() instead of pum_visible(). (closes #10352)
Files:      src/edit.c, src/testdir/test_ins_complete.vim

Patch 8.2.4866
Problem:    Duplicate code in &quot;get&quot; <A HREF="eval.html#functions">functions</A>.
Solution:   Use get_var_from() for <A HREF="builtin.html#getwinvar()">getwinvar()</A>, <A HREF="builtin.html#gettabvar()">gettabvar()</A>, <A HREF="builtin.html#gettabwinvar()">gettabwinvar()</A>
            and <A HREF="builtin.html#getbufvar()">getbufvar()</A>. (closes #10335)
Files:      src/evalvars.c

Patch 8.2.4867
Problem:    Listing of <A HREF="map.html#mapping">mapping</A> with K_SPECIAL is wrong.
Solution:   Adjust escaping of special characters. (closes #10351)
Files:      src/map.c, src/message.c, src/testdir/test_mapping.vim

Patch 8.2.4868
Problem:    When closing help <A HREF="windows.html#window">window</A> autocmds triggered for the wrong <A HREF="windows.html#window">window</A>.
Solution:   Figure out the new current <A HREF="windows.html#window">window</A> earlier. (closes #10348)
Files:      src/window.c, src/testdir/test_help.vim

Patch 8.2.4869
Problem:    Expression in command block does not look after NL.
Solution:   Skip over NL to check what follows. (closes #10358)
Files:      src/eval.c, src/proto/eval.pro, src/vim9script.c,
            src/testdir/test_usercommands.vim

Patch 8.2.4870
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: <A HREF="eval.html#expression">expression</A> in <A HREF="change.html#:substitute">:substitute</A> is not compiled.
Solution:   Use an INSTR instruction if possible. (closes #10334)
Files:      src/evalfunc.c, src/regexp.c, src/vim9execute.c, src/vim9expr.c,
            src/testdir/test_vim9_builtin.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4871
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: in <A HREF="vim9.html#:def">:def</A> function no error for using a range with a command
            that does not accept one.
Solution:   Check for the command to accept a range. (closes #10330)
Files:      src/vim9compile.c, src/testdir/test_vim9_script.vim

Patch 8.2.4872
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: no error for using an <A HREF="eval.html#expression">expression</A> only at the <A HREF="usr_41.html#script">script</A> level
            when followed by an empty line.
Solution:   Do not check the line number but whether something follows.
            (closes #10357)
Files:      src/ex_eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4873
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: using &quot;else&quot; differs from using &quot;endif/if !cond&quot;.
Solution:   Leave the block and enter another one. (closes #10320)
Files:      src/ex_eval.c, src/testdir/test_vim9_script.vim

Patch 8.2.4874
Problem:    <A HREF="os_win32.html#Win32">Win32</A> <A HREF="gui.html#GUI">GUI</A>: horizontal scroll wheel not handled properly.
Solution:   Also handle WM_MOUSEHWHEEL. (closes #10309)
Files:      src/gui_w32.c

Patch 8.2.4875
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: some .exe files are not recognized.
Solution:   Parse APPEXECLINK junctions. (closes #10302)
Files:      src/os_mswin.c, src/proto/os_mswin.pro, src/os_win32.c,
            src/os_win32.h, src/testdir/test_functions.vim

Patch 8.2.4876
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Shift-BS results in strange character in powershell.
Solution:   Add K_S_BS. (Christian Brabandt, closes #10283, closes #10279)
Files:      src/edit.c, src/keymap.h, src/term.c, src/testdir/shared.vim,
            src/testdir/test_edit.vim

Patch 8.2.4877
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: Using <A HREF="intro.html#Normal">Normal</A> colors for termguicolors causes problems.
Solution:   Do not use <A HREF="intro.html#Normal">Normal</A> colors to set sg_gui_fg and sg_gui_bg.
            (Christian Brabandt, closes #10317, closes #10241)
Files:      src/highlight.c

Patch 8.2.4878
Problem:    Valgrind warning for using uninitialized variable.
Solution:   Initialize the type of newtv.
Files:      src/strings.c

Patch 8.2.4879
Problem:    Screendump test may fail when using <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Wait longer for the first screendump.
Files:      src/testdir/test_vim9_builtin.vim, src/testdir/screendump.vim

Patch 8.2.4880
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: misplaced elseif causes invalid memory access.
Solution:   Check cs_idx not to be negative.
Files:      src/ex_eval.c

Patch 8.2.4881
Problem:    &quot;<A HREF="change.html#P">P</A>&quot; in <A HREF="visual.html#Visual">Visual</A> mode still changes some <A HREF="change.html#registers">registers</A>.
Solution:   Make &quot;<A HREF="change.html#P">P</A>&quot; in <A HREF="visual.html#Visual">Visual</A> mode not change any <A HREF="sponsor.html#register">register</A>. (Shougo
            Matsushita, closes #10349)
Files:      runtime/doc/change.txt, runtime/doc/index.txt,
            runtime/doc/visual.txt, src/normal.c, src/testdir/test_visual.vim

Patch 8.2.4882
Problem:    Cannot make <A HREF="options.html#'breakindent'">'breakindent'</A> use a specific column.
Solution:   Add the &quot;column&quot; entry in <A HREF="options.html#'breakindentopt'">'breakindentopt'</A>. (Christian Brabandt,
            closes #10362, closes #10325)
Files:      runtime/doc/options.txt, src/indent.c, src/structs.h,
            src/testdir/test_breakindent.vim

Patch 8.2.4883
Problem:    <A HREF="eval.html#String">String</A> interpolation only works in heredoc.
Solution:   Support interpolated strings.  Use <A HREF="syntax.html#syntax">syntax</A> for heredoc consistent
            with strings, similar to C#. (closes #10327)
Files:      runtime/doc/eval.txt, src/errors.h, src/eval.c, src/evalvars.c,
            src/proto/evalvars.pro, src/typval.c, src/proto/typval.pro,
            src/vim9compile.c, src/proto/vim9compile.pro, src/vim9expr.c,
            src/testdir/test_debugger.vim, src/testdir/test_expr.vim,
            src/testdir/test_let.vim, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4884
Problem:    Test fails without the job/channel feature. (Dominique Pellé)
Solution:   Add condition.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4885 (after 8.2.4884)
Problem:    Test fails with the job/channel feature.
Solution:   Move check for job/channel separately.
Files:      src/testdir/test_vim9_script.vim

Patch 8.2.4886
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: redir in skipped block seen <A HREF="motion.html#as">as</A> assignment.
Solution:   Check for valid assignment.
Files:      src/ex_docmd.c, src/testdir/test_vim9_assign.vim

Patch 8.2.4887
Problem:    <A HREF="eval.html#Channel">Channel</A> log does not show invoking a <A HREF="builtin.html#timer">timer</A> callback.
Solution:   Add a <A HREF="channel.html#ch_log()">ch_log()</A> call.
Files:      src/time.c

Patch 8.2.4888
Problem:    Line number of <A HREF="eval.html#lambda">lambda</A> ignores line continuation.
Solution:   Use the line number of where the arguments are. Avoid outputting
            &quot;<A HREF="eval.html#...">...</A>&quot; <A HREF="if_cscop.html#twice">twice</A>. (closes #10364)
Files:      src/userfunc.c

Patch 8.2.4889
Problem:    CI only tests with FreeBSD 12.
Solution:   Also test with FreeBSD 13. (closes #10366)
Files:      .cirrus.yml

Patch 8.2.4890
Problem:    Inconsistent capitalization in error <A HREF="message.html#messages">messages</A>.
Solution:   Make capitalization consistent. (Doug Kearns)
Files:      src/errors.h

Patch 8.2.4891
Problem:    Vim help presentation could be better.
Solution:   Add an imported file for extra Vim help support.  Show highlight
            names in the color they have.
Files:      Filelist, runtime/import/dist/vimhelp.vim

Patch 8.2.4892
Problem:    Test failures because of changed error <A HREF="message.html#messages">messages</A>.
Solution:   Adjust the expected error <A HREF="message.html#messages">messages</A>.
Files:      src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_func.vim, src/testdir/test_vim9_script.vim,
            src/testdir/test_expand.vim, src/testdir/test_tcl.vim,
            src/testdir/test_vimscript.vim

Patch 8.2.4893 (after 8.2.4891)
Problem:    Distributed import files are not installed.
Solution:   Add rules to Makefile and NSIS.
Files:      src/Makefile, nsis/gvim.nsi

Patch 8.2.4894
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: not using italics.
Solution:   Use italics.  Simplify the code. (closes #10359)
Files:      src/term.c

Patch 8.2.4895
Problem:    Buffer overflow with invalid command with composing chars.
Solution:   Check that the whole character fits in the buffer.
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.2.4896 (after 8.2.4869)
Problem:    Expression in command block does not look after NL when command is
            typed.
Solution:   Skip over NL also when not in a <A HREF="usr_41.html#script">script</A>. (closes #10358)
Files:      src/eval.c, src/testdir/test_usercommands.vim

Patch 8.2.4897
Problem:    Comment inside an <A HREF="eval.html#expression">expression</A> in <A HREF="eval.html#lambda">lambda</A> ignores the rest of the
            <A HREF="eval.html#expression">expression</A>.
Solution:   Truncate the line at the comment. (closes #10367)
Files:      src/eval.c, src/testdir/test_lambda.vim

Patch 8.2.4898
Problem:    Coverity complains about pointer usage.
Solution:   Move code for increment/decrement.
Files:      src/vim9compile.c

Patch 8.2.4899
Problem:    With latin1 encoding <A HREF="index.html#CTRL-W">CTRL-W</A> might go before the start of the
            command line.
Solution:   Check already being at the start of the command line.
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.4900
Problem:    <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="eval.html#expression">expression</A> test fails without the <A HREF="channel.html#job">job</A> feature.
Solution:   Add a check for the <A HREF="channel.html#job">job</A> feature. (Dominique Pellé, closes #10373)
Files:      src/testdir/test_vim9_expr.vim

Patch 8.2.4901
Problem:    NULL pointer access when using invalid <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Check for failed <A HREF="pattern.html#regexp">regexp</A> program.
Files:      src/buffer.c, src/testdir/test_buffer.vim

Patch 8.2.4902
Problem:    Mouse wheel <A HREF="scroll.html#scrolling">scrolling</A> is inconsistent.
Solution:   Use the <A HREF="os_win32.html#MS-Windows">MS-Windows</A> system setting. (closes #10368)
Files:      runtime/doc/scroll.txt, src/gui_w32.c, src/mouse.c,
            src/proto/mouse.pro, src/testing.c, src/testdir/test_gui.vim

Patch 8.2.4903
Problem:    Cannot get the current cmdline completion type and position.
Solution:   Add <A HREF="builtin.html#getcmdcompltype()">getcmdcompltype()</A> and <A HREF="builtin.html#getcmdscreenpos()">getcmdscreenpos()</A>. (Shougo Matsushita,
            closes #10344)
Files:      runtime/doc/builtin.txt, runtime/doc/usr_41.txt, src/cmdexpand.c,
            src/proto/cmdexpand.pro, src/evalfunc.c, src/ex_getln.c,
            src/proto/ex_getln.pro, src/usercmd.c, src/proto/usercmd.pro,
            src/testdir/test_cmdline.vim

Patch 8.2.4904
Problem:    codecov includes <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="usr_90.html#install">install</A> files.
Solution:   Ignore dosinst.c and uninstall.c.
Files:      .codecov.yml

Patch 8.2.4905
Problem:    codecov includes <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="usr_90.html#install">install</A> header file.
Solution:   Ignore dosinst.h.
Files:      .codecov.yml

Patch 8.2.4906
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: cannot use transparent background.
Solution:   Make transparent background work with <A HREF="options.html#'termguicolors'">'termguicolors'</A> and NONE
            background color. (Yasuhiro Matsumoto, closes #10310, closes #7162)
Files:      runtime/doc/options.txt, src/os_win32.c, src/term.c

Patch 8.2.4907
Problem:    Some users <A HREF="diff.html#do">do</A> not want a line comment always inserted.
Solution:   Add the '<A HREF="pattern.html#/">/</A>' flag to <A HREF="options.html#'formatoptions'">'formatoptions'</A> to not repeat the comment
            leader after a statement when using &quot;<A HREF="insert.html#o">o</A>&quot;.
Files:      runtime/doc/change.txt, src/option.h, src/change.c,
            src/testdir/test_textformat.vim

Patch 8.2.4908
Problem:    No text <A HREF="change.html#formatting">formatting</A> for <A HREF="version7.html#//">//</A> comment after a statement.
Solution:   format a comment when the '<A HREF="change.html#c">c</A>' flag is in <A HREF="options.html#'formatoptions'">'formatoptions'</A>.
Files:      src/textformat.c, src/testdir/test_textformat.vim

Patch 8.2.4909
Problem:    MODE_ enum entries names are too generic.
Solution:   use CH_MODE_.
Files:      src/structs.h, src/channel.c, src/job.c, src/terminal.c

Patch 8.2.4910
Problem:    Imperfect coding.
Solution:   Make code nicer.
Files:      src/ex_getln.c

Patch 8.2.4911
Problem:    The mode #defines are not clearly named.
Solution:   Prepend MODE_.  Renumber them to put the mapped modes first.
Files:      src/vim.h, src/autocmd.c, src/buffer.c, src/change.c,
            src/charset.c, src/cindent.c, src/clipboard.c, src/debugger.c,
            src/digraph.c, src/drawline.c, src/drawscreen.c, src/edit.c,
            src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/ex_getln.c,
            src/fileio.c, src/fold.c, src/getchar.c, src/globals.h, src/gui.c,
            src/gui_gtk.c, src/gui_w32.c, src/gui_xim.c, src/indent.c,
            src/insexpand.c, src/macros.h, src/main.c, src/map.c, src/menu.c,
            src/message.c, src/misc1.c, src/misc2.c, src/mouse.c,
            src/netbeans.c, src/normal.c, src/ops.c, src/option.c,
            src/os_unix.c, src/os_win32.c, src/popupmenu.c, src/search.c,
            src/tag.c, src/screen.c, src/term.c, src/terminal.c,
            src/textformat.c, src/window.c

Patch 8.2.4912
Problem:    Using <A HREF="builtin.html#execute()">execute()</A> to define a <A HREF="eval.html#lambda">lambda</A> doesn't work. (Ernie Rael)
Solution:   Put the getline function in evalarg. (closes #10375)
Files:      src/eval.c, src/evalfunc.c, src/proto/evalfunc.pro,
            src/testdir/test_vim9_func.vim

Patch 8.2.4913
Problem:    Popup_hide() does not always have effect.
Solution:   Add the POPF_HIDDEN_FORCE flag. (closes #10376)
Files:      src/popupwin.c, src/vim.h, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popup_prop_not_visible_01a.dump,
            src/testdir/dumps/Test_popup_prop_not_visible_01b.dump

Patch 8.2.4914
Problem:    <A HREF="eval.html#String">String</A> interpolation in <A HREF="vim9.html#:def">:def</A> function may fail.
Solution:   Do not terminate the <A HREF="eval.html#expression">expression</A>. (closes #10377)
Files:      src/vim9compile.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4915
Problem:    Sometimes the cursor is in the wrong position.
Solution:   When the cursor moved to another line, recompute w_botline.
            (closes #9736)
Files:      src/move.c

Patch 8.2.4916 (after 8.2.4915)
Problem:    Mouse in <A HREF="insert.html#Insert">Insert</A> mode test fails.
Solution:   Fix the test and check relevant positions.
Files:      src/testdir/test_edit.vim

Patch 8.2.4917
Problem:    Fuzzy expansion of option names is not right.
Solution:   Pass the fuzzy flag down the call chain. (Christian Brabandt,
            closes #10380, closes #10318)
Files:      src/cmdexpand.c, src/option.c, src/proto/option.pro,
            src/testdir/test_options.vim

Patch 8.2.4918
Problem:    Conceal character from <A HREF="builtin.html#matchadd()">matchadd()</A> displayed too many times.
Solution:   Check the <A HREF="syntax.html#syntax">syntax</A> flag. (closes #10381, closes #7268)
Files:      src/drawline.c, src/testdir/test_matchadd_conceal.vim

Patch 8.2.4919
Problem:    Can add invalid bytes with <A HREF="spell.html#:spellgood">:spellgood</A>.
Solution:   Check for a valid <A HREF="motion.html#word">word</A> <A HREF="eval.html#string">string</A>.
Files:      src/mbyte.c, src/spellfile.c, src/errors.h,
            src/testdir/test_spell_utf8.vim

Patch 8.2.4920 (after 8.2.4902)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: unused <A HREF="eval.html#variables">variables</A>.
Solution:   Delete the <A HREF="eval.html#variables">variables</A>. (John Marriott)
Files:      src/gui_w32.c

Patch 8.2.4921
Problem:    Spell test fails because of new illegal byte check.
Solution:   Remove the test.
Files:      src/testdir/test_spell.vim

Patch 8.2.4922 (after 8.2.4916)
Problem:    Mouse test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set <A HREF="options.html#'mousemodel'">'mousemodel'</A> to &quot;extend&quot;.
Files:      src/testdir/test_edit.vim

Patch 8.2.4923
Problem:    Test checks for <A HREF="terminal.html#terminal">terminal</A> feature unnecessarily.
Solution:   Remove CheckRunVimInTerminal. (closes #10383)
Files:      src/testdir/test_matchadd_conceal.vim

Patch 8.2.4924
Problem:    <A HREF="builtin.html#maparg()">maparg()</A> may return a <A HREF="eval.html#string">string</A> that cannot be reused.
Solution:   use msg_outtrans_special() instead of str2special().
            (closes #10384)
Files:      src/message.c, src/option.c, src/testdir/test_map_functions.vim,
            src/testdir/test_mapping.vim, src/testdir/test_options.vim

Patch 8.2.4925
Problem:    Trailing <A HREF="intro.html#backslash">backslash</A> may cause reading past end of line.
Solution:   Check for NUL after <A HREF="intro.html#backslash">backslash</A>.
Files:      src/textobject.c, src/testdir/test_textobjects.vim

Patch 8.2.4926
Problem:    #ifdef for crypt feature around too many lines.
Solution:   Move code outside of #ifdef. (closes #10388)
Files:      src/option.c

Patch 8.2.4927
Problem:    Return type of <A HREF="builtin.html#remove()">remove()</A> incorrect when using three arguments.
Solution:   Use first argument type when there are three arguments.
            (closes #10387)
Files:      src/evalfunc.c, src/testdir/test_vim9_builtin.vim

Patch 8.2.4928
Problem:    Various white space and cosmetic mistakes.
Solution:   Change spaces to tabs, improve comments.
Files:      src/bufwrite.c, src/channel.c, src/cindent.c, src/crypt.c,
            src/debugger.c, src/digraph.c, src/edit.c, src/evalwindow.c,
            src/ex_cmds.c, src/ex_docmd.c, src/ex_getln.c, src/fileio.c,
            src/filepath.c, src/gui.c, src/highlight.c, src/indent.c,
            src/insexpand.c, src/job.c, src/keymap.h, src/macros.h,
            src/menu.c, src/misc1.c, src/misc2.c, src/mouse.c, src/move.c,
            src/normal.c, src/ops.c, src/option.c, src/option.h, src/search.c,
            src/session.c, src/spellsuggest.c, src/structs.h, src/tag.c,
            src/term.c, src/terminal.c, src/textformat.c, src/typval.c,
            src/ui.c, src/userfunc.c, src/vim.h, src/vim9.h,
            src/vim9compile.c, src/vim9execute.c, src/window.c,
            src/testdir/test_cursorline.vim, src/os_unix.c, src/if_lua.c,
            src/if_py_both.h, src/os_amiga.c, src/os_win32.c, src/os_mswin.c,
            src/os_vms.c, src/os_vms_conf.h

Patch 8.2.4929
Problem:    Off-by-one error in statusline item.
Solution:   Subtrace one <A HREF="various.html#less">less</A>. (closes #10394, closes #5599)
Files:      src/buffer.c, src/testdir/test_statusline.vim,
            src/testdir/dumps/Test_statusline_hl.dump

Patch 8.2.4930
Problem:    Interpolated <A HREF="eval.html#string">string</A> <A HREF="eval.html#expression">expression</A> requires escaping.
Solution:   Do not require escaping in the <A HREF="eval.html#expression">expression</A>.
Files:      runtime/doc/eval.txt, src/typval.c, src/proto/typval.pro,
            src/dict.c, src/eval.c, src/evalvars.c, src/proto/evalvars.pro,
            src/vim9compile.c, src/proto/vim9compile.pro, src/vim9expr.c,
            src/vim9instr.c, src/alloc.c, src/proto/alloc.pro,
            src/testdir/test_expr.vim, src/testdir/test_let.vim

Patch 8.2.4931
Problem:    Crash with sequence of <A HREF="if_perl.html#Perl">Perl</A> commands.
Solution:   Move PUTBACK to another line. (closes #10386)
Files:      src/if_perl.xs

Patch 8.2.4932
Problem:    Not <A HREF="starting.html#easy">easy</A> to <A HREF="change.html#filter">filter</A> the output of <A HREF="builtin.html#maplist()">maplist()</A>.
Solution:   Add mode_bits to the dictionary. (Ernie Rael, closes #10356)
Files:      runtime/doc/builtin.txt, src/map.c,
            src/testdir/test_map_functions.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4933
Problem:    A few more capitalization mistakes in error <A HREF="message.html#messages">messages</A>.
Solution:   Adjust capitalization. (Doug Kearns)
Files:      src/errors.h

Patch 8.2.4934
Problem:    <A HREF="eval.html#String">String</A> interpolation fails when not evaluating.
Solution:   Skip the <A HREF="eval.html#expression">expression</A> when not evaluating. (closes #10398)
Files:      src/typval.c, src/evalvars.c, src/proto/evalvars.pro,
            src/testdir/test_vim9_expr.vim

Patch 8.2.4935
Problem:    With <A HREF="options.html#'foldmethod'">'foldmethod'</A> &quot;indent&quot; some lines are not included in the
            fold. (Oleg Koshovetc)
Solution:   Fix <A HREF="motion.html#it">it</A>. (Brandon Simmons, closes #10399, closes #3214)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.4936
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: mouse coordinates for scroll event are wrong.
Solution:   Convert coordinates to the text area coordinates. (closes #10400)
Files:      src/gui_w32.c

Patch 8.2.4937 (after 8.2.4931)
Problem:    No test for what 8.2.4931 fixes.
Solution:   Add a test that triggers a <A HREF="debug.html#valgrind">valgrind</A> error.
Files:      src/testdir/test_perl.vim

Patch 8.2.4938
Problem:    Crash when matching buffer with invalid <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Check for NULL regprog.
Files:      src/buffer.c, src/testdir/test_buffer.vim

Patch 8.2.4939
Problem:    <A HREF="builtin.html#matchfuzzypos()">matchfuzzypos()</A> with &quot;matchseq&quot; does not have all positions.
Solution:   Also add a position for white space. (closes #10404)
Files:      runtime/doc/builtin.txt, src/search.c,
            src/testdir/test_matchfuzzy.vim

Patch 8.2.4940
Problem:    Some code is never used.
Solution:   Remove dead code.  Add a few more test cases.
Files:      src/vim9expr.c, src/proto/vim9expr.pro, src/vim9compile.c,
            src/testdir/test_vim9_builtin.vim, src/testdir/test_vim9_expr.vim

Patch 8.2.4941
Problem:    <A HREF="motion.html#'[">'[</A> and <A HREF="motion.html#']">']</A> marks may be wrong after <A HREF="undo.html#undo">undo</A>.
Solution:   Adjust the <A HREF="motion.html#'[">'[</A> and <A HREF="motion.html#']">']</A> marks if needed. (closes #10407, closes #1281)
Files:      src/undo.c, src/testdir/test_undo.vim

Patch 8.2.4942
Problem:    Error when setting <A HREF="options.html#'filetype'">'filetype'</A> in help file again.
Solution:   Deal with text property type already existing. (closes #10409)
Files:      runtime/import/dist/vimhelp.vim

Patch 8.2.4943
Problem:    Changing <A HREF="options.html#'switchbuf'">'switchbuf'</A> may have no effect.
Solution:   Handle <A HREF="options.html#'switchbuf'">'switchbuf'</A> in didset_string_options(). (Sean Dewar,
            closes #10406)
Files:      src/optionstr.c, src/testdir/test_options.vim

Patch 8.2.4944
Problem:    Text properties are wrong after &quot;<A HREF="change.html#cc">cc</A>&quot;. (Axel Forsman)
Solution:   Pass the deleted byte <A HREF="intro.html#count">count</A> to inserted_bytes(). (closes #10412,
            closes #7737, closes #5763)
Files:      src/change.c, src/testdir/test_textprop.vim

Patch 8.2.4945
Problem:    Inconsistent use of white space.
Solution:   Use Tabs and Spaces consistently.
Files:      src/os_amiga.c, src/if_py_both.h, src/os_win32.c, src/os_mswin.c,
            src/os_vms.c, src/os_vms_conf.h

Patch 8.2.4946
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not covered by tests.
Solution:   Add a few more test cases.  Remove dead code.
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4947
Problem:    Text properties not adjusted when accepting <A HREF="spell.html#spell">spell</A> suggestion.
Solution:   Adjust text properties when text changes. (closes #10414)
Files:      src/spell.c, src/spellsuggest.c, src/testdir/test_textprop.vim

Patch 8.2.4948
Problem:    Cannot use <A HREF="if_perl.html#Perl">Perl</A> heredoc in nested <A HREF="vim9.html#:def">:def</A> function. (Virginia
            Senioria)
Solution:   Only concatenate heredoc lines when not in a nested function.
            (closes #10415)
Files:      src/userfunc.c, src/testdir/test_vim9_func.vim

Patch 8.2.4949
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code not covered by tests.
Solution:   Add a few more test cases.  Fix double error message.
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4950
Problem:    Text properties position wrong after shifting text.
Solution:   Adjust the text properties when shifting a block of text.
            (closes #10418)
Files:      src/ops.c, src/testdir/test_textprop.vim

Patch 8.2.4951
Problem:    Smart indenting done when not enabled.
Solution:   Check option values before setting can_si. (closes #10420)
Files:      src/indent.c, src/proto/indent.pro, src/change.c, src/edit.c,
            src/ops.c, src/testdir/test_smartindent.vim

Patch 8.2.4952
Problem:    <A HREF="gui.html#GUI">GUI</A> test will fail if color scheme changes.
Solution:   Reduce the test for now.
Files:      src/testdir/test_gui.vim

Patch 8.2.4953
Problem:    With <A HREF="options.html#'smartindent'">'smartindent'</A> <A HREF="insert.html#inserting">inserting</A> '<A HREF="motion.html#}">}</A>' after completion goes wrong.
Solution:   Check the cursor is in indent.  (closes #10420)
Files:      src/indent.c, src/testdir/test_smartindent.vim

Patch 8.2.4954
Problem:    Inserting line breaks text property spanning more than one line.
Solution:   Check TP_FLAG_CONT_PREV and TP_FLAG_CONT_NEXT. (closes #10423)
Files:      src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.4955
Problem:    Text property in wrong position after auto-indent.
Solution:   Adjust text property columns. (closes #10422, closes #7719)
Files:      src/change.c, src/testdir/test_textprop.vim

Patch 8.2.4956
Problem:    Reading past end of line with &quot;<A HREF="editing.html#gf">gf</A>&quot; in <A HREF="visual.html#Visual">Visual</A> block mode.
Solution:   Do not include the NUL in the length.
Files:      src/normal.c, src/testdir/test_gf.vim

Patch 8.2.4957
Problem:    Text properties in a wrong position after a block change.
Solution:   Adjust the properties columns. (closes #10427)
Files:      src/ops.c, src/testdir/test_textprop.vim

Patch 8.2.4958
Problem:    A couple conditions are always <A HREF="vim9.html#true">true</A>.
Solution:   Remove the conditions. (Goc Dundar, closes #10428)
Files:      src/evalfunc.c, src/quickfix.c

Patch 8.2.4959
Problem:    Using NULL <A HREF="pattern.html#regexp">regexp</A> program.
Solution:   Check for <A HREF="pattern.html#regexp">regexp</A> program becoming NULL in more places.
Files:      src/buffer.c, src/testdir/test_buffer.vim

Patch 8.2.4960
Problem:    Text properties that cross line boundary are not correctly updated
            for a deleted line.
Solution:   Correct computing location of text property entry. (Paul Ollis,
            closes #10431, closes #10430)
Files:      src/memline.c, src/testdir/test_textprop.vim

Patch 8.2.4961
Problem:    Build error with a certain combination of features.
Solution:   Adjust #if. (John Marriott)
Files:      src/memline.c

Patch 8.2.4962
Problem:    Files show up in git status.
Solution:   Adjust the <A HREF="eval.html#list">list</A> of ignored files.  Clean up more test files.
            (Shane xb Qian, closes #9929)
Files:      .gitignore, src/testdir/Makefile

Patch 8.2.4963
Problem:    Expanding path with &quot;/**&quot; may overrun end of buffer.
Solution:   Use vim_snprintf().
Files:      src/filepath.c

Patch 8.2.4964
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: mouse event test is flaky.
Solution:   Add a short delay after generating a mouse event.
Files:      src/testdir/test_gui.vim

Patch 8.2.4965
Problem:    <A HREF="gui.html#GUI">GUI</A>: <A HREF="testing.html#testing">testing</A> mouse move event depends on screen cell size.
Solution:   Multiply the row and column with the screen cell size.
Files:      runtime/doc/testing.txt, src/testing.c, src/testdir/test_gui.vim

Patch 8.2.4966
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: mouse event test gets extra event.
Solution:   Ignore one move event.
Files:      src/testdir/test_gui.vim

Patch 8.2.4967 (after 8.2.4966)
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: mouse event test sometimes fails.
Solution:   Ignore one move event only if there is an extra event.
Files:      src/testdir/test_gui.vim

Patch 8.2.4968
Problem:    Reading past end of the line when <A HREF="indent.html#C-indenting">C-indenting</A>.
Solution:   Check for NUL.
Files:      src/cindent.c, src/testdir/test_cindent.vim

Patch 8.2.4969
Problem:    Changing text in <A HREF="visual.html#Visual">Visual</A> mode may cause invalid memory access.
Solution:   Check the <A HREF="visual.html#Visual">Visual</A> position after making a change.
Files:      src/change.c, src/edit.c, src/misc2.c, src/proto/misc2.pro,
            src/testdir/test_visual.vim

Patch 8.2.4970
Problem:    &quot;<A HREF="eval.html#eval">eval</A> 123&quot; gives an error, &quot;<A HREF="eval.html#eval">eval</A> 'abc&#39;&#34;' does not.
Solution:   Also give an error when evaluating only a <A HREF="eval.html#string">string</A>. (closes #10434)
Files:      src/ex_eval.c, src/testdir/test_vim9_cmd.vim

Patch 8.2.4971
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: interpolated <A HREF="eval.html#string">string</A> seen <A HREF="motion.html#as">as</A> range.
Solution:   Recognize an interpolated <A HREF="eval.html#string">string</A> at the start of a command line.
            (closes #10434)
Files:      src/ex_docmd.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4972
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: compilation fails when using <A HREF="eval.html#dict">dict</A> member when skipping.
Solution:   Do not generate ISN_USEDICT when skipping. (closes #10433)
Files:      src/vim9expr.c, src/testdir/test_vim9_expr.vim

Patch 8.2.4973
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: type error for <A HREF="eval.html#list">list</A> unpack mentions argument.
Solution:   Mention variable. (close #10435)
Files:      src/vim9.h, src/vim9execute.c, src/vim9instr.c,
            src/proto/vim9instr.pro, src/vim9compile.c,
            src/testdir/test_vim9_script.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4974
Problem:    &quot;<A HREF="repeat.html#:so">:so</A>&quot; command may read after end of buffer.
Solution:   Compute length of text properly.
Files:      src/scriptfile.c, src/testdir/test_source.vim

Patch 8.2.4975
Problem:    Recursive command line loop may cause a crash.
Solution:   Limit recursion of <A HREF="builtin.html#getcmdline()">getcmdline()</A>.
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.4976
Problem:    Coverity complains about not restoring a saved value.
Solution:   Restore value before handling error.
Files:      src/vim9execute.c

Patch 8.2.4977
Problem:    Memory access error when substitute <A HREF="eval.html#expression">expression</A> changes <A HREF="windows.html#window">window</A>.
Solution:   Disallow <A HREF="change.html#changing">changing</A> <A HREF="windows.html#window">window</A> in substitute <A HREF="eval.html#expression">expression</A>.
Files:      src/ex_cmds.c, src/testdir/test_substitute.vim

Patch 8.2.4978
Problem:    No error if engine selection atom is not at the start.
Solution:   Give an error. (Christian Brabandt, closes #10439)
Files:      runtime/doc/pattern.txt, src/errors.h, src/regexp_bt.c,
            src/regexp_nfa.c, src/testdir/test_regexp_latin.vim

Patch 8.2.4979
Problem:    Accessing freed memory when line is flushed.
Solution:   Make a copy of the <A HREF="pattern.html#pattern">pattern</A> to search for.
Files:      src/window.c, src/testdir/test_tagjump.vim

Patch 8.2.4980
Problem:    When <A HREF="options.html#'shortmess'">'shortmess'</A> contains '<A HREF="insert.html#A">A</A>' loading a session may still warn for
            an existing swap file. (Melker Österberg)
Solution:   Keep the '<A HREF="insert.html#A">A</A>' flag to <A HREF="options.html#'shortmess'">'shortmess'</A> in the session file.
            (closes #10443)
Files:      src/session.c, src/testdir/test_mksession.vim

Patch 8.2.4981
Problem:    It is not possible to manipulate <A HREF="autocmd.html#autocommands">autocommands</A>.
Solution:   Add <A HREF="eval.html#functions">functions</A> to add, get and set <A HREF="autocmd.html#autocommands">autocommands</A>. (Yegappan
            Lakshmanan, closes #10291)
Files:      runtime/doc/autocmd.txt, runtime/doc/builtin.txt,
            runtime/doc/usr_41.txt, src/autocmd.c, src/evalfunc.c,
            src/proto/autocmd.pro, src/testdir/test_autocmd.vim,
            src/testdir/test_vim9_builtin.vim

Patch 8.2.4982
Problem:    Colors in <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A> are not 100&#37; correct.
Solution:   Use <A HREF="terminal.html#g:terminal_ansi_colors">g:terminal_ansi_colors</A> <A HREF="motion.html#as">as</A> documented. (closes #10429,
            closes #7227 closes #10347)
Files:      src/job.c, src/option.c, src/proto/term.pro,
            src/terminal.c, src/proto/terminal.pro, src/term.c,
            src/testdir/test_functions.vim, src/testdir/test_terminal.vim

Patch 8.2.4983 (after 8.2.4982)
Problem:    Colors test fails in the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Reset <A HREF="terminal.html#g:terminal_ansi_colors">g:terminal_ansi_colors</A>.
Files:      src/testdir/test_functions.vim

Patch 8.2.4984
Problem:    Dragging statusline fails for <A HREF="windows.html#window">window</A> with winbar.
Solution:   Fix off-by-one error. (closes #10448)
Files:      src/mouse.c, src/testdir/test_winbar.vim

Patch 8.2.4985
Problem:    PVS warns for possible array underrun.
Solution:   Add a check for a positive value. (Goc Dundar, closes #10451)
Files:      src/spell.c

Patch 8.2.4986
Problem:    Some github actions are outdated.
Solution:   Update CodeQl to v2, update checkout to v3. (closes #10450)
Files:      .github/workflows/ci.yml, .github/workflows/codeql-analysis.yml,
            .github/workflows/coverity.yml

Patch 8.2.4987
Problem:    After deletion a small fold may be closable.
Solution:   Check for a reverse range. (Brandon Simmons, closes #10457)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.4988
Problem:    Textprop in wrong position when <A HREF="change.html#replacing">replacing</A> <A HREF="mbyte.html#multi-byte">multi-byte</A> chars.
Solution:   Adjust <A HREF="textprop.html#textprop">textprop</A> position. (closes #10461)
Files:      src/change.c, src/testdir/test_textprop.vim

Patch 8.2.4989
Problem:    Cannot specify a function name for <A HREF="vim9.html#:defcompile">:defcompile</A>.
Solution:   Implement a function name argument for <A HREF="vim9.html#:defcompile">:defcompile</A>.
Files:      runtime/doc/vim9.txt, src/userfunc.c, src/proto/userfunc.pro,
            src/vim9execute.c, src/ex_cmds.h, src/testdir/test_vim9_cmd.vim,
            src/testdir/test_vim9_disassemble.vim

Patch 8.2.4990 (after 8.2.4989)
Problem:    Memory leak when <A HREF="vim9.html#:defcompile">:defcompile</A> fails.
Solution:   Free fname when returning early.
Files:      src/userfunc.c

Patch 8.2.4991
Problem:    No test for what patch 8.1.0535 fixes.
Solution:   Add a test. (closes #10462)
Files:      src/testdir/test_fold.vim

Patch 8.2.4992 (after 8.2.4989)
Problem:    Compiler warning for possibly uninitialized variable. (Tony
            Mechelynck)
Solution:   Initialize variable in the caller instead of in the function.
Files:      src/userfunc.c, src/vim9execute.c

Patch 8.2.4993
Problem:    smart/C/lisp indenting is optional, which makes the code more
            complex, while <A HREF="motion.html#it">it</A> only reduces the executable size a bit.
Solution:   Graduate FEAT_CINDENT, FEAT_SMARTINDENT and FEAT_LISP.
Files:      runtime/doc/builtin.txt, runtime/doc/indent.txt,
            runtime/doc/options.txt, runtime/doc/various.txt, src/feature.h,
            src/buffer.c, src/change.c, src/cindent.c, src/charset.c,
            src/edit.c, src/evalfunc.c, src/indent.c, src/insexpand.c,
            src/main.c, src/mouse.c, src/ops.c, src/option.c, src/optionstr.c,
            src/register.c, src/search.c, src/textformat.c, src/version.c,
            src/option.h, src/optiondefs.h, src/structs.h, src/globals.h,
            src/testdir/test_edit.vim

Patch 8.2.4994
Problem:    Tests are using legacy <A HREF="eval.html#functions">functions</A>.
Solution:   Convert a few tests to use <A HREF="vim9.html#:def">:def</A> <A HREF="eval.html#functions">functions</A>.
Files:      src/testdir/test_cindent.vim

Patch 8.2.4995 (after 8.2.4992)
Problem:    Still a compiler warning for possibly uninitialized variable.
            (Tony Mechelynck)
Solution:   Initialize <A HREF="eval.html#variables">variables</A>.
Files:      src/vim9execute.c

Patch 8.2.4996 (after 8.2.4969)
Problem:    <A HREF="builtin.html#setbufline()">setbufline()</A> may change <A HREF="visual.html#Visual">Visual</A> selection. (Qiming Zhao)
Solution:   Disable <A HREF="visual.html#Visual">Visual</A> mode when using another buffer. (closes #10466)
Files:      src/evalbuffer.c, src/testdir/test_bufline.vim

Patch 8.2.4997
Problem:    <A HREF="if_pyth.html#Python">Python</A>: <A HREF="change.html#changing">changing</A> hidden buffer can cause the display to be messed
            up.
Solution:   Do not <A HREF="motion.html#mark">mark</A> changed lines when using another buffer. (Paul Ollis,
            closes #10437, closes #7972)
Files:      src/if_py_both.h, src/testdir/test_python3.vim

Patch 8.2.4998
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: crash when using multiple <A HREF="builtin.html#funcref()">funcref()</A>.
Solution:   Check if varargs type is NULL. (closes #10467)
Files:      src/vim9type.c, src/testdir/test_vim9_func.vim

Patch 8.2.4999
Problem:    Filetype test table is not properly sorted.
Solution:   Sort by <A HREF="filetype.html#filetype">filetype</A>. (Doug Kearns)
Files:      src/testdir/test_filetype.vim

Patch 8.2.5000
Problem:    No patch for documentation updates.
Solution:   Update documentation files.
Files:      runtime/doc/arabic.txt, runtime/doc/autocmd.txt,
            runtime/doc/builtin.txt, runtime/doc/change.txt,
            runtime/doc/channel.txt, runtime/doc/cmdline.txt,
            runtime/doc/diff.txt, runtime/doc/digraph.txt,
            runtime/doc/editing.txt, runtime/doc/eval.txt,
            runtime/doc/filetype.txt, runtime/doc/fold.txt,
            runtime/doc/ft_ada.txt, runtime/doc/ft_ps1.txt,
            runtime/doc/ft_raku.txt, runtime/doc/ft_rust.txt,
            runtime/doc/ft_sql.txt, runtime/doc/gui.txt,
            runtime/doc/gui_w32.txt, runtime/doc/helphelp.txt,
            runtime/doc/help.txt, runtime/doc/if_cscop.txt,
            runtime/doc/if_lua.txt, runtime/doc/if_perl.txt,
            runtime/doc/if_pyth.txt, runtime/doc/if_tcl.txt,
            runtime/doc/indent.txt, runtime/doc/index.txt,
            runtime/doc/insert.txt, runtime/doc/intro.txt,
            runtime/doc/map.txt, runtime/doc/mbyte.txt,
            runtime/doc/message.txt, runtime/doc/motion.txt,
            runtime/doc/netbeans.txt, runtime/doc/options.txt,
            runtime/doc/os_dos.txt, runtime/doc/os_vms.txt,
            runtime/doc/os_win32.txt, runtime/doc/pattern.txt,
            runtime/doc/pi_netrw.txt, runtime/doc/pi_zip.txt,
            runtime/doc/popup.txt, runtime/doc/print.txt,
            runtime/doc/quickfix.txt, runtime/doc/quickref.txt,
            runtime/doc/remote.txt, runtime/doc/repeat.txt,
            runtime/doc/rileft.txt, runtime/doc/scroll.txt,
            runtime/doc/sign.txt, runtime/doc/spell.txt,
            runtime/doc/sponsor.txt, runtime/doc/starting.txt,
            runtime/doc/syntax.txt, runtime/doc/tabpage.txt,
            runtime/doc/tagsrch.txt, runtime/doc/terminal.txt,
            runtime/doc/term.txt, runtime/doc/testing.txt,
            runtime/doc/textprop.txt, runtime/doc/tips.txt,
            runtime/doc/todo.txt, runtime/doc/uganda.txt,
            runtime/doc/undo.txt, runtime/doc/usr_02.txt,
            runtime/doc/usr_04.txt, runtime/doc/usr_05.txt,
            runtime/doc/usr_06.txt, runtime/doc/usr_08.txt,
            runtime/doc/usr_09.txt, runtime/doc/usr_12.txt,
            runtime/doc/usr_20.txt, runtime/doc/usr_29.txt,
            runtime/doc/usr_40.txt, runtime/doc/usr_41.txt,
            runtime/doc/usr_45.txt, runtime/doc/usr_46.txt,
            runtime/doc/usr_50.txt, runtime/doc/usr_51.txt,
            runtime/doc/usr_52.txt, runtime/doc/usr_90.txt,
            runtime/doc/usr_toc.txt, runtime/doc/various.txt,
            runtime/doc/version5.txt, runtime/doc/version6.txt,
            runtime/doc/version7.txt, runtime/doc/version8.txt,
            runtime/doc/version9.txt, runtime/doc/vi_diff.txt,
            runtime/doc/vim9.txt, runtime/doc/visual.txt,
            runtime/doc/windows.txt, runtime/doc/tags, runtime/doc/Makefile

Patch 8.2.5001
Problem:    Checking translations affects the search <A HREF="pattern.html#pattern">pattern</A> <A HREF="cmdline.html#history">history</A>.
Solution:   Use &quot;keeppatterns&quot;. (Doug Kearns)
Files:      src/po/check.vim

Patch 8.2.5002
Problem:    <A HREF="builtin.html#deletebufline()">deletebufline()</A> may change <A HREF="visual.html#Visual">Visual</A> selection.
Solution:   Disable <A HREF="visual.html#Visual">Visual</A> mode when using another buffer. (closes #10469)
Files:      src/evalbuffer.c, src/testdir/test_bufline.vim

Patch 8.2.5003
Problem:    Cannot <A HREF="diff.html#do">do</A> bitwise shifts.
Solution:   Add the <A HREF="change.html#&gt;&gt;">&gt;&gt;</A> and <A HREF="change.html#&lt;&lt;">&lt;&lt;</A> operators. (Yegappan Lakshmanan, closes #8457)
Files:      runtime/doc/eval.txt, src/errors.h, src/eval.c, src/structs.h,
            src/vim.h, src/vim9execute.c, src/vim9expr.c,
            src/testdir/test_expr.vim, src/testdir/test_vim9_disassemble.vim,
            src/testdir/test_vim9_expr.vim

Patch 8.2.5004
Problem:    Right <A HREF="intro.html#shift">shift</A> on negative number does not work <A HREF="motion.html#as">as</A> documented.
Solution:   Use a uvarnumber_T type cast.
Files:      runtime/doc/eval.txt, src/eval.c, src/vim9expr.c,
            src/vim9execute.c, src/charset.c, src/testdir/test_expr.vim

Patch 8.2.5005 (after 8.2.5003)
Problem:    Compiler warning for uninitialized variable. (John Marriott)
Solution:   Initialize the pointer to NULL.
Files:      src/vim9expr.vim

Patch 8.2.5006 (after 8.2.5003)
Problem:    Asan warns for undefined behavior.
Solution:   Cast the shifted value to unsigned.
Files:      src/eval.c, src/vim9expr.c, src/vim9execute.c

Patch 8.2.5007
Problem:    Spell suggestion may use uninitialized memory. (Zdenek Dohnal)
Solution:   Avoid going over the end of the <A HREF="motion.html#word">word</A>.
Files:      src/spellsuggest.c, src/testdir/test_spell_utf8.vim

Patch 8.2.5008
Problem:    When <A HREF="options.html#'formatoptions'">'formatoptions'</A> contains &quot;<A HREF="pattern.html#/">/</A>&quot; wrongly wrapping a long trailing
            comment.
Solution:   Pass the OPENLINE_FORMAT flag.
Files:      src/change.c, src/vim.h, src/textformat.c,
            src/testdir/test_textformat.vim

Patch 8.2.5009
Problem:    Fold may not be closable after appending.
Solution:   Set the fd_small flag to MAYBE. (Brandon Simmons, closes #10471)
Files:      src/fold.c, src/testdir/test_fold.vim

Patch 8.2.5010
Problem:    The <A HREF="terminal.html#terminal">terminal</A> debugger uses various global <A HREF="eval.html#variables">variables</A>.
Solution:   Add a dictionary to hold the <A HREF="terminal.html#terminal">terminal</A> debugger preferences.
Files:      runtime/doc/terminal.txt,
            runtime/pack/dist/opt/termdebug/plugin/termdebug.vim

Patch 8.2.5011
Problem:    Replacing an <A HREF="autocmd.html#autocommand">autocommand</A> requires several lines.
Solution:   Add the &quot;replace&quot; flag to <A HREF="builtin.html#autocmd_add()">autocmd_add()</A>. (Yegappan Lakshmanan,
            closes #10473)
Files:      runtime/doc/autocmd.txt, runtime/doc/builtin.txt, src/autocmd.c,
            src/testdir/test_autocmd.vim

Patch 8.2.5012
Problem:    Cannot select one character inside ().
Solution:   Do not try to extend the area if <A HREF="motion.html#it">it</A> is empty. (closes #10472,
            closes #6616)
Files:      src/textobject.c, src/testdir/test_textobjects.vim

Patch 8.2.5013
Problem:    After text <A HREF="change.html#formatting">formatting</A> the cursor may be in an invalid position.
Solution:   Correct the cursor position after <A HREF="change.html#formatting">formatting</A>.
Files:      src/textformat.c, src/testdir/test_textformat.vim

Patch 8.2.5014
Problem:    Byte offsets are wrong when using text properties.
Solution:   Make sure text properties <A HREF="diff.html#do">do</A> not affect the byte counts.
            (Paul Ollis, closes #10474)
Files:      src/memline.c, src/textprop.c, src/testdir/test_textprop.vim

Patch 8.2.5015
Problem:    Hoon and Moonscript files are not recognized.
Solution:   Add <A HREF="filetype.html#filetype">filetype</A> patterns. (Goc Dundar, closes #10478)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.5016
Problem:    Access before start of text with a put command.
Solution:   Check the length is more than zero.
Files:      src/register.c, src/testdir/test_put.vim

Patch 8.2.5017
Problem:    Gcc <A HREF="usr_12.html#12.1">12.1</A> warns for uninitialized variable.
Solution:   Initialize the variable. (closes #10476)
Files:      src/evalvars.c

Patch 8.2.5018
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: some code is not covered by tests.
Solution:   Delete dead code.
Files:      src/vim9instr.c, src/proto/vim9instr.pro, src/vim9compile.c,
            src/vim9expr.c,

Patch 8.2.5019
Problem:    Cannot get the first screen column of a character.
Solution:   Let <A HREF="builtin.html#virtcol()">virtcol()</A> optionally return a <A HREF="eval.html#list">list</A>. (closes #10482,
            closes #7964)
Files:      runtime/doc/builtin.txt, src/evalfunc.c,
            src/testdir/test_functions.vim, src/testdir/test_vim9_builtin.vim

Patch 8.2.5020
Problem:    Using <A HREF="options.html#'imstatusfunc'">'imstatusfunc'</A> and <A HREF="options.html#'imactivatefunc'">'imactivatefunc'</A> breaks <A HREF="options.html#'foldopen'">'foldopen'</A>.
Solution:   Save and restore the KeyTyped flag. (closes #10479)
Files:      src/gui_xim.c, src/testdir/test_iminsert.vim


Patch 8.2.5021
Problem:    Build fails with normal features and <A HREF="various.html#+terminal">+terminal</A>. (Dominique Pellé)
Solution:   Add #ifdefs. (closes #10484)
Files:      src/terminal.c

Patch 8.2.5022
Problem:    'completefunc'/'omnifunc' error does not end completion.
Solution:   Check if there was an error or exception. (closes #10486,
            closes #4218)
Files:      src/insexpand.c, src/testdir/test_ins_complete.vim

Patch 8.2.5023
Problem:    Substitute overwrites allocated buffer.
Solution:   Disallow <A HREF="undo.html#undo">undo</A> when in a substitute command.
Files:      src/normal.c, src/undo.c, src/testdir/test_substitute.vim

Patch 8.2.5024
Problem:    Using freed memory with &quot;<A HREF="tagsrch.html#]d">]d</A>&quot;.
Solution:   Copy the <A HREF="pattern.html#pattern">pattern</A> before searching.
Files:      src/normal.c, src/testdir/test_tagjump.vim

Patch 8.2.5025
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a few lines not covered by tests.
Solution:   Add a few tests.
Files:      src/vim9script.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_import.vim

Patch 8.2.5026
Problem:    <A HREF="vim9.html#Vim9">Vim9</A>: a few lines not covered by tests.
Solution:   Delete dead code.  Add a few test cases. make &quot;12-&gt;func()&quot; work.
Files:      src/vim9type.c, src/ex_docmd.c, src/proto/ex_docmd.pro,
            src/vim9compile.c, src/testdir/test_vim9_assign.vim,
            src/testdir/test_vim9_func.vim

Patch 8.2.5027
Problem:    Error for missing <A HREF="eval.html#:endif">:endif</A> when an exception was thrown. (Dani
            Dickstein)
Solution:   Do not give an error when aborting. (closes #10490)
Files:      src/ex_docmd.c, src/testdir/test_trycatch.vim

Patch 8.2.5028
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> <A HREF="pattern.html#regexp">regexp</A> matching can be slow.
Solution:   Adjust the counters for checking the timeout to check about once
            per msec. (closes #10487, closes #2712)
Files:      src/regexp_bt.c, src/regexp_nfa.c

Patch 8.2.5029
Problem:    &quot;<A HREF="eval.html#textlock">textlock</A>&quot; is always zero.
Solution:   Remove &quot;<A HREF="eval.html#textlock">textlock</A>&quot; and rename &quot;textwinlock&quot; to &quot;<A HREF="eval.html#textlock">textlock</A>&quot;.
            (closes #10489)
Files:      runtime/doc/insert.txt, runtime/doc/tags, src/beval.c,
            src/change.c, src/edit.c, src/errors.h, src/eval.c, src/ex_cmds.c,
            src/ex_getln.c, src/proto/ex_getln.pro, src/globals.h,
            src/indent.c, src/insexpand.c, src/map.c, src/register.c,
            src/undo.c, src/window.c, src/testdir/test_edit.vim,
            src/testdir/test_ins_complete.vim, src/testdir/test_popup.vim,
            src/testdir/test_quickfix.vim

Patch 8.2.5030
Problem:    <A HREF="builtin.html#autocmd_add()">autocmd_add()</A> can only handle one event and <A HREF="pattern.html#pattern">pattern</A>.
Solution:   Support a <A HREF="eval.html#list">list</A> of events and patterns. (Yegappan Lakshmanan,
            closes #10483)
Files:      runtime/doc/builtin.txt, src/autocmd.c, src/errors.h,
            src/testdir/test_autocmd.vim

Patch 8.2.5031
Problem:    Cannot easily run the benchmarks.
Solution:   Have &quot;make benchmark&quot; in the src directory work.
Files:      src/Makefile, src/testdir/Makefile

Patch 8.2.5032
Problem:    <A HREF="if_pyth.html#Python">Python</A> 3 test fails without the <A HREF="gui.html#GUI">GUI</A>.
Solution:   Check the balloon_eval feature is available.
Files:      src/testdir/test_python3.vim

Patch 8.2.5033 (after 8.2.5030)
Problem:    Build error with <A HREF="various.html#+eval">+eval</A> but without <A HREF="various.html#+quickfix">+quickfix</A>.  Warning for
            uninitialized variable.
Solution:   Adjust #ifdefs. (John Marriott)
Files:      src/errors.h, src/autocmd.c

Patch 8.2.5034
Problem:    There is no way to get the byte index from a virtual column.
Solution:   Add <A HREF="builtin.html#virtcol2col()">virtcol2col()</A>. (Yegappan Lakshmanan, closes #10477,
            closes #10098)
Files:      runtime/doc/builtin.txt, runtime/doc/usr_41.txt, src/evalfunc.c,
            src/move.c, src/proto/move.pro, src/testdir/test_cursor_func.vim

Patch 8.2.5035
Problem:    When splitting a <A HREF="windows.html#window">window</A> the <A HREF="motion.html#changelist">changelist</A> position moves.
Solution:   Set the <A HREF="motion.html#changelist">changelist</A> index a bit later. (closes #10493)
Files:      src/window.c, src/testdir/test_changelist.vim,
            src/testdir/test_normal.vim

Patch 8.2.5036 (after 8.2.5028)
Problem:    Using two counters for timeout check in <A HREF="pattern.html#NFA">NFA</A> engine.
Solution:   Use only one counter.  Tune the counts based on guessing.
Files:      src/regexp_nfa.c

Patch 8.2.5037
Problem:    Cursor position may be invalid after &quot;0;&quot; range.
Solution:   Check the cursor position when <A HREF="motion.html#it">it</A> was set by &quot;<A HREF="motion.html#;">;</A>&quot; in the range.
Files:      src/ex_docmd.c, src/testdir/test_excmd.vim

Patch 8.2.5038
Problem:    A finished <A HREF="terminal.html#terminal">terminal</A> in a <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> does not show a scrollbar.
Solution:   Show the scrollbar if the <A HREF="terminal.html#terminal">terminal</A> <A HREF="channel.html#job">job</A> is finished. (closes
            #10497)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_poptermscroll_1.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_2.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_3.dump

Patch 8.2.5039
Problem:    Confusing error if first argument of <A HREF="popup.html#popup_create()">popup_create()</A> is wrong.
Solution:   Give a more informative error.
Files:      src/popupwin.c, src/testdir/test_popupwin.vim, src/errors.h,
            src/testdir/dumps/Test_popup_settext_07.dump

Patch 8.2.5040
Problem:    Scrollbar thumb in scrolled <A HREF="popup.html#popup">popup</A> not visible.
Solution:   Show at least one thumb character. (fixes 10492)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_scroll_13.dump

Patch 8.2.5041
Problem:    Cannot close a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> with &quot;NONE&quot; <A HREF="channel.html#job">job</A>.
Solution:   Adjust the conditions for whether a <A HREF="channel.html#job">job</A> is running.
            (closes #10498)
Files:      src/buffer.c, src/terminal.c, src/proto/terminal.pro,
            src/undo.c, src/testdir/test_popupwin.vim

Patch 8.2.5042
Problem:    Scrollbar thumb in tall scrolled <A HREF="popup.html#popup">popup</A> not visible.
Solution:   Show at least one thumb character. (fixes 10492)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_scroll_13.dump

Patch 8.2.5043
Problem:    Can open a cmdline <A HREF="windows.html#window">window</A> from a substitute <A HREF="eval.html#expression">expression</A>.
Solution:   Disallow opening a command line <A HREF="windows.html#window">window</A> when text or buffer is
            locked.
Files:      src/buffer.c, src/ex_getln.c, src/proto/ex_getln.pro,
            src/window.c, src/testdir/test_substitute.vim

Patch 8.2.5044 (after 8.2.5043)
Problem:    Command line test fails.
Solution:   Also beep when cmdline win can't be opened because of locks.
            Make the test not beep.  Make the test pass on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/ex_getln.c, src/testdir/test_substitute.vim

Patch 8.2.5045
Problem:    Can <A HREF="intro.html#escape">escape</A> a <A HREF="terminal.html#terminal">terminal</A> <A HREF="popup.html#popup">popup</A> <A HREF="windows.html#window">window</A> when the <A HREF="channel.html#job">job</A> is finished.
Solution:   Only check for a finished <A HREF="channel.html#job">job</A> where <A HREF="motion.html#it">it</A> is relevant.
            (closes #10253)
Files:      src/popupwin.c, src/testdir/test_popupwin.vim,
            src/testdir/dumps/Test_popupwin_poptermscroll_1.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_2.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_3.dump,
            src/testdir/dumps/Test_popupwin_poptermscroll_4.dump

Patch 8.2.5046
Problem:    vim_regsub() can overwrite the destination.
Solution:   Pass the destination length, give an error when <A HREF="motion.html#it">it</A> doesn't fit.
Files:      src/regexp.h, src/regexp.c, src/proto/regexp.pro, src/eval.c,
            src/ex_cmds.c

Patch 8.2.5047
Problem:    CurSearch highlight is often wrong.
Solution:   Remember the last highlighted position and redraw when needed.
Files:      src/globals.h, src/match.c, src/drawscreen.c, src/change.c,
            src/testdir/test_search.vim,
            src/testdir/dumps/Test_hlsearch_cursearch_changed_1.dump

Patch 8.2.5048
Problem:    When using <A HREF="mbyte.html#XIM">XIM</A> the <A HREF="gui.html#gui">gui</A> test may fail.
Solution:   Only use <A HREF="starting.html#--not-a-term">--not-a-term</A> when not using <A HREF="mbyte.html#XIM">XIM</A>.
Files:      src/testdir/test_gui.vim

Patch 8.2.5049
Problem:    Insufficient tests for <A HREF="autocmd.html#autocommands">autocommands</A>.
Solution:   Add a few more tests. (Yegappan Lakshmanan, closes #10507)
Files:      src/autocmd.c, src/testdir/gen_opt_test.vim,
            src/testdir/test_autocmd.vim, src/testdir/test_cmdline.vim

Patch 8.2.5050
Problem:    Using freed memory when searching for <A HREF="pattern.html#pattern">pattern</A> in path.
Solution:   Make a copy of the line.
Files:      src/search.c, src/testdir/test_tagjump.vim

Patch 8.2.5051
Problem:    Check for <A HREF="builtin.html#autocmd_add()">autocmd_add()</A> event argument is confusing.
Solution:   Make the code more straightforward.
Files:      src/autocmd.c

Patch 8.2.5052
Problem:    CI checkout step title is a bit cryptic.
Solution:   Add a better title. (closes #10509)
Files:      .github/workflows/ci.yml, .github/workflows/coverity.yml,
            .github/workflows/codeql-analysis.yml

Patch 8.2.5053
Problem:    Cannot have a comment halfway an <A HREF="eval.html#expression">expression</A> in an autocmd command
            block.
Solution:   When skipping over the NL also skip over comments. (closes #10519)
Files:      src/eval.c, src/testdir/test_autocmd.vim

Patch 8.2.5054
Problem:    No good <A HREF="filetype.html#filetype">filetype</A> for conf files similar to dosini.
Solution:   Add the confini <A HREF="filetype.html#filetype">filetype</A>. (closes #10518)
Files:      runtime/filetype.vim, src/testdir/test_filetype.vim

Patch 8.2.5055
Problem:    Statusline is not updated when <A HREF="terminal.html#terminal">terminal</A> title changes.
Solution:   Redraw the status line when the title changes. (issue #10425)
Files:      src/terminal.c

Patch 8.2.5056
Problem:    The <A HREF="channel.html#channel">channel</A> log only contains some of the raw <A HREF="terminal.html#terminal">terminal</A> output.
Solution:   Add the &quot;<A HREF="insert.html#o">o</A>&quot; flag to log all <A HREF="terminal.html#terminal">terminal</A> output.  Use <A HREF="motion.html#it">it</A> for &quot;<A HREF="starting.html#--log">--log</A>&quot;.
Files:      runtime/doc/channel.txt, runtime/doc/starting.txt, src/main.c,
            src/channel.c, src/vim.h, src/term.c, src/edit.c, src/normal.c,
            src/optionstr.c

Patch 8.2.5057
Problem:    Using gettimeofday() for timeout is very inefficient.
Solution:   Set a platform dependent <A HREF="builtin.html#timer">timer</A>. (Paul Ollis, closes #10505)
Files:      src/auto/configure, src/config.h.in, src/configure.ac,
            src/drawscreen.c, src/errors.h, src/evalfunc.c, src/ex_cmds.c,
            src/ex_getln.c, src/match.c, src/os_mac.h, src/os_macosx.m,
            src/os_unix.c, src/os_win32.c, src/proto/os_unix.pro,
            src/proto/os_win32.pro, src/proto/regexp.pro, src/quickfix.c,
            src/regexp.c, src/regexp.h, src/regexp_bt.c, src/regexp_nfa.c,
            src/screen.c, src/search.c, src/structs.h, src/syntax.c,
            src/testdir/test_hlsearch.vim, src/testdir/test_search.vim,
            src/testdir/test_syntax.vim

Patch 8.2.5058
Problem:    <A HREF="builtin.html#input()">input()</A> does not handle composing characters properly.
Solution:   Use mb_cptr2char_adv() instead of mb_ptr2char_adv().
            (closes #10527)
Files:      src/getchar.c, src/testdir/test_functions.vim

Patch 8.2.5059
Problem:    Autoconf 2.71 produces many obsolete warnings.
Solution:   <A HREF="insert.html#Replace">Replace</A> obsolete macros with non-obsolete ones, where the
            functionality does not change. (issue #10528)
Files:      src/configure.ac, src/auto/configure

Patch 8.2.5060 (after 8.2.5059)
Problem:    Running configure fails.
Solution:   Remove line break.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.5061
Problem:    <A HREF="develop.html#C89">C89</A> requires signal handlers to return void.
Solution:   Drop RETSIGTYPE and hard-code a void return value.
Files:      src/configure.ac, src/auto/configure, src/if_cscope.c,
            src/os_unix.c, src/pty.c, src/os_mac.h, src/os_vms_conf.h,
            src/config.h.in, src/osdef1.h.in

Patch 8.2.5062
Problem:    Coverity warns for dead code.
Solution:   Remove the dead code.
Files:      src/os_unix.c, src/match.c

Patch 8.2.5063
Problem:    Error for a command may go over the end of IObuff.
Solution:   Truncate the message.
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.2.5064
Problem:    No test for what 8.1.0052 fixes.
Solution:   Add a test. (closes #10531)
Files:      src/getchar.c, src/testdir/test_mapping.vim

Patch 8.2.5065
Problem:    Wrong return type for main() in tee.c.
Solution:   Use &quot;int&quot; instead of &quot;void&quot;.  Remove unused variable.
Files:      src/tee/tee.c

Patch 8.2.5066
Problem:    Can specify multispace listchars only for whole line.
Solution:   Add &quot;leadmultispace&quot;. (Christian Brabandt, closes #10496)
Files:      runtime/doc/options.txt, src/drawline.c, src/message.c,
            src/screen.c, src/structs.h, src/window.c,
            src/testdir/test_listchars.vim

Patch 8.2.5067
Problem:    Timer_create is not available on every <A HREF="os_mac.html#Mac">Mac</A> system. (Hisashi <A HREF="motion.html#T">T</A>
            Fujinaka)
Solution:   Adjust #ifdef.
Files:      src/os_unix.c

Patch 8.2.5068
Problem:    Gcc <A HREF="usr_12.html#12.1">12.1</A> warning when building tee.
Solution:   Change type to size_t. (John Marriott)
Files:      src/tee/tee.c

Patch 8.2.5069
Problem:    Various warnings from clang on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Fix the code to avoid the warnings. (Yegappan Lakshmanan,
            closes #10538)
Files:      src/dosinst.c, src/fileio.c, src/gui_w32.c, src/os_mswin.c,
            src/os_win32.c

Patch 8.2.5070
Problem:    Unnecessary code.
Solution:   Remove code that isn't needed. (closes #10534)
Files:      src/message.c, src/screen.c

Patch 8.2.5071
Problem:    With some <A HREF="os_mac.html#Mac">Mac</A> OS version clockid_t is redefined.
Solution:   Adjust #ifdefs. (Ozaki Kiichi, closes #10549)
Files:      src/os_mac.h

Patch 8.2.5072
Problem:    Using uninitialized value and freed memory in <A HREF="spell.html#spell">spell</A> command.
Solution:   Initialize &quot;attr&quot;.  Check for empty line early.
Files:      src/spell.c, src/testdir/test_spell_utf8.vim

Patch 8.2.5073
Problem:    Clang on <A HREF="os_win32.html#MS-Windows">MS-Windows</A> produces warnings.
Solution:   Avoid the warnings. (Yegappan Lakshmanan, closes #10546)
Files:      src/dosinst.c, src/dosinst.h, src/gui_dwrite.cpp, src/gui_w32.c,
            src/iscygpty.c, src/libvterm/src/vterm_internal.h, src/mbyte.c,
            src/os_win32.c, src/os_win32.h, src/term.c, src/xdiff/xinclude.h

Patch 8.2.5074
Problem:    Spell test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Do not change <A HREF="options.html#'encoding'">'encoding'</A>
Files:      src/testdir/test_spell_utf8.vim

Patch 8.2.5075
Problem:    Clang gives an out of bounds warning.
Solution:   adjust conditional <A HREF="eval.html#expression">expression</A> (John Marriott)
Files:      src/ui.c

Patch 8.2.5076
Problem:    Unnecessary code.
Solution:   Remove code and replace with function call. (closes #10552)
Files:      src/drawline.c, src/getchar.c

Patch 8.2.5077
Problem:    Various warnings from clang on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Avoid the warnings. (Yegappan Lakshmanan, closes #10553)
Files:      src/dosinst.c, src/dosinst.h, src/filepath.c, src/gui_w32.c,
            src/misc1.c, src/os_win32.c

Patch 8.2.5078
Problem:    Substitute test has a one second delay.
Solution:   Use &quot;<A HREF="various.html#:silent!">:silent!</A>&quot;.  Add another test <A HREF="change.html#case">case</A>. (closes #10558)
Files:      src/testdir/test_substitute.vim

Patch 8.2.5079
Problem:    <A HREF="autocmd.html#DirChanged">DirChanged</A> <A HREF="autocmd.html#autocommand">autocommand</A> may use freed memory. (Shane-XB Qian)
Solution:   Free the memory later. (closes #10555)
Files:      src/ex_docmd.c, src/testdir/test_autocmd.vim

Patch 8.2.5080
Problem:    When indenting gets out of hand <A HREF="motion.html#it">it</A> is hard to stop.
Solution:   When line gets too long set got_int.
Files:      src/indent.c

Patch 8.2.5081
Problem:    Autocmd test fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Set shellslash to get forward slashes.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.5082 (after 8.2.5080)
Problem:    Retab test fails.
Solution:   Disable the test for now.
Files:      src/testdir/test_retab.vim

Patch 8.2.5083
Problem:    Autocmd test still fails on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Change backward to forward slashes.
Files:      src/testdir/test_autocmd.vim

Patch 8.2.5084
Problem:    When the <A HREF="gui.html#GUI">GUI</A> shows a <A HREF="gui_w32.html#dialog">dialog</A> tests get stuck.
Solution:   Add the <A HREF="starting.html#--gui-dialog-file">--gui-dialog-file</A> argument.
Files:      runtime/doc/starting.txt, src/Make_mvc.mak, src/gui.c, src/main.c,
            src/message.c, src/os_mswin.c, src/proto/gui.pro,
            src/proto/main.pro, src/structs.h, src/testdir/Make_dos.mak,
            src/testdir/Make_ming.mak, src/testdir/Makefile,
            src/testdir/runtest.vim, src/testdir/shared.vim

Patch 8.2.5085
Problem:    Gcc gives warning for signed/unsigned difference.
Solution:   Use a different pointer type. (John Marriott)
Files:      src/os_mswin.c

Patch 8.2.5086
Problem:    CI runs on Windows 2019.
Solution:   Switch to Windows 2022. (closes #10566)
Files:      .github/workflows/ci.yml

Patch 8.2.5087
Problem:    Cannot build with clang on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Add support for building with clang. (Yegappan Lakshmanan,
            closes #10557)
Files:      src/GvimExt/Make_ming.mak, src/INSTALLpc.txt,
            src/Make_cyg_ming.mak

Patch 8.2.5088
Problem:    Value of cmod_verbose is a bit complicated to use.
Solution:   Use zero for not set, value + 1 when set. (closes #10564)
Files:      src/ex_docmd.c, src/ex_getln.c, src/globals.h, src/structs.h

Patch 8.2.5089
Problem:    Some <A HREF="eval.html#functions">functions</A> return a different value on failure.
Solution:   Initialize the return value earlier. (Yegappan Lakshmanan,
            closes #10568)
Files:      src/autocmd.c, src/dict.c, src/evalfunc.c, src/list.c

Patch 8.2.5090
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: vim.def is no longer used.
Solution:   Delete vim.def. (Ken Takata, closes #10569)
Files:      Filelist, Makefile, src/vim.def

Patch 8.2.5091
Problem:    Terminal test fails with some shell commands.
Solution:   Disable setting the <A HREF="windows.html#window">window</A> title. (closes #10530)
Files:      src/testdir/test_terminal.vim

Patch 8.2.5092
Problem:    Using &quot;'&lt;,'&gt;&quot; in <A HREF="intro.html#Ex">Ex</A> mode may compare unrelated pointers.
Solution:   Set eap-&gt;cmd to &quot;<A HREF="motion.html#+">+</A>&quot; only later.
Files:      src/ex_docmd.c

Patch 8.2.5093
Problem:    Error message for unknown command may mention the command <A HREF="if_cscop.html#twice">twice</A>.
            (Malcolm Rowe)
Solution:   Add the did_append_cmd flag. (closes #10570)
Files:      src/ex_docmd.c

Patch 8.2.5094
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: empty command may cause a <A HREF="gui_w32.html#dialog">dialog</A>.
Solution:   Delete the <A HREF="gui_w32.html#dialog">dialog</A> file.  Improve the message.
Files:      src/testdir/runtest.vim, src/testdir/test_ex_mode.vim

Patch 8.2.5095
Problem:    Terminal test still fails with some shell commands.
Solution:   Disable setting the <A HREF="windows.html#window">window</A> title in the Vim instance running in a
            <A HREF="terminal.html#terminal">terminal</A> <A HREF="windows.html#window">window</A>. (closes #10530)
Files:      src/testdir/test_terminal.vim

Patch 8.2.5096 (after 8.2.5095)
Problem:    Terminal test still fails with some shell commands.
Solution:   Add missing &quot;call&quot;.  (closes #10530)
Files:      src/testdir/test_terminal.vim

Patch 8.2.5097
Problem:    Using uninitialized memory when using <A HREF="options.html#'listchars'">'listchars'</A>.
Solution:   Use the length returned by mb_char2bytes(). (closes #10576)
Files:      src/message.c

Patch 8.2.5098
Problem:    Spelldump test sometimes hangs.
Solution:   Catch the problem of the <A HREF="spell.html#spell">spell</A> file not being found to avoid
            hanging in the <A HREF="intro.html#download">download</A> <A HREF="gui_w32.html#dialog">dialog</A>.
Files:      src/testdir/test_spell.vim

Patch 8.2.5099
Problem:    Some <A HREF="terminal.html#terminal">terminal</A> tests are not retried.
Solution:   <A HREF="motion.html#Mark">Mark</A> <A HREF="terminal.html#terminal">terminal</A> tests <A HREF="motion.html#as">as</A> flaky.
Files:      src/testdir/test_terminal.vim

Patch 8.2.5100
Problem:    Memory usage tests are not retried.
Solution:   <A HREF="motion.html#Mark">Mark</A> memory usage tests <A HREF="motion.html#as">as</A> flaky.
Files:      src/testdir/test_memory_usage.vim

Patch 8.2.5101
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> with MinGW: $CC may be &quot;<A HREF="change.html#cc">cc</A>&quot; instead of &quot;gcc&quot;.
Solution:   Set $CC if <A HREF="motion.html#it">it</A> is not matching &quot;clang&quot;. (Yegappan Lakshmanan,
            closes #10578)
Files:      src/INSTALLpc.txt, src/Make_cyg_ming.mak

Patch 8.2.5102
Problem:    Interrupt not caught in test.
Solution:   Consider an exception thrown in the current try/catch when got_int
            is set.  Also catch early exit when not using try/catch.
Files:      src/indent.c, src/testing.c, src/testdir/test_retab.vim,
            src/testdir/runtest.vim

Patch 8.2.5103
Problem:    Build fails with small features.
Solution:   Add #ifdef.  Skip test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/indent.c, src/testdir/test_retab.vim

Patch 8.2.5104 (after 8.2.5103)
Problem:    Test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip another test on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Files:      src/testdir/test_retab.vim

Patch 8.2.5105 (after 8.2.5104)
Problem:    Test still hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Skip &quot;nocatch&quot; test the right way.
Files:      src/testdir/test_retab.vim

Patch 8.2.5106
Problem:    Default <A HREF="cmdline.html#cmdwin">cmdwin</A> mappings are re-mappable.
Solution:   Make the default mappings not re-mappable. (closes #10580)  Use
            symbols for the first do_map() argument.
Files:      src/vim.h, src/ex_getln.c, src/map.c, src/proto/map.pro,
            src/digraph.c, src/netbeans.c

Patch 8.2.5107
Problem:    Some callers of rettv_list_alloc() check for not OK. (Christ van
            Willegen)
Solution:   Use &quot;<A HREF="change.html#==">==</A>&quot; instead of &quot;!=&quot; when checking the return value.
Files:      src/evalbuffer.c, src/channel.c, src/cmdexpand.c, src/evalfunc.c,
            src/evalwindow.c, src/insexpand.c, src/job.c, src/list.c,
            src/map.c, src/menu.c, src/mouse.c, src/move.c, src/sign.c,
            src/textprop.c, src/term.c, src/time.c

Patch 8.2.5108
Problem:    Retab test disabled because <A HREF="motion.html#it">it</A> hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Also set got_int at the other place an overlong text is detected.
Files:      src/indent.c, src/testdir/test_retab.vim

Patch 8.2.5109
Problem:    Mode not updated after <A HREF="motion.html#CTRL-O">CTRL-O</A> <A HREF="pattern.html#CTRL-C">CTRL-C</A> in <A HREF="insert.html#Insert">Insert</A> mode.
Solution:   Set redraw_mode and use <A HREF="motion.html#it">it</A>. (closes #10581)
Files:      src/main.c, src/normal.c, src/testdir/test_normal.vim,
            src/testdir/dumps/Test_mode_updated_1.dump

Patch 8.2.5110
Problem:    Icon <A HREF="filetype.html#filetype">filetype</A> not recognized from the first line.
Solution:   Add a check for the first line. (Doug Kearns)
Files:      runtime/autoload/dist/script.vim, src/testdir/test_filetype.vim

Patch 8.2.5111
Problem:    No test for <A HREF="starting.html#--gui-dialog-file">--gui-dialog-file</A>.
Solution:   Add a test.
Files:      src/testdir/test_gui.vim

Patch 8.2.5112 (after 8.2.5111)
Problem:    Gui test hangs on <A HREF="os_win32.html#MS-Windows">MS-Windows</A>.
Solution:   Use &quot;!start&quot; to start Vim.
Files:      src/testdir/test_gui.vim

Patch 8.2.5113
Problem:    Timer becomes invalid after fork/exec, <A HREF="gui_x11.html#:gui">:gui</A> gives <A HREF="message.html#errors">errors</A>. (Gabriel
            Dupras)
Solution:   Delete the <A HREF="builtin.html#timer">timer</A> befor forking. (closes #10584)
Files:      src/os_unix.c, src/proto/os_unix.pro, src/gui.c

Patch 8.2.5114
Problem:    Time limit on <A HREF="builtin.html#searchpair()">searchpair()</A> does not work properly.
Solution:   Set the time limit once instead of for each <A HREF="pattern.html#regexp">regexp</A>. (closes #10562)
Files:      src/search.c, src/evalfunc.c, src/testdir/test_search.vim

Patch 8.2.5115
Problem:    Search timeout is overrun with some patterns.
Solution:   Check for timeout in more places.  Make the flag volatile and
            atomic.  Use <A HREF="testing.html#assert_inrange()">assert_inrange()</A> to see what happened.
Files:      src/regexp_nfa.c, src/regexp_bt.c, src/regexp.c, src/os_unix.c,
            src/proto/os_unix.pro, src/testdir/test_search.vim

Patch 8.2.5116
Problem:    &quot;limit&quot; option of <A HREF="builtin.html#matchfuzzy()">matchfuzzy()</A> not always respected.
Solution:   Remove &quot;else&quot;. (Kazuyuki Miyagi, closes #10586)
Files:      runtime/doc/builtin.txt, src/search.c,
            src/testdir/test_matchfuzzy.vim

Patch 8.2.5117
Problem:    Crash when calling a <A HREF="if_lua.html#Lua">Lua</A> callback from a <A HREF="vim9.html#:def">:def</A> function. (Bohdan
            Makohin)
Solution:   Handle FC_CFUNC in call_user_func_check(). (closes #10587)
Files:      src/userfunc.c, src/testdir/test_lua.vim

Patch 8.2.5118
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: sending a message to another Vim may hang if that Vim
            is halted.
Solution:   Add a timeout to serverSendToVim(). (Ken Takata, closes #10585)
Files:      runtime/pack/dist/opt/editexisting/plugin/editexisting.vim,
            src/os_mswin.c

Patch 8.2.5119
Problem:    CI uses cache v2.
Solution:   Use cache v3. (closes #10588)
Files:      .github/workflows/ci.yml

Patch 8.2.5120
Problem:    Searching for <A HREF="quotes.html#quotes">quotes</A> may go over the end of the line.
Solution:   Check for running into the NUL.
Files:      src/textobject.c

Patch 8.2.5121
Problem:    Interrupt test sometimes fails.
Solution:   Use a different file name.
Files:      src/testdir/test_interrupt.vim

Patch 8.2.5122
Problem:    Lisp indenting my run over the end of the line.
Solution:   Check for NUL earlier.
Files:      src/indent.c, src/testdir/test_indent.vim

Patch 8.2.5123
Problem:    Using invalid index when looking for <A HREF="spell.html#spell">spell</A> suggestions.
Solution:   Do not decrement the index when <A HREF="motion.html#it">it</A> is zero.
Files:      src/spellsuggest.c, src/testdir/test_spell.vim

Patch 8.2.5124
Problem:    When <A HREF="syntax.html#syntax">syntax</A> timeout test fails <A HREF="motion.html#it">it</A> does not show the time.
Solution:   Use <A HREF="testing.html#assert_inrange()">assert_inrange()</A>.
Files:      src/testdir/test_syntax.vim

Patch 8.2.5125
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A>: warnings from MinGW compiler.
Solution:   Use &quot;volatile&quot;. (Yasuhiro Matsumoto, closes #10589)  Initialize
            variable.
Files:      src/os_win32.c, src/proto/os_win32.pro, src/map.c

Patch 8.2.5126
Problem:    Substitute may overrun destination buffer.
Solution:   Disallow switching <A HREF="windows.html#buffers">buffers</A> in a substitute <A HREF="eval.html#expression">expression</A>.
Files:      src/ex_docmd.c, src/testdir/test_substitute.vim

Patch 8.2.5127
Problem:    Using <A HREF="testing.html#assert_true()">assert_true()</A> does not show value on failure.
Solution:   Use <A HREF="testing.html#assert_inrange()">assert_inrange()</A>. (closes #10593)
Files:      src/testdir/test_channel.vim, src/testdir/test_hlsearch.vim

Patch 8.2.5128
Problem:    <A HREF="autocmd.html#Syntax">Syntax</A> highlighting disabled when using <A HREF="builtin.html#synID()">synID()</A> in <A HREF="builtin.html#searchpair()">searchpair()</A>
            skip <A HREF="eval.html#expression">expression</A> and <A HREF="motion.html#it">it</A> times out. (Jaehwang Jung)
Solution:   Add the redrawtime_limit_set flag. (closes #10562)
Files:      src/globals.h, src/drawscreen.c, src/syntax.c

Patch 8.2.5129
Problem:    Timeout handling is not optimal.
Solution:   Avoid setting timeout_flag <A HREF="if_cscop.html#twice">twice</A>.  Adjust the pointer when
            stopping the <A HREF="pattern.html#regexp">regexp</A> timeout.  Adjust variable name.
Files:      src/os_unix.c, src/os_win32.c, src/regexp.c

Patch 8.2.5130
Problem:    Edit test for mode message fails when using <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Use WaitForAssert().  Run beep test later.
Files:      src/testdir/test_edit.vim

Patch 8.2.5131
Problem:    Timeout implementation is not optimal.
Solution:   Further improvements for timeouts.  Add a test for <A HREF="builtin.html#searchpair()">searchpair()</A>
            timeout. (partly by Paul Ollis)
Files:      src/configure.ac, src/auto/configure,
            src/testdir/test_hlsearch.vim, src/testdir/test_search.vim

Patch 8.2.5132
Problem:    <A HREF="starting.html#:mkview">:mkview</A> test doesn't test much.
Solution:   Save the <A HREF="starting.html#view">view</A> with the <A HREF="fold.html#folds">folds</A> closed. (James McCoy, closes #10596)
Files:      src/testdir/test_mksession.vim

Patch 8.2.5133
Problem:    MacOS: build fails.
Solution:   Remove &quot;#if 0&quot; from timer_delete().
Files:      src/os_macosx.m

Patch 8.2.5134
Problem:    Function has confusing name.
Solution:   Rename tgetent_error() to invoke_tgetent().
Files:      src/term.c

Patch 8.2.5135
Problem:    Running configure gives warnings for main() return type.
Solution:   Specify &quot;int&quot; return type.  Avoid a few more warnings.
Files:      src/configure.ac, src/auto/configure

Patch 8.2.5136
Problem:    Debugger test fails when run with <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Wait longer when using <A HREF="debug.html#valgrind">valgrind</A>.
Files:      src/testdir/shared.vim, src/testdir/test_debugger.vim,
            src/testdir/test_search.vim

Patch 8.2.5137
Problem:    Cannot build without the <A HREF="various.html#+channel">+channel</A> feature. (Dominique Pellé)
Solution:   Add #ifdef around <A HREF="channel.html#ch_log()">ch_log()</A> calls. (closes #10598)
Files:      src/os_unix.c, src/regexp_nfa.c, src/regexp_bt.c

Patch 8.2.5138
Problem:    Various small issues.
Solution:   Various small improvements.
Files:      src/filepath.c, src/job.c, src/mark.c, src/move.c,
            src/popupwin.c, src/testdir/test_filetype.vim

Patch 8.2.5139
Problem:    TIME_WITH_SYS_TIME is no longer supported by autoconf.
Solution:   Always include time.h.
Files:      src/os_unix.h

Patch 8.2.5140
Problem:    Seachpair timeout test is flaky.
Solution:   <A HREF="motion.html#Mark">Mark</A> the test <A HREF="motion.html#as">as</A> flaky so <A HREF="motion.html#it">it</A> is retried.
Files:      src/testdir/test_search.vim

Patch 8.2.5141
Problem:    Using &quot;volatile int&quot; in a signal handler might be wrong.
Solution:   Use &quot;volatile sig_atomic_t&quot;.
Files:      src/os_unix.c, src/proto/os_unix.pro, src/os_win32.c,
            src/proto/os_win32.pro, src/regexp.c,

Patch 8.2.5142
Problem:    Startup test fails if there is a status <A HREF="motion.html#bar">bar</A> at the top of the
            screen. (Ernie Rael)
Solution:   Use a larger vertical offset in the test.
Files:      src/testdir/test_startup.vim

Patch 8.2.5143
Problem:    Some tests fail when using <A HREF="debug.html#valgrind">valgrind</A>. Spurious leak reports.
Solution:   Use WaitForAssert().  Avoid failing fork/exec.  Skip tests where a
            <A HREF="channel.html#job">job</A> is killed when running <A HREF="debug.html#valgrind">valgrind</A>.
Files:      src/testdir/test_iminsert.vim, src/testdir/test_popup.vim,
            src/testdir/test_cscope.vim, src/testdir/test_channel.vim

Patch 8.2.5144
Problem:    With <A HREF="options.html#'lazyredraw'">'lazyredraw'</A> set completion menu may be displayed wrong.
Solution:   When the <A HREF="popup.html#popup">popup</A> menu is visible <A HREF="diff.html#do">do</A> not insert a screen line.
            (closes #10601)
Files:      src/screen.c

Patch 8.2.5145
Problem:    Exit test causes spurious <A HREF="debug.html#valgrind">valgrind</A> reports.
Solution:   Skip test.  Add CheckNotValgrind.
Files:      src/testdir/test_exit.vim, src/testdir/check.vim,
            src/testdir/test_channel.vim

Patch 8.2.5146
Problem:    Memory leak when substitute <A HREF="eval.html#expression">expression</A> nests.
Solution:   Use an array of <A HREF="eval.html#expression">expression</A> results.
Files:      src/alloc.c, src/regexp.c, src/proto/regexp.pro,
            src/errors.h, src/ex_cmds.c, src/testdir/test_substitute.vim

Patch 8.2.5147
Problem:    Flaky test always fails on retry.
Solution:   Delete the created function.
Files:      src/testdir/test_search.vim

Patch 8.2.5148
Problem:    Invalid memory access when using an <A HREF="eval.html#expression">expression</A> on the command line.
Solution:   Make sure the position does not go negative.
Files:      src/ex_getln.c, src/testdir/test_cmdline.vim

Patch 8.2.5149 (after 8.2.5148)
Problem:    Cannot build without the <A HREF="various.html#+eval">+eval</A> feature. (Tony Mechelynck)
Solution:   Add #ifdefs.
Files:      src/ex_getln.c

Patch 8.2.5150
Problem:    Read past the end of the first line with &quot;:0;'{&quot;.
Solution:   When on line zero check the column is valid for line one.
Files:      src/ex_docmd.c, src/testdir/test_cmdline.vim

Patch 8.2.5151
Problem:    Reading beyond the end of the line with lisp indenting.
Solution:   Avoid going over the NUL at the end of the line.
Files:      src/indent.c, src/testdir/test_lispwords.vim

Patch 8.2.5152
Problem:    <A HREF="builtin.html#search()">search()</A> gets stuck with &quot;<A HREF="change.html#c">c</A>&quot; and skip evaluates to <A HREF="vim9.html#true">true</A>.
Solution:   Reset the SEARCH_START option. (closes #10608)
Files:      src/evalfunc.c, src/testdir/test_syntax.vim

Patch 8.2.5153
Problem:    &quot;make uninstall&quot; does not remove colors/lists.
Solution:   Add a line to the Makefile. (closes #10609)
Files:      src/Makefile

Patch 8.2.5154
Problem:    Still mentioning version8, some cosmetic issues.
Solution:   Prefer mentioning version9, cosmetic improvements.
Files:      src/version.c, src/if_tcl.c, src/regexp.c,
            src/testdir/test_gui.vim, src/os_unix.c, Filelist, src/Makefile

Patch 8.2.5155
Problem:    In <A HREF="diff.html#diff">diff</A> mode <A HREF="windows.html#windows">windows</A> may get out of sync. (Gary Johnson)
Solution:   Avoid that the other <A HREF="windows.html#window">window</A> scrolls for <A HREF="options.html#'cursorbind'">'cursorbind'</A>.
Files:      src/move.c, src/testdir/test_diffmode.vim,
            src/testdir/dumps/Test_diff_scroll_1.dump,
            src/testdir/dumps/Test_diff_scroll_2.dump

Patch 8.2.5156
Problem:    Search timeout test often fails with FreeBSD.
Solution:   Double the maximum time.
Files:      src/testdir/test_search.vim

Patch 8.2.5157
Problem:    <A HREF="os_win32.html#MS-Windows">MS-Windows</A> <A HREF="gui.html#GUI">GUI</A>: CTRL-key combinations <A HREF="diff.html#do">do</A> not always work.
Solution:   Handle special key combinations better. (closes #10613,
            closes #10602, closes #10579)
Files:      src/gui_w32.c

Patch 8.2.5158
Problem:    TSTP and INT signal tests are not run with <A HREF="debug.html#valgrind">valgrind</A>.
Solution:   Sleep a bit longer. (closes #10614)
Files:      src/testdir/test_signals.vim

Patch 8.2.5159 (after 8.2.5157)
Problem:    Fix for CTRL-key combinations causes more problems than <A HREF="motion.html#it">it</A> solves.
Solution:   Roll back the change.
Files:      src/gui_w32.c

Patch 8.2.5160
Problem:    Accessing invalid memory after <A HREF="change.html#changing">changing</A> <A HREF="terminal.html#terminal">terminal</A> size.
Solution:   Adjust cmdline_row and msg_row to the value of Rows.
Files:      src/term.c

Patch 8.2.5161
Problem:    Might still access invalid memory.
Solution:   Add extra check for negative value.
Files:      src/message.c

Patch 8.2.5162
Problem:    Reading before the start of the line with BS in <A HREF="insert.html#Replace">Replace</A> mode.
Solution:   Check the cursor column is more than zero.
Files:      src/edit.c

Patch 8.2.5163
Problem:    Crash when <A HREF="change.html#deleting">deleting</A> <A HREF="windows.html#buffers">buffers</A> in <A HREF="diff.html#diff">diff</A> mode.
Solution:   Recompute diffs later.  Skip <A HREF="windows.html#window">window</A> without a valid buffer.
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.2.5164
Problem:    Invalid memory access after <A HREF="diff.html#diff">diff</A> buffer manipulations.
Solution:   Use zero offset when change removes all lines in a <A HREF="diff.html#diff">diff</A> block.
Files:      src/diff.c, src/testdir/test_diffmode.vim

Patch 8.2.5165
Problem:    Import test fails because <A HREF="options.html#'diffexpr'">'diffexpr'</A> isn't reset.
Solution:   Reset <A HREF="options.html#'diffexpr'">'diffexpr'</A>.
Files:      src/testdir/test_vim9_import.vim

Patch 8.2.5166
Problem:    Test for <A HREF="autocmd.html#DiffUpdated">DiffUpdated</A> fails.
Solution:   Also accept a <A HREF="intro.html#count">count</A> of two.
Files:      src/testdir/test_diffmode.vim

Patch 8.2.5167
Problem:    get(Fn, 'name') on funcref returns special byte code.
Solution:   Use the printable name.
Files:      src/evalfunc.c, src/testdir/test_getvar.vim

Patch 8.2.5168
Problem:    Cannot build with <A HREF="if_pyth.html#Python">Python</A> 3.11.
Solution:   Adjust define for _PyObject_TypeCheck. (Zdenek Dohnal,
            closes #10627)
Files:      src/if_python3.c

Patch 8.2.5169
Problem:    Nested <A HREF="repeat.html#:source">:source</A> may use NULL pointer.
Solution:   Do not use the NULL pointer.
Files:      src/eval.c, src/testdir/test_vimscript.vim

Patch 8.2.5170
Problem:    Tiny issues.
Solution:   Tiny improvements.
Files:      src/misc1.c, src/screen.c, src/vim.h

Patch 8.2.5171
Problem:    Dependencies and proto files are outdated.
Solution:   Update dependencies and proto files.  Avoid <A HREF="message.html#errors">errors</A>.
Files:      src/Makefile, src/gui_w32.c, src/os_mswin.c, src/proto/buffer.pro,
            src/proto/cmdexpand.pro, src/proto/getchar.pro,
            src/proto/help.pro, src/proto/mbyte.pro, src/proto/option.pro,
            src/proto/screen.pro, src/proto/syntax.pro,
            src/proto/textformat.pro, src/proto/textobject.pro,
            src/proto/time.pro, src/proto/gui_x11.pro, src/proto/if_tcl.pro,
            src/proto/os_mswin.pro

Patch 8.2.5172
Problem:    &quot;make menu&quot; still uses legacy <A HREF="usr_41.html#script">script</A>.
Solution:   make menu generation <A HREF="usr_41.html#script">script</A> use <A HREF="vim9.html#Vim9">Vim9</A> <A HREF="usr_41.html#script">script</A>, fix <A HREF="message.html#errors">errors</A>.
Files:      runtime/makemenu.vim


<A HREF="#top">top</A> - <A HREF="index.html">main help file</A>
</PRE>
</BODY>


</HTML>
